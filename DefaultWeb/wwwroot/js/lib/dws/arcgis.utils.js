//>>built
define(["esri/geometry/support/webMercatorUtils"],function(e){function d(b,a){a=Math.pow(10,a);return Math.round(b*a)/a}function f(b,a){console.log(b);console.log(a);-1!=a.indexOf("[")?(b=a.substring(0,a.indexOf("[")),a=a.substring(a.indexOf("[")),a=g(a,"]"),console.log("subcat"+b),f(b)):(a=a.substring(a.indexOf("["),a.indexOf("]")).split(","),b=a.slice(1),console.log(a),console.log(b))}function g(b,a){a=b.indexOf("[",1);var c=b.indexOf("]",1);console.log(a+":"+c);if(c<a)return c;b=b.substr(a,1);
console.log(b);g(b,"]")}return{viewToInfo:function(b){var a=e.xyToLngLat(b.extent.xmax,b.extent.ymin),c=e.xyToLngLat(b.extent.xmin,b.extent.ymax),a={ymax:d(a[0],2),xmin:d(a[1],2),ymin:d(c[0],2),xmax:d(c[1],2),latitude:d(b.extent.center.latitude,2),longitude:d(b.extent.center.longitude,2),latestWkid:"3857",latestWkname:"WGS_1984_Web_Mercator_Auxiliary_Sphere",latestWkt:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",0.0],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]] ',
wkid:b.spatialReference.wkid,wkname:"Web Mercator Auxiliary Sphere",wkt:b.spatialReference.wkt,isGeographic:b.spatialReference.isGeographic,isWebMercator:b.spatialReference.isWebMercator,isWGS84:b.spatialReference.isWGS84,isWrappable:b.spatialReference.isWrappable};a.center=a.latitude+", "+a.longitude;a.scale="1:"+d(b.scale,0);c=a.latestWkt;b=c.substring(0,c.indexOf("["));c=c.substring(c.indexOf("[")+1,c.lastIndexOf("]"));f(b,c);return a}}});