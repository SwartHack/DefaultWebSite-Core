//>>built
define(function(){function g(b,c){var a=new FileReader;a.file=b;a.onload=function(b){c(a.file,b.target.result)};a.readAsDataURL(b)}function h(b,c){if(b.type.match("/pdf")){var a=new FileReader;a.file=b;a.callback=c;a.onload=function(b){k(a.file,b.target.result,a.callback)};a.readAsDataURL(b)}}function l(b,c){var a=new FileReader;a.file=b;a.callback=c;a.onload=function(a){var d=document.createElement("video");d.height=90;d.width=160;d.preload=!0;d.addEventListener("loadeddata",function(b){d.currentTime=
10},!1);d.addEventListener("seeked",function(){var a=document.createElement("canvas"),e=a.getContext("2d");a.height=90;a.width=160;e.fillRect(0,0,a.width,a.height);e.drawImage(d,0,0,a.width,a.height);a=a.toDataURL();c(b,a);d.src=null},!1);d.src=a.target.result};a.readAsDataURL(b)}function k(b,c,a){PDFJS.getDocument(c).then(function(c){c.getPage(1).then(function(c){var d=c.getViewport(.5),e=document.createElement("canvas"),f=e.getContext("2d");e.height=d.height;e.width=d.width;c.render({canvasContext:f,
viewport:d}).then(function(){f.globalCompositeOperation="destination-over";f.fillStyle="#fff";f.fillRect(0,0,e.width,e.height);a(b,e.toDataURL())})})})}return{getThumbFromFile:function(b,c){b.type.match("image/*")?g(b,c):b.type.match("application/*")?h(b,c):b.type.match("video/*")&&l(b,c)}}});