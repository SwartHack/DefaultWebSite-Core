//>>built
define(["../declare","../typescript","../JSONSupport","dojo/_base/lang"],function(k,g,l,m){function h(d,b){if(!d)return b;if(!b)return d;for(var a in b){var c=d[a],f=b[a];Array.isArray(f)&&Array.isArray(c)?d[a]=c.concat(f):"object"==typeof f&&"object"==typeof c?d[a]=h(c,f):d[a]=f}return d}return{subclass:function(d,b){return function(a){a=g.declareDefinition(a,d);c&&(a.instanceMembers.properties=h(c,a.instanceMembers.properties));var c=a.instanceMembers.properties;if(c)for(var b in c){var e=c[b];
e&&!e.reader&&e.type&&(e.type===Date?e.reader=function(a){return null!=a?new Date(a):null}:-1!==e.type._meta.bases.indexOf(l)&&(e.reader=function(a){return function(b){return a.fromJSON(b)}}(e.type)))}return m.mixin(k(a.bases,a.instanceMembers),a.classMembers)}},shared:g.shared,property:function(d){return function(b,a){var c=Object.getPrototypeOf(b),c=c&&c.properties;b.properties&&b.properties!==c||(b.properties={});b.properties=b.properties||{};b.properties[a]=d||{}}}}});