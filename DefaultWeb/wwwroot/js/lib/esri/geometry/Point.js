//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(k,w,r,h,e,t,u,v,m){function q(e){return e&&("esri.SpatialReference"===e.declaredClass||null!=e.wkid)}var n=[0,0];k=function(k){function b(a,c,b,f,g){a=k.call(this)||this;return a.x=0,a.y=0,a.z=void 0,a.m=void 0,a.type="point",a}return r(b,k),p=b,b.copy=function(a,
c){c.x=a.x;c.y=a.y;c.z=a.z;c.m=a.m;c.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()},b.distance=function(a,c){var b=a.x-c.x,f=a.y-c.y;a=a.hasZ&&c.hasZ?a.z-c.z:0;return Math.sqrt(b*b+f*f+a*a)},b.prototype.normalizeCtorArgs=function(a,c,b,f,g){var d;if(Array.isArray(a))d=a,g=c,a=d[0],c=d[1],b=d[2],f=d[3];else if(a&&"object"==typeof a){if(d=a,a=null!=d.x?d.x:d.longitude,c=null!=d.y?d.y:d.latitude,b=null!=d.z?d.z:d.altitude,f=d.m,g=d.spatialReference,
g&&"esri.SpatialReference"!==g.declaredClass&&(g=new u(g)),!d.declaredClass&&g&&g.isWebMercator&&null!=d.longitude&&null!=d.latitude)c=m.lngLatToXY(d.longitude,d.latitude,n),a=c[0],c=c[1]}else q(b)?(g=b,b=null):q(f)&&(g=f,f=null);a={x:a,y:c};return null!=g&&(a.spatialReference=g),null!=b&&(a.z=b),null!=f&&(a.m=f),a},Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){var c=this._get("hasM");a!==c&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var c=this._get("hasZ");a!==c&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return m.xyToLngLat(this.x,this.y,n)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?
this._set("y",m.lngLatToXY(this.x,a,n)[1]):c.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return m.xyToLngLat(this._get("x"),this._get("y"),n)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("x",m.lngLatToXY(a,this._get("y"),n)[0]):c.isWGS84&&this._set("x",
a),this._set("longitude",a))},enumerable:!0,configurable:!0}),b.prototype.clone=function(){var a=new p;return a.x=this.x,a.y=this.y,a.z=this.z,a.m=this.m,a.spatialReference=this.spatialReference,a},b.prototype.copy=function(a){return p.copy(a,this),this},b.prototype.equals=function(a){if(!a)return!1;var c=this.x,b=this.y,f=this.z,g=this.m,d=this.spatialReference,e=a.z,h=a.m,k=a.x,l=a.y;a=a.spatialReference;if(!d.equals(a)){if(d.isWebMercator&&a.isWGS84)l=m.lngLatToXY(k,l);else{if(!d.isWGS84||!a.isWebMercator)return!1;
l=m.xyToLngLat(k,l)}k=l[0];l=l[1];a=d}return c===k&&b===l&&f===e&&g===h&&d.wkid===a.wkid},b.prototype.offset=function(a,c,b){return this.x+=a,this.y+=c,null!=b&&this.hasZ&&(this.z+=b),this},b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=v.getInfo(this.spatialReference);if(!a)return this;var b,e=this.x,f=a.valid,a=f[0],f=f[1],g=2*f;return e>f?(b=Math.ceil(Math.abs(e-f)/g),e-=b*g):a>e&&(b=Math.ceil(Math.abs(e-a)/g),e+=b*g),this._set("x",e),this},b.prototype.distance=function(a){return p.distance(this,
a)},b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]},b.prototype.toJSON=function(a){return this.write(null,a)},h([e.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0),h([e.property({type:Boolean,dependsOn:["m"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null),h([e.property({type:Boolean,dependsOn:["z"],json:{write:{enabled:!1,
overridePolicy:null}}})],b.prototype,"hasZ",null),h([e.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null),h([e.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null),h([e.property({type:Number,json:{write:{isRequired:!0}}})],b.prototype,"x",void 0),h([e.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0),h([e.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0),h([e.property({type:Number,
json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0),b=p=h([e.subclass("esri.geometry.Point")],b);var p}(e.declared(t));return k.prototype.toJSON.isDefaultToJSON=!0,k});