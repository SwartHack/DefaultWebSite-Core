//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/lang ./Geometry ./Extent ./Point ./SpatialReference ./support/zmUtils".split(" "),function(k,O,L,l,f,w,M,I,m,N,x){function J(n){return function(b,h){return null==b?h:null==h?b:n(b,h)}}var n=J(Math.min),h=J(Math.max);k=function(k){function b(){for(var a=[],d=0;d<arguments.length;d++)a[d]=arguments[d];a=k.apply(this,a)||this;return a.paths=[],a.type="polyline",a}
return L(b,k),r=b,b.prototype.normalizeCtorArgs=function(a,d){var e,c,b=null,g=null;return a&&!Array.isArray(a)?(b=a.paths?a.paths:null,d||(a.spatialReference?d=a.spatialReference:a.paths||(d=a)),e=a.hasZ,c=a.hasM):b=a,b=b||[],d=d||N.WGS84,b.length&&b[0]&&null!=b[0][0]&&"number"==typeof b[0][0]&&(b=[b]),g=b[0]&&b[0][0],g&&(void 0===e&&void 0===c?(e=2<g.length,c=!1):void 0===e?e=!c&&3<g.length:void 0===c&&(c=!e&&3<g.length)),{paths:b,spatialReference:d,hasZ:e,hasM:c}},Object.defineProperty(b.prototype,
"extent",{get:function(){var a=this.hasZ,d=this.hasM,b=this.spatialReference,c=this.paths,K=a?3:2;if(!c.length||!c[0].length)return null;for(var g=c[0][0],k=g[0],g=g[1],f=c[0][0],m=f[0],f=f[1],l=void 0,y=void 0,r=void 0,w=void 0,D=[],E=0;E<c.length;E++){for(var z=c[E],t=z[0],F=t[0],t=t[1],u=z[0],G=u[0],u=u[1],A=void 0,B=void 0,x=void 0,q=void 0,H=0;H<z.length;H++){var v=z[H],p=v[0],C=v[1];if(k=n(k,p),g=n(g,C),m=h(m,p),f=h(f,C),F=n(F,p),t=n(t,C),G=h(G,p),u=h(u,C),a&&2<v.length)p=v[2],l=n(l,p),y=h(y,
p),A=n(A,p),B=h(B,p);d&&v.length>K&&(q=v[K],r=n(l,q),w=h(y,q),x=n(A,q),q=h(B,q))}D.push(new I({xmin:F,ymin:t,zmin:A,mmin:x,xmax:G,ymax:u,zmax:B,mmax:q,spatialReference:b}))}c=new I;return c.xmin=k,c.ymin=g,c.xmax=m,c.ymax=f,c.spatialReference=b,a&&(c.zmin=l,c.zmax=y),d&&(c.mmin=r,c.mmax=w),c.cache._partwise=1<D.length?D:null,c},enumerable:!0,configurable:!0}),b.prototype.writePaths=function(a,d,b,c){d.paths=w.clone(this.paths)},b.prototype.addPath=function(a){if(a){this.clearCache();var d=this.paths,
b=d.length;if(Array.isArray(a[0]))d[b]=a.concat();else{for(var c=[],f=0,g=a.length;g>f;f++)c[f]=a[f].toArray();d[b]=c}return this}},b.prototype.clone=function(){var a=new r;return a.spatialReference=this.spatialReference,a.paths=w.clone(this.paths),a.hasZ=this.hasZ,a.hasM=this.hasM,a},b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var d=this.hasM;return b&&!d?new m(a[0],a[1],a[2],void 0,this.spatialReference):d&&!b?new m(a[0],a[1],void 0,
a[2],this.spatialReference):b&&d?new m(a[0],a[1],a[2],a[3],this.spatialReference):new m(a[0],a[1],this.spatialReference)},b.prototype.insertPoint=function(a,b,e){return this._validateInputs(a,b,!0)?(this.clearCache(),x.updateSupportFromPoint(this,e),Array.isArray(e)||(e=e.toArray()),this.paths[a].splice(b,0,e),this):this},b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new m(a,
b)})},b.prototype.removePoint=function(a,b){return this._validateInputs(a,b)?(this.clearCache(),new m(this.paths[a].splice(b,1)[0],this.spatialReference)):null},b.prototype.setPoint=function(a,b,e){return this._validateInputs(a,b)?(this.clearCache(),x.updateSupportFromPoint(this,e),Array.isArray(e)||(e=e.toArray()),this.paths[a][b]=e,this):this},b.prototype._validateInputs=function(a,b,e){if((void 0===e&&(e=!1),null==a||null==b)||0>a||a>=this.paths.length)return!1;a=this.paths[a];return e&&0>b||b>
a.length?!1:0>b||b>=a.length?!1:!0},b.prototype.toJSON=function(a){return this.write(null,a)},l([f.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0),l([f.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null),l([f.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0),l([f.writer("paths")],b.prototype,"writePaths",null),b=r=l([f.subclass("esri.geometry.Polyline")],b);var r}(f.declared(M));return k.prototype.toJSON.isDefaultToJSON=
!0,k});