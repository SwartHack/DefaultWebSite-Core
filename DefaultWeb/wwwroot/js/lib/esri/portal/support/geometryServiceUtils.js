//>>built
define("require exports ../Portal ../PortalItem ../../config ../../tasks/GeometryService ../../tasks/support/ProjectParameters ../../core/promiseUtils ../../core/Error".split(" "),function(n,b,e,l,f,g,m,c,h){function k(a){if(void 0===a&&(a=null),f.geometryServiceUrl)return c.resolve(new g({url:f.geometryServiceUrl}));if(!a)return c.reject(new h("internal:geometry-service-url-not-configured"));var d;return a.isInstanceOf(l)?d=a.portal||e.getDefault():a.isInstanceOf(e)&&(d=a),d.load().then(function(a){if(a.helperServices&&
a.helperServices.geometry&&a.helperServices.geometry.url)return c.resolve(new g({url:a.helperServices.geometry.url}));throw new h("internal:geometry-service-url-not-configured");})}Object.defineProperty(b,"__esModule",{value:!0});b.create=k;b.projectGeometry=function(a,d,b){return void 0===b&&(b=null),k(b).then(function(b){var c=new m;return c.geometries=[a],c.outSpatialReference=d,b.project(c)}).then(function(a){return a&&Array.isArray(a)&&1===a.length?a[0]:c.reject()})}});