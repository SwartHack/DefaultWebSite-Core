//>>built
define("require exports dojo/_base/lang ../../../Color ./support/colors ./support/utils".split(" "),function(n,p,v,d,w,h){function t(c,a){return c.map(function(b){b=new d(b);return null!=a&&(b.a=a),b})}function u(c,a,b,k){var e;c=w[c];var f=t(c.stops);if(c)switch(k){case "point":case "multipoint":e="point-cloud-class"===b?{theme:b,colors:f}:{theme:b,colors:f,noDataColor:new d(a.noDataColor),opacity:1,outline:{color:new d(a.outline.color),width:a.outline.width},size:a.size};break;case "polyline":e=
{theme:b,colors:f,noDataColor:new d(a.noDataColor),opacity:1,width:a.width};break;case "polygon":e={theme:b,colors:f,noDataColor:new d(a.noDataColor),opacity:a.fillOpacity||1,outline:{color:new d(a.outline.color),width:a.outline.width}};break;case "mesh":e={theme:b,colors:f,noDataColor:new d(a.noDataColor),opacity:a.fillOpacity||1}}return e}function x(c,a,b){a=l[a];b=h.getStorageType(b);return(b=a&&a[b])&&b[c]}n={color:[153,153,153,1],width:"1px"};p={light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),
dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]};var g="tropical-bliss desert-blooms under-the-sea vibrant-rainbow ocean-bay prairie-summer pastel-chalk".split(" "),m={"default":{name:"default",label:"Default",description:"Default theme for visualizing features by their type.",basemapGroups:p,pointSchemes:{light:{common:{noDataColor:"#aaaaaa",outline:n,size:"8px"},primary:"cat-dark",secondary:["cat-light"].concat(g)},dark:{common:{noDataColor:"#aaaaaa",outline:{color:[26,
26,26,1],width:"1px"},size:"8px"},primary:"cat-light",secondary:["cat-dark"].concat(g)}},polylineSchemes:{light:{common:{noDataColor:"#aaaaaa",width:"2px"},primary:"cat-dark",secondary:["cat-light"].concat(g)},dark:{common:{noDataColor:"#aaaaaa",width:"2px"},primary:"cat-light",secondary:["cat-dark"].concat(g)}},polygonSchemes:{light:{common:{noDataColor:"#aaaaaa",outline:n,fillOpacity:.8},primary:"cat-dark",secondary:["cat-light"].concat(g)},dark:{common:{noDataColor:"#aaaaaa",outline:{color:[51,
51,51,1],width:"1px"},fillOpacity:.8},primary:"cat-light",secondary:["cat-dark"].concat(g)}}},"point-cloud-class":{name:"point-cloud-class",label:"Point Cloud Class",description:"Default theme for visualizing point cloud data based on classification.",basemapGroups:p,pointSchemes:{light:{primary:"point-cloud-class-scheme",secondary:[]},dark:{primary:"point-cloud-class-scheme",secondary:[]}}}},l={};(function(){for(var c in m){var a=m[c],b=a.basemapGroups,k=l[c]={basemaps:[].concat(b.light).concat(b.dark),
point:{},polyline:{},polygon:{}},e;for(e in b)for(var f=b[e],d=0;d<f.length;d++){var q=f[d];a.pointSchemes&&(k.point[q]=a.pointSchemes[e]);a.polylineSchemes&&(k.polyline[q]=a.polylineSchemes[e]);a.polygonSchemes&&(k.polygon[q]=a.polygonSchemes[e])}}})();var r={getThemes:function(c){var a=[],b;for(b in m){var d=m[b],e=l[b],f=h.getBasemapId(c,e.basemaps);f&&-1===e.basemaps.indexOf(f)||a.push({name:d.name,label:d.label,description:d.description,basemaps:e.basemaps.slice(0)})}return a},getSchemes:function(c){var a,
b=c.geometryType,d="mesh"!==b&&c.worldScale,e=c.view,f=c.theme||"default";c=h.getBasemapId(c.basemap,l[f].basemaps);var g=x(c,f,b);g&&(a=u(g.primary,g.common,f,b),a={primaryScheme:d?r.toWorldScale({scheme:a,view:e}):a,secondarySchemes:g.secondary.map(function(a){a=u(a,g.common,f,b);return d?r.toWorldScale({scheme:a,view:e}):a}),basemapId:c});return a},cloneScheme:function(c){var a;return c&&(a=v.mixin({},c),a.colors=t(a.colors),a.noDataColor&&(a.noDataColor=new d(a.noDataColor)),a.outline&&(a.outline=
{color:a.outline.color&&new d(a.outline.color),width:a.outline.width})),a},toWorldScale:function(c){if(c.scheme&&c.view){var a=c.scheme,b=c.scheme;return a.hasOwnProperty("size")?(a.size&&(a.size=h.toWorldScale(a.size,c.view)),a):b.hasOwnProperty("width")?(b.width&&(b.width=h.toWorldScale(b.width,c.view)),b):c.scheme}}};return r});