//>>built
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ./Container ../ViewState ../viewStateUtils".split(" "),function(p,q,k,r,l,m,n){var h=[0,0];return function(e){function b(){var a=null!==e&&e.apply(this,arguments)||this;return a._childrenCanvas=null,a._childrenRenderParameters={budget:null,context:null,devicePixelRatio:1,state:new m,stationary:!0},a}return k(b,e),b.prototype.attach=function(a){return this._childrenCanvas||(this._childrenCanvas=document.createElement("canvas"),
this._childrenRenderParameters.context=this._childrenCanvas.getContext("2d")),e.prototype.attach.call(this,a)},b.prototype.detach=function(a){e.prototype.detach.call(this,a);this._childrenCanvas=null;this._childrenRenderParameters.context=null},b.prototype.doRender=function(a){this.visible&&e.prototype.doRender.call(this,a)},b.prototype.prepareChildrenRenderParameters=function(a){var g=this._childrenCanvas,c=this._childrenRenderParameters,d=a.state,b=d.pixelRatio,e=c.state;e.copy(d);var f=n.getOuterSize(h,
d),d=f[0],f=f[1];return d*=b,f*=b,e.size=h,e.viewpoint.rotation=0,g.width!==d||g.height!==f?(g.width=d,g.height=f):c.context.clearRect(0,0,d,f),c.budget=a.budget,c.devicePixelRatio=a.devicePixelRatio,c},b.prototype.beforeRenderChildren=function(a,b){this.sortChildren(function(a,d){return d.resolution-a.resolution})},b.prototype.afterRenderChildren=function(a,b){var c=a.context;a=a.state;var d=b.context;b=b.state;0===a.rotation?c.drawImage(d.canvas,0,0):(c.save(),c.translate(.5*a.width,.5*a.height),
c.rotate(a.rotation*Math.PI/180),c.translate(.5*-a.width,.5*-a.height),c.drawImage(d.canvas,.5*(a.width-b.width),.5*(a.height-b.height)),c.restore())},b}(l)});