//>>built
define(["require","exports"],function(x,y){function r(c,a,e,g,b){void 0===g&&(g=0);void 0===b&&(b=c.length);for(var d,l=c[g],f=c[b-1],h=0,t=0,n=g+1;b-1>n;n++){var p=c[n];d=p[0];var p=p[1],q=l[0],m=l[1],k=f[0],v=f[1];q===k?d=u(d-q):(k=(v-m)/(k-q),d=u(k*d-p+(m-k*q))/w(k*k+1));d>h&&(t=n,h=d)}h>a?(r(c,a,e,g,t+1),r(c,a,e,t,b)):(e(l[0],l[1]),e(f[0],f[1]))}var m=Math.round,u=Math.abs,w=Math.sqrt;return function(){function c(){this._transform=null}return c.prototype.update=function(a,e){this._transform=a;
this._resolution=e},c.prototype.toScreenPoint=function(a,e,c){return this.transformPoint(e.x+c*this._resolution,e.y,function(b,d){a.x=b;a.y=d}),a},c.prototype.toScreenPath=function(a,c){var e=this,b=null!=a.paths;a=b?a.paths:a.rings;var d="",l=function(a,b){a+=c*e._resolution;e.transformPoint(a,b,function(a,b){isNaN(a)||isNaN(b)||(d+=a,d+=",",d+=b,d+=" ")})};if(a)for(var f=a.length,h=0;f>h;h++)d+="M ",r(a[h],this._resolution,l),b||(d+="Z ");return d},c.prototype.transformPoint=function(a,c,g){var b=
this._transform,d=b[1],e=b[3],f=b[5];g(m(b[0]*a+b[2]*c+b[4]),m(d*a+e*c+f))},c}()});