//>>built
define(["require","exports","./MaterialKeyInfo","./enums","./MaterialInfo"],function(n,f,k,e,l){function m(a){var b=[];return b[0]=a.sdf?!0:!1,b[1]=a.vvSizeMinMaxValue?!0:!1,b[2]=a.vvSizeScaleStops?!0:!1,b[3]=a.vvSizeFieldStops?!0:!1,b[4]=a.vvSizeUnitValue?!0:!1,b[5]=a.vvColor?!0:!1,b[6]=a.vvRotation?!0:!1,b[7]=a.vvOpacity?!0:!1,b[8]=a.visibility?!0:!1,b[9]=a.pattern?!0:!1,b[10]=a.heatmap?!0:!1,b.reduce(function(a,b,e){return b&&(a|=1<<e+2),a},0)}function h(a){if(a.geometryType===e.WGLGeometryType.UNKNOWN)return-1;
var b=m(a)<<2;return a.geometryType+b}Object.defineProperty(f,"__esModule",{value:!0});f.createTextMaterialInfo=function(a,b){var f=l.pool.acquire(),c=k.pool.acquire();return c.geometryType=e.WGLGeometryType.TEXT,c.sdf=!0,c.pattern=!1,c.visibility=!0,c.heatmap=!1,f.texBindingInfo.push({unit:2,pageId:a.page,semantic:"u_texture"}),0===b?c.vvOpacity=c.vvSizeMinMaxValue=c.vvSizeScaleStops=c.vvSizeFieldStops=c.vvSizeUnitValue=c.vvColor=c.vvRotation=!1:(c.vvOpacity=0!==(b&e.WGLVVFlag.OPACITY),c.vvSizeMinMaxValue=
0!==(b&e.WGLVVFlag.SIZE_MINMAX_VALUE),c.vvSizeScaleStops=0!==(b&e.WGLVVFlag.SIZE_SCALE_STOPS),c.vvSizeFieldStops=0!==(b&e.WGLVVFlag.SIZE_FIELD_STOPS),c.vvSizeUnitValue=0!==(b&e.WGLVVFlag.SIZE_UNIT_VALUE),c.vvColor=0!==(b&e.WGLVVFlag.COLOR),c.vvRotation=0!==(b&e.WGLVVFlag.ROTATION)),f.materialKey=h(c),f.materialKeyInfo=c,f};f.createMaterialInfo=function(a,b,f,c){var g=l.pool.acquire(),d=k.pool.acquire();d.geometryType=f;b=b.spriteMosaicItem;return b?(d.sdf=b.sdf,d.pattern=!0,g.texBindingInfo.push({unit:1,
pageId:b.page,semantic:"u_texture"})):(d.sdf=!1,d.pattern=!1),0===c?d.vvOpacity=d.vvSizeMinMaxValue=d.vvSizeScaleStops=d.vvSizeFieldStops=d.vvSizeUnitValue=d.vvColor=d.vvRotation=!1:(d.vvOpacity=0!==(c&e.WGLVVFlag.OPACITY),d.vvSizeMinMaxValue=0!==(c&e.WGLVVFlag.SIZE_MINMAX_VALUE),d.vvSizeScaleStops=0!==(c&e.WGLVVFlag.SIZE_SCALE_STOPS),d.vvSizeFieldStops=0!==(c&e.WGLVVFlag.SIZE_FIELD_STOPS),d.vvSizeUnitValue=0!==(c&e.WGLVVFlag.SIZE_UNIT_VALUE),d.vvColor=0!==(c&e.WGLVVFlag.COLOR),d.vvRotation=0!==(c&
e.WGLVVFlag.ROTATION)),d.visibility=!1,d.heatmap=null!=a.heatmapInfo,g.materialKey=h(d),g.materialKeyInfo=d,g};f.getMaterialKey=h;f.updateMaterialVariations=function(a,b){return a.geometryType=3&b,b>>=2,a.sdf=0!==(4&b),a.vvSizeMinMaxValue=0!==(8&b),a.vvSizeScaleStops=0!==(16&b),a.vvSizeFieldStops=0!==(32&b),a.vvSizeUnitValue=0!==(64&b),a.vvColor=0!==(128&b),a.vvRotation=0!==(256&b),a.vvOpacity=0!==(512&b),a.visibility=0!==(1024&b),a.pattern=0!==(2048&b),a.heatmap=0!==(4096&b),a};f.getMaterialVariations=
function(a){var b=3&a;a>>=2;return{geometryType:b,variations:[0!==(1&a),0!==(2&a),0!==(4&a),0!==(8&a),0!==(16&a),0!==(32&a),0!==(64&a),0!==(128&a),0!==(256&a),0!==(512&a),0!==(1024&a),0!==(2048&a),0!==(4096&a)]}}});