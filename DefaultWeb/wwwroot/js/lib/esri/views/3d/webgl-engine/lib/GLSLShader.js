//>>built
define(["require","exports"],function(h,k){function g(a){var b=2;return a.replace(/\n/g,function(){var c=b++;return"\n"+(1E3>c?("  "+c).slice(-3):""+c)+":"})}return function(){function a(b,c,a,e){this.glName=void 0;this.defines=e;this.gl=a;this.type=b;this.source=c}return a.prototype.init=function(){void 0===this.glName&&(this.glName=this.gl.createShader(this.type),this.loadShader())},a.prototype.loadShader=function(){var b=this.source,a=this.defines,d=this.gl;if(void 0!==a){for(var e="",f=0;f<a.length;f++)e+=
"#define "+a[f]+"\n";b=e+b}d.shaderSource(this.glName,b);d.compileShader(this.glName);d.getShaderParameter(this.glName,d.COMPILE_STATUS)||(console.error(d.getShaderInfoLog(this.glName)),console.error(g(b)))},a.prototype.changeDefines=function(a){return JSON.stringify(this.defines)===JSON.stringify(a)?!1:(this.defines=a,void 0!==this.glName&&this.loadShader(),!0)},a.prototype.getGLName=function(){return this.init(),this.glName},a}()});