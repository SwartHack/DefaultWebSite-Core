//>>built
require({cache:{"esri/views/MapViewBase":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/_base/lang ../core/accessorSupport/decorators ../core/HandleRegistry ../core/Logger ../core/promiseUtils ../core/Error ../Viewpoint ../geometry ../geometry/support/webMercatorUtils ./View ./ViewAnimation ./2d/FrameTask ./2d/PaddedViewState ./2d/MapViewConstraints ./2d/AnimationManager ./2d/viewpointUtils".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,
r,v,w,x,D,E,B,J,K){var z=l.getLogger("esri.views.MapView");return function(l){function w(a){var b=l.call(this,a)||this;b._frameTask=new D(b);b._mapViewBaseHandles=new q;b._setup=!1;b.fullOpacity=1;b.interacting=!1;b.initialExtent=null;b.resizeAlign="center";b.type="2d";b.constraints=new B;b.padding={top:0,right:0,bottom:0,left:0};var g=function(){this._set("updating",this.layerViewManager.factory.working||this.allLayerViews.some(function(a){return!0===a.updating}))}.bind(b),e=b._mapViewBaseHandles;
return e.add([b.watch("viewpoint",function(a){return b._flipStationary()},!0),b.on("resize",function(a){return b._resizeHandler(a)}),b.watch("animationManager.animation",function(a){b.animation=a}),b.allLayerViews.on("change",function(){g();e.remove("layerViewsUpdating");e.add(b.allLayerViews.map(function(a){return a.watch("updating",g)}).toArray(),"layerViewsUpdating")})]),b.watch("ready",function(a){a?b._startup():b._tearDown()}),b}return u(w,l),w.prototype.destroy=function(){this.destroyed||(this._set("ready",
!1),this._mapViewBaseHandles.removeAll(),this.layerViewManager.empty(),this._frameTask.destroy(),this._tearDown(),this._gotoTask=this._mapViewBaseHandles=this._frameTask=null)},Object.defineProperty(w.prototype,"animation",{set:function(a){var b=this,g=this._get("animation");if(a!==g){if(g&&g.stop(),!a||a.isFulfilled())return void this._set("animation",null);this._set("animation",a);g=function(){a===b._get("animation")&&(b._set("animation",null),b._frameTask.requestFrame())};a.when(g,g,function(a){b.state&&
(b.state.viewpoint=a)})}},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"center",{get:function(){if(!this._setup)return this._get("center");var a=this.content.center;return new r.Point({x:a[0],y:a[1],spatialReference:this.content.spatialReference})},set:function(a){if(null!=a){if(!this._normalizeInput(a))return void z.error("#center","incompatible spatialReference "+JSON.stringify(a.spatialReference)+" with view's spatialReference "+JSON.stringify(this.spatialReference));if(!this._setup)return this._set("center",
a),void this.notifyChange("initialExtentRequired");var b=this.viewpoint;K.centerAt(b,b,a);this.viewpoint=b}},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"constraints",{set:function(a){var b=this,g=this._get("constraints");g&&(this._mapViewBaseHandles.remove("constraints"),g.destroy());this._set("constraints",a);a&&(this._setup&&(a.view=this,this.state.viewpoint=a.fit(this.content.viewpoint)),this._mapViewBaseHandles.add(a.on("update",function(){b._setup&&b.state&&(b.state.viewpoint=
a.fit(b.content.viewpoint))}),"constraints"))},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"extent",{get:function(){return this._setup?this.content.extent.clone():this._get("extent")},set:function(a){if(null!=a){var b=this._normalizeInput(a);if(!b)return void z.error("#center","incompatible spatialReference "+JSON.stringify(a.spatialReference)+" with view's spatialReference "+JSON.stringify(this.spatialReference));if(!b.width||!b.height)return void z.error("#extent","invalid extent size");
if(!this._setup)return this._set("extent",b),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");a=this.viewpoint;K.setExtent(a,a,b,this.size,{constraints:this.constraints});this.viewpoint=a}},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"initialExtentRequired",{get:function(){var a=this.extent,b=this.center,g=this.scale,B=this.viewpoint,e=this.zoom;return this.get("map.initialViewProperties.viewpoint")?
!1:a?!1:!b||0===g&&-1===e?B?!1:!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"padding",{get:function(){return this._setup?this.state.padding:this._get("padding")},set:function(a){return this._setup?(this.state.padding=a,void this._set("padding",this.state.padding)):void this._set("padding",a)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"rotation",{get:function(){return this._setup?this.content.rotation:this._get("rotation")},set:function(a){if(!isNaN(a)){if(!this._setup)return void this._set("rotation",
a);var b=this.viewpoint;K.rotateTo(b,b,a);this.viewpoint=b}},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"scale",{get:function(){return this._setup?this.content.scale:this._get("scale")},set:function(a){if(a&&!isNaN(a)){if(!this._setup)return this._set("scale",a),this._set("zoom",-1),a=this._get("extent"),a&&(this._set("extent",null),this._set("center",a.center)),void this.notifyChange("initialExtentRequired");var b=this.viewpoint;K.scaleTo(b,b,a);this.viewpoint=b}},enumerable:!0,
configurable:!0}),Object.defineProperty(w.prototype,"stationary",{get:function(){return!(this.animation||this.interacting||this._get("resizing")||this._stationaryTimer)},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"viewpoint",{get:function(){if(!this._setup)return this._get("viewpoint");var a=this.content;return a&&a.viewpoint.clone()},set:function(a){if(null!=a){var b=this._normalizeInput(a);if(!b)return void(!a.scale||isNaN(a.scale)?z.error("#viewpoint","invalid scale value of "+
a.scale):a.targetGeometry?z.error("#viewpoint","incompatible spatialReference "+JSON.stringify(a.targetGeometry.spatialReference)+" with view's spatialReference "+JSON.stringify(this.spatialReference)):z.error("#viewpoint","geometry not defined"));if(!this._setup)return this._set("viewpoint",b),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");a=K.create();K.copy(a,b);this.constraints.constrain(a,this.content.viewpoint);
this.state.viewpoint=a;this._frameTask.requestFrame();this._set("viewpoint",a)}},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"zoom",{get:function(){return this._setup?this.constraints.scaleToZoom(this.scale):this._get("zoom")},set:function(a){if(null!=a){if(!this._setup){this.notifyChange("initialExtentRequired");this._set("zoom",a);this._set("scale",0);var b=this._get("extent");b&&(this._set("extent",null),this._set("center",b.center))}this.constraints.effectiveLODs&&(b=this.viewpoint,
K.scaleTo(b,b,this.constraints.zoomToScale(a)),this.viewpoint=b,this._set("zoom",this.constraints.scaleToZoom(this.scale)))}},enumerable:!0,configurable:!0}),w.prototype.goTo=function(a,b){if(this.animation&&(this.animation=null),!this._setup)return void z.error("#goTo()","MapView cannot be used before it is ready");b=h.mixin({animate:!0},b);a=K.createAsync(a,this);return this._gotoTask={},b.animate?this._gotoAnimated(a,b):this._gotoImmediate(a,b)},w.prototype.hitTest=function(a,g){return b.reject("Should be implemented by subclasses")},
w.prototype.toMap=function(a,b,g){if(!this._setup)return null;a&&null!=a.x&&(g=b,b=a.y,a=a.x);var B=[0,0];return this.state.toMap(B,[a,b]),g=g||new r.Point,g.x=B[0],g.y=B[1],g.spatialReference=this.spatialReference,g},w.prototype.isTileInfoRequired=function(){return!0},w.prototype.toScreen=function(a,b,g,B){if(!this._setup)return null;a&&null!=a.x&&(B=b,a=this._normalizeInput(a),b=a.y,a=a.x);B=g||B||new r.ScreenPoint;a=[a,b];return this.state.toScreen(a,a),B.x=a[0],B.y=a[1],B},w.prototype.pixelSizeAt=
function(a,b){return this._setup?(a&&null!=a.x&&(b=a.y,a=a.x),this.content.pixelSizeAt([a,b])):NaN},w.prototype.requestLayerViewUpdate=function(a){this._setup&&this._frameTask.requestLayerViewUpdate(a)},w.prototype.getDefaultSpatialReference=function(){return this.get("map.initialViewProperties.spatialReference")||this.get("defaultsFromMap.spatialReference")||null},w.prototype.isSpatialReferenceSupported=function(a,b){if(b||this._get("ready"))return!0;b=this._normalizeInput(this._get("center"),a);
var g=this._normalizeInput(this._get("extent"),a),B=this._normalizeInput(this._get("viewpoint"),a),e=this._userSpatialReference,r=null,l=null;(B=B&&B.targetGeometry)&&("extent"===B.type?r=B:"point"===B.type&&(l=B));B=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent"),a);a=this._normalizeInput(this.initialExtent,a);a=g||r||B||a;return b||l||a&&a.center?!0:(e&&z.error("The view could not be initialized with the spatialReference "+e.wkid+".","Try specifying an extent or a center and scale"),
!1)},w.prototype._createOrReplaceAnimation=function(a){return(!this.animation||this.animation.done)&&(this.animation=new x),this.animation.update(a),this.animation},w.prototype._cancellableGoTo=function(a,g,B){var e=this,r=B.then(function(){a===e._gotoTask&&(e.animation=null)}).otherwise(function(b){throw a===e._gotoTask&&(e.animation=null,g.done||g.stop()),b;}),l=b.create(function(a){return a(r)},function(){a===e._gotoTask&&!g.done&&g.stop()});return g["catch"](function(){a===e._gotoTask&&l.cancel()}),
l},w.prototype._gotoImmediate=function(a,b){var B=this,e=this._gotoTask,r=this._createOrReplaceAnimation(a);a=a.then(function(a){if(e!==B._gotoTask)throw new g("view:goto-interrupted","Goto was interrupted");B.viewpoint=r.target=a;r.finish()});return this._cancellableGoTo(e,r,a)},w.prototype._gotoAnimated=function(a,b){var B=this,e=this._gotoTask,r=this._createOrReplaceAnimation(a);a=a.then(function(a){if(e!==B._gotoTask)throw new g("view:goto-interrupted","Goto was interrupted");return r.update(a),
B.animationManager.animate(r,B.viewpoint,b),r.when().then(function(){})});return this._cancellableGoTo(e,r,a)},w.prototype._resizeHandler=function(a){var b=this.state;if(b){var g=this.content.viewpoint,B=this.content.size.concat();b.size=[a.width,a.height];K.resize(g,g,B,this.content.size,this.resizeAlign);g=this.constraints.constrain(g,null);this.state.viewpoint=g}},w.prototype._startup=function(){if(!this._setup){var b=this.constraints,g=this._get("zoom"),B=this._get("scale"),e=this._normalizeInput(this._get("center")),
r=this._normalizeInput(this._get("extent")),l=this._get("rotation"),h=this._normalizeInput(this._get("viewpoint"));b.view=this;b.effectiveLODs?-1!==g&&(B=b.zoomToScale(g)):g=-1;var q=null,v=null,m=0,g=h&&h.rotation,n=h&&h.targetGeometry;n&&("extent"===n.type?q=n:"point"===n.type&&(v=n,m=h.scale));h=this._normalizeInput(this.get("map.initialViewProperties.viewpoint.targetGeometry.extent"));n=this._normalizeInput(this.initialExtent);r=r||q||h||n;e=e||v||r&&r.center;B=B||m||r&&K.extentToScale(r,this.size);
l=new a({targetGeometry:e,scale:B,rotation:l||g||0});b.fit(l);this._set("animationManager",new J);this._set("state",new E({padding:this._get("padding"),size:this.size,viewpoint:l}));this._set("content",this.state.content);this._setup=!0}},w.prototype._tearDown=function(){if(this._setup){this._setup=!1;this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null,this.notifyChange("stationary"));var a=this._get("content"),b=a.center,g=a.spatialReference,b=new r.Point({x:b[0],
y:b[1],spatialReference:g});this._set("viewpoint",null);this._set("extent",null);this._set("center",b);this._set("zoom",-1);this._set("rotation",a.rotation);this._set("scale",a.scale);this._set("spatialReference",g);this.constraints.view=null;this.animationManager.destroy();this._set("animationManager",null);this._set("state",null);this._set("content",null);this.animation=null}},w.prototype._flipStationary=function(){var a=this;this._stationaryTimer&&clearTimeout(this._stationaryTimer);this._stationaryTimer=
setTimeout(function(){a._stationaryTimer=null;a.notifyChange("stationary")},160);this.notifyChange("stationary")},w.prototype._normalizeInput=function(a,b){void 0===b&&(b=this.spatialReference);var g=a&&a.targetGeometry||a;return b?g?b.equals(g.spatialReference)?a:v.canProject(g,b)?a&&"esri.Viewpoint"===a.declaredClass?(a.targetGeometry=v.project(g,b),a):v.project(g,b):null:null:a},m([e.property()],w.prototype,"animation",null),m([e.property({readOnly:!0})],w.prototype,"animationManager",void 0),
m([e.property({value:null,type:r.Point,dependsOn:["content.center"]})],w.prototype,"center",null),m([e.property({type:B})],w.prototype,"constraints",null),m([e.property({readOnly:!0})],w.prototype,"content",void 0),m([e.property({value:null,type:r.Extent,dependsOn:["content.extent"]})],w.prototype,"extent",null),m([e.property()],w.prototype,"fullOpacity",void 0),m([e.property({readOnly:!0})],w.prototype,"interacting",void 0),m([e.property({type:r.Extent})],w.prototype,"initialExtent",void 0),m([e.property({dependsOn:["map.initialViewProperties.viewpoint"]})],
w.prototype,"initialExtentRequired",null),m([e.property({value:{top:0,right:0,bottom:0,left:0},cast:function(a){return h.mixin({top:0,right:0,bottom:0,left:0},a)}})],w.prototype,"padding",null),m([e.property()],w.prototype,"resizeAlign",void 0),m([e.property({value:0,type:Number,dependsOn:["content.rotation"]})],w.prototype,"rotation",null),m([e.property({value:0,type:Number,dependsOn:["content.scale"]})],w.prototype,"scale",null),m([e.property({type:r.SpatialReference,dependsOn:["map.initialViewProperties.spatialReference",
"defaultsFromMap.isSpatialReferenceDone"]})],w.prototype,"spatialReference",void 0),m([e.property({readOnly:!0})],w.prototype,"state",void 0),m([e.property()],w.prototype,"stationary",null),m([e.property({readOnly:!0})],w.prototype,"type",void 0),m([e.property({value:null,type:a,dependsOn:["content.viewpoint"]})],w.prototype,"viewpoint",null),m([e.property({value:-1,dependsOn:["content.scale"]})],w.prototype,"zoom",null),w=m([e.subclass("esri.views.MapViewBase")],w)}(e.declared(w))})},"esri/Viewpoint":function(){define(["./core/JSONSupport",
"./Camera","./geometry/support/typeUtils","./geometry/support/jsonUtils"],function(y,p,u,m){var h=y.createSubclass({declaredClass:"esri.Viewpoint",properties:{rotation:{type:Number,value:0,cast:function(e){return e%=360,0>e&&(e+=360),e},json:{write:!0}},scale:{type:Number,value:0,json:{write:!0}},targetGeometry:{value:null,types:u.types,json:{read:function(e){return m.fromJSON(e)},write:!0}},camera:{value:null,type:p,json:{write:!0}}},clone:function(){return new h({rotation:this.rotation,scale:this.scale,
targetGeometry:this.targetGeometry?this.targetGeometry.clone():null,camera:this.camera?this.camera.clone():null})}});return h})},"esri/Camera":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./geometry/Point ./views/3d/support/mathUtils ./core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q,l){return function(b){function g(a,g,e,l){a=b.call(this)||this;return a.position=null,a.heading=0,a.tilt=0,a.fov=55,a}return u(g,
b),a=g,g.prototype.getDefaults=function(a){return a.position?void 0:{position:new e([0,0,0])}},g.prototype.normalizeCtorArgs=function(a,b,g,e){return a&&"object"==typeof a&&("x"in a||Array.isArray(a))?(a={position:a},null!=b&&(a.heading=b),null!=g&&(a.tilt=g),null!=e&&(a.fov=e),a):a},g.prototype.equals=function(a){return a?this.tilt===a.tilt&&this.heading===a.heading&&this.fov===a.fov&&this.position.equals(a.position):!1},g.prototype.clone=function(){return new a({position:this.position.clone(),heading:this.heading,
tilt:this.tilt,fov:this.fov})},m([l.property({type:e,json:{write:{isRequired:!0}}})],g.prototype,"position",void 0),m([l.property({type:Number,json:{write:{isRequired:!0}}}),l.cast(q.cyclicalDeg.normalize)],g.prototype,"heading",void 0),m([l.property({type:Number,json:{write:{isRequired:!0}}}),l.cast(function(a){return q.clamp(a,-180,180)})],g.prototype,"tilt",void 0),m([l.property({json:{read:!1,write:!1}})],g.prototype,"fov",void 0),g=a=m([l.subclass("esri.Camera")],g);var a}(l.declared(h))})},
"esri/geometry/support/typeUtils":function(){define("require exports ../../core/accessorSupport/ensureType ../Geometry ../Extent ../Multipoint ../Point ../Polyline ../Polygon".split(" "),function(y,p,u,m,h,e,q,l,b){Object.defineProperty(p,"__esModule",{value:!0});p.types={base:m,key:"type",typeMap:{extent:h,multipoint:e,point:q,polyline:l,polygon:b}};p.ensureType=u.ensureOneOfType(p.types)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Geometry ./Extent ./Point ../core/lang ./support/zmUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g){function a(a){return function(b,g){return null==b?g:null==g?b:a(b,g)}}y=function(e){function r(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=e.apply(this,a)||this;return a.points=[],a.type="multipoint",a}return u(r,e),w=r,r.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var g={};Array.isArray(a)?(g.points=a,g.spatialReference=b):!a||"esri.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(g.points=a.points),a.spatialReference&&
(g.spatialReference=a.spatialReference),a.hasZ&&(g.hasZ=a.hasZ),a.hasM&&(g.hasM=a.hasM)):g.spatialReference=a;a=g.points&&g.points[0];return a&&(void 0===g.hasZ&&void 0===g.hasM?(g.hasZ=2<a.length,g.hasM=!1):void 0===g.hasZ?g.hasZ=3<a.length:void 0===g.hasM&&(g.hasM=3<a.length)),g},Object.defineProperty(r.prototype,"extent",{get:function(){var b=this.points;if(!b.length)return null;for(var g,e,B,r,l=new q,h=this.hasZ,v=this.hasM,m=h?3:2,w=b[0],u=a(Math.min),p=a(Math.max),N=w[0],y=w[1],da=w[0],w=w[1],
Z=0,fa=b.length;fa>Z;Z++){var P=b[Z],aa=P[0],n=P[1];if(N=u(N,aa),y=u(y,n),da=p(da,aa),w=p(w,n),h&&2<P.length)aa=P[2],g=u(g,aa),B=p(B,aa);v&&P.length>m&&(P=P[m],e=u(e,P),r=p(r,P))}return l.xmin=N,l.ymin=y,l.xmax=da,l.ymax=w,l.spatialReference=this.spatialReference,h?(l.zmin=g,l.zmax=B):(l.zmin=null,l.zmax=null),v?(l.mmin=e,l.mmax=r):(l.mmin=null,l.mmax=null),l},enumerable:!0,configurable:!0}),r.prototype.writePoints=function(a,g,e,B){g.points=b.clone(this.points)},r.prototype.addPoint=function(a){return this.clearCache(),
g.updateSupportFromPoint(this,a),Array.isArray(a)?this.points.push(a):this.points.push(a.toArray()),this},r.prototype.clone=function(){var a={points:b.clone(this.points),spatialReference:this.spatialReference};return this.hasZ&&(a.hasZ=!0),this.hasM&&(a.hasM=!0),new w(a)},r.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},g=2;return this.hasZ&&(b.z=a[2],g=3),this.hasM&&(b.m=a[g]),new l(b)},r.prototype.removePoint=
function(a){return this._validateInputs(a)?(this.clearCache(),new l(this.points.splice(a,1)[0],this.spatialReference)):null},r.prototype.setPoint=function(a,b){return this._validateInputs(a)?(this.clearCache(),g.updateSupportFromPoint(b),this.points[a]=b.toArray(),this):this},r.prototype.toJSON=function(a){return this.write(null,a)},r.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length},m([h.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],r.prototype,
"cache",void 0),m([h.property({dependsOn:["cache"]})],r.prototype,"extent",null),m([h.property({type:[[Number]],json:{write:{isRequired:!0}}})],r.prototype,"points",void 0),m([h.writer("points")],r.prototype,"writePoints",null),r=w=m([h.subclass("esri.geometry.Multipoint")],r);var w}(h.declared(e));return y.prototype.toJSON.isDefaultToJSON=!0,y})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(y,p){Object.defineProperty(p,"__esModule",{value:!0});p.updateSupportFromPoint=
function(u,m,h){void 0===h&&(h=!1);var e=u.hasM,q=u.hasZ;Array.isArray(m)?4!==m.length||e||q?3===m.length&&h&&!e?(q=!0,e=!1):3===m.length&&e&&q&&(e=!1,q=!1):(e=!0,q=!0):(q=!q&&m.hasZ&&(!e||m.hasM),e=!e&&m.hasM&&(!q||m.hasZ));u.hasZ=q;u.hasM=e}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/lang ./Geometry ./Extent ./Point ./SpatialReference ./support/zmUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){function r(a){return function(b,g){return null==b?g:null==g?b:a(b,g)}}var v=r(Math.min),w=r(Math.max);y=function(r){function q(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=r.apply(this,a)||this;return a.paths=[],a.type="polyline",a}return u(q,r),x=q,q.prototype.normalizeCtorArgs=function(a,b){var B,e,r=null,l=null;return a&&!Array.isArray(a)?(r=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),B=a.hasZ,e=a.hasM):r=a,r=
r||[],b=b||g.WGS84,r.length&&r[0]&&null!=r[0][0]&&"number"==typeof r[0][0]&&(r=[r]),l=r[0]&&r[0][0],l&&(void 0===B&&void 0===e?(B=2<l.length,e=!1):void 0===B?B=!e&&3<l.length:void 0===e&&(e=!B&&3<l.length)),{paths:r,spatialReference:b,hasZ:B,hasM:e}},Object.defineProperty(q.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,g=this.spatialReference,e=this.paths,r=a?3:2;if(!e.length||!e[0].length)return null;for(var h=e[0][0],q=h[0],h=h[1],m=e[0][0],x=m[0],m=m[1],D=void 0,u=void 0,E=void 0,
p=void 0,y=[],P=0;P<e.length;P++){for(var aa=e[P],n=aa[0],U=n[0],n=n[1],C=aa[0],d=C[0],C=C[1],c=void 0,f=void 0,k=void 0,t=void 0,A=0;A<aa.length;A++){var G=aa[A],F=G[0],H=G[1];if(q=v(q,F),h=v(h,H),x=w(x,F),m=w(m,H),U=v(U,F),n=v(n,H),d=w(d,F),C=w(C,H),a&&2<G.length)F=G[2],D=v(D,F),u=w(u,F),c=v(c,F),f=w(f,F);b&&G.length>r&&(t=G[r],E=v(D,t),p=w(u,t),k=v(c,t),t=w(f,t))}y.push(new l({xmin:U,ymin:n,zmin:c,mmin:k,xmax:d,ymax:C,zmax:f,mmax:t,spatialReference:g}))}e=new l;return e.xmin=q,e.ymin=h,e.xmax=
x,e.ymax=m,e.spatialReference=g,a&&(e.zmin=D,e.zmax=u),b&&(e.mmin=E,e.mmax=p),e.cache._partwise=1<y.length?y:null,e},enumerable:!0,configurable:!0}),q.prototype.writePaths=function(a,b,g,r){b.paths=e.clone(this.paths)},q.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,g=b.length;if(Array.isArray(a[0]))b[g]=a.concat();else{for(var e=[],B=0,r=a.length;r>B;B++)e[B]=a[B].toArray();b[g]=e}return this}},q.prototype.clone=function(){var a=new x;return a.spatialReference=this.spatialReference,
a.paths=e.clone(this.paths),a.hasZ=this.hasZ,a.hasM=this.hasM,a},q.prototype.getPoint=function(a,g){if(!this._validateInputs(a,g))return null;a=this.paths[a][g];g=this.hasZ;var e=this.hasM;return g&&!e?new b(a[0],a[1],a[2],void 0,this.spatialReference):e&&!g?new b(a[0],a[1],void 0,a[2],this.spatialReference):g&&e?new b(a[0],a[1],a[2],a[3],this.spatialReference):new b(a[0],a[1],this.spatialReference)},q.prototype.insertPoint=function(b,g,e){return this._validateInputs(b,g,!0)?(this.clearCache(),a.updateSupportFromPoint(this,
e),Array.isArray(e)||(e=e.toArray()),this.paths[b].splice(g,0,e),this):this},q.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var g=this.spatialReference;return a.map(function(a){return new b(a,g)})},q.prototype.removePoint=function(a,g){return this._validateInputs(a,g)?(this.clearCache(),new b(this.paths[a].splice(g,1)[0],this.spatialReference)):null},q.prototype.setPoint=function(b,g,e){return this._validateInputs(b,g)?
(this.clearCache(),a.updateSupportFromPoint(this,e),Array.isArray(e)||(e=e.toArray()),this.paths[b][g]=e,this):this},q.prototype._validateInputs=function(a,b,g){if((void 0===g&&(g=!1),null==a||null==b)||0>a||a>=this.paths.length)return!1;a=this.paths[a];return g&&0>b||b>a.length?!1:0>b||b>=a.length?!1:!0},q.prototype.toJSON=function(a){return this.write(null,a)},m([h.property({dependsOn:["hasM","hasZ","paths"]})],q.prototype,"cache",void 0),m([h.property({dependsOn:["cache"],readOnly:!0})],q.prototype,
"extent",null),m([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],q.prototype,"paths",void 0),m([h.writer("paths")],q.prototype,"writePaths",null),q=x=m([h.subclass("esri.geometry.Polyline")],q);var x}(h.declared(q));return y.prototype.toJSON.isDefaultToJSON=!0,y})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/lang ./Geometry ./Extent ./Point ./SpatialReference ./support/webMercatorUtils ./support/zmUtils ./support/coordsUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v){function w(a){return function(b,g){return null==b?g:null==g?b:a(b,g)}}var x=w(Math.min),D=w(Math.max);y=function(q){function B(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];a=q.apply(this,a)||this;return a.rings=[],a.type="polygon",a}return u(B,q),w=B,B.createEllipse=function(a){var b=a.center.x,g=a.center.y,e=a.center.z,r=a.center.m,B=a.center.hasZ,l=a.center.hasM,h=a.longAxis,q=a.shortAxis,v=a.numberOfPoints;a=a.view;for(var m=[],K=2*Math.PI/v,J=
B?3:2,x=0;v>x;x++){var n=a.toMap(h*Math.cos(x*K)+b,q*Math.sin(x*K)+g),n=[n.x,n.y];B&&(n[2]=e);l&&(n[J]=r);m.push(n)}m.push(m[0]);return new w({rings:[m],spatialReference:a.spatialReference})},B.createCircle=function(a){return w.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})},B.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var g=!1,e=!1;b.map(function(a){a.hasZ&&(g=!0);a.hasM&&(e=!0)});b={rings:b.map(function(a){var b=
[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(g&&a.hasZ)for(var r=(a.zmax-a.zmin)/2,B=0;B<b.length;B++)b[B].push(r);if(e&&a.hasM)for(a=(a.mmax-a.mmin)/2,B=0;B<b.length;B++)b[B].push(a);return b}),spatialReference:a};return g&&(b.hasZ=!0),e&&(b.hasM=!0),new w(b)},B.prototype.normalizeCtorArgs=function(a,b){var e,r,B=null,l=null;return a&&!Array.isArray(a)?(B=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),e=a.hasZ,r=a.hasM):B=
a,B=B||[],b=b||g.WGS84,B.length&&B[0]&&null!=B[0][0]&&"number"==typeof B[0][0]&&(B=[B]),l=B[0]&&B[0][0],l&&(void 0===e&&void 0===r?(e=2<l.length,r=!1):void 0===e?e=!r&&3<l.length:void 0===r&&(r=!e&&3<l.length)),{rings:B,spatialReference:b,hasZ:e,hasM:r}},Object.defineProperty(B.prototype,"centroid",{get:function(){var a=v.ringsCentroid([],this.rings,this.hasZ);if(isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var g=new b;return g.x=a[0],g.y=a[1],g.spatialReference=this.spatialReference,
this.hasZ&&(g.z=a[2]),g},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,g=this.spatialReference,e=this.rings,r=a?3:2;if(!e.length||!e[0].length)return null;for(var B=e[0][0],h=B[0],B=B[1],q=e[0][0],v=q[0],q=q[1],m=void 0,w=void 0,J=void 0,u=void 0,E=[],n=0;n<e.length;n++){for(var U=e[n],C=U[0],d=C[0],C=C[1],c=U[0],f=c[0],c=c[1],k=void 0,t=void 0,A=void 0,G=void 0,F=0;F<U.length;F++){var H=U[F],X=H[0],ca=H[1];if(h=x(h,X),B=x(B,
ca),v=D(v,X),q=D(q,ca),d=x(d,X),C=x(C,ca),f=D(f,X),c=D(c,ca),a&&2<H.length)X=H[2],m=x(m,X),w=D(w,X),k=x(k,X),t=D(t,X);b&&H.length>r&&(G=H[r],J=x(m,G),u=D(w,G),A=x(k,G),G=D(t,G))}E.push(new l({xmin:d,ymin:C,zmin:k,mmin:A,xmax:f,ymax:c,zmax:t,mmax:G,spatialReference:g}))}e=new l;return e.xmin=h,e.ymin=B,e.xmax=v,e.ymax=q,e.spatialReference=g,a&&(e.zmin=m,e.zmax=w),b&&(e.mmin=J,e.mmax=u),e.cache._partwise=1<E.length?E:null,e},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"isSelfIntersecting",
{get:function(){return v.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0}),B.prototype.writePaths=function(a,b,g,r){b.rings=e.clone(this.rings)},B.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,g=b.length;if(Array.isArray(a[0]))b[g]=a.concat();else{for(var e=[],r=0,B=a.length;B>r;r++)e[r]=a[r].toArray();b[g]=e}return this}},B.prototype.clone=function(){var a=new w;return a.spatialReference=this.spatialReference,a.rings=e.clone(this.rings),a.hasZ=this.hasZ,a.hasM=
this.hasM,a},B.prototype.contains=function(b){return b?(a.canProject(b,this.spatialReference)&&(b=a.project(b,this.spatialReference)),v.contains(this.rings,v.geometryToCoordinates(b))):!1},B.prototype.isClockwise=function(a){var b,g=this;return b=Array.isArray(a[0])?a:a.map(function(a){return g.hasZ?g.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]}),v.isClockwise(b,this.hasM,this.hasZ)},B.prototype.getPoint=function(a,g){if(!this._validateInputs(a,g))return null;a=this.rings[a][g];g=this.hasZ;var e=
this.hasM;return g&&!e?new b(a[0],a[1],a[2],void 0,this.spatialReference):e&&!g?new b(a[0],a[1],void 0,a[2],this.spatialReference):g&&e?new b(a[0],a[1],a[2],a[3],this.spatialReference):new b(a[0],a[1],this.spatialReference)},B.prototype.insertPoint=function(a,b,g){return this._validateInputs(a,b,!0)?(this.clearCache(),r.updateSupportFromPoint(this,g),Array.isArray(g)||(g=g.toArray()),this.rings[a].splice(b,0,g),this):this},B.prototype.removePoint=function(a,g){return this._validateInputs(a,g)?(this.clearCache(),
new b(this.rings[a].splice(g,1)[0],this.spatialReference)):null},B.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var g=this.spatialReference;return a.map(function(a){return new b(a,g)})},B.prototype.setPoint=function(a,b,g){return this._validateInputs(a,b)?(this.clearCache(),r.updateSupportFromPoint(this,g),Array.isArray(g)||(g=g.toArray()),this.rings[a][b]=g,this):this},B.prototype._validateInputs=function(a,b,g){if((void 0===
g&&(g=!1),null==a||null==b)||0>a||a>=this.rings.length)return!1;a=this.rings[a];return g&&0>b||b>a.length?!1:0>b||b>=a.length?!1:!0},B.prototype.toJSON=function(a){return this.write(null,a)},m([h.property({dependsOn:["hasM","hasZ","rings"]})],B.prototype,"cache",void 0),m([h.property({readOnly:!0,dependsOn:["cache"]})],B.prototype,"centroid",null),m([h.property({dependsOn:["cache"],readOnly:!0})],B.prototype,"extent",null),m([h.property({dependsOn:["cache"],readOnly:!0})],B.prototype,"isSelfIntersecting",
null),m([h.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],B.prototype,"rings",void 0),m([h.writer("rings")],B.prototype,"writePaths",null),B=w=m([h.subclass("esri.geometry.Polygon")],B);var w}(h.declared(q));return y.prototype.toJSON.isDefaultToJSON=!0,y})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(y,p,u,m,h,e,q){function l(b){return b?void 0!==b.x&&void 0!==b.y?h.fromJSON(b):void 0!==
b.paths?q.fromJSON(b):void 0!==b.rings?e.fromJSON(b):void 0!==b.points?m.fromJSON(b):void 0!==b.xmin&&void 0!==b.ymin&&void 0!==b.xmax&&void 0!==b.ymax?u.fromJSON(b):null:null}Object.defineProperty(p,"__esModule",{value:!0});p.fromJson=function(b){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(a){console.warn(a.stack)}return l(b)};p.fromJSON=l;p.getJsonType=function(b){return b instanceof h?"esriGeometryPoint":b instanceof q?"esriGeometryPolyline":b instanceof e?"esriGeometryPolygon":
b instanceof u?"esriGeometryEnvelope":b instanceof m?"esriGeometryMultipoint":null};var b={esriGeometryPoint:h,esriGeometryPolyline:q,esriGeometryPolygon:e,esriGeometryEnvelope:u,esriGeometryMultipoint:m};p.getGeometryType=function(g){return g&&b[g]||null}})},"esri/geometry":function(){define("require exports ./geometry/Extent ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/ScreenPoint ./geometry/Geometry ./geometry/support/jsonUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){Object.defineProperty(p,"__esModule",{value:!0});p.Extent=u;p.Multipoint=m;p.Point=h;p.Polygon=e;p.Polyline=q;p.SpatialReference=l;p.ScreenPoint=b;p.BaseGeometry=g;p.isGeometry=function(a){return a instanceof p.BaseGeometry};p.fromJSON=a.fromJSON})},"esri/geometry/ScreenPoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e){return function(h){function l(){for(var b=
[],a=0;a<arguments.length;a++)b[a]=arguments[a];b=h.apply(this,b)||this;return b.x=0,b.y=0,b.z=void 0,b}return u(l,h),b=l,l.prototype.normalizeCtorArgs=function(b,a){return"number"==typeof b?{x:b,y:a}:Array.isArray(b)?{x:b[0],y:b[1]}:b},l.prototype.clone=function(){return new b({x:this.x,y:this.y,z:this.z})},l.prototype.toArray=function(){return null==this.z?[this.x,this.y]:[this.x,this.y,this.z]},m([e.property({type:Number})],l.prototype,"x",void 0),m([e.property({type:Number})],l.prototype,"y",
void 0),m([e.property({type:Number})],l.prototype,"z",void 0),l=b=m([e.subclass("esri.geometry.ScreenPoint")],l);var b}(e.declared(h))})},"esri/views/View":function(){define("dojo/_base/lang ../Graphic ../core/Accessor ../core/Collection ../core/CollectionFlattener ../core/Evented ../core/HandleRegistry ../core/Promise ../core/watchUtils ../core/promiseUtils ../core/Scheduler ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ./LayerViewManager ./RefreshManager ./BasemapView ./GroundView ./support/DefaultsFromMap".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J){return u.createSubclass([l,e],{declaredClass:"esri.views.View",properties:{allLayerViews:{readOnly:!0},basemapView:{},animation:{},resizing:{},interacting:{},graphics:{type:m.ofType(p)},groundView:{},defaultsFromMap:J,heightModelInfo:{readOnly:!0,type:v,dependsOn:["map.heightModelInfo","defaultsFromMap.heightModelInfo"]},initialExtent:{readOnly:!0,type:r,dependsOn:["defaultsFromMap.extent"]},initialExtentRequired:{},layerViews:{type:m},map:{},ready:{readOnly:!0,
dependsOn:"map spatialReference width height initialExtentRequired initialExtent defaultsFromMap.isSpatialReferenceDone map.loaded".split(" ")},size:{readOnly:!0,dependsOn:["width","height"],get:function(){return[this.width,this.height]}},spatialReference:{type:w,dependsOn:["defaultsFromMap.spatialReference","defaultsFromMap.vcsWkid","defaultsFromMap.latestVcsWkid"]},stationary:{dependsOn:["animation","interacting","resizing"]},type:{},updating:{},padding:{},width:{},height:{},cursor:{}},constructor:function(a){this._viewHandles=
new q;this._viewHandles.add(this.watch("ready",function(a,b){a?this._currentSpatialReference=this.spatialReference:this._currentSpatialReference=null;this.notifyChange("spatialReference");!a&&b&&this.layerViewManager.empty()}.bind(this)));this.allLayerViews=new h({root:this,rootCollectionNames:["basemapView.baseLayerViews","groundView.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:function(a){return a.layerViews}});this.defaultsFromMap=new J({view:this})},getDefaults:function(){return y.mixin(this.inherited(arguments),
{layerViews:[],graphics:[],padding:{left:0,top:0,right:0,bottom:0}})},initialize:function(){var a=this.validate().then(function(){this._isValid=!0;this.notifyChange("ready");var a=function(){return b.whenOnce(this,"ready").then(function(){return g.after(0)}.bind(this)).then(function(){return this.ready?void 0:a()}.bind(this))}.bind(this);return a()}.bind(this));this.addResolvingPromise(a);this.basemapView=new E({view:this});this.groundView=new B({view:this});this.layerViewManager=new x({view:this});
this.refreshManager=new D({view:this});this._resetInitialViewPropertiesFromContent()},destroy:function(){this.destroyed||(this.basemapView.destroy(),this.groundView.destroy(),this.destroyLayerViews(),this.refreshManager.destroy(),this.defaultsFromMap.destroy(),this.defaultsFromMap=null,this._viewHandles.destroy(),this.map=null)},destroyLayerViews:function(){this.layerViewManager.destroy()},_viewHandles:null,_isValid:!1,_readyCycleForced:!1,_userSpatialReference:null,_currentSpatialReference:null,
animation:null,basemapView:null,groundView:null,graphics:null,_graphicsSetter:function(a){this._graphicsView&&(this._graphicsView.graphics=a);this._set("graphics",a)},heightModelInfo:null,_heightModelInfoGetter:function(){return this.getDefaultHeightModelInfo()},interacting:!1,layerViews:null,map:null,_mapSetter:function(a){var b=this._get("map");a!==b&&(a&&a.load&&a.load(),this._forceReadyCycle(),this._resetInitialViewPropertiesFromContent(),this._set("map",a))},padding:null,_readyGetter:function(){return!!(this._isValid&&
!this._readyCycleForced&&this.map&&0!==this.width&&0!==this.height&&this.spatialReference&&(!this.map.load||this.map.loaded)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone&&this.isSpatialReferenceSupported(this.spatialReference))},spatialReference:null,_spatialReferenceGetter:function(){var a=this._userSpatialReference||this._currentSpatialReference||
this.getDefaultSpatialReference()||null;return a&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(a=a.clone(),a.vcsWkid=this.defaultsFromMap.vcsWkid,a.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),a},_spatialReferenceSetter:function(a){this._userSpatialReference=a;this._set("spatialReference",a)},stationary:!0,_stationaryGetter:function(){return!this.animation&&!this.interacting&&!this.resizing},type:null,updating:!1,initialExtentRequired:!0,initialExtent:null,_initialExtentGetter:function(){return this.defaultsFromMap&&
this.defaultsFromMap.extent},cursor:"default",whenLayerView:function(a){return this.layerViewManager.whenLayerView(a)},getDefaultSpatialReference:function(){return this.get("defaultsFromMap.spatialReference")},getDefaultHeightModelInfo:function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||null},validate:function(){return g.resolve()},isSpatialReferenceSupported:function(){return!0},isTileInfoRequired:function(){return!1},
_resetInitialViewPropertiesFromContent:function(){if(this.defaultsFromMap){var g=this.defaultsFromMap.start.bind(this.defaultsFromMap);this.defaultsFromMap.reset();this._currentSpatialReference=null;this.notifyChange("spatialReference");this._viewHandles.remove("defaultsFromMap");this._viewHandles.add([b.watch(this,"spatialReference",g),b.watch(this,"initialExtentRequired",g),a.schedule(g)],"defaultsFromMap")}},_forceReadyCycle:function(){this.ready&&(this._readyCycleForced=!0,b.whenFalseOnce(this,
"ready",function(){this._readyCycleForced=!1;this.notifyChange("ready")}.bind(this)),this.notifyChange("ready"))}})})},"esri/Graphic":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/accessorSupport/decorators dojo/_base/lang ./core/lang ./core/JSONSupport ./PopupTemplate ./symbols/support/typeUtils ./symbols/support/jsonUtils ./geometry ./geometry/support/typeUtils".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,r,v){var w=0;return function(l){function x(a,
b,g,e){a=l.call(this,a,b,g,e)||this;return a.layer=null,Object.defineProperty(a,"uid",{value:w++}),a}return u(x,l),E=x,x.prototype.normalizeCtorArgs=function(a,b,g,e){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:g,popupTemplate:e}},Object.defineProperty(x.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"geometry",{set:function(a){var b=
this._get("geometry");b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"popupTemplate",{get:function(){return this.get("layer.popupTemplate")||null},set:function(a){return void 0===a?void this._clearOverride("popupTemplate"):void this._override("popupTemplate",a)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",
b,a))},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0}),x.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]},x.prototype.setAttribute=function(a,b){if(this.attributes){var g=this.getAttribute(a);this.attributes[a]=b;this._notifyLayer("attributes",g,b,a)}else this.attributes=(g={},g[a]=b,g),this._notifyLayer("attributes",
void 0,b,a)},x.prototype.toJSON=function(){return{geometry:this.geometry&&this.geometry.toJSON(),symbol:this.symbol&&this.symbol.toJSON(),attributes:e.mixin({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}},x.prototype.clone=function(){return new E({attributes:q.clone(this.attributes),geometry:this.geometry&&this.geometry.clone()||null,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),symbol:this.symbol&&this.symbol.clone()||null,visible:this.visible})},
x.prototype._notifyLayer=function(a,b,g,e){this.layer&&(a={graphic:this,property:a,oldValue:b,newValue:g},e&&(a.attributeName=e),this.layer.graphicChanged(a))},m([h.property({value:null})],x.prototype,"attributes",null),m([h.property({value:null,types:v.types,json:{read:r.fromJSON}})],x.prototype,"geometry",null),m([h.property()],x.prototype,"layer",void 0),m([h.property({dependsOn:["layer.popupTemplate"],type:b})],x.prototype,"popupTemplate",null),m([h.property({value:null,types:g.types,json:{read:a.read}})],
x.prototype,"symbol",null),m([h.property({value:!0,set:function(a){}})],x.prototype,"visible",null),x=E=m([h.subclass("esri.Graphic")],x);var E}(h.declared(l))})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/accessorSupport/decorators ./core/date ./core/Collection ./core/kebabDictionary ./core/JSONSupport ./core/lang ./support/Action ./support/arcadeUtils ./layers/support/fieldUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w){var x=b({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),D=b({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});return function(b){function g(){var a=null!==b&&b.apply(this,arguments)||this;return a.actions=null,a.content="",a.expressionInfos=null,a.fieldInfos=null,a.layerOptions=null,a.overwriteActions=!1,a.title="",a.relatedRecordsInfo=null,a}return m(g,b),J=g,g.prototype.readContent=function(a,b){var g=
this,e=b.description,r=b.mediaInfos;a=b.showAttachments;if((b=b.popupElements)&&b.length)return b.map(function(a){return"text"!==a.type||a.text?"media"===a.type&&(a.mediaInfos||r)&&(a.mediaInfos||(a.mediaInfos=r),a.mediaInfos=g._readMediaInfos(a.mediaInfos)):a.text=e,a});b=[];return e?b.push({type:"text",text:e}):b.push({type:"fields"}),r&&r.length&&b.push({type:"media",mediaInfos:this._readMediaInfos(r)}),a&&b.push({type:"attachments",displayType:"list"}),b.length?b:e},g.prototype.writeContent=function(b,
g){var e=this;return g.showAttachments=!1,"string"==typeof b?void(g.description=b):Array.isArray(b)?(g.popupElements=a.clone(b),void g.popupElements.forEach(function(b){return"attachments"!==b.type||g.showAttachments?"media"!==b.type||g.mediaInfos?"text"!==b.type||g.description?"fields"!==b.type||g.fieldInfos||(b.fieldInfos&&(g.fieldInfos=e._writeFieldInfos(a.clone(b.fieldInfos))),delete b.fieldInfos):(b.text&&(g.description=b.text),delete b.text):(b.mediaInfos&&(g.mediaInfos=a.clone(b.mediaInfos),
g.mediaInfos.forEach(function(a){a.type=D.toJSON(a.type)})),delete b.mediaInfos):g.showAttachments=!0,b})):void 0},g.prototype.writeExpressionInfos=function(a,b){b.expressionInfos=a||null},g.prototype.readFieldInfos=function(a){return a?(a.forEach(function(a){var b=a.format&&a.format.dateFormat,g=a.stringFieldOption;b&&(a.format.dateFormat=q.fromJSON(b));g&&(a.stringFieldOption=x.fromJSON(g))}),a):void 0},g.prototype.writeFieldInfos=function(b,g){g.fieldInfos=b?this._writeFieldInfos(a.clone(b)):b},
g.prototype.writeLayerOptions=function(a,b){b.layerOptions=a||null},g.prototype.writeTitle=function(a,b){b.title=a||""},g.prototype.writeRelatedRecordsInfo=function(a,b){b.relatedRecordsInfo=a||null},Object.defineProperty(g.prototype,"requiredFields",{get:function(){return this.collectRequiredFields()},enumerable:!0,configurable:!0}),g.prototype.clone=function(){var b=this.actions,b=b?a.clone(b.toArray()):[];return new J({actions:b,content:Array.isArray(this.content)?a.clone(this.content):this.content,
fieldInfos:this.fieldInfos?a.clone(this.fieldInfos):null,layerOptions:this.layerOptions?a.clone(this.layerOptions):null,overwriteActions:this.overwriteActions,relatedRecordsInfo:this.relatedRecordsInfo?a.clone(this.relatedRecordsInfo):null,title:this.title})},g.prototype.collectRequiredFields=function(){return this._getActionsFields(this.actions).concat(this._getTitleFields(this.title),this._getContentFields(this.content),this._getExpressionInfoFields(this.expressionInfos)).filter(function(a,b,g){return b===
g.indexOf(a)})},g.prototype._getContentElementFields=function(a){var b=this;return a&&"attachments"!==a.type?"fields"===a.type?this._getFieldInfoFields(a.fieldInfos||this.fieldInfos):"media"===a.type?(a.mediaInfos||[]).reduce(function(a,g){return a.concat(b._getMediaInfoFields(g))},[]):"text"===a.type?w.extractFieldNames(a.text):void 0:[]},g.prototype._getMediaInfoFields=function(a){var b=a.caption,g=a.value||{},e=g.fields,r=void 0===e?[]:e,e=g.normalizeField,l=g.tooltipField,B=g.sourceURL,g=g.linkURL;
a=w.extractFieldNames(a.title).concat(w.extractFieldNames(b),w.extractFieldNames(B),w.extractFieldNames(g),r);return e&&a.push(e),l&&a.push(l),a},g.prototype._getContentFields=function(a){var b=this;return"string"==typeof a?w.extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,g){return a.concat(b._getContentElementFields(g))},[]):[]},g.prototype._getExpressionInfoFields=function(a){return a?a.reduce(function(a,b){return a.concat(v.extractFieldNames(b.expression))},[]):[]},g.prototype._getFieldInfoFields=
function(a){return a?a.filter(function(a){return"undefined"==typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]},g.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,g){return a.concat(b._getActionFields(g))},[]):[]},g.prototype._getActionFields=function(a){return w.extractFieldNames(a.title).concat(w.extractFieldNames(a.className),w.extractFieldNames(a.image))},
g.prototype._getTitleFields=function(a){return"string"==typeof a?w.extractFieldNames(a):[]},g.prototype._readMediaInfos=function(a){return a.forEach(function(a){a.type=D.fromJSON(a.type)}),a},g.prototype._writeFieldInfos=function(a){return a.forEach(function(a){var b=a.format&&a.format.dateFormat,g=a.stringFieldOption;b&&(a.format.dateFormat=q.toJSON(b));g&&(a.stringFieldOption=x.toJSON(g));a.format||delete a.format}),a},h([e.property({type:l.ofType(r)})],g.prototype,"actions",void 0),h([e.property()],
g.prototype,"content",void 0),h([e.reader("content",["description","popupElements","mediaInfos","showAttachments"])],g.prototype,"readContent",null),h([e.writer("content")],g.prototype,"writeContent",null),h([e.property()],g.prototype,"expressionInfos",void 0),h([e.writer("expressionInfos")],g.prototype,"writeExpressionInfos",null),h([e.property()],g.prototype,"fieldInfos",void 0),h([e.reader("fieldInfos")],g.prototype,"readFieldInfos",null),h([e.writer("fieldInfos")],g.prototype,"writeFieldInfos",
null),h([e.property()],g.prototype,"layerOptions",void 0),h([e.writer("layerOptions")],g.prototype,"writeLayerOptions",null),h([e.property()],g.prototype,"overwriteActions",void 0),h([e.property()],g.prototype,"title",void 0),h([e.writer("title")],g.prototype,"writeTitle",null),h([e.property()],g.prototype,"relatedRecordsInfo",void 0),h([e.writer("relatedRecordsInfo")],g.prototype,"writeRelatedRecordsInfo",null),h([e.property({dependsOn:["actions","title","content","fieldInfos","expressionInfos"],
readOnly:!0})],g.prototype,"requiredFields",null),g=J=h([e.subclass("esri.PopupTemplate")],g);var J}(e.declared(g))})},"esri/core/date":function(){define(["require","exports","./kebabDictionary"],function(y,p,u){Object.defineProperty(p,"__esModule",{value:!0});var m={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')",
"long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};y=u({shortDate:"short-date",
shortDateLE:"short-date-le",longDate:"long-date",dayShortMonthYear:"day-short-month-year",longMonthDayYear:"long-month-day-year",shortDateLongTime:"short-date-long-time",shortDateLELongTime:"short-date-le-long-time",shortDateShortTime:"short-date-short-time",shortDateLEShortTime:"short-date-le-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLongTime24:"short-date-long-time-24",shortDateLELongTime24:"short-date-le-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year"});p.toJSON=y.toJSON;p.fromJSON=y.fromJSON;p.getFormat=function(h){return m[h]}})},"esri/support/Action":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/Identifiable ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q){return function(e){function b(a){a=e.call(this)||this;return a.className="",a.temporary=!1,a.image="",a.id="",a.title=
"",a.visible=!0,a}return u(b,e),g=b,b.prototype.clone=function(){return new g({className:this.className,image:this.image,id:this.id,title:this.title,visible:this.visible})},m([q.property()],b.prototype,"className",void 0),m([q.property()],b.prototype,"temporary",void 0),m([q.property()],b.prototype,"image",void 0),m([q.property()],b.prototype,"id",void 0),m([q.property()],b.prototype,"title",void 0),m([q.property()],b.prototype,"visible",void 0),b=g=m([q.subclass("esri.support.Action")],b);var g}(q.declared(h,
e))})},"esri/support/arcadeUtils":function(){define(["require","exports","dojo/_base/lang","../arcade/arcade","../arcade/Dictionary"],function(y,p,u,m,h){function e(b){var g;try{g=b?m.parseScript(b):null}catch(a){g=null}return g}Object.defineProperty(p,"__esModule",{value:!0});var q=/^\$feature\./i,l={vars:{$feature:"any",$view:"any"},spatialReference:null};p.createSyntaxTree=e;p.createFunction=function(b,g){g=g||u.clone(l);var a;b="string"==typeof b?e(b):b;try{a=b?m.compileScript(b,g):null}catch(r){a=
null}return a};p.createExecContext=function(b,g){return{vars:{$feature:m.constructFeature(b),$view:g&&g.view},spatialReference:g&&g.sr}};p.createFeature=function(b){return m.constructFeature(b)};p.updateExecContext=function(b,g){b.vars.$feature=g};p.evalSyntaxTree=function(b,g){var a;try{a=m.executeScript(b,g,g.spatialReference)}catch(r){a=null}return a};p.executeFunction=function(b,g){var a;try{a=b?b(g,g.spatialReference):null}catch(r){a=null}return a};p.extractFieldNames=function(b){if(!b)return[];
b="string"==typeof b?e(b):b;var g=[];return m.extractFieldLiterals(b).forEach(function(a){q.test(a)&&(a=a.replace(q,""),g.push(a))}),g.sort(),g.filter(function(a,b){return 0===b||g[b-1]!==a})};p.dependsOnView=function(b){return m.referencesMember(b,"$view")};p.getViewInfo=function(b){return b&&b.viewingMode&&null!=b.scale&&b.spatialReference?{view:new h({viewingMode:b.viewingMode,scale:b.scale}),sr:b.spatialReference}:void 0}})},"esri/arcade/arcade":function(){define("require exports ./arcadeRuntime ./parser ./Feature ./arcadeCompiler dojo/has dojo/Deferred".split(" "),
function(y,p,u,m,h,e,q,l){Object.defineProperty(p,"__esModule",{value:!0});var b="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");p.compileScript=function(b,a){return q("csp-restrictions")?function(a,g){return u.executeScript(b,a,g)}:e.compileScript(b,
a)};p.extend=function(b){u.extend(b);e.extend(b)};p.constructFeature=function(b){return h.fromFeature(b)};p.parseScript=function(b){return m.parseScript(b)};p.validateScript=function(b,a){return m.validateScript(b,a,"simple")};p.scriptCheck=function(b,a,e){return m.scriptCheck(b,a,e,"full")};p.parseAndExecuteScript=function(b,a,e){return u.executeScript(m.parseScript(b),a,e)};p.executeScript=function(b,a,e){return u.executeScript(b,a,e)};p.referencesMember=function(b,a){return u.referencesMember(b,
a)};p.referencesFunction=function(b,a){return u.referencesFunction(b,a)};p.extractFieldLiterals=function(b,a){return void 0===a&&(a=!1),m.extractFieldLiterals(b,a)};p.scriptUsesGeometryEngine=function(g){g=u.findFunctionCalls(g);for(var a=0;a<g.length;a++)if(-1<b.indexOf(g[a]))return!0;return!1};p.enableGeometrySupport=function(){var b=new l;return y(["esri/geometry/geometryEngine","./functions/geomsync"],function(a,g){g.setGeometryEngine(a);b.resolve(!0)},function(a){b.reject(a)}),b.promise}})},
"esri/arcade/arcadeRuntime":function(){define("require exports ../geometry/Polygon ../geometry/Polyline ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/SpatialReference ./languageUtils ./treeAnalysis ./Dictionary ./Feature ./FunctionWrapper ./functions/date ./functions/string ./functions/maths ./functions/geometry ./functions/geomsync ./functions/stats ./ImmutablePathArray ./ImmutablePointArray ../geometry/Geometry".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J,
K,z,M){function I(c,f){for(var d=[],k=0;k<f.arguments.length;k++)d.push(O(c,f.arguments[k]));return d}function Q(c,f,d){try{return d(c,f,I(c,f))}catch(ua){throw ua;}}function O(c,f){try{switch(f.type){case "EmptyStatement":return b.voidOperation;case "VariableDeclarator":var d=null===f.init?null:O(c,f.init);d===b.voidOperation&&(d=null);var k=f.id.name.toLowerCase();return null!==c.localScope?c.localScope[k]={value:d,valueset:!0,node:f.init}:c.globalScope[k]={value:d,valueset:!0,node:f.init},b.voidOperation;
case "VariableDeclaration":for(var t=0;t<f.declarations.length;t++)O(c,f.declarations[t]);return b.voidOperation;case "BlockStatement":var A;a:{for(var G=b.voidOperation,t=0;t<f.body.length;t++)if(G=O(c,f.body[t]),G instanceof b.ReturnResult||G===b.breakResult||G===b.continueResult){A=G;break a}A=G}return A;case "FunctionDeclaration":var F=f.id.name.toLowerCase();return c.globalScope[F]={valueset:!0,node:null,value:new v(f,c)},b.voidOperation;case "ReturnStatement":var H;if(null===f.argument)H=new b.ReturnResult(b.voidOperation);
else{var C=O(c,f.argument);H=new b.ReturnResult(C)}return H;case "IfStatement":var X;if("AssignmentExpression"===f.test.type||"UpdateExpression"===f.test.type)throw Error(g.nodeErrorMessage(f.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var e=O(c,f.test);if(!0===e)X=O(c,f.consequent);else if(!1===e)X=null!==f.alternate?O(c,f.alternate):b.voidOperation;else throw Error(g.nodeErrorMessage(f,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));return X;case "ExpressionStatement":var l;if("AssignmentExpression"===
f.expression.type||"UpdateExpression"===f.expression.type)l=O(c,f.expression);else{var B=O(c,f.expression);l=B===b.voidOperation?b.voidOperation:new b.ImplicitResult(B)}return l;case "AssignmentExpression":var ca;var h=O(c,f.right),t=null,q="";if("MemberExpression"===f.left.type){if(t=O(c,f.left.object),q=!0===f.left.computed?O(c,f.left.property):f.left.property.name,b.isArray(t)){if(!b.isNumber(q))throw Error("Invalid Parameter");if(0>q&&(q=t.length+q),0>q||q>t.length)throw Error("Assignment outside of array bounds");
if(q===t.length&&"\x3d"!==f.operator)throw Error("Invalid Parameter");t[q]=N(h,f.operator,t[q],f)}else{if(t instanceof a){if(!1===b.isString(q))throw Error("Dictionary accessor must be a string");}else{if(!(t instanceof r))throw b.isImmutableArray(t)?Error("Array is Immutable"):Error("Invalid Parameter");if(!1===b.isString(q))throw Error("Feature accessor must be a string");}if(!0===t.hasField(q))t.setField(q,N(h,f.operator,t.field(q),f));else{if("\x3d"!==f.operator)throw Error("Invalid Parameter");
t.setField(q,N(h,f.operator,null,f))}}ca=b.voidOperation}else if(t=f.left.name.toLowerCase(),null!==c.localScope&&void 0!==c.localScope[t])ca=(c.localScope[t]={value:N(h,f.operator,c.localScope[t].value,f),valueset:!0,node:f.right},b.voidOperation);else if(void 0!==c.globalScope[t])ca=(c.globalScope[t]={value:N(h,f.operator,c.globalScope[t].value,f),valueset:!0,node:f.right},b.voidOperation);else throw Error("Variable not recognised");return ca;case "UpdateExpression":var m,t=null;ca="";if("MemberExpression"===
f.argument.type){if(t=O(c,f.argument.object),ca=!0===f.argument.computed?O(c,f.argument.property):f.argument.property.name,b.isArray(t)){if(!b.isNumber(ca))throw Error("Invalid Parameter");if(0>ca&&(ca=t.length+ca),0>ca||ca>=t.length)throw Error("Assignment outside of array bounds");m=b.toNumber(t[ca]);t[ca]="++"===f.operator?m+1:m-1}else{if(t instanceof a){if(!1===b.isString(ca))throw Error("Dictionary accessor must be a string");}else{if(!(t instanceof r))throw b.isImmutableArray(t)?Error("Array is Immutable"):
Error("Invalid Parameter");if(!1===b.isString(ca))throw Error("Feature accessor must be a string");}if(!0!==t.hasField(ca))throw Error("Invalid Parameter");m=b.toNumber(t.field(ca));t.setField(ca,"++"===f.operator?m+1:m-1)}q=!1===f.prefix?m:"++"===f.operator?m+1:m-1}else if(t=f.argument.name.toLowerCase(),null!==c.localScope&&void 0!==c.localScope[t])q=(m=b.toNumber(c.localScope[t].value),c.localScope[t]={value:"++"===f.operator?m+1:m-1,valueset:!0,node:f},!1===f.prefix?m:"++"===f.operator?m+1:m-
1);else if(void 0!==c.globalScope[t])q=(m=b.toNumber(c.globalScope[t].value),c.globalScope[t]={value:"++"===f.operator?m+1:m-1,valueset:!0,node:f},!1===f.prefix?m:"++"===f.operator?m+1:m-1);else throw Error("Variable not recognised");return q;case "BreakStatement":return b.breakResult;case "ContinueStatement":return b.continueResult;case "ForStatement":null!==f.init&&O(c,f.init);t={testResult:!0,lastAction:b.voidOperation};do a:{ca=c;h=f;q=t;if(null!==h.test){if(q.testResult=O(ca,h.test),!1===q.testResult)break a;
if(!0!==q.testResult)throw Error(g.nodeErrorMessage(h,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}q.lastAction=O(ca,h.body);q.lastAction===b.breakResult?q.testResult=!1:q.lastAction instanceof b.ReturnResult?q.testResult=!1:null!==h.update&&O(ca,h.update)}while(!0===t.testResult);return t.lastAction instanceof b.ReturnResult?t.lastAction:b.voidOperation;case "ForInStatement":return Y(c,f);case "Identifier":return aa(c,f);case "MemberExpression":return da(c,f);case "Literal":return f.value;case "ThisExpression":throw Error(g.nodeErrorMessage(f,
"RUNTIME","NOTSUPPORTED"));case "CallExpression":return n(c,f);case "UnaryExpression":return Z(c,f);case "BinaryExpression":return fa(c,f);case "LogicalExpression":return P(c,f);case "ConditionalExpression":throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{for(t=[],ca=0;ca<f.elements.length;ca++){var w=O(c,f.elements[ca]);if(b.isFunctionParameter(w))throw Error(g.nodeErrorMessage(f,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));w===b.voidOperation?t.push(null):t.push(w)}}catch(xa){throw xa;
}return t;case "ObjectExpression":t={};for(ca=0;ca<f.properties.length;ca++){var la=O(c,f.properties[ca]);if(b.isFunctionParameter(la.value))throw Error("Illegal Argument");if(!1===b.isString(la.key))throw Error("Illegal Argument");la.value===b.voidOperation?t[la.key.toString()]=null:t[la.key.toString()]=la.value}var z=new a(t);return z.immutable=!1,z;case "Property":return{key:"Identifier"===f.key.type?f.key.name:O(c,f.key),value:O(c,f.value)};case "Array":throw Error(g.nodeErrorMessage(f,"RUNTIME",
"NOTSUPPORTED"));default:throw Error(g.nodeErrorMessage(f,"RUNTIME","UNREOGNISED"));}}catch(xa){throw xa;}}function Y(c,f){var d=O(c,f.right);"VariableDeclaration"===f.left.type&&O(c,f.left);var k=null,t="VariableDeclaration"===f.left.type?f.left.declarations[0].id.name:f.left.name;if(null!==c.localScope&&void 0!==c.localScope[t]&&(k=c.localScope[t]),null===k&&void 0!==c.globalScope[t]&&(k=c.globalScope[t]),null===k)throw Error(g.nodeErrorMessage(f,"RUNTIME","VARIABLENOTDECLARED"));if(b.isArray(d)||
b.isString(d)){for(var d=d.length,A=0;d>A;A++){k.value=A;t=O(c,f.body);if(t===b.breakResult)break;if(t instanceof b.ReturnResult)return t}return b.voidOperation}if(b.isImmutableArray(d)){for(A=0;A<d.length();A++){k.value=A;t=O(c,f.body);if(t===b.breakResult)break;if(t instanceof b.ReturnResult)return t}return b.voidOperation}if(!(d instanceof a||d instanceof r))return b.voidOperation;d=d.keys();for(A=0;A<d.length;A++){k.value=d[A];t=O(c,f.body);if(t===b.breakResult)break;if(t instanceof b.ReturnResult)return t}}
function N(c,f,d,k){switch(f){case "\x3d":return c===b.voidOperation?null:c;case "/\x3d":return b.toNumber(d)/b.toNumber(c);case "*\x3d":return b.toNumber(d)*b.toNumber(c);case "-\x3d":return b.toNumber(d)-b.toNumber(c);case "+\x3d":return b.isString(d)||b.isString(c)?b.toString(d)+b.toString(c):b.toNumber(d)+b.toNumber(c);case "%\x3d":return b.toNumber(d)%b.toNumber(c);default:throw Error(g.nodeErrorMessage(k,"RUNTIME","OPERATORNOTRECOGNISED"));}}function T(c,f,d,k){switch(f=f.toLowerCase()){case "hasz":return c=
c.hasZ,void 0===c?!1:c;case "hasm":return c=c.hasM,void 0===c?!1:c;case "spatialreference":return f=c.spatialReference._arcadeCacheId,void 0===f&&(d=!0,Object.freeze&&Object.isFrozen(c.spatialReference)&&(d=!1),d&&(G++,c.spatialReference._arcadeCacheId=G,f=G)),c=new a({wkt:c.spatialReference.wkt,wkid:c.spatialReference.wkid}),void 0!==f&&(c._arcadeCacheId="SPREF"+f.toString()),c}switch(c.type){case "extent":switch(f){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return c=
c[f],void 0!==c?c:null;case "type":return"Extent"}break;case "polygon":switch(f){case "rings":return f=b.isVersion4?c.cache._arcadeCacheId:c.getCacheValue("_arcadeCacheId"),void 0===f&&(G++,f=G,b.isVersion4?c.cache._arcadeCacheId=f:c.setCacheValue("_arcadeCacheId",f)),c=new K(c.rings,c.spatialReference,!0===c.hasZ,!0===c.hasM,f);case "type":return"Polygon"}break;case "point":switch(f){case "x":case "y":case "z":case "m":return void 0!==c[f]?c[f]:null;case "type":return"Point"}break;case "polyline":switch(f){case "paths":return f=
b.isVersion4?c.cache._arcadeCacheId:c.getCacheValue("_arcadeCacheId"),void 0===f&&(G++,f=G,b.isVersion4?c.cache._arcadeCacheId=f:c.setCacheValue("_arcadeCacheId",f)),c=new K(c.paths,c.spatialReference,!0===c.hasZ,!0===c.hasM,f);case "type":return"Polyline"}break;case "multipoint":switch(f){case "points":return f=b.isVersion4?c.cache._arcadeCacheId:c.getCacheValue("_arcadeCacheId"),void 0===f&&(G++,f=G,b.isVersion4?c.cache._arcadeCacheId=f:c.setCacheValue("_arcadeCacheId",f)),c=new z(c.points,c.spatialReference,
!0===c.hasZ,!0===c.hasM,f,1);case "type":return"Multipoint"}}throw Error(g.nodeErrorMessage(k,"RUNTIME","PROPERTYNOTFOUND"));}function da(c,f){try{var d=O(c,f.object);if(null===d)throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTFOUND"));if(!1===f.computed){if(d instanceof a||d instanceof r)return d.field(f.property.name);if(d instanceof M)return T(d,f.property.name,c,f);throw Error(g.nodeErrorMessage(f,"RUNTIME","INVALIDTYPE"));}var k=O(c,f.property);if(d instanceof a||d instanceof r){if(b.isString(k))return d.field(k);
throw Error(g.nodeErrorMessage(f,"RUNTIME","INVALIDTYPE"));}if(d instanceof M){if(b.isString(k))return T(d,k,c,f);throw Error(g.nodeErrorMessage(f,"RUNTIME","INVALIDTYPE"));}if(b.isArray(d)){if(b.isNumber(k)&&isFinite(k)&&Math.floor(k)===k){if(0>k&&(k=d.length+k),k>=d.length||0>k)throw Error(g.nodeErrorMessage(f,"RUNTIME","OUTOFBOUNDS"));return d[k]}throw Error(g.nodeErrorMessage(f,"RUNTIME","INVALIDTYPE"));}if(b.isString(d)){if(b.isNumber(k)&&isFinite(k)&&Math.floor(k)===k){if(0>k&&(k=d.length+k),
k>=d.length||0>k)throw Error(g.nodeErrorMessage(f,"RUNTIME","OUTOFBOUNDS"));return d[k]}throw Error(g.nodeErrorMessage(f,"RUNTIME","INVALIDTYPE"));}if(b.isImmutableArray(d)&&b.isNumber(k)&&isFinite(k)&&Math.floor(k)===k){if(0>k&&(k=d.length()+k),k>=d.length()||0>k)throw Error(g.nodeErrorMessage(f,"RUNTIME","OUTOFBOUNDS"));return d.get(k)}throw Error(g.nodeErrorMessage(f,"RUNTIME","INVALIDTYPE"));}catch(Ka){throw Ka;}}function Z(c,f){try{var d=O(c,f.argument);if(b.isBoolean(d)){if("!"===f.operator)return!d;
if("-"===f.operator)return-1*b.toNumber(d);if("+"===f.operator)return 1*b.toNumber(d);throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===f.operator)return-1*b.toNumber(d);if("+"===f.operator)return 1*b.toNumber(d);throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(ua){throw ua;}}function fa(c,f){try{var d=[O(c,f.left),O(c,f.right)],k=d[0],t=d[1];switch(f.operator){case "\x3d\x3d":return b.equalityTest(k,t);case "\x3d":return b.equalityTest(k,
t);case "!\x3d":return!b.equalityTest(k,t);case "\x3c":return b.greaterThanLessThan(k,t,f.operator);case "\x3e":return b.greaterThanLessThan(k,t,f.operator);case "\x3c\x3d":return b.greaterThanLessThan(k,t,f.operator);case "\x3e\x3d":return b.greaterThanLessThan(k,t,f.operator);case "+":return b.isString(k)||b.isString(t)?b.toString(k)+b.toString(t):b.toNumber(k)+b.toNumber(t);case "-":return b.toNumber(k)-b.toNumber(t);case "*":return b.toNumber(k)*b.toNumber(t);case "/":return b.toNumber(k)/b.toNumber(t);
case "%":return b.toNumber(k)%b.toNumber(t);default:throw Error(g.nodeErrorMessage(f,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Aa){throw Aa;}}function P(c,f){try{if("AssignmentExpression"===f.left.type||"UpdateExpression"===f.left.type)throw Error(g.nodeErrorMessage(f.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===f.right.type||"UpdateExpression"===f.right.type)throw Error(g.nodeErrorMessage(f.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var d=O(c,f.left);
if(!b.isBoolean(d))throw Error(g.nodeErrorMessage(f,"RUNTIME","ONLYBOOLEAN"));switch(f.operator){case "||":if(!0===d)return d;var k=O(c,f.right);if(b.isBoolean(k))return k;throw Error(g.nodeErrorMessage(f,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===d)return d;k=O(c,f.right);if(b.isBoolean(k))return k;throw Error(g.nodeErrorMessage(f,"RUNTIME","ONLYORORAND"));default:throw Error(g.nodeErrorMessage(f,"RUNTIME","ONLYORORAND"));}}catch(Ka){throw Ka;}}function aa(c,f){var d;try{var k=f.name.toLowerCase();
if(null!==c.localScope&&void 0!==c.localScope[k])return d=c.localScope[k],!0===d.valueset?d.value:(d.value=O(c,d.node),d.valueset=!0,d.value);if(void 0!==c.globalScope[k])return d=c.globalScope[k],!0===d.valueset?d.value:(d.value=O(c,d.node),d.valueset=!0,d.value);throw Error(g.nodeErrorMessage(f,"RUNTIME","VARIABLENOTFOUND"));}catch(Ka){throw Ka;}}function n(c,f){try{if("Identifier"!==f.callee.type)throw Error(g.nodeErrorMessage(f,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==c.localScope&&void 0!==
c.localScope[f.callee.name.toLowerCase()]){var d=c.localScope[f.callee.name.toLowerCase()];if(d.value instanceof b.NativeFunction)return d.value.fn(c,f);if(d.value instanceof v)return k(c,f,d.value.definition);throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTAFUNCTION"));}if(void 0!==c.globalScope[f.callee.name.toLowerCase()]){d=c.globalScope[f.callee.name.toLowerCase()];if(d.value instanceof b.NativeFunction)return d.value.fn(c,f);if(d.value instanceof v)return k(c,f,d.value.definition);throw Error(g.nodeErrorMessage(f,
"RUNTIME","NOTAFUNCTION"));}throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTFOUND"));}catch(ua){throw ua;}}function U(c){return null==c?"":b.isArray(c)?"Array":b.isImmutableArray(c)?"Array":b.isDate(c)?"Date":b.isString(c)?"String":b.isBoolean(c)?"Boolean":b.isNumber(c)?"Number":c instanceof a?"Dictionary":c instanceof r?"Feature":c instanceof h?"Point":c instanceof u?"Polygon":c instanceof m?"Polyline":c instanceof q?"Multipoint":c instanceof e?"Extent":b.isFunctionParameter(c)?"Function":c===b.voidOperation?
"":"number"==typeof c&&isNaN(c)?"Number":"Unrecognised Type"}function C(c,f,d,k){try{var t=O(c,f.arguments[d]);if(b.equalityTest(t,k))return O(c,f.arguments[d+1]);var A=f.arguments.length-d;return 1===A?O(c,f.arguments[d]):2===A?null:3===A?O(c,f.arguments[d+2]):C(c,f,d+2,k)}catch(Ea){throw Ea;}}function d(c,f,k,t){try{if(!0===t)return O(c,f.arguments[k+1]);if(3===f.arguments.length-k)return O(c,f.arguments[k+2]);var A=O(c,f.arguments[k+2]);if(!1===b.isBoolean(A))throw Error("WHEN needs boolean test conditions");
return d(c,f,k+2,A)}catch(Aa){throw Aa;}}function c(f,d){var k=f.length,t=Math.floor(k/2);if(0===k)d=[];else if(1===k)d=[f[0]];else{var A=c(f.slice(0,t),d);f=c(f.slice(t,k),d);for(k=[];0<A.length||0<f.length;)0<A.length&&0<f.length?(t=d(A[0],f[0]),isNaN(t)&&(t=0),0>=t?(k.push(A[0]),A=A.slice(1)):(k.push(f[0]),f=f.slice(1))):0<A.length?(k.push(A[0]),A=A.slice(1)):0<f.length&&(k.push(f[0]),f=f.slice(1));d=k}return d}function f(c,f,d){try{var k=c.body;if(d.length!==c.params.length)throw Error("Invalid Parameter calls to function.");
for(var t=0;t<d.length;t++)f.localScope[c.params[t].name.toLowerCase()]={value:d[t],valueset:!0,node:null};var A=O(f,k);if(A instanceof b.ReturnResult)return A.value;if(A===b.breakResult)throw Error("Cannot Break from a Function");if(A===b.continueResult)throw Error("Cannot Continue from a Function");return A instanceof b.ImplicitResult?A.value:A}catch(Ea){throw Ea;}}function k(c,d,k){return Q(c,d,function(d,t,A){d={spatialReference:c.spatialReference,applicationCache:void 0===c.applicationCache?
null:c.applicationCache,globalScope:c.globalScope,depthCounter:c.depthCounter+1,console:c.console,localScope:{}};if(64<d.depthCounter)throw Error("Exceeded maximum function depth");return f(k,d,A)})}function t(c){return function(){var d={applicationCache:void 0===c.context.applicationCache?null:c.context.applicationCache,spatialReference:c.context.spatialReference,console:c.context.console,localScope:{},depthCounter:c.context.depthCounter+1,globalScope:c.context.globalScope};if(64<d.depthCounter)throw Error("Exceeded maximum function depth");
return f(c.definition,d,arguments)}}function A(c){console.log(c)}Object.defineProperty(p,"__esModule",{value:!0});var G=0,F={};w.registerFunctions(F,Q);x.registerFunctions(F,Q);D.registerFunctions(F,Q);E.registerFunctions(F,Q);J.registerFunctions(F,Q);B.registerFunctions(F,Q);F["typeof"]=function(c,f){return Q(c,f,function(c,f,d){b.pcCheck(d,1,1);c=U(d[0]);if("Unrecognised Type"===c)throw Error("Unrecognised Type");return c})};F.iif=function(c,f){try{b.pcCheck(null===f.arguments?[]:f.arguments,3,
3);var d=O(c,f.arguments[0]);if(!1===b.isBoolean(d))throw Error("IF Function must have a boolean test condition");return!0===d?O(c,f.arguments[1]):O(c,f.arguments[2])}catch(ua){throw ua;}};F.decode=function(c,f){try{if(2>f.arguments.length)throw Error("Missing Parameters");if(2===f.arguments.length)return O(c,f.arguments[1]);if(0===(f.arguments.length-1)%2)throw Error("Must have a default value result.");var d=O(c,f.arguments[0]);return C(c,f,1,d)}catch(ua){throw ua;}};F.when=function(c,f){try{if(3>
f.arguments.length)throw Error("Missing Parameters");if(0===f.arguments.length%2)throw Error("Must have a default value result.");var k=O(c,f.arguments[0]);if(!1===b.isBoolean(k))throw Error("WHEN needs boolean test conditions");return d(c,f,0,k)}catch(ua){throw ua;}};F.top=function(c,f){return Q(c,f,function(c,f,d){if(b.pcCheck(d,2,2),b.isArray(d[0]))return b.toNumber(d[1])>=d[0].length?d[0].slice(0):d[0].slice(0,b.toNumber(d[1]));if(b.isImmutableArray(d[0]))return b.toNumber(d[1])>=d[0].length()?
d[0].slice(0):d[0].slice(0,b.toNumber(d[1]));throw Error("Top cannot accept this parameter type");})};F.first=function(c,f){return Q(c,f,function(c,f,d){return b.pcCheck(d,1,1),b.isArray(d[0])?0===d[0].length?null:d[0][0]:b.isImmutableArray(d[0])?0===d[0].length()?null:d[0].get(0):null})};F.sort=function(f,d){return Q(f,d,function(f,d,k){b.pcCheck(k,1,2);f=k[0];if(b.isImmutableArray(f)&&(f=f.toArray()),!1===b.isArray(f))throw Error("Illegal Argument");if(1<k.length){if(!1===b.isFunctionParameter(k[1]))throw Error("Illegal Argument");
var A=t(k[1]);return f=c(f,function(c,f){return A(c,f)})}if(0===f.length)return[];k={};for(d=0;d<f.length;d++){var n=U(f[d]);""!==n&&(k[n]=!0)}if(!0===k.Array||!0===k.Dictionary||!0===k.Feature||!0===k.Point||!0===k.Polygon||!0===k.Polyline||!0===k.Multipoint||!0===k.Extent||!0===k.Function)return f.slice(0);d=0;var n="",G;for(G in k)d++,n=G;return f=1<d||"String"===n?c(f,function(c,f){if(null===c||void 0===c||c===b.voidOperation)return null===f||void 0===f||f===b.voidOperation?0:1;if(null===f||void 0===
f||f===b.voidOperation)return-1;c=b.toString(c);f=b.toString(f);return f>c?-1:c===f?0:1}):"Number"===n?c(f,function(c,f){return c-f}):"Boolean"===n?c(f,function(c,f){return c===f?0:f?-1:1}):"Date"===n?c(f,function(c,f){return f-c}):f.slice(0)})};for(var H in F)F[H]={value:new b.NativeFunction(F[H]),valueset:!0,node:null};var X=function(){};X.prototype=F;X.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};X.prototype.pi={value:Math.PI,valueset:!0,node:null};p.functionHelper=
{fixSpatialReference:b.fixSpatialReference,parseArguments:I,standardFunction:Q};p.extend=function(c){for(var f={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:Q,evaluateIdentifier:aa,arcadeCustomFunctionHandler:t},d=0;d<c.length;d++)c[d].registerFunctions(f);for(var k in f.functions)F[k]={value:new b.NativeFunction(f.functions[k]),valueset:!0,node:null},X.prototype[k]=F[k];for(d=0;d<f.signatures.length;d++)g.addFunctionDeclaration(f.signatures[d],"f")};p.executeScript=function(c,
f,d){d||(d=new l(102100));var k=f.vars,t=f.customfunctions,n=new X;k||(k={});t||(t={});var G=new a({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});G.immutable=!1;n.textformatting={value:G,valueset:!0,node:null};for(var F in t)n[F]={value:new b.NativeFunction(t[F]),"native":!0,valueset:!0,node:null};for(F in k)k[F]&&"esri.Graphic"===k[F].declaredClass?n[F]={value:new r(k[F]),valueset:!0,node:null}:n[F]={value:k[F],valueset:!0,node:null};c=O({spatialReference:d,
globalScope:n,localScope:null,console:f.console?f.console:A,depthCounter:1,applicationCache:void 0===f.applicationCache?null:f.applicationCache},c.body[0].body);if(c instanceof b.ReturnResult&&(c=c.value),c instanceof b.ImplicitResult&&(c=c.value),c===b.voidOperation&&(c=null),c===b.breakResult)throw Error("Cannot return BREAK");if(c===b.continueResult)throw Error("Cannot return CONTINUE");if(c instanceof v)throw Error("Cannot return FUNCTION");if(c instanceof b.NativeFunction)throw Error("Cannot return FUNCTION");
return c};p.extractFieldLiterals=function(c,f){return void 0===f&&(f=!1),g.findFieldLiterals(c,f)};p.validateScript=function(c,f){return g.validateScript(c,f,"simple")};p.referencesMember=function(c,f){return g.referencesMember(c,f)};p.referencesFunction=function(c,f){return g.referencesFunction(c,f)};p.findFunctionCalls=function(c){return g.findFunctionCalls(c,!1)}})},"esri/arcade/languageUtils":function(){define("require exports ../geometry/Geometry ../moment dojo/number ./ImmutableArray ../kernel ./ImmutablePointArray ./ImmutablePathArray dojo/_base/array ../geometry/Point ../geometry/Polyline ../geometry/Polygon ../geometry/Extent ../geometry/Multipoint ./FunctionWrapper".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D){function E(c,f,d){if(""===f||null===f||void 0===f||f===d||f===d)return c;do c=c.replace(f,d);while(-1!==c.indexOf(f));return c}function B(c){return c instanceof C||c instanceof D||c instanceof d}function J(c){return"string"==typeof c||c instanceof String}function K(c){return"boolean"==typeof c}function z(c){return"number"==typeof c}function M(c){return c instanceof Array}function I(c){return c instanceof Date}function Q(c,f){return!1===isNaN(c)?void 0===f||
null===f||""===f?c.toString():(f=E(f,"\u2030",""),f=E(f,"\u00a4",""),h.format(c,{pattern:f})):c.toString()}function O(c,f){c=m(c);return void 0===f||null===f||""===f?c.format():c.format(Y(f))}function Y(c){return c.replace(/(LTS)|L|l/g,function(c){return"["+c+"]"})}function N(c,f,d){switch(d){case "\x3e":return c>f;case "\x3c":return f>c;case "\x3e\x3d":return c>=f;case "\x3c\x3d":return f>=c}return!1}function T(c,f){if(c===f||null===c&&f===p.voidOperation||null===f&&c===p.voidOperation)return!0;
if(I(c)&&I(f))return c.getTime()===f.getTime();if(c instanceof b||c instanceof l)return c.equalityTest(f);if(c instanceof a&&f instanceof a){var d=void 0,t=void 0;if(p.isVersion4?(d=c.cache._arcadeCacheId,t=f.cache._arcadeCacheId):(d=c.getCacheValue("_arcadeCacheId"),t=f.getCacheValue("_arcadeCacheId")),void 0!==d&&null!==d)return d===t}return void 0!==c&&void 0!==f&&null!==c&&null!==f&&"object"==typeof c&&"object"==typeof f&&(c._arcadeCacheId===f._arcadeCacheId&&void 0!==c._arcadeCacheId&&null!==
c._arcadeCacheId||c._underlyingGraphic===f._underlyingGraphic&&void 0!==c._underlyingGraphic&&null!==c._underlyingGraphic)?!0:!1}function da(c,f){if(J(c))return c;if(null===c)return"";if(z(c))return Q(c,f);if(K(c))return c.toString();if(I(c))return O(c,f);if(c instanceof u)return JSON.stringify(c.toJSON());if(M(c)){f=[];for(var d=0;d<c.length;d++)f[d]=fa(c[d]);return"["+f.join(",")+"]"}if(c instanceof e){f=[];for(d=0;d<c.length();d++)f[d]=fa(c.get(d));return"["+f.join(",")+"]"}return null!==c&&"object"==
typeof c&&void 0!==c.castToText?c.castToText():B(c)?"object, Function":(c===p.voidOperation,"")}function Z(c,f){if(J(c))return c;if(null===c)return"";if(z(c))return Q(c,f);if(K(c))return c.toString();if(I(c))return O(c,f);if(c instanceof u)return c instanceof w?'{"xmin":'+c.xmin.toString()+',"ymin":'+c.ymin.toString()+","+(c.hasZ?'"zmin":'+c.zmin.toString()+",":"")+(c.hasM?'"mmin":'+c.mmin.toString()+",":"")+'"xmax":'+c.xmax.toString()+',"ymax":'+c.ymax.toString()+","+(c.hasZ?'"zmax":'+c.zmax.toString()+
",":"")+(c.hasM?'"mmax":'+c.mmax.toString()+",":"")+'"spatialReference":'+n(c.spatialReference)+"}":n(c.toJSON(),function(c,f){return c.key===f.key?0:"spatialReference"===c.key?1:"spatialReference"===f.key?-1:c.key<f.key?-1:c.key>f.key?1:0});if(M(c)){f=[];for(var d=0;d<c.length;d++)f[d]=fa(c[d]);return"["+f.join(",")+"]"}if(c instanceof e){f=[];for(d=0;d<c.length();d++)f[d]=fa(c.get(d));return"["+f.join(",")+"]"}return null!==c&&"object"==typeof c&&void 0!==c.castToText?c.castToText():B(c)?"object, Function":
(c===p.voidOperation,"")}function fa(c){return null===c?"null":K(c)||z(c)||J(c)?JSON.stringify(c):c instanceof u||c instanceof e||c instanceof Array?Z(c):c instanceof Date?JSON.stringify(O(c,"")):null!==c&&"object"==typeof c&&void 0!==c.castToText?c.castToText():"null"}function P(c,f){return z(c)?c:null===c?0:""===c?0:I(c)?NaN:K(c)?c?1:0:M(c)?NaN:""===c?NaN:void 0===c?NaN:void 0!==f&&J(c)?(f=E(f,"\u2030",""),f=E(f,"\u00a4",""),h.parse(c,{pattern:f})):c===p.voidOperation?0:Number(c)}function aa(c,
f){var d;return g.some(f.fields,function(f){return f.name===c&&(d=f.domain),!!d}),d}function n(c,f){f||(f={});"function"==typeof f&&(f={cmp:f});var d="boolean"==typeof f.cycles?f.cycles:!1,t=f.cmp&&function(c){return function(f){return function(d,k){return c({key:d,value:f[d]},{key:k,value:f[k]})}}}(f.cmp),A=[];return function F(c){if(c&&c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),void 0!==c){if("number"==typeof c)return isFinite(c)?""+c:"null";if("object"!=typeof c)return JSON.stringify(c);
var f,k;if(Array.isArray(c)){k="[";for(f=0;f<c.length;f++)f&&(k+=","),k+=F(c[f])||"null";return k+"]"}if(null===c)return"null";if(-1!==A.indexOf(c)){if(d)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var n=A.push(c)-1,H=Object.keys(c).sort(t&&t(c));k="";for(f=0;f<H.length;f++){var a=H[f],b=F(c[a]);b&&(k&&(k+=","),k+=JSON.stringify(a)+":"+b)}return A.splice(n,1),"{"+k+"}"}}(c)}Object.defineProperty(p,"__esModule",{value:!0});y=function(){return function(c){this.value=
c}}();var U=function(){return function(c){this.value=c}}(),C=function(){return function(c){this.fn=c}}(),d=function(){return function(c){this.fn=c}}();p.NativeFunction=C;p.ImplicitResult=U;p.ReturnResult=y;p.SizzleFunction=d;p.isVersion4=0===q.version.indexOf("4.");p.voidOperation={type:"VOID"};p.breakResult={type:"BREAK"};p.continueResult={type:"CONTINUE"};p.multiReplace=E;p.isFunctionParameter=B;p.isSimpleType=function(c){return J(c)?!0:z(c)?!0:I(c)?!0:K(c)?!0:null===c?!0:c===p.voidOperation?!0:
"number"==typeof c?!0:!1};p.defaultUndefined=function(c,f){return void 0===c?f:c};p.isString=J;p.isBoolean=K;p.isNumber=z;p.isArray=M;p.isFeatureCursor=function(c){return c&&void 0!==c.isFeatureCursor};p.isImmutableArray=function(c){return c instanceof e};p.isDate=I;p.pcCheck=function(c,f,d){if(c.length<f||c.length>d)throw Error("Function called with wrong number of Parameters");};p.generateUUID=function(){var c=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var d=
(c+16*Math.random())%16|0;return c=Math.floor(c/16),("x"===f?d:3&d|8).toString(16)})};p.formatNumber=Q;p.formatDate=O;p.standardiseDateFormat=Y;p.greaterThanLessThan=function(c,f,d){if(null===c){if(null===f||f===p.voidOperation)return N(null,null,d);if(z(f))return N(0,f,d);if(J(f)||K(f))return N(0,P(f),d);if(I(f))return N(0,f.getTime(),d)}if(c===p.voidOperation){if(null===f||f===p.voidOperation)return N(null,null,d);if(z(f))return N(0,f,d);if(J(f)||K(f))return N(0,P(f),d);if(I(f))return N(0,f.getTime(),
d)}else if(z(c)){if(z(f))return N(c,f,d);if(K(f))return N(c,P(f),d);if(null===f||f===p.voidOperation)return N(c,0,d);if(J(f))return N(c,P(f),d);if(I(f))return N(c,f.getTime(),d)}else if(J(c)){if(J(f))return N(da(c),da(f),d);if(I(f))return N(P(c),f.getTime(),d);if(z(f))return N(P(c),f,d);if(null===f||f===p.voidOperation)return N(P(c),0,d);if(K(f))return N(P(c),P(f),d)}else if(I(c)){if(I(f))return N(c,f,d);if(null===f||f===p.voidOperation)return N(c.getTime(),0,d);if(z(f))return N(c.getTime(),f,d);
if(K(f)||J(f))return N(c.getTime(),P(f),d)}else if(K(c)){if(K(f))return N(c,f,d);if(z(f))return N(P(c),P(f),d);if(I(f))return N(P(c),f.getTime(),d);if(null===f||f===p.voidOperation)return N(P(c),0,d);if(J(f))return N(P(c),P(f),d)}return!T(c,f)||"\x3c\x3d"!==d&&"\x3e\x3d"!==d?!1:!0};p.equalityTest=T;p.toString=da;p.toNumberArray=function(c){var f=[];if(!1===M(c))return null;if(c instanceof e){for(var d=0;d<c.length();d++)f[d]=P(c.get(d));return f}for(d=0;d<c.length;d++)f[d]=P(c[d]);return f};p.toStringExplicit=
Z;p.toNumber=P;p.toDate=function(c,f){return I(c)?c:J(c)&&(c=m(c,[void 0===f||null===f||""===f?m.ISO_8601:f]),c.isValid())?c.toDate():null};p.toDateM=function(c,f){return I(c)?m(c):J(c)&&(c=m(c,[void 0===f||null===f||""===f?m.ISO_8601:f]),c.isValid())?c:null};p.toBoolean=function(c){return K(c)?c:J(c)?(c=c.toLowerCase(),"true"===c?!0:!1):z(c)?0===c?!1:isNaN(c)?!1:!0:!1};p.fixSpatialReference=function(c,f){return null===c||void 0===c?null:((null===c.spatialReference||void 0===c.spatialReference)&&
(c.spatialReference=f),c)};p.fixNullGeometry=function(c){return null===c?null:c instanceof a?"NaN"===c.x||null===c.x||isNaN(c.x)?null:c:c instanceof v?0===c.rings.length?null:c:c instanceof r?0===c.paths.length?null:c:c instanceof x?0===c.points.length?null:c:c instanceof w?"NaN"===c.xmin||null===c.xmin||isNaN(c.xmin)?null:c:null};p.getDomainValue=function(c,f){if(!c||!c.domain)return null;var d=null;f="string"===c.field.type||"esriFieldTypeString"===c.field.type?da(f):P(f);for(var t=0;t<c.domain.codedValues.length;t++){var A=
c.domain.codedValues[t];A.code===f&&(d=A)}return null===d?null:d.name};p.getDomainCode=function(c,f){if(!c||!c.domain)return null;var d=null;f=da(f);for(var t=0;t<c.domain.codedValues.length;t++){var A=c.domain.codedValues[t];A.name===f&&(d=A)}return null===d?null:d.code};p.getDomain=function(c,f,d,t){if((void 0===d&&(d=null),!f)||!f.fields)return null;for(var k=null,n=0;n<f.fields.length;n++){var F=f.fields[n];F.name.toLowerCase()===c.toString().toLowerCase()&&(k=F)}if(null===k)return null;var H,
a;return t||(t=d&&f.typeIdField&&d._field(f.typeIdField)),null!=t&&g.some(f.types,function(c){return c.id===t?(H=c.domains&&c.domains[k.name],H&&"inherited"===H.type&&(H=aa(k.name,f),a=!0),!0):!1}),a||H||(H=aa(c,f)),{field:k,domain:H}};p.stableStringify=n})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(y,p,u){return u})},"esri/plugins/moment":function(){define(["require","exports","dojo/_base/kernel","moment/moment"],function(y,p,u,m){Object.defineProperty(p,
"__esModule",{value:!0});var h={ar:1,"ar-dz":1,"ar-kw":1,"ar-ly":1,"ar-ma":1,"ar-sa":1,"ar-tn":1,bs:1,cs:1,da:1,de:1,"de-at":1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,"en-ie":1,"en-nz":1,es:1,"es-do":1,"es-us":1,et:1,fi:1,fr:1,"fr-ca":1,"fr-ch":1,he:1,hi:1,hr:1,id:1,it:1,ja:1,ko:1,lt:1,lv:1,nb:1,nl:1,"nl-be":1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,sl:1,sr:1,"sr-cyrl":1,sv:1,th:1,tr:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1};p.load=function(e,q,l){e=u.locale;var b=e in h;if(!b){var g=e.split("-");1<g.length&&
g[0]in h&&(e=g[0],b=!0)}b?q(["moment/locale/"+e],function(){l(m)}):l(m)}})},"moment/moment":function(){(function(y,p){"object"===typeof exports&&"undefined"!==typeof module?module.exports=p():"function"===typeof define&&define.amd?define(p):y.moment=p()})(this,function(){function y(){return Lb.apply(null,arguments)}function p(c){return c instanceof Array||"[object Array]"===Object.prototype.toString.call(c)}function u(c){return null!=c&&"[object Object]"===Object.prototype.toString.call(c)}function m(c){if(Object.getOwnPropertyNames)return 0===
Object.getOwnPropertyNames(c).length;for(var f in c)if(c.hasOwnProperty(f))return!1;return!0}function h(c){return void 0===c}function e(c){return"number"===typeof c||"[object Number]"===Object.prototype.toString.call(c)}function q(c){return c instanceof Date||"[object Date]"===Object.prototype.toString.call(c)}function l(c,f){var d=[],k;for(k=0;k<c.length;++k)d.push(f(c[k],k));return d}function b(c,f){return Object.prototype.hasOwnProperty.call(c,f)}function g(c,f){for(var d in f)b(f,d)&&(c[d]=f[d]);
b(f,"toString")&&(c.toString=f.toString);b(f,"valueOf")&&(c.valueOf=f.valueOf);return c}function a(c,f,d,k){return eb(c,f,d,k,!0).utc()}function r(c){null==c._pf&&(c._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1});return c._pf}function v(c){if(null==c._isValid){var f=r(c),d=Mb.call(f.parsedDateParts,function(c){return null!=c}),d=!isNaN(c._d.getTime())&&
0>f.overflow&&!f.empty&&!f.invalidMonth&&!f.invalidWeekday&&!f.weekdayMismatch&&!f.nullInput&&!f.invalidFormat&&!f.userInvalidated&&(!f.meridiem||f.meridiem&&d);c._strict&&(d=d&&0===f.charsLeftOver&&0===f.unusedTokens.length&&void 0===f.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(c))return d;c._isValid=d}return c._isValid}function w(c){var f=a(NaN);null!=c?g(r(f),c):r(f).userInvalidated=!0;return f}function x(c,f){var d,k,t;h(f._isAMomentObject)||(c._isAMomentObject=f._isAMomentObject);h(f._i)||
(c._i=f._i);h(f._f)||(c._f=f._f);h(f._l)||(c._l=f._l);h(f._strict)||(c._strict=f._strict);h(f._tzm)||(c._tzm=f._tzm);h(f._isUTC)||(c._isUTC=f._isUTC);h(f._offset)||(c._offset=f._offset);h(f._pf)||(c._pf=r(f));h(f._locale)||(c._locale=f._locale);if(0<Ab.length)for(d=0;d<Ab.length;d++)k=Ab[d],t=f[k],h(t)||(c[k]=t);return c}function D(c){x(this,c);this._d=new Date(null!=c._d?c._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Bb&&(Bb=!0,y.updateOffset(this),Bb=!1)}function E(c){return c instanceof
D||null!=c&&null!=c._isAMomentObject}function B(c){return 0>c?Math.ceil(c)||0:Math.floor(c)}function J(c){c=+c;var f=0;0!==c&&isFinite(c)&&(f=B(c));return f}function K(c,f,d){var k=Math.min(c.length,f.length),t=Math.abs(c.length-f.length),A=0,n;for(n=0;n<k;n++)(d&&c[n]!==f[n]||!d&&J(c[n])!==J(f[n]))&&A++;return A+t}function z(c){!1===y.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+c)}function M(c,f){var d=!0;return g(function(){null!=
y.deprecationHandler&&y.deprecationHandler(null,c);if(d){for(var k=[],t,A=0;A<arguments.length;A++){t="";if("object"===typeof arguments[A]){t+="\n["+A+"] ";for(var n in arguments[0])t+=n+": "+arguments[0][n]+", ";t=t.slice(0,-2)}else t=arguments[A];k.push(t)}z(c+"\nArguments: "+Array.prototype.slice.call(k).join("")+"\n"+Error().stack);d=!1}return f.apply(this,arguments)},f)}function I(c,f){null!=y.deprecationHandler&&y.deprecationHandler(c,f);Nb[c]||(z(f),Nb[c]=!0)}function Q(c){return c instanceof
Function||"[object Function]"===Object.prototype.toString.call(c)}function O(c,f){var d=g({},c),k;for(k in f)b(f,k)&&(u(c[k])&&u(f[k])?(d[k]={},g(d[k],c[k]),g(d[k],f[k])):null!=f[k]?d[k]=f[k]:delete d[k]);for(k in c)b(c,k)&&!b(f,k)&&u(c[k])&&(d[k]=g({},d[k]));return d}function Y(c){null!=c&&this.set(c)}function N(c,f){var d=c.toLowerCase();lb[d]=lb[d+"s"]=lb[f]=c}function T(c){return"string"===typeof c?lb[c]||lb[c.toLowerCase()]:void 0}function da(c){var f={},d,k;for(k in c)b(c,k)&&(d=T(k))&&(f[d]=
c[k]);return f}function Z(c){var f=[],d;for(d in c)f.push({unit:d,priority:va[d]});f.sort(function(c,f){return c.priority-f.priority});return f}function fa(c,f,d){var k=""+Math.abs(c);return(0<=c?d?"+":"":"-")+Math.pow(10,Math.max(0,f-k.length)).toString().substr(1)+k}function P(c,f,d,k){var t=k;"string"===typeof k&&(t=function(){return this[k]()});c&&(fb[c]=t);f&&(fb[f[0]]=function(){return fa(t.apply(this,arguments),f[1],f[2])});d&&(fb[d]=function(){return this.localeData().ordinal(t.apply(this,
arguments),c)})}function aa(c){return c.match(/\[[\s\S]/)?c.replace(/^\[|\]$/g,""):c.replace(/\\/g,"")}function n(c){var f=c.match(Ob),d,k;d=0;for(k=f.length;d<k;d++)f[d]=fb[f[d]]?fb[f[d]]:aa(f[d]);return function(d){var t="",A;for(A=0;A<k;A++)t+=Q(f[A])?f[A].call(d,c):f[A];return t}}function U(c,f){if(!c.isValid())return c.localeData().invalidDate();f=C(f,c.localeData());Cb[f]=Cb[f]||n(f);return Cb[f](c)}function C(c,f){function d(c){return f.longDateFormat(c)||c}var k=5;for(qb.lastIndex=0;0<=k&&
qb.test(c);)c=c.replace(qb,d),qb.lastIndex=0,--k;return c}function d(c,f,d){Db[c]=Q(f)?f:function(c,k){return c&&d?d:f}}function c(c,d){return b(Db,c)?Db[c](d._strict,d._locale):new RegExp(f(c))}function f(c){return k(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(c,f,d,k,t){return f||d||k||t}))}function k(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function t(c,f){var d,k=f;"string"===typeof c&&(c=[c]);e(f)&&(k=function(c,d){d[f]=J(c)});for(d=0;d<c.length;d++)Eb[c[d]]=
k}function A(c,f){t(c,function(c,d,k,t){k._w=k._w||{};f(c,k._w,k,t)})}function G(c){return 0===c%4&&0!==c%100||0===c%400}function F(c,f){return function(d){return null!=d?(X(this,c,d),y.updateOffset(this,f),this):H(this,c)}}function H(c,f){return c.isValid()?c._d["get"+(c._isUTC?"UTC":"")+f]():NaN}function X(c,f,d){if(c.isValid()&&!isNaN(d))if("FullYear"===f&&G(c.year())&&1===c.month()&&29===c.date())c._d["set"+(c._isUTC?"UTC":"")+f](d,c.month(),ca(d,c.month()));else c._d["set"+(c._isUTC?"UTC":"")+
f](d)}function ca(c,f){if(isNaN(c)||isNaN(f))return NaN;var d=(f%12+12)%12;return 1===d?G(c+(f-d)/12)?29:28:31-d%7%2}function la(c,f){var d;if(!c.isValid())return c;if("string"===typeof f)if(/^\d+$/.test(f))f=J(f);else if(f=c.localeData().monthsParse(f),!e(f))return c;d=Math.min(c.date(),ca(c.year(),f));c._d["set"+(c._isUTC?"UTC":"")+"Month"](f,d);return c}function Oa(c){return null!=c?(la(this,c),y.updateOffset(this,!0),this):H(this,"Month")}function ua(){function c(c,f){return f.length-c.length}
var f=[],d=[],t=[],A,n;for(A=0;12>A;A++)n=a([2E3,A]),f.push(this.monthsShort(n,"")),d.push(this.months(n,"")),t.push(this.months(n,"")),t.push(this.monthsShort(n,""));f.sort(c);d.sort(c);t.sort(c);for(A=0;12>A;A++)f[A]=k(f[A]),d[A]=k(d[A]);for(A=0;24>A;A++)t[A]=k(t[A]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+f.join("|")+")","i")}function Ka(c,f,d,k,t,A,n){f=
new Date(c,f,d,k,t,A,n);100>c&&0<=c&&isFinite(f.getFullYear())&&f.setFullYear(c);return f}function Aa(c){var f=new Date(Date.UTC.apply(null,arguments));100>c&&0<=c&&isFinite(f.getUTCFullYear())&&f.setUTCFullYear(c);return f}function Ea(c,f,d){d=7+f-d;return-((7+Aa(c,0,d).getUTCDay()-f)%7)+d-1}function Pa(c,f,d,k,t){d=(7+d-k)%7;k=Ea(c,k,t);k=1+7*(f-1)+d+k;0>=k?(f=c-1,c=(G(f)?366:365)+k):k>(G(c)?366:365)?(f=c+1,c=k-(G(c)?366:365)):(f=c,c=k);return{year:f,dayOfYear:c}}function Ua(c,f,d){var k=Ea(c.year(),
f,d),k=Math.floor((c.dayOfYear()-k-1)/7)+1;1>k?(c=c.year()-1,f=k+Ca(c,f,d)):k>Ca(c.year(),f,d)?(f=k-Ca(c.year(),f,d),c=c.year()+1):(c=c.year(),f=k);return{week:f,year:c}}function Ca(c,f,d){var k=Ea(c,f,d);f=Ea(c+1,f,d);return((G(c)?366:365)-k+f)/7}function ya(c,f,d){var k,t;c=c.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],k=0;7>k;++k)t=a([2E3,1]).day(k),this._minWeekdaysParse[k]=this.weekdaysMin(t,"").toLocaleLowerCase(),
this._shortWeekdaysParse[k]=this.weekdaysShort(t,"").toLocaleLowerCase(),this._weekdaysParse[k]=this.weekdays(t,"").toLocaleLowerCase();if(d)f="dddd"===f?qa.call(this._weekdaysParse,c):"ddd"===f?qa.call(this._shortWeekdaysParse,c):qa.call(this._minWeekdaysParse,c);else if("dddd"===f){f=qa.call(this._weekdaysParse,c);if(-1!==f)return f;f=qa.call(this._shortWeekdaysParse,c);if(-1!==f)return f;f=qa.call(this._minWeekdaysParse,c)}else if("ddd"===f){f=qa.call(this._shortWeekdaysParse,c);if(-1!==f)return f;
f=qa.call(this._weekdaysParse,c);if(-1!==f)return f;f=qa.call(this._minWeekdaysParse,c)}else{f=qa.call(this._minWeekdaysParse,c);if(-1!==f)return f;f=qa.call(this._weekdaysParse,c);if(-1!==f)return f;f=qa.call(this._shortWeekdaysParse,c)}return-1!==f?f:null}function wa(){function c(c,f){return f.length-c.length}var f=[],d=[],t=[],A=[],n,G,F,H;for(n=0;7>n;n++)G=a([2E3,1]).day(n),F=this.weekdaysMin(G,""),H=this.weekdaysShort(G,""),G=this.weekdays(G,""),f.push(F),d.push(H),t.push(G),A.push(F),A.push(H),
A.push(G);f.sort(c);d.sort(c);t.sort(c);A.sort(c);for(n=0;7>n;n++)d[n]=k(d[n]),t[n]=k(t[n]),A[n]=k(A[n]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+A.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+f.join("|")+")","i")}function Fa(){return this.hours()%12||12}function pb(c,f){P(c,0,0,function(){return this.localeData().meridiem(this.hours(),
this.minutes(),f)})}function jb(c,f){return f._meridiemParse}function Qa(c){return c?c.toLowerCase().replace("_","-"):c}function Va(c){var f=null;if(!ra[c]&&"undefined"!==typeof module&&module&&module.exports)try{f=rb._abbr,require("./locale/"+c),La(f)}catch(Wc){}return ra[c]}function La(c,f){c&&(c=h(f)?Da(c):kb(c,f))&&(rb=c);return rb._abbr}function kb(c,f){if(null!==f){var d=Pb;f.abbr=c;if(null!=ra[c])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
d=ra[c]._config;else if(null!=f.parentLocale)if(null!=ra[f.parentLocale])d=ra[f.parentLocale]._config;else return mb[f.parentLocale]||(mb[f.parentLocale]=[]),mb[f.parentLocale].push({name:c,config:f}),null;ra[c]=new Y(O(d,f));mb[c]&&mb[c].forEach(function(c){kb(c.name,c.config)});La(c);return ra[c]}delete ra[c];return null}function Da(c){var f;c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr);if(!c)return rb;if(!p(c)){if(f=Va(c))return f;c=[c]}a:{f=0;for(var d,k,t,A;f<c.length;){A=Qa(c[f]).split("-");
d=A.length;for(k=(k=Qa(c[f+1]))?k.split("-"):null;0<d;){if(t=Va(A.slice(0,d).join("-"))){c=t;break a}if(k&&k.length>=d&&K(A,k,!0)>=d-1)break;d--}f++}c=null}return c}function db(c){var f;(f=c._a)&&-2===r(c).overflow&&(f=0>f[Ra]||11<f[Ra]?Ra:1>f[Ma]||f[Ma]>ca(f[Ga],f[Ra])?Ma:0>f[sa]||24<f[sa]||24===f[sa]&&(0!==f[Ha]||0!==f[Sa]||0!==f[$a])?sa:0>f[Ha]||59<f[Ha]?Ha:0>f[Sa]||59<f[Sa]?Sa:0>f[$a]||999<f[$a]?$a:-1,r(c)._overflowDayOfYear&&(f<Ga||f>Ma)&&(f=Ma),r(c)._overflowWeeks&&-1===f&&(f=kc),r(c)._overflowWeekday&&
-1===f&&(f=lc),r(c).overflow=f);return c}function xa(c,f,d){return null!=c?c:null!=f?f:d}function gb(c){var f,d=[],k;if(!c._d){k=new Date(y.now());k=c._useUTC?[k.getUTCFullYear(),k.getUTCMonth(),k.getUTCDate()]:[k.getFullYear(),k.getMonth(),k.getDate()];if(c._w&&null==c._a[Ma]&&null==c._a[Ra]){var t,A,n,F,H,a;t=c._w;if(null!=t.GG||null!=t.W||null!=t.E){if(H=1,a=4,A=xa(t.GG,c._a[Ga],Ua(R(),1,4).year),n=xa(t.W,1),F=xa(t.E,1),1>F||7<F)f=!0}else if(H=c._locale._week.dow,a=c._locale._week.doy,n=Ua(R(),
H,a),A=xa(t.gg,c._a[Ga],n.year),n=xa(t.w,n.week),null!=t.d){if(F=t.d,0>F||6<F)f=!0}else if(null!=t.e){if(F=t.e+H,0>t.e||6<t.e)f=!0}else F=H;1>n||n>Ca(A,H,a)?r(c)._overflowWeeks=!0:null!=f?r(c)._overflowWeekday=!0:(f=Pa(A,n,F,H,a),c._a[Ga]=f.year,c._dayOfYear=f.dayOfYear)}if(null!=c._dayOfYear){f=xa(c._a[Ga],k[Ga]);if(c._dayOfYear>(G(f)?366:365)||0===c._dayOfYear)r(c)._overflowDayOfYear=!0;f=Aa(f,0,c._dayOfYear);c._a[Ra]=f.getUTCMonth();c._a[Ma]=f.getUTCDate()}for(f=0;3>f&&null==c._a[f];++f)c._a[f]=
d[f]=k[f];for(;7>f;f++)c._a[f]=d[f]=null==c._a[f]?2===f?1:0:c._a[f];24===c._a[sa]&&0===c._a[Ha]&&0===c._a[Sa]&&0===c._a[$a]&&(c._nextDay=!0,c._a[sa]=0);c._d=(c._useUTC?Aa:Ka).apply(null,d);null!=c._tzm&&c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm);c._nextDay&&(c._a[sa]=24);c._w&&"undefined"!==typeof c._w.d&&c._w.d!==c._d.getDay()&&(r(c).weekdayMismatch=!0)}}function W(c){var f,d;f=c._i;var k=mc.exec(f)||nc.exec(f),t,A,n,G;if(k){r(c).iso=!0;f=0;for(d=sb.length;f<d;f++)if(sb[f][1].exec(k[1])){A=
sb[f][0];t=!1!==sb[f][2];break}if(null==A)c._isValid=!1;else{if(k[3]){f=0;for(d=Fb.length;f<d;f++)if(Fb[f][1].exec(k[3])){n=(k[2]||" ")+Fb[f][0];break}if(null==n){c._isValid=!1;return}}if(t||null==n){if(k[4])if(oc.exec(k[4]))G="Z";else{c._isValid=!1;return}c._f=A+(n||"")+(G||"");ha(c)}else c._isValid=!1}}else c._isValid=!1}function za(c){var f=pc.exec(c._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(f){var d=f[3],k=f[2],t=f[5],A=f[6],n=f[7],G=parseInt(f[4],10),d=[49>=G?2E3+
G:999>=G?1900+G:G,Qb.indexOf(d),parseInt(k,10),parseInt(t,10),parseInt(A,10)];n&&d.push(parseInt(n,10));a:{if(n=f[1])if(n=Rb.indexOf(n),k=(new Date(d[0],d[1],d[2])).getDay(),n!==k){r(c).weekdayMismatch=!0;n=c._isValid=!1;break a}n=!0}n&&(c._a=d,(n=f[8])?f=qc[n]:f[9]?f=0:(f=parseInt(f[10],10),n=f%100,f=(f-n)/100*60+n),c._tzm=f,c._d=Aa.apply(null,c._a),c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),r(c).rfc2822=!0)}else c._isValid=!1}function ta(c){var f=rc.exec(c._i);null!==f?c._d=new Date(+f[1]):
(W(c),!1===c._isValid&&(delete c._isValid,za(c),!1===c._isValid&&(delete c._isValid,y.createFromInputFallback(c))))}function ha(f){if(f._f===y.ISO_8601)W(f);else if(f._f===y.RFC_2822)za(f);else{f._a=[];r(f).empty=!0;var d=""+f._i,k,t,A,n,G,F=d.length,H=0;A=C(f._f,f._locale).match(Ob)||[];for(k=0;k<A.length;k++){n=A[k];if(t=(d.match(c(n,f))||[])[0])G=d.substr(0,d.indexOf(t)),0<G.length&&r(f).unusedInput.push(G),d=d.slice(d.indexOf(t)+t.length),H+=t.length;if(fb[n]){if(t?r(f).empty=!1:r(f).unusedTokens.push(n),
G=f,null!=t&&b(Eb,n))Eb[n](t,G._a,G,n)}else f._strict&&!t&&r(f).unusedTokens.push(n)}r(f).charsLeftOver=F-H;0<d.length&&r(f).unusedInput.push(d);12>=f._a[sa]&&!0===r(f).bigHour&&0<f._a[sa]&&(r(f).bigHour=void 0);r(f).parsedDateParts=f._a.slice(0);r(f).meridiem=f._meridiem;d=f._a;k=sa;F=f._locale;A=f._a[sa];H=f._meridiem;null!=H&&(null!=F.meridiemHour?A=F.meridiemHour(A,H):null!=F.isPM&&((F=F.isPM(H))&&12>A&&(A+=12),F||12!==A||(A=0)));d[k]=A;gb(f);db(f)}}function Wa(c){if(!c._d){var f=da(c._i);c._a=
l([f.year,f.month,f.day||f.date,f.hour,f.minute,f.second,f.millisecond],function(c){return c&&parseInt(c,10)});gb(c)}}function Ia(c){var f=c._i,d=c._f;c._locale=c._locale||Da(c._l);if(null===f||void 0===d&&""===f)return w({nullInput:!0});"string"===typeof f&&(c._i=f=c._locale.preparse(f));if(E(f))return new D(db(f));if(q(f))c._d=f;else if(p(d)){var k,t,A;if(0===c._f.length)r(c).invalidFormat=!0,c._d=new Date(NaN);else{for(f=0;f<c._f.length;f++)if(d=0,k=x({},c),null!=c._useUTC&&(k._useUTC=c._useUTC),
k._f=c._f[f],ha(k),v(k)&&(d+=r(k).charsLeftOver,d+=10*r(k).unusedTokens.length,r(k).score=d,null==A||d<A))A=d,t=k;g(c,t||k)}}else d?ha(c):ja(c);v(c)||(c._d=null);return c}function ja(c){var f=c._i;h(f)?c._d=new Date(y.now()):q(f)?c._d=new Date(f.valueOf()):"string"===typeof f?ta(c):p(f)?(c._a=l(f.slice(0),function(c){return parseInt(c,10)}),gb(c)):u(f)?Wa(c):e(f)?c._d=new Date(f):y.createFromInputFallback(c)}function eb(c,f,d,k,t){var A={};if(!0===d||!1===d)k=d,d=void 0;if(u(c)&&m(c)||p(c)&&0===c.length)c=
void 0;A._isAMomentObject=!0;A._useUTC=A._isUTC=t;A._l=d;A._i=c;A._f=f;A._strict=k;c=new D(db(Ia(A)));c._nextDay&&(c.add(1,"d"),c._nextDay=void 0);return c}function R(c,f,d,k){return eb(c,f,d,k,!1)}function na(c,f){var d,k;1===f.length&&p(f[0])&&(f=f[0]);if(!f.length)return R();d=f[0];for(k=1;k<f.length;++k)if(!f[k].isValid()||f[k][c](d))d=f[k];return d}function L(c){for(var f in c)if(-1===qa.call(nb,f)||null!=c[f]&&isNaN(c[f]))return!1;f=!1;for(var d=0;d<nb.length;++d)if(c[nb[d]]){if(f)return!1;
parseFloat(c[nb[d]])!==J(c[nb[d]])&&(f=!0)}return!0}function ga(c){c=da(c);var f=c.year||0,d=c.quarter||0,k=c.month||0,t=c.week||0,A=c.day||0,n=c.hour||0,G=c.minute||0,F=c.second||0,H=c.millisecond||0;this._isValid=L(c);this._milliseconds=+H+1E3*F+6E4*G+36E5*n;this._days=+A+7*t;this._months=+k+3*d+12*f;this._data={};this._locale=Da();this._bubble()}function ia(c){return c instanceof ga}function ka(c){return 0>c?-1*Math.round(-1*c):Math.round(c)}function ba(c,f){P(c,0,0,function(){var c=this.utcOffset(),
d="+";0>c&&(c=-c,d="-");return d+fa(~~(c/60),2)+f+fa(~~c%60,2)})}function ea(c,f){c=(f||"").match(c);if(null===c)return null;c=((c[c.length-1]||[])+"").match(sc)||["-",0,0];f=+(60*c[1])+J(c[2]);return 0===f?0:"+"===c[0]?f:-f}function S(c,f){return f._isUTC?(f=f.clone(),c=(E(c)||q(c)?c.valueOf():R(c).valueOf())-f.valueOf(),f._d.setTime(f._d.valueOf()+c),y.updateOffset(f,!1),f):R(c).local()}function Sb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ja(c,f){var d=c,k=null;ia(c)?d=
{ms:c._milliseconds,d:c._days,M:c._months}:e(c)?(d={},f?d[f]=c:d.milliseconds=c):(k=tc.exec(c))?(d="-"===k[1]?-1:1,d={y:0,d:J(k[Ma])*d,h:J(k[sa])*d,m:J(k[Ha])*d,s:J(k[Sa])*d,ms:J(ka(1E3*k[$a]))*d}):(k=uc.exec(c))?(d="-"===k[1]?-1:1,d={y:ab(k[2],d),M:ab(k[3],d),w:ab(k[4],d),d:ab(k[5],d),h:ab(k[6],d),m:ab(k[7],d),s:ab(k[8],d)}):null==d?d={}:"object"===typeof d&&("from"in d||"to"in d)&&(k=R(d.from),d=R(d.to),k.isValid()&&d.isValid()?(d=S(d,k),k.isBefore(d)?d=Tb(k,d):(d=Tb(d,k),d.milliseconds=-d.milliseconds,
d.months=-d.months),k=d):k={milliseconds:0,months:0},d={},d.ms=k.milliseconds,d.M=k.months);d=new ga(d);ia(c)&&b(c,"_locale")&&(d._locale=c._locale);return d}function ab(c,f){c=c&&parseFloat(c.replace(",","."));return(isNaN(c)?0:c)*f}function Tb(c,f){var d={milliseconds:0,months:0};d.months=f.month()-c.month()+12*(f.year()-c.year());c.clone().add(d.months,"M").isAfter(f)&&--d.months;d.milliseconds=+f-+c.clone().add(d.months,"M");return d}function bb(c,f){return function(d,k){var t;null===k||isNaN(+k)||
(I(f,"moment()."+f+"(period, number) is deprecated. Please use moment()."+f+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),t=d,d=k,k=t);d=Ja("string"===typeof d?+d:d,k);Ub(this,d,c);return this}}function Ub(c,f,d,k){var t=f._milliseconds,A=ka(f._days);f=ka(f._months);c.isValid()&&(k=null==k?!0:k,f&&la(c,H(c,"Month")+f*d),A&&X(c,"Date",H(c,"Date")+A*d),t&&c._d.setTime(c._d.valueOf()+t*d),k&&y.updateOffset(c,A||f))}function Gb(c,f){var d=12*(f.year()-
c.year())+(f.month()-c.month()),k=c.clone().add(d,"months");0>f-k?(c=c.clone().add(d-1,"months"),f=(f-k)/(k-c)):(c=c.clone().add(d+1,"months"),f=(f-k)/(c-k));return-(d+f)||0}function Vb(c){if(void 0===c)return this._locale._abbr;c=Da(c);null!=c&&(this._locale=c);return this}function Wb(){return this._locale}function hb(c,f){P(0,[c,c.length],0,f)}function Xb(c,f,d,k,t){var A;if(null==c)return Ua(this,k,t).year;A=Ca(c,k,t);f>A&&(f=A);c=Pa(c,f,d,k,t);c=Aa(c.year,0,c.dayOfYear);this.year(c.getUTCFullYear());
this.month(c.getUTCMonth());this.date(c.getUTCDate());return this}function vc(c,f){f[$a]=J(1E3*("0."+c))}function Yb(c){return c}function tb(c,f,d,k){var t=Da();f=a().set(k,f);return t[d](f,c)}function Zb(c,f,d){e(c)&&(f=c,c=void 0);c=c||"";if(null!=f)return tb(c,f,d,"month");var k=[];for(f=0;12>f;f++)k[f]=tb(c,f,d,"month");return k}function Hb(c,f,d,k){"boolean"!==typeof c&&(d=f=c,c=!1);e(f)&&(d=f,f=void 0);f=f||"";var t=Da();c=c?t._week.dow:0;if(null!=d)return tb(f,(d+c)%7,k,"day");t=[];for(d=0;7>
d;d++)t[d]=tb(f,(d+c)%7,k,"day");return t}function $b(c,f,d,k){f=Ja(f,d);c._milliseconds+=k*f._milliseconds;c._days+=k*f._days;c._months+=k*f._months;return c._bubble()}function ac(c){return 0>c?Math.floor(c):Math.ceil(c)}function Xa(c){return function(){return this.as(c)}}function cb(c){return function(){return this.isValid()?this._data[c]:NaN}}function wc(c,f,d,k,t){return t.relativeTime(f||1,!!d,c,k)}function ib(c){return(0<c)-(0>c)||+c}function ub(){if(!this.isValid())return this.localeData().invalidDate();
var c=Ib(this._milliseconds)/1E3,f=Ib(this._days),d=Ib(this._months),k,t;k=B(c/60);t=B(k/60);c%=60;k%=60;var A=B(d/12),d=d%12,c=c?c.toFixed(3).replace(/\.?0+$/,""):"",n=this.asSeconds();if(!n)return"P0D";var G=0>n?"-":"",F=ib(this._months)!==ib(n)?"-":"",H=ib(this._days)!==ib(n)?"-":"",n=ib(this._milliseconds)!==ib(n)?"-":"";return G+"P"+(A?F+A+"Y":"")+(d?F+d+"M":"")+(f?H+f+"D":"")+(t||k||c?"T":"")+(t?n+t+"H":"")+(k?n+k+"M":"")+(c?n+c+"S":"")}var Lb,Mb;Mb=Array.prototype.some?Array.prototype.some:
function(c){for(var f=Object(this),d=f.length>>>0,k=0;k<d;k++)if(k in f&&c.call(this,f[k],k,f))return!0;return!1};var Ab=y.momentProperties=[],Bb=!1,Nb={};y.suppressDeprecationWarnings=!1;y.deprecationHandler=null;var bc;bc=Object.keys?Object.keys:function(c){var f,d=[];for(f in c)b(c,f)&&d.push(f);return d};var lb={},va={},Ob=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
qb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Cb={},fb={},cc=/\d/,Ba=/\d\d/,dc=/\d{3}/,Jb=/\d{4}/,vb=/[+-]?\d{6}/,pa=/\d\d?/,ec=/\d\d\d\d?/,fc=/\d\d\d\d\d\d?/,wb=/\d{1,3}/,Kb=/\d{1,4}/,xb=/[+-]?\d{1,6}/,xc=/\d+/,yb=/[+-]?\d+/,yc=/Z|[+-]\d\d:?\d\d/gi,zb=/Z|[+-]\d\d(?::?\d\d)?/gi,ob=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Db={},Eb={},Ga=0,Ra=1,Ma=2,sa=3,Ha=4,Sa=5,$a=6,kc=7,lc=8;P("Y",0,0,function(){var c=this.year();return 9999>=
c?""+c:"+"+c});P(0,["YY",2],0,function(){return this.year()%100});P(0,["YYYY",4],0,"year");P(0,["YYYYY",5],0,"year");P(0,["YYYYYY",6,!0],0,"year");N("year","y");va.year=1;d("Y",yb);d("YY",pa,Ba);d("YYYY",Kb,Jb);d("YYYYY",xb,vb);d("YYYYYY",xb,vb);t(["YYYYY","YYYYYY"],Ga);t("YYYY",function(c,f){f[Ga]=2===c.length?y.parseTwoDigitYear(c):J(c)});t("YY",function(c,f){f[Ga]=y.parseTwoDigitYear(c)});t("Y",function(c,f){f[Ga]=parseInt(c,10)});y.parseTwoDigitYear=function(c){return J(c)+(68<J(c)?1900:2E3)};
var gc=F("FullYear",!0),qa;qa=Array.prototype.indexOf?Array.prototype.indexOf:function(c){var f;for(f=0;f<this.length;++f)if(this[f]===c)return f;return-1};P("M",["MM",2],"Mo",function(){return this.month()+1});P("MMM",0,0,function(c){return this.localeData().monthsShort(this,c)});P("MMMM",0,0,function(c){return this.localeData().months(this,c)});N("month","M");va.month=8;d("M",pa);d("MM",pa,Ba);d("MMM",function(c,f){return f.monthsShortRegex(c)});d("MMMM",function(c,f){return f.monthsRegex(c)});
t(["M","MM"],function(c,f){f[Ra]=J(c)-1});t(["MMM","MMMM"],function(c,f,d,k){k=d._locale.monthsParse(c,k,d._strict);null!=k?f[Ra]=k:r(d).invalidMonth=c});var hc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");P("w",["ww",2],"wo","week");P("W",["WW",2],"Wo","isoWeek");N("week","w");N("isoWeek","W");va.week=5;va.isoWeek=5;d("w",pa);d("ww",pa,Ba);d("W",pa);d("WW",pa,Ba);A(["w","ww","W","WW"],function(c,f,d,k){f[k.substr(0,1)]=J(c)});P("d",0,"do","day");
P("dd",0,0,function(c){return this.localeData().weekdaysMin(this,c)});P("ddd",0,0,function(c){return this.localeData().weekdaysShort(this,c)});P("dddd",0,0,function(c){return this.localeData().weekdays(this,c)});P("e",0,0,"weekday");P("E",0,0,"isoWeekday");N("day","d");N("weekday","e");N("isoWeekday","E");va.day=11;va.weekday=11;va.isoWeekday=11;d("d",pa);d("e",pa);d("E",pa);d("dd",function(c,f){return f.weekdaysMinRegex(c)});d("ddd",function(c,f){return f.weekdaysShortRegex(c)});d("dddd",function(c,
f){return f.weekdaysRegex(c)});A(["dd","ddd","dddd"],function(c,f,d,k){k=d._locale.weekdaysParse(c,k,d._strict);null!=k?f.d=k:r(d).invalidWeekday=c});A(["d","e","E"],function(c,f,d,k){f[k]=J(c)});var Rb="Sun Mon Tue Wed Thu Fri Sat".split(" ");P("H",["HH",2],0,"hour");P("h",["hh",2],0,Fa);P("k",["kk",2],0,function(){return this.hours()||24});P("hmm",0,0,function(){return""+Fa.apply(this)+fa(this.minutes(),2)});P("hmmss",0,0,function(){return""+Fa.apply(this)+fa(this.minutes(),2)+fa(this.seconds(),
2)});P("Hmm",0,0,function(){return""+this.hours()+fa(this.minutes(),2)});P("Hmmss",0,0,function(){return""+this.hours()+fa(this.minutes(),2)+fa(this.seconds(),2)});pb("a",!0);pb("A",!1);N("hour","h");va.hour=13;d("a",jb);d("A",jb);d("H",pa);d("h",pa);d("k",pa);d("HH",pa,Ba);d("hh",pa,Ba);d("kk",pa,Ba);d("hmm",ec);d("hmmss",fc);d("Hmm",ec);d("Hmmss",fc);t(["H","HH"],sa);t(["k","kk"],function(c,f,d){c=J(c);f[sa]=24===c?0:c});t(["a","A"],function(c,f,d){d._isPm=d._locale.isPM(c);d._meridiem=c});t(["h",
"hh"],function(c,f,d){f[sa]=J(c);r(d).bigHour=!0});t("hmm",function(c,f,d){var k=c.length-2;f[sa]=J(c.substr(0,k));f[Ha]=J(c.substr(k));r(d).bigHour=!0});t("hmmss",function(c,f,d){var k=c.length-4,t=c.length-2;f[sa]=J(c.substr(0,k));f[Ha]=J(c.substr(k,2));f[Sa]=J(c.substr(t));r(d).bigHour=!0});t("Hmm",function(c,f,d){d=c.length-2;f[sa]=J(c.substr(0,d));f[Ha]=J(c.substr(d))});t("Hmmss",function(c,f,d){d=c.length-4;var k=c.length-2;f[sa]=J(c.substr(0,d));f[Ha]=J(c.substr(d,2));f[Sa]=J(c.substr(k))});
var zc=F("Hours",!0),Pb={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",
hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:Qb,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:Rb,meridiemParse:/[ap]\.?m?\.?/i},ra={},mb={},rb,mc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
nc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oc=/Z|[+-]\d\d(?::?\d\d)?/,sb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Fb=
[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rc=/^\/?Date\((\-?\d+)/i,pc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qc={UT:0,GMT:0,EDT:-240,
EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};y.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(c){c._d=new Date(c._i+(c._useUTC?" UTC":""))});y.ISO_8601=function(){};
y.RFC_2822=function(){};var Ac=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=R.apply(null,arguments);return this.isValid()&&c.isValid()?c<this?this:c:w()}),Bc=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=R.apply(null,arguments);return this.isValid()&&c.isValid()?c>this?this:c:w()}),nb="year quarter month week day hour minute second millisecond".split(" ");
ba("Z",":");ba("ZZ","");d("Z",zb);d("ZZ",zb);t(["Z","ZZ"],function(c,f,d){d._useUTC=!0;d._tzm=ea(zb,c)});var sc=/([\+\-]|\d\d)/gi;y.updateOffset=function(){};var tc=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,uc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ja.fn=ga.prototype;Ja.invalid=function(){return Ja(NaN)};var Cc=bb(1,"add"),Dc=bb(-1,"subtract");y.defaultFormat=
"YYYY-MM-DDTHH:mm:ssZ";y.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ic=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(c){return void 0===c?this.localeData():this.locale(c)});P(0,["gg",2],0,function(){return this.weekYear()%100});P(0,["GG",2],0,function(){return this.isoWeekYear()%100});hb("gggg","weekYear");hb("ggggg","weekYear");hb("GGGG","isoWeekYear");hb("GGGGG","isoWeekYear");N("weekYear",
"gg");N("isoWeekYear","GG");va.weekYear=1;va.isoWeekYear=1;d("G",yb);d("g",yb);d("GG",pa,Ba);d("gg",pa,Ba);d("GGGG",Kb,Jb);d("gggg",Kb,Jb);d("GGGGG",xb,vb);d("ggggg",xb,vb);A(["gggg","ggggg","GGGG","GGGGG"],function(c,f,d,k){f[k.substr(0,2)]=J(c)});A(["gg","GG"],function(c,f,d,k){f[k]=y.parseTwoDigitYear(c)});P("Q",0,"Qo","quarter");N("quarter","Q");va.quarter=7;d("Q",cc);t("Q",function(c,f){f[Ra]=3*(J(c)-1)});P("D",["DD",2],"Do","date");N("date","D");va.date=9;d("D",pa);d("DD",pa,Ba);d("Do",function(c,
f){return c?f._dayOfMonthOrdinalParse||f._ordinalParse:f._dayOfMonthOrdinalParseLenient});t(["D","DD"],Ma);t("Do",function(c,f){f[Ma]=J(c.match(pa)[0],10)});var jc=F("Date",!0);P("DDD",["DDDD",3],"DDDo","dayOfYear");N("dayOfYear","DDD");va.dayOfYear=4;d("DDD",wb);d("DDDD",dc);t(["DDD","DDDD"],function(c,f,d){d._dayOfYear=J(c)});P("m",["mm",2],0,"minute");N("minute","m");va.minute=14;d("m",pa);d("mm",pa,Ba);t(["m","mm"],Ha);var Ec=F("Minutes",!1);P("s",["ss",2],0,"second");N("second","s");va.second=
15;d("s",pa);d("ss",pa,Ba);t(["s","ss"],Sa);var Fc=F("Seconds",!1);P("S",0,0,function(){return~~(this.millisecond()/100)});P(0,["SS",2],0,function(){return~~(this.millisecond()/10)});P(0,["SSS",3],0,"millisecond");P(0,["SSSS",4],0,function(){return 10*this.millisecond()});P(0,["SSSSS",5],0,function(){return 100*this.millisecond()});P(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});P(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});P(0,["SSSSSSSS",8],0,function(){return 1E5*
this.millisecond()});P(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});N("millisecond","ms");va.millisecond=16;d("S",wb,cc);d("SS",wb,Ba);d("SSS",wb,dc);var Ya;for(Ya="SSSS";9>=Ya.length;Ya+="S")d(Ya,xc);for(Ya="S";9>=Ya.length;Ya+="S")t(Ya,vc);var Gc=F("Milliseconds",!1);P("z",0,0,"zoneAbbr");P("zz",0,0,"zoneName");var V=D.prototype;V.add=Cc;V.calendar=function(c,f){c=c||R();var d=S(c,this).startOf("day"),d=y.calendarFormat(this,d)||"sameElse";f=f&&(Q(f[d])?f[d].call(this,c):f[d]);
return this.format(f||this.localeData().calendar(d,this,R(c)))};V.clone=function(){return new D(this)};V.diff=function(c,f,d){var k;if(!this.isValid())return NaN;c=S(c,this);if(!c.isValid())return NaN;k=6E4*(c.utcOffset()-this.utcOffset());f=T(f);switch(f){case "year":f=Gb(this,c)/12;break;case "month":f=Gb(this,c);break;case "quarter":f=Gb(this,c)/3;break;case "second":f=(this-c)/1E3;break;case "minute":f=(this-c)/6E4;break;case "hour":f=(this-c)/36E5;break;case "day":f=(this-c-k)/864E5;break;case "week":f=
(this-c-k)/6048E5;break;default:f=this-c}return d?f:B(f)};V.endOf=function(c){c=T(c);if(void 0===c||"millisecond"===c)return this;"date"===c&&(c="day");return this.startOf(c).add(1,"isoWeek"===c?"week":c).subtract(1,"ms")};V.format=function(c){c||(c=this.isUtc()?y.defaultFormatUtc:y.defaultFormat);c=U(this,c);return this.localeData().postformat(c)};V.from=function(c,f){return this.isValid()&&(E(c)&&c.isValid()||R(c).isValid())?Ja({to:this,from:c}).locale(this.locale()).humanize(!f):this.localeData().invalidDate()};
V.fromNow=function(c){return this.from(R(),c)};V.to=function(c,f){return this.isValid()&&(E(c)&&c.isValid()||R(c).isValid())?Ja({from:this,to:c}).locale(this.locale()).humanize(!f):this.localeData().invalidDate()};V.toNow=function(c){return this.to(R(),c)};V.get=function(c){c=T(c);return Q(this[c])?this[c]():this};V.invalidAt=function(){return r(this).overflow};V.isAfter=function(c,f){c=E(c)?c:R(c);if(!this.isValid()||!c.isValid())return!1;f=T(h(f)?"millisecond":f);return"millisecond"===f?this.valueOf()>
c.valueOf():c.valueOf()<this.clone().startOf(f).valueOf()};V.isBefore=function(c,f){c=E(c)?c:R(c);if(!this.isValid()||!c.isValid())return!1;f=T(h(f)?"millisecond":f);return"millisecond"===f?this.valueOf()<c.valueOf():this.clone().endOf(f).valueOf()<c.valueOf()};V.isBetween=function(c,f,d,k){k=k||"()";return("("===k[0]?this.isAfter(c,d):!this.isBefore(c,d))&&(")"===k[1]?this.isBefore(f,d):!this.isAfter(f,d))};V.isSame=function(c,f){c=E(c)?c:R(c);if(!this.isValid()||!c.isValid())return!1;f=T(f||"millisecond");
if("millisecond"===f)return this.valueOf()===c.valueOf();c=c.valueOf();return this.clone().startOf(f).valueOf()<=c&&c<=this.clone().endOf(f).valueOf()};V.isSameOrAfter=function(c,f){return this.isSame(c,f)||this.isAfter(c,f)};V.isSameOrBefore=function(c,f){return this.isSame(c,f)||this.isBefore(c,f)};V.isValid=function(){return v(this)};V.lang=ic;V.locale=Vb;V.localeData=Wb;V.max=Bc;V.min=Ac;V.parsingFlags=function(){return g({},r(this))};V.set=function(c,f){if("object"===typeof c){c=da(c);f=Z(c);
for(var d=0;d<f.length;d++)this[f[d].unit](c[f[d].unit])}else if(c=T(c),Q(this[c]))return this[c](f);return this};V.startOf=function(c){c=T(c);switch(c){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===c&&this.weekday(0);"isoWeek"===c&&this.isoWeekday(1);"quarter"===c&&this.month(3*Math.floor(this.month()/3));return this};
V.subtract=Dc;V.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};V.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};V.toDate=function(){return new Date(this.valueOf())};V.toISOString=function(){if(!this.isValid())return null;var c=this.clone().utc();return 0>c.year()||9999<c.year()?U(c,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):
Q(Date.prototype.toISOString)?this.toDate().toISOString():U(c,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};V.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var c="moment",f="";this.isLocal()||(c=0===this.utcOffset()?"moment.utc":"moment.parseZone",f="Z");var c="["+c+'("]',d=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(c+d+"-MM-DD[T]HH:mm:ss.SSS"+(f+'[")]'))};V.toJSON=function(){return this.isValid()?this.toISOString():null};V.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};
V.unix=function(){return Math.floor(this.valueOf()/1E3)};V.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};V.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};V.year=gc;V.isLeapYear=function(){return G(this.year())};V.weekYear=function(c){return Xb.call(this,c,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};V.isoWeekYear=function(c){return Xb.call(this,c,this.isoWeek(),this.isoWeekday(),
1,4)};V.quarter=V.quarters=function(c){return null==c?Math.ceil((this.month()+1)/3):this.month(3*(c-1)+this.month()%3)};V.month=Oa;V.daysInMonth=function(){return ca(this.year(),this.month())};V.week=V.weeks=function(c){var f=this.localeData().week(this);return null==c?f:this.add(7*(c-f),"d")};V.isoWeek=V.isoWeeks=function(c){var f=Ua(this,1,4).week;return null==c?f:this.add(7*(c-f),"d")};V.weeksInYear=function(){var c=this.localeData()._week;return Ca(this.year(),c.dow,c.doy)};V.isoWeeksInYear=function(){return Ca(this.year(),
1,4)};V.date=jc;V.day=V.days=function(c){if(!this.isValid())return null!=c?this:NaN;var f=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=c){var d=this.localeData();"string"===typeof c&&(isNaN(c)?(c=d.weekdaysParse(c),c="number"===typeof c?c:null):c=parseInt(c,10));return this.add(c-f,"d")}return f};V.weekday=function(c){if(!this.isValid())return null!=c?this:NaN;var f=(this.day()+7-this.localeData()._week.dow)%7;return null==c?f:this.add(c-f,"d")};V.isoWeekday=function(c){if(!this.isValid())return null!=
c?this:NaN;if(null!=c){var f=this.localeData();c="string"===typeof c?f.weekdaysParse(c)%7||7:isNaN(c)?null:c;return this.day(this.day()%7?c:c-7)}return this.day()||7};V.dayOfYear=function(c){var f=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==c?f:this.add(c-f,"d")};V.hour=V.hours=zc;V.minute=V.minutes=Ec;V.second=V.seconds=Fc;V.millisecond=V.milliseconds=Gc;V.utcOffset=function(c,f,d){var k=this._offset||0,t;if(!this.isValid())return null!=c?this:NaN;
if(null!=c){if("string"===typeof c){if(c=ea(zb,c),null===c)return this}else 16>Math.abs(c)&&!d&&(c*=60);!this._isUTC&&f&&(t=15*-Math.round(this._d.getTimezoneOffset()/15));this._offset=c;this._isUTC=!0;null!=t&&this.add(t,"m");k!==c&&(!f||this._changeInProgress?Ub(this,Ja(c-k,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,y.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?k:15*-Math.round(this._d.getTimezoneOffset()/15)};V.utc=function(c){return this.utcOffset(0,
c)};V.local=function(c){this._isUTC&&(this.utcOffset(0,c),this._isUTC=!1,c&&this.subtract(15*-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};V.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var c=ea(yc,this._i);null!=c?this.utcOffset(c):this.utcOffset(0,!0)}return this};V.hasAlignedHourOffset=function(c){if(!this.isValid())return!1;c=c?R(c).utcOffset():0;return 0===(this.utcOffset()-c)%60};V.isDST=function(){return this.utcOffset()>
this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};V.isLocal=function(){return this.isValid()?!this._isUTC:!1};V.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};V.isUtc=Sb;V.isUTC=Sb;V.zoneAbbr=function(){return this._isUTC?"UTC":""};V.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};V.dates=M("dates accessor is deprecated. Use date instead.",jc);V.months=M("months accessor is deprecated. Use month instead",Oa);V.years=M("years accessor is deprecated. Use year instead",
gc);V.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(c,f){return null!=c?("string"!==typeof c&&(c=-c),this.utcOffset(c,f),this):-this.utcOffset()});V.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var c={};x(c,this);c=Ia(c);if(c._a){var f=c._isUTC?a(c._a):R(c._a);this._isDSTShifted=this.isValid()&&
0<K(c._a,f.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var oa=Y.prototype;oa.calendar=function(c,f,d){c=this._calendar[c]||this._calendar.sameElse;return Q(c)?c.call(f,d):c};oa.longDateFormat=function(c){var f=this._longDateFormat[c],d=this._longDateFormat[c.toUpperCase()];if(f||!d)return f;this._longDateFormat[c]=d.replace(/MMMM|MM|DD|dddd/g,function(c){return c.slice(1)});return this._longDateFormat[c]};oa.invalidDate=function(){return this._invalidDate};oa.ordinal=function(c){return this._ordinal.replace("%d",
c)};oa.preparse=Yb;oa.postformat=Yb;oa.relativeTime=function(c,f,d,k){var t=this._relativeTime[d];return Q(t)?t(c,f,d,k):t.replace(/%d/i,c)};oa.pastFuture=function(c,f){c=this._relativeTime[0<c?"future":"past"];return Q(c)?c(f):c.replace(/%s/i,f)};oa.set=function(c){var f,d;for(d in c)f=c[d],Q(f)?this[d]=f:this["_"+d]=f;this._config=c;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};oa.months=function(c,f){return c?
p(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||hc).test(f)?"format":"standalone"][c.month()]:p(this._months)?this._months:this._months.standalone};oa.monthsShort=function(c,f){return c?p(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[hc.test(f)?"format":"standalone"][c.month()]:p(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};oa.monthsParse=function(c,f,d){var k,t;if(this._monthsParseExact){a:{c=c.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=
[],this._longMonthsParse=[],this._shortMonthsParse=[],k=0;12>k;++k)t=a([2E3,k]),this._shortMonthsParse[k]=this.monthsShort(t,"").toLocaleLowerCase(),this._longMonthsParse[k]=this.months(t,"").toLocaleLowerCase();if(d)f="MMM"===f?qa.call(this._shortMonthsParse,c):qa.call(this._longMonthsParse,c);else if("MMM"===f){f=qa.call(this._shortMonthsParse,c);if(-1!==f)break a;f=qa.call(this._longMonthsParse,c)}else{f=qa.call(this._longMonthsParse,c);if(-1!==f)break a;f=qa.call(this._shortMonthsParse,c)}f=-1!==
f?f:null}return f}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(k=0;12>k;k++)if(t=a([2E3,k]),d&&!this._longMonthsParse[k]&&(this._longMonthsParse[k]=new RegExp("^"+this.months(t,"").replace(".","")+"$","i"),this._shortMonthsParse[k]=new RegExp("^"+this.monthsShort(t,"").replace(".","")+"$","i")),d||this._monthsParse[k]||(t="^"+this.months(t,"")+"|^"+this.monthsShort(t,""),this._monthsParse[k]=new RegExp(t.replace(".",""),"i")),d&&"MMMM"===f&&this._longMonthsParse[k].test(c)||
d&&"MMM"===f&&this._shortMonthsParse[k].test(c)||!d&&this._monthsParse[k].test(c))return k};oa.monthsRegex=function(c){if(this._monthsParseExact)return b(this,"_monthsRegex")||ua.call(this),c?this._monthsStrictRegex:this._monthsRegex;b(this,"_monthsRegex")||(this._monthsRegex=ob);return this._monthsStrictRegex&&c?this._monthsStrictRegex:this._monthsRegex};oa.monthsShortRegex=function(c){if(this._monthsParseExact)return b(this,"_monthsRegex")||ua.call(this),c?this._monthsShortStrictRegex:this._monthsShortRegex;
b(this,"_monthsShortRegex")||(this._monthsShortRegex=ob);return this._monthsShortStrictRegex&&c?this._monthsShortStrictRegex:this._monthsShortRegex};oa.week=function(c){return Ua(c,this._week.dow,this._week.doy).week};oa.firstDayOfYear=function(){return this._week.doy};oa.firstDayOfWeek=function(){return this._week.dow};oa.weekdays=function(c,f){return c?p(this._weekdays)?this._weekdays[c.day()]:this._weekdays[this._weekdays.isFormat.test(f)?"format":"standalone"][c.day()]:p(this._weekdays)?this._weekdays:
this._weekdays.standalone};oa.weekdaysMin=function(c){return c?this._weekdaysMin[c.day()]:this._weekdaysMin};oa.weekdaysShort=function(c){return c?this._weekdaysShort[c.day()]:this._weekdaysShort};oa.weekdaysParse=function(c,f,d){var k,t;if(this._weekdaysParseExact)return ya.call(this,c,f,d);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(k=0;7>k;k++)if(t=a([2E3,1]).day(k),d&&!this._fullWeekdaysParse[k]&&(this._fullWeekdaysParse[k]=
new RegExp("^"+this.weekdays(t,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[k]=new RegExp("^"+this.weekdaysShort(t,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[k]=new RegExp("^"+this.weekdaysMin(t,"").replace(".",".?")+"$","i")),this._weekdaysParse[k]||(t="^"+this.weekdays(t,"")+"|^"+this.weekdaysShort(t,"")+"|^"+this.weekdaysMin(t,""),this._weekdaysParse[k]=new RegExp(t.replace(".",""),"i")),d&&"dddd"===f&&this._fullWeekdaysParse[k].test(c)||d&&"ddd"===f&&this._shortWeekdaysParse[k].test(c)||
d&&"dd"===f&&this._minWeekdaysParse[k].test(c)||!d&&this._weekdaysParse[k].test(c))return k};oa.weekdaysRegex=function(c){if(this._weekdaysParseExact)return b(this,"_weekdaysRegex")||wa.call(this),c?this._weekdaysStrictRegex:this._weekdaysRegex;b(this,"_weekdaysRegex")||(this._weekdaysRegex=ob);return this._weekdaysStrictRegex&&c?this._weekdaysStrictRegex:this._weekdaysRegex};oa.weekdaysShortRegex=function(c){if(this._weekdaysParseExact)return b(this,"_weekdaysRegex")||wa.call(this),c?this._weekdaysShortStrictRegex:
this._weekdaysShortRegex;b(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ob);return this._weekdaysShortStrictRegex&&c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};oa.weekdaysMinRegex=function(c){if(this._weekdaysParseExact)return b(this,"_weekdaysRegex")||wa.call(this),c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;b(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ob);return this._weekdaysMinStrictRegex&&c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};oa.isPM=
function(c){return"p"===(c+"").toLowerCase().charAt(0)};oa.meridiem=function(c,f,d){return 11<c?d?"pm":"PM":d?"am":"AM"};La("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(c){var f=c%10,f=1===J(c%100/10)?"th":1===f?"st":2===f?"nd":3===f?"rd":"th";return c+f}});y.lang=M("moment.lang is deprecated. Use moment.locale instead.",La);y.langData=M("moment.langData is deprecated. Use moment.localeData instead.",Da);var Ta=Math.abs,Hc=Xa("ms"),Ic=Xa("s"),Jc=Xa("m"),Kc=Xa("h"),Lc=Xa("d"),
Mc=Xa("w"),Nc=Xa("M"),Oc=Xa("y"),Pc=cb("milliseconds"),Qc=cb("seconds"),Rc=cb("minutes"),Sc=cb("hours"),Tc=cb("days"),Uc=cb("months"),Vc=cb("years"),Za=Math.round,Na={ss:44,s:45,m:45,h:22,d:26,M:11},Ib=Math.abs,ma=ga.prototype;ma.isValid=function(){return this._isValid};ma.abs=function(){var c=this._data;this._milliseconds=Ta(this._milliseconds);this._days=Ta(this._days);this._months=Ta(this._months);c.milliseconds=Ta(c.milliseconds);c.seconds=Ta(c.seconds);c.minutes=Ta(c.minutes);c.hours=Ta(c.hours);
c.months=Ta(c.months);c.years=Ta(c.years);return this};ma.add=function(c,f){return $b(this,c,f,1)};ma.subtract=function(c,f){return $b(this,c,f,-1)};ma.as=function(c){if(!this.isValid())return NaN;var f,d=this._milliseconds;c=T(c);if("month"===c||"year"===c)return f=this._days+d/864E5,f=this._months+4800*f/146097,"month"===c?f:f/12;f=this._days+Math.round(146097*this._months/4800);switch(c){case "week":return f/7+d/6048E5;case "day":return f+d/864E5;case "hour":return 24*f+d/36E5;case "minute":return 1440*
f+d/6E4;case "second":return 86400*f+d/1E3;case "millisecond":return Math.floor(864E5*f)+d;default:throw Error("Unknown unit "+c);}};ma.asMilliseconds=Hc;ma.asSeconds=Ic;ma.asMinutes=Jc;ma.asHours=Kc;ma.asDays=Lc;ma.asWeeks=Mc;ma.asMonths=Nc;ma.asYears=Oc;ma.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*J(this._months/12):NaN};ma._bubble=function(){var c=this._milliseconds,f=this._days,d=this._months,k=this._data;0<=c&&0<=f&&0<=d||0>=c&&
0>=f&&0>=d||(c+=864E5*ac(146097*d/4800+f),d=f=0);k.milliseconds=c%1E3;c=B(c/1E3);k.seconds=c%60;c=B(c/60);k.minutes=c%60;c=B(c/60);k.hours=c%24;f+=B(c/24);c=B(4800*f/146097);d+=c;f-=ac(146097*c/4800);c=B(d/12);k.days=f;k.months=d%12;k.years=c;return this};ma.clone=function(){return Ja(this)};ma.get=function(c){c=T(c);return this.isValid()?this[c+"s"]():NaN};ma.milliseconds=Pc;ma.seconds=Qc;ma.minutes=Rc;ma.hours=Sc;ma.days=Tc;ma.weeks=function(){return B(this.days()/7)};ma.months=Uc;ma.years=Vc;ma.humanize=
function(c){if(!this.isValid())return this.localeData().invalidDate();var f=this.localeData(),d;d=!c;var k=Ja(this).abs(),t=Za(k.as("s")),A=Za(k.as("m")),n=Za(k.as("h")),G=Za(k.as("d")),F=Za(k.as("M")),k=Za(k.as("y")),t=t<=Na.ss&&["s",t]||t<Na.s&&["ss",t]||1>=A&&["m"]||A<Na.m&&["mm",A]||1>=n&&["h"]||n<Na.h&&["hh",n]||1>=G&&["d"]||G<Na.d&&["dd",G]||1>=F&&["M"]||F<Na.M&&["MM",F]||1>=k&&["y"]||["yy",k];t[2]=d;t[3]=0<+this;t[4]=f;d=wc.apply(null,t);c&&(d=f.pastFuture(+this,d));return f.postformat(d)};
ma.toISOString=ub;ma.toString=ub;ma.toJSON=ub;ma.locale=Vb;ma.localeData=Wb;ma.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ub);ma.lang=ic;P("X",0,0,"unix");P("x",0,0,"valueOf");d("x",yb);d("X",/[+-]?\d+(\.\d{1,3})?/);t("X",function(c,f,d){d._d=new Date(1E3*parseFloat(c,10))});t("x",function(c,f,d){d._d=new Date(J(c))});y.version="2.19.2";Lb=R;y.fn=V;y.min=function(){var c=[].slice.call(arguments,0);return na("isBefore",c)};y.max=function(){var c=
[].slice.call(arguments,0);return na("isAfter",c)};y.now=function(){return Date.now?Date.now():+new Date};y.utc=a;y.unix=function(c){return R(1E3*c)};y.months=function(c,f){return Zb(c,f,"months")};y.isDate=q;y.locale=La;y.invalid=w;y.duration=Ja;y.isMoment=E;y.weekdays=function(c,f,d){return Hb(c,f,d,"weekdays")};y.parseZone=function(){return R.apply(null,arguments).parseZone()};y.localeData=Da;y.isDuration=ia;y.monthsShort=function(c,f){return Zb(c,f,"monthsShort")};y.weekdaysMin=function(c,f,d){return Hb(c,
f,d,"weekdaysMin")};y.defineLocale=kb;y.updateLocale=function(c,f){if(null!=f){var d,k=Pb;d=Va(c);null!=d&&(k=d._config);f=O(k,f);f=new Y(f);f.parentLocale=ra[c];ra[c]=f;La(c)}else null!=ra[c]&&(null!=ra[c].parentLocale?ra[c]=ra[c].parentLocale:null!=ra[c]&&delete ra[c]);return ra[c]};y.locales=function(){return bc(ra)};y.weekdaysShort=function(c,f,d){return Hb(c,f,d,"weekdaysShort")};y.normalizeUnits=T;y.relativeTimeRounding=function(c){return void 0===c?Za:"function"===typeof c?(Za=c,!0):!1};y.relativeTimeThreshold=
function(c,f){if(void 0===Na[c])return!1;if(void 0===f)return Na[c];Na[c]=f;"s"===c&&(Na.ss=f-1);return!0};y.calendarFormat=function(c,f){c=c.diff(f,"days",!0);return-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"};y.prototype=V;return y})},"esri/arcade/ImmutableArray":function(){define(["require","exports"],function(y,p){return function(){function u(m){void 0===m&&(m=[]);this._elements=m}return u.prototype.length=function(){return this._elements.length},
u.prototype.get=function(m){return this._elements[m]},u.prototype.toArray=function(){for(var m=[],h=0;h<this.length();h++)m.push(this.get(h));return m},u}()})},"esri/arcade/ImmutablePointArray":function(){define("require exports ../core/tsSupport/extendsHelper ./ImmutableArray ../geometry/Point ../kernel".split(" "),function(y,p,u,m,h,e){var q=0===e.version.indexOf("4.");return function(e){function b(b,a,r,l,q,h){b=e.call(this,b)||this;return b._lazyPt=[],b._hasZ=!1,b._hasM=!1,b._spRef=a,b._hasZ=
r,b._hasM=l,b._cacheId=q,b._partId=h,b}return u(b,e),b.prototype.get=function(b){if(void 0===this._lazyPt[b]){var a=this._elements[b];if(void 0===a)return;var g=this._hasZ,e=this._hasM,l=null,l=g&&!e?new h(a[0],a[1],a[2],void 0,this._spRef):e&&g?new h(a[0],a[1],void 0,a[2],this._spRef):g&&e?new h(a[0],a[1],a[2],a[3],this._spRef):new h(a[0],a[1],this._spRef);q?l.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+b.toString():l.setCacheValue("_arcadeCacheId",this._cacheId.toString()+
"-"+this._partId.toString()+"-"+b.toString());this._lazyPt[b]=l}return this._lazyPt[b]},b.prototype.equalityTest=function(g){return g===this?!0:null===g?!1:0==g instanceof b?!1:g.getUniqueHash()===this.getUniqueHash()},b.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()},b}(m)})},"esri/arcade/ImmutablePathArray":function(){define(["require","exports","../core/tsSupport/extendsHelper","./ImmutableArray","./ImmutablePointArray"],function(y,p,u,m,h){return function(e){function q(l,
b,g,a,r){l=e.call(this,l)||this;return l._lazyPath=[],l._hasZ=!1,l._hasM=!1,l._hasZ=g,l._hasM=a,l._spRef=b,l._cacheId=r,l}return u(q,e),q.prototype.get=function(e){if(void 0===this._lazyPath[e]){var b=this._elements[e];if(void 0===b)return;this._lazyPath[e]=new h(b,this._spRef,this._hasZ,this._hasM,this._cacheId,e)}return this._lazyPath[e]},q.prototype.equalityTest=function(e){return e===this?!0:null===e?!1:0==e instanceof q?!1:e.getUniqueHash()===this.getUniqueHash()},q.prototype.getUniqueHash=function(){return this._cacheId.toString()},
q}(m)})},"esri/arcade/FunctionWrapper":function(){define(["require","exports"],function(y,p){return function(){return function(u,m){this.context=this.definition=null;this.definition=u;this.context=m}}()})},"esri/arcade/treeAnalysis":function(){define(["require","exports"],function(y,p){function u(a,b,g,e){return"0"!==a.min&&g.length<Number(a.min)?-2:"*"!==a.max&&g.length>Number(a.max)?-2:1}function m(a,b,g){if(null!==g.localScope&&void 0!==g.localScope[a.toLowerCase()]){var e=g.localScope[a.toLowerCase()];
if("FormulaFunction"===e.type||"any"===e.type)return void 0===e.signature&&(e.signature={min:"0",max:"*"}),u(e.signature,a,b,g)}return void 0!==g.globalScope[a.toLowerCase()]&&(e=g.globalScope[a.toLowerCase()],"FormulaFunction"===e.type||"any"===e.type)?(void 0===e.signature&&(e.signature={min:"0",max:"*"}),u(e.signature,a,b,g)):-1}function h(a,b){void 0===b&&(b=!0);var g=v(a,"SYNTAX","UNREOGNISED");try{switch(a.type){case "VariableDeclarator":return null!==a.init&&"FunctionExpression"===a.init.type?
v(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==a.id.type?v(a,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==a.init?h(a.init,!1):"";case "VariableDeclaration":for(var e=0;e<a.declarations.length;e++)if(g=h(a.declarations[e],b),""!==g)return g;return"";case "ForInStatement":if(g=h(a.left,b),""!==g)break;if("VariableDeclaration"===a.left.type){if(1<a.left.declarations.length)return v(a,"SYNTAX","ONLY1VAR");if(null!==a.left.declarations[0].init)return v(a,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==
a.left.type)return v(a,"SYNTAX","LEFTNOTVAR");return g=h(a.right,b),""!==g?g:(g=h(a.body,b),""!==g?g:"");case "ForStatement":return null!==a.test&&(g=h(a.test,b),""!==g)?g:null!==a.init&&(g=h(a.init,b),""!==g)?g:null!==a.update&&(g=h(a.update,b),""!==g)?g:null!==a.body&&(g=h(a.body,b),""!==g)?g:"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":return g=h(a.test,b),""!==g?g:null!==a.consequent&&(g=h(a.consequent,!1),""!==g)?g:null!==
a.alternate&&(g=h(a.alternate,!1),""!==g)?g:"";case "BlockStatement":for(var r=[],e=0;e<a.body.length;e++)"EmptyStatement"!==a.body[e].type&&r.push(a.body[e]);a.body=r;for(e=0;e<a.body.length;e++)if(g=h(a.body[e],b),""!==g)return g;return"";case "FunctionDeclaration":return!1===b?v(a,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==a.id.type?v(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):h(a.body,!1);case "ReturnStatement":return null!==a.argument?h(a.argument,b):"";case "UpdateExpression":return"Identifier"!==
a.argument.type&&"MemberExpression"!==a.argument.type?v(a,"SYNTAX","ASSIGNMENTTOVARSONLY"):h(a.argument,b);case "AssignmentExpression":if("Identifier"!==a.left.type&&"MemberExpression"!==a.left.type)return v(a,"SYNTAX","ASSIGNMENTTOVARSONLY");if(g=h(a.left,b),""!==g)break;switch(a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return v(a,"SYNTAX","OPERATORNOTRECOGNISED")}return h(a.right,!1);case "ExpressionStatement":return h(a.expression,!1);
case "Identifier":g="";break;case "MemberExpression":return g=h(a.object,b),""!==g?g:!0===a.computed?h(a.property,b):"";case "Literal":return"";case "ThisExpression":return v(a,"SYNTAX","NOTSUPPORTED");case "CallExpression":if("Identifier"!==a.callee.type)return v(a,"SYNTAX","ONLYNODESSUPPORTED");g="";for(e=0;e<a.arguments.length;e++)if(g=h(a.arguments[e],b),""!==g)return g;return"";case "UnaryExpression":g=h(a.argument,b);break;case "BinaryExpression":if(g=h(a.left,b),""!==g)break;if(g=h(a.right,
b),""!==g)break;switch(a.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:return v(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":if(g=h(a.left,b),""!==g)break;if(g=h(a.right),""!==g)break;switch(a.operator){case "\x26\x26":case "||":break;default:return v(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return v(a,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":g=
"";for(e=0;e<a.elements.length&&(g=h(a.elements[e],b),""===g);e++);break;case "Array":return v(a,"SYNTAX","NOTSUPPORTED");case "ObjectExpression":g="";for(e=0;e<a.properties.length;e++){if(g="",null!==a.properties[e].key&&("Literal"!==a.properties[e].key.type&&"Identifier"!==a.properties[e].key.type&&(g=v(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===a.properties[e].key.type))r=a.properties[e].key.value,"string"==typeof r||r instanceof String||(g=v(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"));
if(""===g&&(g=h(a.properties[e],b)),""!==g)break}break;case "Property":return"Literal"!==a.key.type&&"Identifier"!==a.key.type?v(a,"SYNTAX","ONLYLITERAL"):"Identifier"!==a.key.type&&(g=h(a.key,b),""!==g)?g:g=h(a.value,b)}return g}catch(I){throw I;}}function e(b,r){var l=v(b,"SYNTAX","UNREOGNISED"),q=null,h="";try{switch(b.type){case "VariableDeclarator":if(null!==b.init&&"FunctionExpression"===b.init.type)return v(b,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");null!==r.localScope?void 0!==r.localScope[b.id.name.toLowerCase()]:
void 0!==r.globalScope[b.id.name.toLowerCase()];var B=null===b.init?"":e(b.init,r);return""!==B?B:(null===r.localScope?r.globalScope[b.id.name.toLowerCase()]={type:"any"}:r.localScope[b.id.name.toLowerCase()]={type:"any"},"");case "FunctionDeclaration":return q=g(b.id.name.toLowerCase(),b,r),h=a(b,r),""!==h?h:null!==r.localScope?v(b,"SYNTAX","GLOBALFUNCTIONSONLY"):(q.isnative=!1,r.globalScope[b.id.name.toLowerCase()]={type:"FormulaFunction",signature:[q]},"");case "VariableDeclaration":for(var l=
"",w=0;w<b.declarations.length&&(l=e(b.declarations[w],r),""===l);w++);break;case "IfStatement":return l=e(b.test,r),""!==l?l:"AssignmentExpression"===b.test.type||"UpdateExpression"===b.test.type?v(b.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):null!==b.consequent&&(l=e(b.consequent,r),""!==l)?l:null!==b.alternate&&(l=e(b.alternate,r),""!==l)?l:"";case "EmptyStatement":return"";case "BlockStatement":for(w=0;w<b.body.length;w++)if(l=e(b.body[w],r),""!==l)return l;return"";case "ReturnStatement":return null!==
b.argument?e(b.argument,r):"";case "ForInStatement":if("VariableDeclaration"===b.left.type){if(1<b.left.declarations.length)return v(b,"SYNTAX","ONLY1VAR");if(null!==b.left.declarations[0].init)return v(b,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==b.left.type)return v(b,"SYNTAX","LEFTNOTVAR");return l=e(b.left,r),""!==l?l:(l=e(b.right,r),""!==l?l:(l=e(b.body,r),""!==l?l:""));case "ForStatement":return null!==b.init&&(l=e(b.init,r),""!==l)?l:null!==b.test&&(l=e(b.test,r),""!==l)?l:null!==
b.body&&(l=e(b.body,r),""!==l)?l:null!==b.update&&(l=e(b.update,r),""!==l)?l:"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==b.argument.type&&"MemberExpression"!==b.argument.type)return v(b,"SYNTAX","ASSIGNMENTTOVARSONLY");var x=!1;return"MemberExpression"===b.argument.type?e(b.argument,r):(null!==r.localScope&&void 0!==r.localScope[b.argument.name.toLowerCase()]&&(x=!0),void 0!==r.globalScope[b.argument.name.toLowerCase()]&&(x=!0),!1===
x?"Identifier "+b.argument.name+" has not been declared.":"");case "AssignmentExpression":if("Identifier"!==b.left.type&&"MemberExpression"!==b.left.type)return v(b,"SYNTAX","ASSIGNMENTTOVARSONLY");var J=e(b.right,r);return""!==J?J:(x=!1,"MemberExpression"===b.left.type?(J=e(b.left,r),""!==J?J:""):(null!==r.localScope&&void 0!==r.localScope[b.left.name.toLowerCase()]&&(x=!0),void 0!==r.globalScope[b.left.name.toLowerCase()]&&(x=!0),!1===x?"Identifier "+b.left.name+" has not been declared.":""));case "ExpressionStatement":return e(b.expression,
r);case "Identifier":var u=b.name.toLowerCase();if(null!==r.localScope&&void 0!==r.localScope[u])return"";l=void 0!==r.globalScope[u]?"":v(b,"SYNTAX","VARIABLENOTFOUND");break;case "MemberExpression":return l=e(b.object,r),""!==l?l:!0===b.computed?e(b.property,r):"";case "Literal":return"";case "ThisExpression":l=v(b,"SYNTAX","NOTSUPPORTED");break;case "CallExpression":if("Identifier"!==b.callee.type)return v(b,"SYNTAX","ONLYNODESSUPPORTED");l="";for(w=0;w<b.arguments.length;w++)if(l=e(b.arguments[w],
r),""!==l)return l;var D=m(b.callee.name,b.arguments,r);-1===D&&(l=v(b,"SYNTAX","NOTFOUND"));-2===D&&(l=v(b,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":l=e(b.argument,r);break;case "BinaryExpression":return l=e(b.left,r),""!==l?l:(l=e(b.right,r),""!==l?l:"");case "LogicalExpression":return l=e(b.left,r),""!==l?l:"AssignmentExpression"===b.left.type||"UpdateExpression"===b.left.type?v(b.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):(l=e(b.right,r),""!==l?l:"AssignmentExpression"===
b.right.type||"UpdateExpression"===b.right.type?v(b.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"");case "ConditionalExpression":return v(b,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":l="";for(w=0;w<b.elements.length&&(l=e(b.elements[w],r),""===l);w++);break;case "ObjectExpression":l="";for(w=0;w<b.properties.length;w++){if(l="",null!==b.properties[w].key&&("Literal"!==b.properties[w].key.type&&"Identifier"!==b.properties[w].key.type&&(l=v(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===
b.properties[w].key.type)){var E=b.properties[w].key.value;"string"==typeof E||E instanceof String||(l=v(b,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===l&&(l=e(b.properties[w],r)),""!==l)break}break;case "Property":return"Literal"!==b.key.type&&"Identifier"!==b.key.type?v(b,"SYNTAX","ONLYLITERAL"):"Identifier"!==b.key.type&&(l=e(b.key,r),""!==l)?l:l=e(b.value,r);case "Array":return v(b,"SYNTAX","NOTSUPPORTED")}return l}catch(Z){throw Z;}}function q(a,b){var g=!1;try{switch(a.type){case "VariableDeclarator":return null!==
a.init?q(a.init,b):g;case "FunctionDeclaration":return q(a.body,b);case "VariableDeclaration":for(var e=0;e<a.declarations.length;e++)if(q(a.declarations[e],b))return!0;return g;case "IfStatement":return q(a.test,b)?!0:null!==a.consequent&&q(a.consequent,b)?!0:null!==a.alternate&&q(a.alternate,b)?!0:g;case "EmptyStatement":return g;case "BlockStatement":for(e=0;e<a.body.length;e++)if(q(a.body[e],b))return!0;return g;case "ReturnStatement":return null!==a.argument?q(a.argument,b):g;case "UpdateExpression":return q(a.argument,
b);case "AssignmentExpression":return g=q(a.right,b),g?g:q(a.left,b);case "ExpressionStatement":return q(a.expression,b);case "ForInStatement":return(g=q(a.left,b))?g:(g=q(a.right,b))?g:(g=q(a.body,b),g);case "ForStatement":return null!==a.init&&(g=q(a.init,b))?g:null!==a.test&&(g=q(a.test,b))?g:null!==a.body&&(g=q(a.body,b))?g:(null!==a.update&&(g=q(a.update,b)),g);case "BreakStatement":return g;case "ContinueStatement":return g;case "Compound":return g;case "Identifier":return b.toLowerCase()===
a.name.toLowerCase();case "MemberExpression":return(g=q(a.object,b))?g:(!0===a.computed&&(g=q(a.property,b)),g);case "Literal":return g;case "ThisExpression":return g;case "CallExpression":for(e=0;e<a.arguments.length;e++)q(a.arguments[e],b)&&(g=!0);return g;case "ArrayExpression":for(e=0;e<a.elements.length;e++)q(a.elements[e],b)&&(g=!0);return g;case "UnaryExpression":return q(a.argument,b);case "BinaryExpression":return(g=q(a.left,b))?g:g=q(a.right,b);case "LogicalExpression":return(g=q(a.left,
b))?g:g=q(a.right,b);case "ObjectExpression":for(e=0;e<a.properties.length;e++)q(a.properties[e],b)&&(g=!0);return g;case "Property":return g=q(a.value,b);case "ConditionalExpression":return g;case "Array":return g;default:return g}}catch(M){throw M;}}function l(a,b){var g=!1;try{switch(a.type){case "VariableDeclarator":return null!==a.init?l(a.init,b):g;case "FunctionDeclaration":return l(a.body,b);case "VariableDeclaration":for(var e=0;e<a.declarations.length;e++)if(l(a.declarations[e],b))return!0;
return g;case "IfStatement":return l(a.test,b)?!0:null!==a.consequent&&l(a.consequent,b)?!0:null!==a.alternate&&l(a.alternate,b)?!0:g;case "EmptyStatement":return g;case "BlockStatement":for(e=0;e<a.body.length;e++)if(l(a.body[e],b))return!0;return g;case "ReturnStatement":return null!==a.argument?l(a.argument,b):g;case "UpdateExpression":return l(a.argument,b);case "AssignmentExpression":return l(a.left,b)?!0:l(a.right,b);case "ExpressionStatement":return l(a.expression,b);case "ForInStatement":return(g=
l(a.left,b))?g:(g=l(a.right,b))?g:(g=l(a.body,b),g);case "ForStatement":return null!==a.init&&(g=l(a.init,b))?g:null!==a.test&&(g=l(a.test,b))?g:null!==a.body&&(g=l(a.body,b))?g:(null!==a.update&&(g=l(a.update,b)),g);case "BreakStatement":return g;case "ContinueStatement":return g;case "Compound":return g;case "Identifier":return g;case "MemberExpression":return(g=l(a.object,b))?g:(!0===a.computed&&(g=l(a.property,b)),g);case "Literal":return g;case "ThisExpression":return g;case "CallExpression":if(a.callee.name.toLowerCase()===
b.toLowerCase())return!0;for(e=0;e<a.arguments.length;e++)l(a.arguments[e],b)&&(g=!0);return g;case "ArrayExpression":for(e=0;e<a.elements.length;e++)l(a.elements[e],b)&&(g=!0);return g;case "UnaryExpression":return l(a.argument,b);case "BinaryExpression":return(g=l(a.left,b))?g:g=l(a.right,b);case "LogicalExpression":return(g=l(a.left,b))?g:g=l(a.right,b);case "ConditionalExpression":return g;case "ObjectExpression":for(e=0;e<a.properties.length;e++)l(a.properties[e],b)&&(g=!0);return g;case "Property":return g=
l(a.value,b);case "Array":return g;default:return g}}catch(M){throw M;}}function b(a,g){var e,r=[];try{switch(a.type){case "VariableDeclarator":return null!==a.init?b(a.init,g):r;case "FunctionDeclaration":return b(a.body,g);case "VariableDeclaration":for(var l=0;l<a.declarations.length;l++)e=b(a.declarations[l],g),r=r.concat(e);return r;case "ForInStatement":return e=b(a.left,g),r=r.concat(e),e=b(a.right,g),r=r.concat(e),e=b(a.body,g),r=r.concat(e);case "ForStatement":return null!==a.init&&(e=b(a.init,
g),r=r.concat(e)),null!==a.test&&(e=b(a.test,g),r=r.concat(e)),null!==a.body&&(e=b(a.body,g),r=r.concat(e)),null!==a.update&&(e=b(a.update,g),r=r.concat(e)),r;case "IfStatement":return e=b(a.test,g),r=r.concat(e),null!==a.consequent&&(e=b(a.consequent,g),r=r.concat(e)),null!==a.alternate&&(e=b(a.alternate,g),r=r.concat(e)),r;case "EmptyStatement":return r;case "BlockStatement":for(l=0;l<a.body.length;l++)e=b(a.body[l],g),r=r.concat(e);return r;case "ReturnStatement":return null!==a.argument?b(a.argument,
g):r;case "UpdateExpression":return b(a.argument,g);case "AssignmentExpression":return r=b(a.left,g),r=r.concat(b(a.right,g));case "ExpressionStatement":return b(a.expression,g);case "BreakStatement":return r;case "ContinueStatement":return r;case "Compound":return r;case "Identifier":return r;case "MemberExpression":if("Identifier"!==a.object.type)return r;if(!1===a.computed)r.push(a.object.name.toLowerCase()+"."+a.property.name.toLowerCase());else try{"Literal"===a.property.type&&"string"==typeof a.property.value&&
r.push(a.object.name.toLowerCase()+"."+a.property.value.toString().toLowerCase())}catch(I){}return r;case "Literal":return r;case "ThisExpression":return r;case "CallExpression":for(l=0;l<a.arguments.length;l++)e=b(a.arguments[l],g),r=r.concat(e);return r;case "ArrayExpression":for(l=0;l<a.elements.length;l++)e=b(a.elements[l],g),r=r.concat(e);return r;case "UnaryExpression":return b(a.argument,g);case "ObjectExpression":for(l=0;l<a.properties.length;l++)e=b(a.properties[l],g),r=r.concat(e);return r;
case "Property":return b(a.value,g);case "BinaryExpression":return e=b(a.left,g),r=r.concat(e),e=b(a.right,g),r=r.concat(e);case "LogicalExpression":return e=b(a.left,g),r=r.concat(e),e=b(a.right,g),r=r.concat(e);case "ConditionalExpression":return r;case "Array":return r;default:return r}}catch(I){throw I;}}function g(a,b,g){g=[];if(void 0!==b.params&&null!==b.params)for(var e=0;e<b.params.length;e++)g.push("any");return{name:a,"return":"any",params:g}}function a(a,b){b={globalScope:b.globalScope,
localScope:{}};for(var g=0;g<a.params.length;g++)b.localScope[a.params[g].name.toLowerCase()]={type:"any"};return e(a.body,b)}function r(a,b,g,e){var r={};void 0!==a&&null!==a||(a={});void 0!==g&&null!==g||(g={});r.infinity={type:"any"};r.textformatting={type:"any"};r.pi={type:"any"};for(var l in b)("simple"!==e||"simple"===e&&"a"===b[l].av)&&(r[l]={type:"FormulaFunction",signature:{min:b[l].min,max:b[l].max}},"simple"!==e&&(void 0!==b[l].fmin&&(r[l].signature.min=b[l].fmin),void 0!==b[l].fmax&&(r[l].signature.max=
b[l].fmax)));for(b=0;b<g.length;b++)l=g[b],r[l.name]={type:"FormulaFunction",signature:l};for(l in a)r[l]=a[l],r[l].type="any";return r}function v(a,b,g){var e="";switch(b){case "SYNTAX":e="Syntax Error: ";break;case "RUNTIME":e="Runtime Error: ";break;default:e="Syntax Error: "}try{switch(a.type){case "IfStatement":switch(g){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":e+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":e+=" Non Boolean used as Condition"}break;
case "UpdateExpression":case "AssignmentExpression":switch(g){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":e+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":e+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":e+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(g){case "GLOBALFUNCTIONSONLY":e+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":e+=" Function Definition must have an identifier"}break;
case "VariableDeclaration":e+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(g){case "FUNCTIONVARIABLEDECLARATOR":e+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":e+=" Variable Definition must have an identifier"}break;case "Identifier":e+=" Identifier Not Found. ";e+=a.name;break;case "ObjectExpression":switch(g){case "OBJECTPROPERTYMUSTBESTRING":e+=" Property name must be a string"}break;case "ForStatement":switch(g){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":e+=
" Non Boolean used as Condition"}break;case "ForInStatement":switch(g){case "ONLY1VAR":e+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":e+=" Can only declare value for use with IN";break;case "LEFTNOVAR":e+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":e+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":e+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(g){case "PROPERTYNOTFOUND":e+=
"Cannot find member property. ";e+=!1===a.computed?a.property.name:"";break;case "OUTOFBOUNDS":e+="Out of Bounds. ";e+=!1===a.computed?a.property.name:"";break;case "NOTFOUND":e+="Cannot call member method on null. ";e+=!1===a.computed?a.property.name:"";break;case "INVALIDTYPE":e+="Cannot call member property on object of this type. ",e+=!1===a.computed?a.property.name:""}break;case "Property":switch(g){case "ONLYLITERAL":e+="Property names must be literals or identifiers"}break;case "Literal":break;
case "ThisExpression":e+="THIS construct is not supported.";case "CallExpression":switch(g){case "WRONGSIGNATURE":e+="Function signature does not match: ";e+=a.callee.name;break;case "ONLYNODESUPPORTED":e+="Functions must be declared.";e+=a.callee.name;break;case "NOTAFUNCTION":e+="Not a Function: ";e+=a.callee.name;break;case "NOTFOUND":e+="Function Not Found: "+a.callee.name}break;case "UnaryExpression":switch(g){case "NOTSUPPORTEDUNARYOPERATOR":e+="Operator "+a.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";
break;case "NOTSUPPORTEDTYPE":e+="Unary operator "+a.operator+" cannot be used with this argument."}case "BinaryExpression":switch(g){case "OPERATORNOTRECOGNISED":e+="Binary Operator not recognised "+a.operator}break;case "LogicalExpression":switch(g){case "ONLYBOOLEAN":e+="Operator "+a.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":e+="Logical Expression "+a.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":e+=
"Conditional statements not supported.";break;case "ArrayExpression":switch(g){case "FUNCTIONCONTEXTILLEGAL":e+=" Cannot Put Function inside Array."}break;case "Array":e+="Expression contains unrecognised array structure.";break;default:e+="Expression contains unrecognised code structures."}}catch(M){throw M;}return e}function w(a,b,g){return{line:a.loc.start.line,character:a.loc.start.column,reason:v(a,b,g)}}function x(a,b,g,e,r){void 0===r&&(r=!0);b={globalScope:b.globalScope,localScope:{}};for(r=
0;r<a.params.length;r++)b.localScope[a.params[r].name.toLowerCase()]={type:"any"};D(a.body,b,g,e,!1)}function D(a,b,e,r,l){if(void 0===l&&(l=!0),null===a)throw Error("Unnexpexted Expression Syntax");var q=null;try{switch(a.type){case "VariableDeclarator":return null!==a.init&&"FunctionExpression"===a.init.type?void r.push(w(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR")):("Identifier"!==a.id.type?r.push(w(a,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(null!==b.localScope?void 0!==b.localScope[a.id.name.toLowerCase()]:
void 0!==b.globalScope[a.id.name.toLowerCase()],null===b.localScope?b.globalScope[a.id.name.toLowerCase()]={type:"any"}:b.localScope[a.id.name.toLowerCase()]={type:"any"}),void(null===a.init?"":D(a.init,b,e,r,l)));case "FunctionDeclaration":return!1===l&&r.push(w(a,"SYNTAX","GLOBALFUNCTIONSONLY")),"Identifier"!==a.id.type&&r.push(w(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER")),q=g("",a,b),x(a,b,e,r,l),null!==b.localScope&&r.push(w(a,"SYNTAX","GLOBALFUNCTIONSONLY")),q.isnative=!1,void("Identifier"===a.id.type&&
(b.globalScope[a.id.name.toLowerCase()]={type:"FormulaFunction",signature:[q]}));case "VariableDeclaration":for(var h=0;h<a.declarations.length;h++)D(a.declarations[h],b,e,r,l);break;case "IfStatement":return null!==a.test&&(D(a.test,b,e,r,l),("AssignmentExpression"===a.test.type||"UpdateExpression"===a.test.type)&&r.push(w(a.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))),null!==a.consequent&&D(a.consequent,b,e,r,l),void(null!==a.alternate&&D(a.alternate,b,e,r,l));case "EmptyStatement":break;
case "BlockStatement":if(null!==a.body)for(h=0;h<a.body.length;h++)D(a.body[h],b,e,r,l);break;case "ReturnStatement":return void(null!==a.argument&&D(a.argument,b,e,r,l));case "ForInStatement":return"VariableDeclaration"===a.left.type?(1<a.left.declarations.length&&r.push(w(a,"SYNTAX","ONLY1VAR")),null!==a.left.declarations[0].init&&r.push(w(a,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==a.left.type&&r.push(w(a,"SYNTAX","LEFTNOTVAR")),D(a.left,b,e,r,l),D(a.right,b,e,r,l),void D(a.body,b,e,r,l);case "ForStatement":return null!==
a.init&&D(a.init,b,e,r,l),null!==a.test&&D(a.test,b,e,r,l),null!==a.body&&D(a.body,b,e,r,l),void(null!==a.update&&D(a.update,b,e,r,l));case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type?r.push(w(a,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===a.argument.type&&(q=!1,!1===e&&(null!==b.localScope&&void 0!==b.localScope[a.argument.name.toLowerCase()]&&(q=!0),void 0!==b.globalScope[a.argument.name.toLowerCase()]&&
(q=!0),!1===q&&r.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.argument.name+" has not been declared."}))),"MemberExpression"===a.argument.type&&D(a.argument,b,e,r,l));break;case "AssignmentExpression":switch("Identifier"!==a.left.type&&"MemberExpression"!==a.left.type&&r.push(w(a,"SYNTAX","ASSIGNMENTTOVARSONLY")),a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:r.push(w(a,"SYNTAX","OPERATORNOTRECOGNISED"))}D(a.right,
b,e,r,l);q=!1;return"Identifier"===a.left.type&&(null!==b.localScope&&void 0!==b.localScope[a.left.name.toLowerCase()]&&(q=!0),void 0!==b.globalScope[a.left.name.toLowerCase()]&&(q=!0),!1===e&&!1===q&&r.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.argument.name+" has not been declared."})),void("MemberExpression"===a.left.type&&D(a.left,b,e,r,l));case "ExpressionStatement":return void D(a.expression,b,e,r,l);case "Identifier":var v=a.name.toLowerCase();
if(null!==b.localScope&&void 0!==b.localScope[v])break;if(void 0!==b.globalScope[v])break;!1===e&&r.push(w(a,"SYNTAX","VARIABLENOTFOUND"));break;case "MemberExpression":return D(a.object,b,e,r,l),void(!0===a.computed&&D(a.property,b,e,r,l));case "Literal":return"";case "ThisExpression":r.push(w(a,"SYNTAX","NOTSUPPORTED"));break;case "CallExpression":"Identifier"!==a.callee.type&&r.push(w(a,"SYNTAX","ONLYNODESSUPPORTED"));for(h=0;h<a.arguments.length;h++)D(a.arguments[h],b,e,r,l);var B=m(a.callee.name,
a.arguments,b);return!1===e&&-1===B&&r.push(w(a,"SYNTAX","NOTFOUND")),void(-2===B&&r.push(w(a,"SYNTAX","WRONGSIGNATURE")));case "UnaryExpression":return void D(a.argument,b,e,r,l);case "BinaryExpression":switch(D(a.left,b,e,r,l),D(a.right,b,e,r,l),a.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:r.push(w(a,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(a.operator){case "\x26\x26":case "||":break;
default:r.push(w(a,"SYNTAX","OPERATORNOTRECOGNISED"))}return D(a.left,b,e,r,l),("AssignmentExpression"===a.left.type||"UpdateExpression"===a.left.type)&&r.push(w(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")),D(a.right,b,e,r,l),void(("AssignmentExpression"===a.right.type||"UpdateExpression"===a.right.type)&&r.push(w(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));case "ConditionalExpression":r.push(w(a,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(h=0;h<a.elements.length;h++)D(a.elements[h],
b,e,r,l);break;case "Array":r.push(w(a,"SYNTAX","NOTSUPPORTED"));case "ObjectExpression":for(h=0;h<a.properties.length;h++)D(a.properties[h],b,e,r,l);break;case "Property":return"Literal"!==a.key.type&&"Identifier"!==a.key.type&&r.push(w(a,"SYNTAX","ONLYLITERAL")),"Literal"===a.key.type&&D(a.key,b,e,r,l),void D(a.value,b,e,r,l);default:r.push(w(a,"SYNTAX","UNRECOGNISED"))}}catch(N){r.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Unnexpected Syntax"})}}function E(a,
b){var g,e=[];try{switch(a.type){case "VariableDeclarator":return null!==a.init?E(a.init,b):e;case "FunctionDeclaration":return E(a.body,b);case "VariableDeclaration":for(var r=0;r<a.declarations.length;r++)g=E(a.declarations[r],b),e=e.concat(g);return e;case "ForInStatement":return g=E(a.left,b),e=e.concat(g),g=E(a.right,b),e=e.concat(g),g=E(a.body,b),e=e.concat(g);case "ForStatement":return null!==a.init&&(g=E(a.init,b),e=e.concat(g)),null!==a.test&&(g=E(a.test,b),e=e.concat(g)),null!==a.body&&
(g=E(a.body,b),e=e.concat(g)),null!==a.update&&(g=E(a.update,b),e=e.concat(g)),e;case "IfStatement":return g=E(a.test,b),e=e.concat(g),null!==a.consequent&&(g=E(a.consequent,b),e=e.concat(g)),null!==a.alternate&&(g=E(a.alternate,b),e=e.concat(g)),e;case "EmptyStatement":return e;case "BlockStatement":for(r=0;r<a.body.length;r++)g=E(a.body[r],b),e=e.concat(g);return e;case "ReturnStatement":return null!==a.argument?E(a.argument,b):e;case "UpdateExpression":return E(a.argument,b);case "AssignmentExpression":return e=
E(a.left,b),e=e.concat(E(a.right,b));case "ExpressionStatement":return E(a.expression,b);case "BreakStatement":return e;case "ContinueStatement":return e;case "Compound":return e;case "Identifier":return e;case "MemberExpression":return e;case "Literal":return e;case "ThisExpression":return e;case "CallExpression":for(r=0;r<a.arguments.length;r++)g=E(a.arguments[r],b),e=e.concat(g);return e.push(a.callee.name.toLowerCase()),e;case "ArrayExpression":for(r=0;r<a.elements.length;r++)g=E(a.elements[r],
b),e=e.concat(g);return e;case "UnaryExpression":return E(a.argument,b);case "ObjectExpression":for(r=0;r<a.properties.length;r++)g=E(a.properties[r],b),e=e.concat(g);return e;case "Property":return E(a.value,b);case "BinaryExpression":return g=E(a.left,b),e=e.concat(g),g=E(a.right,b),e=e.concat(g);case "LogicalExpression":return g=E(a.left,b),e=e.concat(g),g=E(a.right,b),e=e.concat(g);case "ConditionalExpression":return e;case "Array":return e;default:return e}}catch(I){throw I;}}Object.defineProperty(p,
"__esModule",{value:!0});p.functionDecls={concatenate:{min:"0",max:"*",av:"a"},split:{min:"2",max:"4",av:"a"},guid:{min:"0",max:"1",av:"a"},today:{min:"0",max:"0",av:"a"},now:{min:"0",max:"0",av:"a"},timestamp:{min:"0",max:"0",av:"a"},day:{min:"1",max:"1",av:"a"},month:{min:"1",max:"1",av:"a"},year:{min:"1",max:"1",av:"a"},hour:{min:"1",max:"1",av:"a"},second:{min:"1",max:"1",av:"a"},millisecond:{min:"1",max:"1",av:"a"},minute:{min:"1",max:"1",av:"a"},weekday:{min:"1",max:"1",av:"a"},toutc:{min:"1",
max:"1",av:"a"},tolocal:{min:"1",max:"1",av:"a"},date:{min:"0",max:"7",av:"a"},datediff:{min:"2",max:"3",av:"a"},dateadd:{min:"2",max:"3",av:"a"},trim:{min:"1",max:"1",av:"a"},text:{min:"1",max:"2",av:"a"},left:{min:"2",max:"2",av:"a"},right:{min:"2",max:"2",av:"a"},mid:{min:"2",max:"3",av:"a"},upper:{min:"1",max:"1",av:"a"},proper:{min:"1",max:"2",av:"a"},lower:{min:"1",max:"1",av:"a"},find:{min:"2",max:"3",av:"a"},iif:{min:"3",max:"3",av:"a"},decode:{min:"2",max:"*",av:"a"},when:{min:"2",max:"*",
av:"a"},defaultvalue:{min:"2",max:"2",av:"a"},isempty:{min:"1",max:"1",av:"a"},domaincode:{min:"3",max:"4",av:"a"},domainname:{min:"2",max:"4",av:"a"},polygon:{min:"1",max:"1",av:"a"},point:{min:"1",max:"1",av:"a"},polyline:{min:"1",max:"1",av:"a"},extent:{min:"1",max:"1",av:"a"},multipoint:{min:"1",max:"1",av:"a"},geometry:{min:"1",max:"1",av:"a"},count:{min:"0",max:"*",av:"a"},number:{min:"1",max:"2",av:"a"},acos:{min:"1",max:"1",av:"a"},asin:{min:"1",max:"1",av:"a"},atan:{min:"1",max:"1",av:"a"},
atan2:{min:"2",max:"2",av:"a"},ceil:{min:"1",max:"2",av:"a"},floor:{min:"1",max:"2",av:"a"},round:{min:"1",max:"2",av:"a"},cos:{min:"1",max:"1",av:"a"},exp:{min:"1",max:"1",av:"a"},log:{min:"1",max:"1",av:"a"},min:{min:"0",max:"*",av:"a"},constrain:{min:"3",max:"3",av:"a"},console:{min:"0",max:"*",av:"a"},max:{min:"0",max:"*",av:"a"},pow:{min:"2",max:"2",av:"a"},random:{min:"0",max:"0",av:"a"},sqrt:{min:"1",max:"1",av:"a"},sin:{min:"1",max:"1",av:"a"},tan:{min:"1",max:"1",av:"a"},abs:{min:"1",max:"1",
av:"a"},isnan:{min:"1",max:"1",av:"a"},stdev:{min:"0",max:"*",av:"a"},average:{min:"0",max:"*",av:"a"},mean:{min:"0",max:"*",av:"a"},sum:{min:"0",max:"*",av:"a"},variance:{min:"0",max:"*",av:"a"},distinct:{min:"0",max:"*",av:"a"},first:{min:"1",max:"1",av:"a"},top:{min:"2",max:"2",av:"a"},"boolean":{min:"1",max:"1",av:"a"},dictionary:{min:"0",max:"*",av:"a"},"typeof":{min:"1",max:"1",av:"a"},reverse:{min:"1",max:"1",av:"a"},replace:{min:"3",max:"4",av:"a"},sort:{min:"1",max:"2",av:"a"},feature:{min:"1",
max:"*",av:"a"},haskey:{min:"2",max:"2",av:"a"},indexof:{min:"2",max:"2",av:"a"},disjoint:{min:"2",max:"2",av:"a"},intersects:{min:"2",max:"2",av:"a"},touches:{min:"2",max:"2",av:"a"},crosses:{min:"2",max:"2",av:"a"},within:{min:"2",max:"2",av:"a"},contains:{min:"2",max:"2",av:"a"},overlaps:{min:"2",max:"2",av:"a"},equals:{min:"2",max:"2",av:"a"},relate:{min:"3",max:"3",av:"a"},intersection:{min:"2",max:"2",av:"a"},union:{min:"1",max:"2",av:"a"},difference:{min:"2",max:"2",av:"a"},symmetricdifference:{min:"2",
max:"2",av:"a"},clip:{min:"2",max:"2",av:"a"},cut:{min:"2",max:"2",av:"a"},area:{min:"1",max:"2",av:"a"},areageodetic:{min:"1",max:"2",av:"a"},length:{min:"1",max:"2",av:"a"},lengthgeodetic:{min:"1",max:"2",av:"a"},distance:{min:"2",max:"3",av:"a"},densify:{min:"2",max:"3",av:"a"},densifygeodetic:{min:"2",max:"3",av:"a"},generalize:{min:"2",max:"4",av:"a"},buffer:{min:"2",max:"3",av:"a"},buffergeodetic:{min:"2",max:"3",av:"a"},offset:{min:"2",max:"6",av:"a"},rotate:{min:"2",max:"3",av:"a"},issimple:{min:"1",
max:"1",av:"a"},simplify:{min:"1",max:"1",av:"a"},centroid:{min:"1",max:"1",av:"a"},multiparttosinglepart:{min:"1",max:"1",av:"a"},setgeometry:{min:"2",max:"2",av:"a"}};p.addFunctionDeclaration=function(a,b){var g=p.functionDecls[a.name.toLowerCase()];void 0===g?p.functionDecls[a.name.toLowerCase()]={min:a.min,max:a.max,av:b}:"a"===g.av&&"f"===b?(void 0!==g.fmin&&delete g.fmin,void 0!==g.fmax&&delete g.fmax,g.fmin=a.min,g.fmax=a.max):"f"===g.av&&"a"===b?(void 0===g.fmin&&(g.fmin=g.min),void 0===g.fmax&&
(g.fmax=g.max),g.min=a.min,g.max=a.max,g.av="a"):"f"===b?(g.fmin=a.min,g.fmax=a.max):"a"===b&&(g.min=a.min,g.max=a.max)};p.checkFunctionSignature=u;p.findFunction=m;p.validateLanguageNode=h;p.testValidityOfExpression=e;p.referencesMemberImpl=q;p.referencesMember=function(a,b){return!0===q(a.body[0].body,b.toLowerCase())?!0:!1};p.referencesFunctionImpl=l;p.referencesFunction=function(a,b){return!0===l(a.body[0].body,b)?!0:!1};p.findFieldLiteralsImpl=b;p.findFieldLiterals=function(a,g){return b(a.body[0].body,
g)};p.extractFunctionDeclaration=g;p.validateFunction=a;p.constructGlobalScope=r;p.validateScript=function(a,b,g){void 0===g&&(g="full");b={globalScope:r(b.vars,p.functionDecls,b.customFunctions,g),localScope:null};return e(a.body[0].body,b)};p.validateLanguage=function(a){return"BlockStatement"!==a.body[0].body.type?"Invalid formula content.":h(a.body[0].body)};p.nodeErrorMessage=v;p.makeError=w;p.extractAllIssuesInFunction=x;p.extractAllIssues=D;p.checkScript=function(a,b,g,e){void 0===e&&(e="full");
var l=[];if("BlockStatement"!==a.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];null!==b&&void 0!==b||(b={vars:{},customFunctions:[]});b={globalScope:r(b.vars,p.functionDecls,b.customFunctions,e),localScope:null};try{D(a.body[0].body,b,g,l)}catch(I){}return l};p.findFunctionCallsImpl=E;p.findFunctionCalls=function(a,b){return E(a.body[0].body,b)}})},"esri/arcade/Dictionary":function(){define(["require","exports","./languageUtils","../geometry/Geometry","./ImmutableArray"],function(y,
p,u,m,h){return function(){function e(q){this.attributes=null;this.plain=!1;this.immutable=!0;q instanceof e?this.attributes=q.attributes:void 0===q?this.attributes={}:null===q?this.attributes={}:this.attributes=q}return e.prototype.field=function(e){var l=e.toLowerCase();e=this.attributes[e];if(void 0!==e)return e;for(var b in this.attributes)if(b.toLowerCase()===l)return this.attributes[b];throw Error("Field not Found");},e.prototype.setField=function(e,l){if(this.immutable)throw Error("Dictionary is Immutable");
var b=e.toLowerCase();if(void 0!==this.attributes[e])return void(this.attributes[e]=l);for(var g in this.attributes)if(g.toLowerCase()===b)return void(this.attributes[g]=l);this.attributes[e]=l},e.prototype.hasField=function(e){var l=e.toLowerCase();if(void 0!==this.attributes[e])return!0;for(var b in this.attributes)if(b.toLowerCase()===l)return!0;return!1},e.prototype.keys=function(){var e=[],l;for(l in this.attributes)e.push(l);return e=e.sort()},e.prototype.castToText=function(){var e="",l;for(l in this.attributes){""!==
e&&(e+=",");var b=this.attributes[l];null==b?e+=JSON.stringify(l)+":null":u.isBoolean(b)||u.isNumber(b)||u.isString(b)?e+=JSON.stringify(l)+":"+JSON.stringify(b):b instanceof m?e+=JSON.stringify(l)+":"+u.toStringExplicit(b):b instanceof h?e+=JSON.stringify(l)+":"+u.toStringExplicit(b):b instanceof Array?e+=JSON.stringify(l)+":"+u.toStringExplicit(b):b instanceof Date?e+=JSON.stringify(l)+":"+JSON.stringify(b):null!==b&&"object"==typeof b&&void 0!==b.castToText&&(e+=JSON.stringify(l)+":"+b.castToText())}return"{"+
e+"}"},e}()})},"esri/arcade/Feature":function(){define("require exports dojo/_base/lang ../geometry/Geometry ../geometry/support/jsonUtils ./Dictionary ./languageUtils ./ImmutableArray ../geometry/Point".split(" "),function(y,p,u,m,h,e,q,l,b){return function(){function g(a,b,l){(this.geometry=null,this.attributes=null,this._layer=null,this._datesfixed=!0,this.immutable=!0,a instanceof g)?(this.attributes=a.attributes,this.geometry=a.geometry,a._layer&&(this._layer=a._layer)):a&&"esri.Graphic"===a.declaredClass?
(this.geometry=a.geometry,void 0===a.attributes?this.attributes={}:null===a.attributes?this.attributes={}:this.attributes=a.attributes,a._sourceLayer?(this._layer=a._sourceLayer,this._datesfixed=!1):a._layer?(this._layer=a._layer,this._datesfixed=!1):a.layer&&(this._layer=a.layer,this._datesfixed=!1)):a instanceof e?(this.attributes=a.field("attributes"),null!==this.attributes&&(this.attributes instanceof e?this.attributes=this.attributes.attributes:this.attributes=null),this.geometry=a.field("geometry"),
null!==this.geometry&&(this.geometry instanceof e?this.geometry=g.parseGeometryFromDictionary(this.geometry):this.geometry instanceof m||(this.geometry=null))):(b instanceof m||null===b?(this.geometry=b,void 0===a?this.attributes={}:null===a?this.attributes={}:this.attributes=a):"string"==typeof a?(a=JSON.parse(a),null!==a.geometry&&void 0!==a.geometry&&(this.geometry=h.fromJSON(a.geometry)),void 0===a.attributes?this.attributes={}:null===a.attributes?this.attributes={}:this.attributes=a.attributes):
(void 0===a?this.attributes={}:null===a&&(this.attributes={}),this.geometry=null),void 0!==l&&(this._layer=l))}return g.prototype.castToText=function(){var a="",b;for(b in this.attributes){""!==a&&(a+=",");var g=this.attributes[b];null==g?a+=JSON.stringify(b)+":null":q.isBoolean(g)||q.isNumber(g)||q.isString(g)?a+=JSON.stringify(b)+":"+JSON.stringify(g):g instanceof m?a+=JSON.stringify(b)+":"+q.toStringExplicit(g):g instanceof l?a+=JSON.stringify(b)+":"+q.toStringExplicit(g):g instanceof Array?a+=
JSON.stringify(b)+":"+q.toStringExplicit(g):g instanceof Date?a+=JSON.stringify(b)+":"+JSON.stringify(g):null!==g&&"object"==typeof g&&void 0!==g.castToText&&(a+=JSON.stringify(b)+":"+g.castToText())}return'{"geometry":'+(null===this.geometry?"null":q.toStringExplicit(this.geometry))+',"attributes":{'+a+"}}"},g.prototype._fixDates=function(){for(var a=[],b=0;b<this._layer.fields.length;b++){var g=this._layer.fields[b];"date"!==g.type&&"esriFieldTypeDate"!==g.type||a.push(g.name)}0<a.length&&this._fixDateFields(a);
this._datesfixed=!0},g.prototype._fixDateFields=function(a){this.attributes=u.mixin({},this.attributes);for(var b=0;b<a.length;b++){var g=this.attributes[a[b]];if(null!==g)if(void 0===g)for(var e in this.attributes){if(e.toLowerCase()===a[b]){g=this.attributes[e];null!==g&&(g instanceof Date||(this.attributes[e]=new Date(g)));break}}else g instanceof Date||(this.attributes[a[b]]=new Date(g))}},g.prototype.field=function(a){!1===this._datesfixed&&this._fixDates();var b=a.toLowerCase();a=this.attributes[a];
if(void 0!==a)return a;for(var g in this.attributes)if(g.toLowerCase()===b)return this.attributes[g];if(this._hasFieldDefinition(b))return null;throw Error("Field not Found");},g.prototype._hasFieldDefinition=function(a){if(null===this._layer)return!1;for(var b=0;b<this._layer.fields.length;b++)if(this._layer.fields[b].name.toLowerCase()===a)return!0;return!1},g.prototype._field=function(a){!1===this._datesfixed&&this._fixDates();var b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(var g in this.attributes)if(g.toLowerCase()===
b)return this.attributes[g];return null},g.prototype.setField=function(a,b){if(this.immutable)throw Error("Feature is Immutable");if(!1===q.isSimpleType(b))throw Error("Illegal Value Assignment to Feature");var g=a.toLowerCase();if(void 0!==this.attributes[a])return void(this.attributes[a]=b);for(var e in this.attributes)if(e.toLowerCase()===g)return void(this.attributes[e]=b);this.attributes[a]=b},g.prototype.hasField=function(a){var b=a.toLowerCase();if(void 0!==this.attributes[a])return!0;for(var g in this.attributes)if(g.toLowerCase()===
b)return!0;return this._hasFieldDefinition(b)?!0:!1},g.prototype.keys=function(){var a=[],b={},g;for(g in this.attributes)a.push(g),b[g.toLowerCase()]=1;if(null!==this._layer)for(g=0;g<this._layer.fields.length;g++){var e=this._layer.fields[g];1!==b[e.name.toLowerCase()]&&a.push(e.name)}return a=a.sort()},g.fromFeature=function(a){return new g(a)},g.parseGeometryFromDictionary=function(a){a=g.convertDictionaryToJson(a,!0);return void 0!==a.spatialreference&&(a.spatialReference=a.spatialreference,
delete a.spatialreference),void 0!==a.rings&&(a.rings=this.fixPathArrays(a.rings,!0===a.hasZ,!0===a.hasM)),void 0!==a.paths&&(a.paths=this.fixPathArrays(a.paths,!0===a.hasZ,!0===a.hasM)),void 0!==a.points&&(a.points=this.fixPointArrays(a.points,!0===a.hasZ,!0===a.hasM)),h.fromJSON(a)},g.fixPathArrays=function(a,b,g){var e=[];if(a instanceof Array)for(var r=0;r<a.length;r++)e.push(this.fixPointArrays(a[r],b,g));else if(a instanceof l)for(r=0;r<a.length();r++)e.push(this.fixPointArrays(a.get(r),b,g));
return e},g.fixPointArrays=function(a,g,e){var r=[];if(a instanceof Array)for(var h=0;h<a.length;h++){var q=a[h];q instanceof b?g&&e?r.push([q.x,q.y,q.z,q.m]):g?r.push([q.x,q.y,q.z]):e?r.push([q.x,q.y,q.m]):r.push([q.x,q.y]):r.push(q)}else if(a instanceof l)for(h=0;h<a.length();h++)q=a.get(h),q instanceof b?g&&e?r.push([q.x,q.y,q.z,q.m]):g?r.push([q.x,q.y,q.z]):e?r.push([q.x,q.y,q.m]):r.push([q.x,q.y]):r.push(q);return r},g.convertDictionaryToJson=function(a,b){void 0===b&&(b=!1);var r={},l;for(l in a.attributes){var h=
a.attributes[l];h instanceof e&&(h=g.convertDictionaryToJson(h));b?r[l.toLowerCase()]=h:r[l]=h}return r},g.parseAttributesFromDictionary=function(a){var b={},g;for(g in a.attributes){var e=a.attributes[g];if(!q.isSimpleType(e))throw Error("Illegal Argument");b[g]=e}return b},g.fromJson=function(a){var b=null;null!==a.geometry&&void 0!==a.geometry&&(b=h.fromJSON(a.geometry));var e={};if(null!==a.attributes&&void 0!==a.attributes)for(var l in a.attributes){var m=a.attributes[l];if(!(q.isString(m)||
q.isNumber(m)||q.isBoolean(m)||q.isDate(m)))throw Error("Illegal Argument");e[l]=m}return new g(e,b)},g.prototype.domainValueLookup=function(a,b,g){if(null===this._layer||!this._layer.fields)return null;g=q.getDomain(a,this._layer,this,g);if(void 0===b)try{b=this.field(a)}catch(w){return null}return q.getDomainValue(g,b)},g.prototype.domainCodeLookup=function(a,b,g){if(null===this._layer||!this._layer.fields)return null;a=q.getDomain(a,this._layer,this,g);return q.getDomainCode(a,b)},g}()})},"esri/arcade/functions/date":function(){define(["require",
"exports","../../moment","../languageUtils"],function(y,p,u,m){function h(e){return null===e?e:isNaN(e.getTime())?null:e}Object.defineProperty(p,"__esModule",{value:!0});p.registerFunctions=function(e,q){e.today=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,0,0);b=new Date;return b.setHours(0,0,0,0),b})};e.now=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,0,0);return new Date})};e.timestamp=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,0,0);b=new Date;return b=new Date(b.getUTCFullYear(),
b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds())})};e.toutc=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?null:new Date(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds())})};e.tolocal=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?null:u.utc([b.getFullYear(),b.getMonth(),b.getDate(),
b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()]).toDate()})};e.day=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?NaN:b.getDate()})};e.month=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?NaN:b.getMonth()})};e.year=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?NaN:b.getFullYear()})};e.hour=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,
1,1);b=m.toDate(e[0]);return null===b?NaN:b.getHours()})};e.second=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?NaN:b.getSeconds()})};e.millisecond=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?NaN:b.getMilliseconds()})};e.minute=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,1,1);b=m.toDate(e[0]);return null===b?NaN:b.getMinutes()})};e.weekday=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,
1,1);b=m.toDate(e[0]);return null===b?NaN:b.getDay()})};e.date=function(e,b){return q(e,b,function(b,a,e){if(m.pcCheck(e,0,7),3===e.length)return h(new Date(m.toNumber(e[0]),m.toNumber(e[1]),m.toNumber(e[2]),0,0,0,0));if(4===e.length)return h(new Date(m.toNumber(e[0]),m.toNumber(e[1]),m.toNumber(e[2]),m.toNumber(e[3]),0,0,0));if(5===e.length)return h(new Date(m.toNumber(e[0]),m.toNumber(e[1]),m.toNumber(e[2]),m.toNumber(e[3]),m.toNumber(e[4]),0,0));if(6===e.length)return h(new Date(m.toNumber(e[0]),
m.toNumber(e[1]),m.toNumber(e[2]),m.toNumber(e[3]),m.toNumber(e[4]),m.toNumber(e[5]),0));if(7===e.length)return h(new Date(m.toNumber(e[0]),m.toNumber(e[1]),m.toNumber(e[2]),m.toNumber(e[3]),m.toNumber(e[4]),m.toNumber(e[5]),m.toNumber(e[6])));if(2===e.length){b=m.toString(e[1]);if(""===b)return null;b=m.standardiseDateFormat(b);e=u(m.toString(e[0]),b,!0);return!0===e.isValid()?e.toDate():null}if(1===e.length){if(m.isString(e[0])&&""===e[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;
b=m.toNumber(e[0]);return!1===isNaN(b)?h(new Date(b)):m.toDate(e[0])}return 0===e.length?new Date:void 0})};e.datediff=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,2,3);b=m.toDateM(e[0]);a=m.toDateM(e[1]);if(null===b||null===a)return NaN;switch(m.toString(e[2]).toLowerCase()){case "days":case "day":case "d":return b.diff(a,"days",!0);case "months":case "month":return b.diff(a,"months",!0);case "minutes":case "minute":case "m":return"M"===e[2]?b.diff(a,"months",!0):b.diff(a,"minutes",!0);
case "seconds":case "second":case "s":return b.diff(a,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return b.diff(a);case "hours":case "hour":case "h":return b.diff(a,"hours",!0);case "years":case "year":case "y":return b.diff(a,"years",!0);default:return b.diff(a)}})};e.dateadd=function(e,b){return q(e,b,function(b,a,e){m.pcCheck(e,2,3);b=m.toDateM(e[0]);if(null===b)return null;a="milliseconds";switch(m.toString(e[2]).toLowerCase()){case "days":case "day":case "d":a="days";break;
case "months":case "month":a="months";break;case "minutes":case "minute":case "m":a="M"===e[2]?"months":"minutes";break;case "seconds":case "second":case "s":a="seconds";break;case "milliseconds":case "millisecond":case "ms":a="milliseconds";break;case "hours":case "hour":case "h":a="hours";break;case "years":case "year":case "y":a="years"}return b.add(m.toNumber(e[1]),a),b.toDate()})}}})},"esri/arcade/functions/string":function(){define(["require","exports","../languageUtils","../Feature"],function(y,
p,u,m){Object.defineProperty(p,"__esModule",{value:!0});p.registerFunctions=function(h,e){h.trim=function(h,l){return e(h,l,function(b,e,a){return u.pcCheck(a,1,1),u.toString(a[0]).trim()})};h.upper=function(h,l){return e(h,l,function(b,e,a){return u.pcCheck(a,1,1),u.toString(a[0]).toUpperCase()})};h.proper=function(h,l){return e(h,l,function(b,e,a){u.pcCheck(a,1,2);b=1;2===a.length&&"firstword"===u.toString(a[1]).toLowerCase()&&(b=2);e=/\s/;a=u.toString(a[0]);for(var g="",l=!0,h=0;h<a.length;h++){var q=
a[h];e.test(q)?1===b&&(l=!0):q.toUpperCase()!==q.toLowerCase()&&(l?(q=q.toUpperCase(),l=!1):q=q.toLowerCase());g+=q}return g})};h.lower=function(h,l){return e(h,l,function(b,e,a){return u.pcCheck(a,1,1),u.toString(a[0]).toLowerCase()})};h.guid=function(h,l){return e(h,l,function(b,e,a){if(u.pcCheck(a,0,1),0<a.length)switch(u.toString(a[0]).toLowerCase()){case "digits":return u.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return u.generateUUID();
case "digits-hyphen-parentheses":return"("+u.generateUUID()+")"}return"{"+u.generateUUID()+"}"})};h.console=function(h,l){return e(h,l,function(b,e,a){return 0===a.length||(1===a.length?h.console(u.toString(a[0])):h.console(u.toString(a))),u.voidOperation})};h.mid=function(h,l){return e(h,l,function(b,e,a){u.pcCheck(a,2,3);b=u.toNumber(a[1]);if(isNaN(b))return"";if(0>b&&(b=0),2===a.length)return u.toString(a[0]).substr(b);e=u.toNumber(a[2]);return isNaN(e)?"":(0>e&&(e=0),u.toString(a[0]).substr(b,
e))})};h.find=function(h,l){return e(h,l,function(b,e,a){u.pcCheck(a,2,3);b=0;if(2<a.length){if(b=u.toNumber(u.defaultUndefined(a[2],0)),isNaN(b))return-1;0>b&&(b=0)}return u.toString(a[1]).indexOf(u.toString(a[0]),b)})};h.left=function(h,l){return e(h,l,function(b,e,a){u.pcCheck(a,2,2);b=u.toNumber(a[1]);return isNaN(b)?"":(0>b&&(b=0),u.toString(a[0]).substr(0,b))})};h.right=function(h,l){return e(h,l,function(b,e,a){u.pcCheck(a,2,2);b=u.toNumber(a[1]);return isNaN(b)?"":(0>b&&(b=0),u.toString(a[0]).substr(-1*
b,b))})};h.split=function(h,l){return e(h,l,function(b,e,a){u.pcCheck(a,2,4);var g;b=u.toNumber(u.defaultUndefined(a[2],-1));e=u.toBoolean(u.defaultUndefined(a[3],!1));if(-1===b||null===b||!0===e?g=u.toString(a[0]).split(u.toString(a[1])):(isNaN(b)&&(b=-1),-1>b&&(b=-1),g=u.toString(a[0]).split(u.toString(a[1]),b)),!1===e)return g;a=[];for(e=0;e<g.length&&!(-1!==b&&a.length>=b);e++)""!==g[e]&&void 0!==g[e]&&a.push(g[e]);return a})};h.text=function(h,l){return e(h,l,function(b,e,a){return u.pcCheck(a,
1,2),u.toStringExplicit(a[0],a[1])})};h.concatenate=function(h,l){return e(h,l,function(b,e,a){b=[];if(1>a.length)return"";if(u.isArray(a[0])){e=u.defaultUndefined(a[2],"");for(var g=0;g<a[0].length;g++)b[g]=u.toStringExplicit(a[0][g],e);return 1<a.length?b.join(a[1]):b.join("")}if(u.isImmutableArray(a[0])){e=u.defaultUndefined(a[2],"");for(g=0;g<a[0].length();g++)b[g]=u.toStringExplicit(a[0].get(g),e);return 1<a.length?b.join(a[1]):b.join("")}for(g=0;g<a.length;g++)b[g]=u.toStringExplicit(a[g]);
return b.join("")})};h.reverse=function(h,l){return e(h,l,function(b,e,a){if(u.pcCheck(a,1,1),u.isArray(a[0]))return b=a[0].slice(0),b.reverse(),b;if(u.isImmutableArray(a[0]))return b=a[0].toArray().slice(0),b.reverse(),b;throw Error("Invalid Parameter");})};h.replace=function(h,l){return e(h,l,function(b,e,a){u.pcCheck(a,3,4);b=u.toString(a[0]);e=u.toString(a[1]);var g=u.toString(a[2]);return(4===a.length?u.toBoolean(a[3]):1)?u.multiReplace(b,e,g):b.replace(e,g)})};h.domainname=function(h,l){return e(h,
l,function(b,e,a){if(u.pcCheck(a,2,4),a[0]instanceof m)return a[0].domainValueLookup(u.toString(a[1]),a[2],void 0===a[3]?void 0:u.toNumber(a[3]));throw Error("Invalid Parameter");})};h.domaincode=function(h,l){return e(h,l,function(b,e,a){if(u.pcCheck(a,3,4),a[0]instanceof m)return a[0].domainCodeLookup(u.toString(a[1]),a[2],void 0===a[3]?void 0:u.toNumber(a[3]));throw Error("Invalid Parameter");})}}})},"esri/arcade/functions/maths":function(){define(["require","exports","../languageUtils","dojo/number"],
function(y,p,u,m){function h(e,h,l){return"undefined"==typeof l||0===+l?Math[e](h):(h=+h,l=+l,isNaN(h)||"number"!=typeof l||0!==l%1?NaN:(h=h.toString().split("e"),h=Math[e](+(h[0]+"e"+(h[1]?+h[1]-l:-l))),h=h.toString().split("e"),+(h[0]+"e"+(h[1]?+h[1]+l:l))))}Object.defineProperty(p,"__esModule",{value:!0});p.registerFunctions=function(e,q){function l(b,e,a){b=u.toNumber(b);return isNaN(b)?b:isNaN(e)||isNaN(a)?NaN:e>a?NaN:e>b?e:b>a?a:b}e.number=function(b,e){return q(b,e,function(a,b,e){u.pcCheck(e,
1,2);a=e[0];return u.isNumber(a)?a:null===a?0:u.isDate(a)||u.isBoolean(a)?Number(a):u.isArray(a)?NaN:""===a||void 0===a?Number(a):u.isString(a)?void 0!==e[1]?(e=u.multiReplace(e[1],"\u2030",""),e=u.multiReplace(e,"\u00a4",""),m.parse(a,{pattern:e})):Number(a.trim()):Number(a)})};e.abs=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.abs(u.toNumber(e[0]))})};e.acos=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.acos(u.toNumber(e[0]))})};e.asin=function(b,
e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.asin(u.toNumber(e[0]))})};e.atan=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.atan(u.toNumber(e[0]))})};e.atan2=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,2,2),Math.atan2(u.toNumber(e[0]),u.toNumber(e[1]))})};e.ceil=function(b,e){return q(b,e,function(a,b,e){return(u.pcCheck(e,1,2),2===e.length)?(a=u.toNumber(e[1]),isNaN(a)&&(a=0),h("ceil",u.toNumber(e[0]),-1*a)):Math.ceil(u.toNumber(e[0]))})};
e.round=function(b,e){return q(b,e,function(a,b,e){return(u.pcCheck(e,1,2),2===e.length)?(a=u.toNumber(e[1]),isNaN(a)&&(a=0),h("round",u.toNumber(e[0]),-1*a)):Math.round(u.toNumber(e[0]))})};e.floor=function(b,e){return q(b,e,function(a,b,e){return(u.pcCheck(e,1,2),2===e.length)?(a=u.toNumber(e[1]),isNaN(a)&&(a=0),h("floor",u.toNumber(e[0]),-1*a)):Math.floor(u.toNumber(e[0]))})};e.cos=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.cos(u.toNumber(e[0]))})};e.isnan=function(b,
e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),"number"==typeof e[0]&&isNaN(e[0])})};e.exp=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.exp(u.toNumber(e[0]))})};e.log=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.log(u.toNumber(e[0]))})};e.pow=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,2,2),Math.pow(u.toNumber(e[0]),u.toNumber(e[1]))})};e.random=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,0,0),Math.random()})};
e.sin=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.sin(u.toNumber(e[0]))})};e.sqrt=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.sqrt(u.toNumber(e[0]))})};e.tan=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,1,1),Math.tan(u.toNumber(e[0]))})};e.defaultvalue=function(b,e){return q(b,e,function(a,b,e){return u.pcCheck(e,2,2),null===e[0]?e[1]:""===e[0]?e[1]:void 0===e[0]?e[1]:e[0]})};e.isempty=function(b,e){return q(b,e,function(a,b,
e){return u.pcCheck(e,1,1),null===e[0]?!0:""===e[0]?!0:void 0===e[0]?!0:!1})};e["boolean"]=function(b,e){return q(b,e,function(a,b,e){u.pcCheck(e,1,1);return u.toBoolean(e[0])})};e.constrain=function(b,e){return q(b,e,function(a,b,e){u.pcCheck(e,3,3);a=u.toNumber(e[1]);b=u.toNumber(e[2]);if(u.isArray(e[0])){var g=[],r=0;for(e=e[0];r<e.length;r++)g.push(l(e[r],a,b));return g}if(u.isImmutableArray(e[0])){g=[];for(r=0;r<e[0].length();r++)g.push(l(e[0].get(r),a,b));return g}return l(e[0],a,b)})}}})},
"esri/arcade/functions/geometry":function(){define("require exports ../../geometry/Geometry ../../geometry/Polygon ../../geometry/Polyline ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/support/jsonUtils ../languageUtils ../Dictionary ../Feature".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,r){Object.defineProperty(p,"__esModule",{value:!0});p.registerFunctions=function(v,w){v.polygon=function(e,l){return w(e,l,function(l,h,q){g.pcCheck(q,1,1);l=null;if(q[0]instanceof
a){if(l=g.fixSpatialReference(r.parseGeometryFromDictionary(q[0]),e.spatialReference),0==l instanceof m)throw Error("Illegal Parameter");}else l=q[0]instanceof m?b.fromJSON(q[0].toJSON()):g.fixSpatialReference(new m(JSON.parse(q[0])),e.spatialReference);if(null!==l&&!1===l.spatialReference.equals(e.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return g.fixNullGeometry(l)})};v.polyline=function(e,l){return w(e,l,function(l,
q,m){g.pcCheck(m,1,1);l=null;if(m[0]instanceof a){if(l=g.fixSpatialReference(r.parseGeometryFromDictionary(m[0]),e.spatialReference),0==l instanceof h)throw Error("Illegal Parameter");}else l=m[0]instanceof h?b.fromJSON(m[0].toJSON()):g.fixSpatialReference(new h(JSON.parse(m[0])),e.spatialReference);if(null!==l&&!1===l.spatialReference.equals(e.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return g.fixNullGeometry(l)})};
v.point=function(l,h){return w(l,h,function(h,q,m){g.pcCheck(m,1,1);h=null;if(m[0]instanceof a){if(h=g.fixSpatialReference(r.parseGeometryFromDictionary(m[0]),l.spatialReference),0==h instanceof e)throw Error("Illegal Parameter");}else h=m[0]instanceof e?b.fromJSON(m[0].toJSON()):g.fixSpatialReference(new e(JSON.parse(m[0])),l.spatialReference);if(null!==h&&!1===h.spatialReference.equals(l.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return g.fixNullGeometry(h)})};v.multipoint=function(e,h){return w(e,h,function(h,q,m){g.pcCheck(m,1,1);h=null;if(m[0]instanceof a){if(h=g.fixSpatialReference(r.parseGeometryFromDictionary(m[0]),e.spatialReference),0==h instanceof l)throw Error("Illegal Parameter");}else h=m[0]instanceof l?b.fromJSON(m[0].toJSON()):g.fixSpatialReference(new l(JSON.parse(m[0])),e.spatialReference);if(null!==h&&!1===h.spatialReference.equals(e.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return g.fixNullGeometry(h)})};v.extent=function(v,u){return w(v,u,function(w,B,x){g.pcCheck(x,1,1);w=null;x[0]instanceof a?w=g.fixSpatialReference(r.parseGeometryFromDictionary(x[0]),v.spatialReference):x[0]instanceof e?(w={xmin:x[0].x,ymin:x[0].y,xmax:x[0].x,ymax:x[0].y,spatialReference:x[0].spatialReference.toJSON()},x[0].hasZ?(w.zmin=x[0].z,w.zmax=x[0].z):x[0].hasM&&(w.mmin=x[0].m,w.mmax=x[0].m),w=b.fromJSON(w)):w=x[0]instanceof m?b.fromJSON(x[0].extent.toJSON()):x[0]instanceof h?b.fromJSON(x[0].extent.toJSON()):
x[0]instanceof l?b.fromJSON(x[0].extent.toJSON()):x[0]instanceof q?b.fromJSON(x[0].toJSON()):g.fixSpatialReference(new q(JSON.parse(x[0])),v.spatialReference);if(null!==w&&!1===w.spatialReference.equals(v.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return g.fixNullGeometry(w)})};v.geometry=function(e,l){return w(e,l,function(l,h,q){g.pcCheck(q,1,1);l=null;if(l=q[0]instanceof r?g.fixSpatialReference(q[0].geometry,
e.spatialReference):q[0]instanceof a?g.fixSpatialReference(r.parseGeometryFromDictionary(q[0]),e.spatialReference):g.fixSpatialReference(b.fromJSON(JSON.parse(q[0])),e.spatialReference),null!==l&&!1===l.spatialReference.equals(e.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return g.fixNullGeometry(l)})};v.setgeometry=function(a,b){return w(a,b,function(a,b,e){if(g.pcCheck(e,2,2),!(e[0]instanceof r))throw Error("Illegal Argument");
if(!0===e[0].immutable)throw Error("Feature is Immutable");if(!(e[1]instanceof u||null===e[1]))throw Error("Illegal Argument");return e[0].geometry=e[1],g.voidOperation})};v.feature=function(b,e){return w(b,e,function(e,l,h){if(0===h.length)throw Error("Missing Parameters");e=null;if(1===h.length)if(g.isString(h[0]))e=r.fromJson(JSON.parse(h[0]));else if(h[0]instanceof r)e=new r(h[0]);else if(h[0]instanceof u)e=new r(null,h[0]);else{if(!(h[0]instanceof a))throw Error("Illegal Argument");e=h[0].hasField("geometry")?
h[0].field("geometry"):null;l=h[0].hasField("attributes")?h[0].field("attributes"):null;null!==e&&e instanceof a&&(e=r.parseGeometryFromDictionary(e));null!==l&&(l=r.parseAttributesFromDictionary(l));e=new r(l,e)}else{if(2===h.length){l=e=null;if(null!==h[0])if(h[0]instanceof u)e=h[0];else{if(!(e instanceof a))throw Error("Illegal Argument");e=r.parseGeometryFromDictionary(h[0])}if(null!==h[1]){if(!(h[1]instanceof a))throw Error("Illegal Argument");l=r.parseAttributesFromDictionary(h[1])}}else{e=
null;l={};if(null!==h[0])if(h[0]instanceof u)e=h[0];else{if(!(e instanceof a))throw Error("Illegal Argument");e=r.parseGeometryFromDictionary(h[0])}for(var q=1;q<h.length;q+=2){var m=g.toString(h[q]),w=h[q+1];if(!(null===w||void 0===w||g.isString(w)||isNaN(w)||g.isDate(w)||g.isNumber(w)||g.isBoolean(w)))throw Error("Illegal Argument");if(g.isFunctionParameter(w)||!1===g.isSimpleType(w))throw Error("Illegal Argument");w===g.voidOperation?l[m]=null:l[m]=w}}e=new r(l,e)}return e.geometry=g.fixSpatialReference(e.geometry,
b.spatialReference),e.immutable=!1,e})};v.dictionary=function(b,e){return w(b,e,function(b,e,l){if(0===l.length)throw Error("Missing Parameters");if(0!==l.length%2)throw Error("Missing Parameters");b={};for(e=0;e<l.length;e+=2){var r=g.toString(l[e]),h=l[e+1];if(!(null===h||void 0===h||g.isString(h)||isNaN(h)||g.isDate(h)||g.isNumber(h)||g.isBoolean(h)||g.isArray(h)||g.isImmutableArray(h)))throw Error("Illegal Argument");if(g.isFunctionParameter(h))throw Error("Illegal Argument");h===g.voidOperation?
b[r]=null:b[r]=h}l=new a(b);return l.immutable=!1,l})};v.haskey=function(b,e){return w(b,e,function(b,e,l){g.pcCheck(l,2,2);b=g.toString(l[1]);if(l[0]instanceof r||l[0]instanceof a)return l[0].hasField(b);throw Error("Illegal Argument");})};v.indexof=function(a,b){return w(a,b,function(a,b,e){g.pcCheck(e,2,2);a=e[1];if(g.isArray(e[0])){for(b=0;b<e[0].length;b++)if(g.equalityTest(a,e[0][b]))return b;return-1}if(g.isImmutableArray(e[0])){var l=e[0].length();for(b=0;l>b;b++)if(g.equalityTest(a,e[0].get(b)))return b;
return-1}throw Error("Illegal Argument");})}}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../geometry/Geometry ../../geometry/Polygon ../../geometry/Polyline ../../geometry/Point ../../geometry/Extent ../../geometry/Multipoint ../../geometry/support/jsonUtils ./centroid ../languageUtils ../kernel ../../kernel".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,r,v){function w(a){return E?a.clone():b.fromJSON(a.toJSON())}function x(a){return 0===v.version.indexOf("4.")?m.fromExtent(a):
new m({spatialReference:a.spatialReference,rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]})}Object.defineProperty(p,"__esModule",{value:!0});var D=null,E=0===v.version.indexOf("4.");p.setGeometryEngine=function(a){D=a};p.registerFunctions=function(v,p){function B(b){if(!((a.pcCheck(b,2,2),b[0]instanceof u&&b[1]instanceof u)||b[0]instanceof u&&null===b[1]||b[1]instanceof u&&null===b[0]||null===b[0]&&null===b[1]))throw Error("Illegal Argument");}v.disjoint=
function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]||null===e[1]?!0:D.disjoint(e[0],e[1])})};v.intersects=function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]||null===e[1]?!1:D.intersects(e[0],e[1])})};v.touches=function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]||null===e[1]?!1:D.touches(e[0],e[1])})};v.crosses=function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]||null===e[1]?!1:D.crosses(e[0],e[1])})};v.within=function(a,b){return p(a,b,
function(a,b,e){return B(e),null===e[0]||null===e[1]?!1:D.within(e[0],e[1])})};v.contains=function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]||null===e[1]?!1:D.contains(e[0],e[1])})};v.overlaps=function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]||null===e[1]?!1:D.overlaps(e[0],e[1])})};v.equals=function(b,e){return p(b,e,function(b,e,g){return a.pcCheck(g,2,2),g[0]===g[1]?!0:g[0]instanceof u&&g[1]instanceof u?D.equals(g[0],g[1]):a.isDate(g[0])&&a.isDate(g[1])?g[0].getTime()===
g[1].getTime():!1})};v.relate=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,3,3),g[0]instanceof u&&g[1]instanceof u)return D.relate(g[0],g[1],a.toString(g[2]));if(g[0]instanceof u&&null===g[1]||g[1]instanceof u&&null===g[0]||null===g[0]&&null===g[1])return!1;throw Error("Illegal Argument");})};v.intersection=function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]||null===e[1]?null:D.intersect(e[0],e[1])})};v.union=function(b,e){return p(b,e,function(e,g,l){e=[];if(0===l.length)throw Error("Function called with wrong number of Parameters");
if(1===l.length)if(a.isArray(l[0]))for(g=0;g<l[0].length;g++){if(null!==l[0][g]){if(!(l[0][g]instanceof u))throw Error("Illegal Argument");e.push(l[0][g])}}else{if(!a.isImmutableArray(l[0])){if(l[0]instanceof u)return a.fixSpatialReference(w(l[0]),b.spatialReference);if(null===l[0])return null;throw Error("Illegal Argument");}l=l[0].toArray();for(g=0;g<l.length;g++)if(null!==l[g]){if(!(l[g]instanceof u))throw Error("Illegal Argument");e.push(l[g])}}else for(g=0;g<l.length;g++)if(null!==l[g]){if(!(l[g]instanceof
u))throw Error("Illegal Argument");e.push(l[g])}return 0===e.length?null:D.union(e)})};v.difference=function(a,b){return p(a,b,function(a,b,e){return B(e),null!==e[0]&&null===e[1]?w(e[0]):null===e[0]?null:D.difference(e[0],e[1])})};v.symmetricdifference=function(a,b){return p(a,b,function(a,b,e){return B(e),null===e[0]&&null===e[1]?null:null===e[0]?w(e[1]):null===e[1]?w(e[0]):D.symmetricDifference(e[0],e[1])})};v.clip=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,2),!(g[1]instanceof
q)&&null!==g[1])throw Error("Illegal Argument");if(null===g[0])return null;if(!(g[0]instanceof u))throw Error("Illegal Argument");return null===g[1]?null:D.clip(g[0],g[1])})};v.cut=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,2),!(g[1]instanceof h)&&null!==g[1])throw Error("Illegal Argument");if(null===g[0])return[];if(!(g[0]instanceof u))throw Error("Illegal Argument");return null===g[1]?[w(g[0])]:D.cut(g[0],g[1])})};v.area=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,
1,2),null===g[0])return 0;if(!(g[0]instanceof u))throw Error("Illegal Argument");return D.planarArea(g[0],r.convertSquareUnitsToCode(a.defaultUndefined(g[1],-1)))})};v.areageodetic=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,1,2),null===g[0])return 0;if(!(g[0]instanceof u))throw Error("Illegal Argument");return D.geodesicArea(g[0],r.convertSquareUnitsToCode(a.defaultUndefined(g[1],-1)))})};v.length=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,1,2),null===g[0])return 0;if(!(g[0]instanceof
u))throw Error("Illegal Argument");return D.planarLength(g[0],r.convertLinearUnitsToCode(a.defaultUndefined(g[1],-1)))})};v.lengthgeodetic=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,1,2),null===g[0])return 0;if(!(g[0]instanceof u))throw Error("Illegal Argument");return D.geodesicLength(g[0],r.convertLinearUnitsToCode(a.defaultUndefined(g[1],-1)))})};v.distance=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,3),!(g[0]instanceof u))throw Error("Illegal Argument");if(!(g[1]instanceof
u))throw Error("Illegal Argument");return D.distance(g[0],g[1],r.convertLinearUnitsToCode(a.defaultUndefined(g[2],-1)))})};v.densify=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,3),null===g[0])return null;if(!(g[0]instanceof u))throw Error("Illegal Argument");b=a.toNumber(g[1]);if(isNaN(b))throw Error("Illegal Argument");if(0>=b)throw Error("Illegal Argument");return g[0]instanceof m||g[0]instanceof h?D.densify(g[0],b,r.convertLinearUnitsToCode(a.defaultUndefined(g[2],-1))):g[0]instanceof
q?D.densify(x(g[0]),b,r.convertLinearUnitsToCode(a.defaultUndefined(g[2],-1))):g[0]})};v.densifygeodetic=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,3),null===g[0])return null;if(!(g[0]instanceof u))throw Error("Illegal Argument");b=a.toNumber(g[1]);if(isNaN(b))throw Error("Illegal Argument");if(0>=b)throw Error("Illegal Argument");return g[0]instanceof m||g[0]instanceof h?D.geodesicDensify(g[0],b,r.convertLinearUnitsToCode(a.defaultUndefined(g[2],-1))):g[0]instanceof q?D.geodesicDensify(x(g[0]),
b,r.convertLinearUnitsToCode(a.defaultUndefined(g[2],-1))):g[0]})};v.generalize=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,4),null===g[0])return null;if(!(g[0]instanceof u))throw Error("Illegal Argument");b=a.toNumber(g[1]);if(isNaN(b))throw Error("Illegal Argument");return D.generalize(g[0],b,a.toBoolean(a.defaultUndefined(g[2],!0)),r.convertLinearUnitsToCode(a.defaultUndefined(g[3],-1)))})};v.buffer=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,3),null===g[0])return null;
if(!(g[0]instanceof u))throw Error("Illegal Argument");b=a.toNumber(g[1]);if(isNaN(b))throw Error("Illegal Argument");return 0===b?w(g[0]):D.buffer(g[0],b,r.convertLinearUnitsToCode(a.defaultUndefined(g[2],-1)))})};v.buffergeodetic=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,3),null===g[0])return null;if(!(g[0]instanceof u))throw Error("Illegal Argument");b=a.toNumber(g[1]);if(isNaN(b))throw Error("Illegal Argument");return 0===b?w(g[0]):D.geodesicBuffer(g[0],b,r.convertLinearUnitsToCode(a.defaultUndefined(g[2],
-1)))})};v.offset=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,2,6),null===g[0])return null;if(!(g[0]instanceof m||g[0]instanceof h))throw Error("Illegal Argument");b=a.toNumber(g[1]);if(isNaN(b))throw Error("Illegal Argument");e=a.toNumber(a.defaultUndefined(g[4],10));if(isNaN(e))throw Error("Illegal Argument");var l=a.toNumber(a.defaultUndefined(g[5],0));if(isNaN(l))throw Error("Illegal Argument");return D.offset(g[0],b,r.convertLinearUnitsToCode(a.defaultUndefined(g[2],-1)),a.toString(a.defaultUndefined(g[3],
"round")).toLowerCase(),e,l)})};v.rotate=function(b,g){return p(b,g,function(b,g,l){a.pcCheck(l,2,3);b=l[0];if(null===b)return null;if(!(b instanceof u))throw Error("Illegal Argument");b instanceof q&&(b=m.fromExtent(b));g=a.toNumber(l[1]);if(isNaN(g))throw Error("Illegal Argument");l=a.defaultUndefined(l[2],null);if(null===l)return D.rotate(b,g);if(l instanceof e)return D.rotate(b,g,l);throw Error("Illegal Argument");})};v.centroid=function(b,r){return p(b,r,function(r,v,x){if(a.pcCheck(x,1,1),null===
x[0])return null;if(!(x[0]instanceof u))throw Error("Illegal Argument");return x[0]instanceof e?a.fixSpatialReference(w(x[0]),b.spatialReference):x[0]instanceof m?E?x[0].centroid:x[0].getCentroid():x[0]instanceof h?g.centroidPolyline(x[0]):x[0]instanceof l?g.centroidMultiPoint(x[0]):x[0]instanceof q?E?x[0].center:x[0].getExtent().getCenter():null})};v.multiparttosinglepart=function(g,r){return p(g,r,function(r,v,x){a.pcCheck(x,1,1);v=[];if(null===x[0])return null;if(!(x[0]instanceof u))throw Error("Illegal Argument");
if(x[0]instanceof e||x[0]instanceof q)return[a.fixSpatialReference(w(x[0]),g.spatialReference)];r=D.simplify(x[0]);if(r instanceof m){v=[];var B=[];for(x=0;x<r.rings.length;x++)if(r.isClockwise(r.rings[x])){var p=b.fromJSON({rings:[r.rings[x]],hasZ:r.hasZ,hasM:r.hasM,spatialReference:E?r.spatialReference.toJSON():r.spatialReference.toJson()});v.push(p)}else B.push({ring:r.rings[x],pt:r.getPoint(x,0)});for(r=0;r<B.length;r++)for(x=0;x<v.length;x++)if(v[x].contains(B[r].pt)){v[x].addRing(B[r].ring);
break}return v}if(r instanceof h){v=[];for(x=0;x<r.paths.length;x++)B=b.fromJSON({paths:[r.paths[x]],hasZ:r.hasZ,hasM:r.hasM,spatialReference:E?r.spatialReference.toJSON():r.spatialReference.toJson()}),v.push(B);return v}if(x[0]instanceof l){r=a.fixSpatialReference(w(x[0]),g.spatialReference);for(x=0;x<r.points.length;x++)v.push(r.getPoint(x));return v}return null})};v.issimple=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,1,1),null===g[0])return!0;if(g[0]instanceof u)return D.isSimple(g[0]);
throw Error("Illegal Argument");})};v.simplify=function(b,e){return p(b,e,function(b,e,g){if(a.pcCheck(g,1,1),null===g[0])return null;if(g[0]instanceof u)return D.simplify(g[0]);throw Error("Illegal Argument");})}}})},"esri/arcade/functions/centroid":function(){define(["require","exports","../../geometry/Point","../../kernel"],function(y,p,u,m){function h(l,b,g){var a={x:0,y:0};b&&(a.z=0);g&&(a.m=0);for(var r=0,h=l[0],q=0;q<l.length;q++){var m=l[q],u;a:if(m.length!==h.length)u=!1;else{for(u=0;u<m.length;u++)if(m[u]!==
h[u]){u=!1;break a}u=!0}if(!1===u){u=e(h,m,b);var p=m,B=b,J=g,K={x:(h[0]+p[0])/2,y:(h[1]+p[1])/2},h=(B&&(K.z=(h[2]+p[2])/2),B&&J?K.m=(h[3]+p[3])/2:J&&(K.m=(h[2]+p[2])/2),K);h.x*=u;h.y*=u;a.x+=h.x;a.y+=h.y;b&&(h.z*=u,a.z+=h.z);g&&(h.m*=u,a.m+=h.m);r+=u;h=m}}return 0<r?(a.x/=r,a.y/=r,b&&(a.z/=r),g&&(a.m/=r)):(a.x=l[0][0],a.y=l[0][1],b&&(a.z=l[0][2]),g&&b?a.m=l[0][3]:g&&(a.m=l[0][2])),a}function e(e,b,g){var a=b[0]-e[0];e=b[1]-e[1];return g?(b=b[2]-b[2],Math.sqrt(a*a+e*e+b*b)):Math.sqrt(a*a+e*e)}Object.defineProperty(p,
"__esModule",{value:!0});var q=0===m.version.indexOf("4.");p.centroidPolyline=function(l){for(var b={x:0,y:0,spatialReference:q?l.spatialReference.toJSON():l.spatialReference.toJson()},g={x:0,y:0,spatialReference:q?l.spatialReference.toJSON():l.spatialReference.toJson()},a=0,r=0,m=0;m<l.paths.length;m++)if(0!==l.paths[m].length){var w;w=l.paths[m];var x=!0===l.hasZ;if(1>=w.length)w=0;else{for(var D=0,p=1;p<w.length;p++)D+=e(w[p-1],w[p],x);w=D}0===w?(x=h(l.paths[m],!0===l.hasZ,!0===l.hasM),b.x+=x.x,
b.y+=x.y,!0===l.hasZ&&(b.z+=x.z),!0===l.hasM&&(b.m+=x.m),++a):(x=h(l.paths[m],!0===l.hasZ,!0===l.hasM),g.x+=x.x*w,g.y+=x.y*w,!0===l.hasZ&&(g.z+=x.z*w),!0===l.hasM&&(g.m+=x.m*w),r+=w)}return 0<r?(g.x/=r,g.y/=r,!0===l.hasZ&&(g.z/=r),!0===l.hasM&&(g.m/=r),new u(g)):0<a?(b.x/=a,b.y/=a,!0===l.hasZ&&(g.z/=a),!0===l.hasM&&(b.m/=a),new u(b)):null};p.centroidMultiPoint=function(e){if(0===e.points.length)return null;for(var b=0,g=0,a=0,l=0,h=0;h<e.points.length;h++){var m=e.getPoint(h);!0===m.hasZ&&(a+=m.z);
!0===m.hasM&&(l+=m.m);b+=m.x;g+=m.y;l+=m.m}b={x:b/e.points.length,y:g/e.points.length,spatialReference:null};return b.spatialReference=q?e.spatialReference.toJSON():e.spatialReference.toJson(),!0===e.hasZ&&(b.z=a/e.points.length),!0===e.hasM&&(b.m=l/e.points.length),new u(b)}})},"esri/arcade/kernel":function(){define(["require","exports","../geometry/Extent"],function(y,p,u){Object.defineProperty(p,"__esModule",{value:!0});p.errback=function(m){return function(h){m.reject(h)}};p.callback=function(m,
h){return function(){try{m.apply(null,arguments)}catch(e){h.reject(e)}}};p.convertSquareUnitsToCode=function(m){if(void 0===m)return null;if("number"==typeof m)return m;switch(m.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square_meters":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;
case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};p.shapeExtent=function(m){if(null===m)return null;switch(m.type){case "polygon":case "multipoint":case "polyline":return m.extent;case "point":return new u({xmin:m.x,
ymin:m.y,xmax:m.x,ymax:m.y,spatialReference:m.spatialReference});case "extent":return m}return null};p.convertLinearUnitsToCode=function(m){if(void 0===m)return null;if("number"==typeof m||"number"==typeof m)return m;switch(m.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;
case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};p.sameGeomType=function(m,h){return m===h?!0:"point"===m&&"esriGeometryPoint"===h?!0:"polyline"===m&&"esriGeometryPolyline"===h?!0:"polygon"===m&&"esriGeometryPolygon"===h?!0:"extent"===m&&"esriGeometryEnvelope"===h?!0:"multipoint"===m&&"esriGeometryMultipoint"===
h?!0:"point"===h&&"esriGeometryPoint"===m?!0:"polyline"===h&&"esriGeometryPolyline"===m?!0:"polygon"===h&&"esriGeometryPolygon"===m?!0:"extent"===h&&"esriGeometryEnvelope"===m?!0:"multipoint"===h&&"esriGeometryMultipoint"===m?!0:!1}})},"esri/arcade/functions/stats":function(){define(["require","exports","../languageUtils","./fieldStats"],function(y,p,u,m){function h(e,h,l,b){if(1===b.length){if(u.isArray(b[0]))return m.calculateStat(e,b[0],-1);if(u.isImmutableArray(b[0]))return m.calculateStat(e,
b[0].toArray(),-1)}return m.calculateStat(e,b,-1)}Object.defineProperty(p,"__esModule",{value:!0});p.registerFunctions=function(e,q){e.stdev=function(e,b){return q(e,b,function(b,a,e){return h("stdev",b,a,e)})};e.variance=function(e,b){return q(e,b,function(b,a,e){return h("variance",b,a,e)})};e.average=function(e,b){return q(e,b,function(b,a,e){return h("mean",b,a,e)})};e.mean=function(e,b){return q(e,b,function(b,a,e){return h("mean",b,a,e)})};e.sum=function(e,b){return q(e,b,function(b,a,e){return h("sum",
b,a,e)})};e.min=function(e,b){return q(e,b,function(b,a,e){return h("min",b,a,e)})};e.max=function(e,b){return q(e,b,function(b,a,e){return h("max",b,a,e)})};e.distinct=function(e,b){return q(e,b,function(b,a,e){return h("distinct",b,a,e)})};e.count=function(e,b){return q(e,b,function(b,a,e){if(u.pcCheck(e,1,1),u.isArray(e[0])||u.isString(e[0]))return e[0].length;if(u.isImmutableArray(e[0]))return e[0].length();throw Error("Invalid Parameters for Count");})}}})},"esri/arcade/functions/fieldStats":function(){define(["require",
"exports","../languageUtils"],function(y,p,u){function m(e){for(var h=0,l=0;l<e.length;l++)h+=e[l];return h/e.length}function h(e){for(var h=m(e),l=0,b=0;b<e.length;b++)l+=Math.pow(h-e[b],2);return l/e.length}Object.defineProperty(p,"__esModule",{value:!0});p.decodeStatType=function(e){switch(e.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";
case "count":return"count"}return""};p.calculateStat=function(e,q,l){switch(void 0===l&&(l=1E3),e.toLowerCase()){case "distinct":a:{e=l;l=[];for(var b={},g=[],a=0;a<q.length;a++){if(void 0!==q[a]&&null!==q[a]&&q[a]!==u.voidOperation){var r=q[a];if(u.isNumber(r)||u.isString(r))void 0===b[r]&&(l.push(r),b[r]=1);else{for(var v=!1,w=0;w<g.length;w++)!0===u.equalityTest(g[w],r)&&(v=!0);!1===v&&(g.push(r),l.push(r))}}if(l.length>=e&&-1!==e){q=l;break a}}q=l}return q;case "avg":case "mean":return m(u.toNumberArray(q));
case "min":return Math.min.apply(Math,u.toNumberArray(q));case "sum":q=u.toNumberArray(q);for(l=e=0;l<q.length;l++)e+=q[l];return e;case "max":return Math.max.apply(Math,u.toNumberArray(q));case "stdev":case "stddev":return Math.sqrt(h(u.toNumberArray(q)));case "var":case "variance":return h(u.toNumberArray(q));case "count":return q.length}return 0}})},"esri/arcade/parser":function(){define(["require","exports","./treeAnalysis","./lib/esprima"],function(y,p,u,m){Object.defineProperty(p,"__esModule",
{value:!0});p.parseScript=function(h){h=m.parse("function _() { "+h+"\n}");if(null===h.body||void 0===h.body)throw Error("No formula provided.");if(0===h.body.length)throw Error("No formula provided.");if(0===h.body.length)throw Error("No formula provided.");if("BlockStatement"!==h.body[0].body.type)throw Error("Invalid formula content.");var e=u.validateLanguage(h);if(""!==e)throw Error(e);return h};p.scriptCheck=function(h,e,q,l){var b=[];try{var g=m.parse("function _() { "+h+"\n}",{tolerant:!0,
loc:!0}),a=g.errors;if(0<a.length)for(var r=0;r<a.length;r++)b.push({line:a[r].lineNumber,character:a[r].column,reason:a[r].description});var v=u.checkScript(g,e,q,l);for(e=0;e<v.length;e++)b.push(v[e])}catch(w){try{"Unexpected token }"===w.description?(w.index=("function _() { "+h+"\n}").length-1,b.push({line:w.lineNumber,character:w.column,reason:"Unexpected end of script"})):b.push({line:w.lineNumber,character:w.column,reason:w.description})}catch(x){}}return b};p.extractFieldLiterals=function(h,
e){return void 0===e&&(e=!1),u.findFieldLiterals(h,e)};p.validateScript=function(h,e,q){return void 0===q&&(q="full"),u.validateScript(h,e,q)};p.referencesMember=function(h,e){return u.referencesMember(h,e)};p.referencesFunction=function(h,e){return u.referencesFunction(h,e)}})},"esri/arcade/lib/esprima":function(){!function(y,p){"function"==typeof define&&define.amd?define(["exports"],p):p("undefined"!=typeof exports?exports:y.esprima={})}(this,function(y){function p(c,f){if(!c)throw Error("ASSERT: "+
f);}function u(c){return 48<=c&&57>=c}function m(c){return 0<="0123456789abcdefABCDEF".indexOf(c)}function h(c){return 0<="01234567".indexOf(c)}function e(c){return 10===c||13===c||8232===c||8233===c}function q(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||92===c||128<=c&&eb.NonAsciiIdentifierStart.test(String.fromCharCode(c))}function l(c){return 36===c||95===c||65<=c&&90>=c||97<=c&&122>=c||48<=c&&57>=c||92===c||128<=c&&eb.NonAsciiIdentifierPart.test(String.fromCharCode(c))}function b(c){switch(c=
c.toLowerCase(),c.length){case 2:return"if"===c||"in"===c;case 3:return"var"===c||"for"===c;case 4:return"else"===c;case 5:return"break"===c;case 6:return"return"===c;case 8:return"function"===c.toLowerCase()||"continue"===c;default:return!1}}function g(c,f,d,k,t){var A;p("number"==typeof d,"Comment must have valid position");ea.lastCommentStart>=d||(ea.lastCommentStart=d,A={type:c,value:f},S.range&&(A.range=[d,k]),S.loc&&(A.loc=t),S.comments.push(A),S.attachComment&&(S.leadingComments.push(A),S.trailingComments.push(A)))}
function a(c){var f,d,k,t;f=L-c;for(d={start:{line:ga,column:L-ia-c}};ka>L;)if(k=R.charCodeAt(L),++L,e(k))return S.comments&&(t=R.slice(f+c,L-1),d.end={line:ga,column:L-ia-1},g("Line",t,f,L-1,d)),13===k&&10===R.charCodeAt(L)&&++L,++ga,void(ia=L);S.comments&&(t=R.slice(f+c,L),d.end={line:ga,column:L-ia},g("Line",t,f,L,d))}function r(){var c,f;for(f=0===L;ka>L;)if(c=R.charCodeAt(L),32===c||9===c||11===c||12===c||160===c||5760<=c&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,
8239,8287,12288,65279].indexOf(c))++L;else if(e(c))++L,13===c&&10===R.charCodeAt(L)&&++L,++ga,ia=L,f=!0;else if(47===c)if(c=R.charCodeAt(L+1),47===c)++L,++L,a(2),f=!0;else{if(42!==c)break;++L;++L;a:{var d=void 0,k=void 0,t=void 0,A=void 0;for(S.comments&&(d=L-2,k={start:{line:ga,column:L-ia-2}});ka>L;)if(t=R.charCodeAt(L),e(t))13===t&&10===R.charCodeAt(L+1)&&++L,++ga,++L,ia=L,L>=ka&&n();else{if(42===t&&47===R.charCodeAt(L+1)){++L;++L;S.comments&&(A=R.slice(d+2,L-2),k.end={line:ga,column:L-ia},g("Block",
A,d,L,k));break a}++L}n()}}else if(f&&45===c){if(45!==R.charCodeAt(L+1)||62!==R.charCodeAt(L+2))break;L+=3;a(3)}else{if(60!==c)break;if("!--"!==R.slice(L+1,L+4))break;++L;++L;++L;++L;a(4)}}function v(c){var f,d,k=0;f="u"===c?4:2;for(c=0;f>c;++c){if(!(ka>L&&m(R[L])))return"";d=R[L++];k=16*k+"0123456789abcdef".indexOf(d.toLowerCase())}return String.fromCharCode(k)}function w(){var c,f;c=R.charCodeAt(L++);f=String.fromCharCode(c);for(92===c&&(117!==R.charCodeAt(L)&&n(),++L,c=v("u"),c&&"\\"!==c&&q(c.charCodeAt(0))||
n(),f=c);ka>L&&(c=R.charCodeAt(L),l(c));)++L,f+=String.fromCharCode(c),92===c&&(f=f.substr(0,f.length-1),117!==R.charCodeAt(L)&&n(),++L,c=v("u"),c&&"\\"!==c&&l(c.charCodeAt(0))||n(),f+=c);return f}function x(){var c,f,d,k,t=L,A=R.charCodeAt(L),G=R[L];switch(A){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++L,S.tokenize&&(40===A?S.openParenToken=S.tokens.length:123===A&&(S.openCurlyToken=S.tokens.length)),{type:W.Punctuator,value:String.fromCharCode(A),
lineNumber:ga,lineStart:ia,start:t,end:L};default:if(c=R.charCodeAt(L+1),61===c)switch(A){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return L+=2,{type:W.Punctuator,value:String.fromCharCode(A)+String.fromCharCode(c),lineNumber:ga,lineStart:ia,start:t,end:L};case 33:case 61:return L+=2,61===R.charCodeAt(L)&&++L,{type:W.Punctuator,value:R.slice(t,L),lineNumber:ga,lineStart:ia,start:t,end:L}}}return k=R.substr(L,4),"\x3e\x3e\x3e\x3d"===k?(L+=4,{type:W.Punctuator,
value:k,lineNumber:ga,lineStart:ia,start:t,end:L}):(d=k.substr(0,3),"\x3e\x3e\x3e"===d||"\x3c\x3c\x3d"===d||"\x3e\x3e\x3d"===d?(L+=3,{type:W.Punctuator,value:d,lineNumber:ga,lineStart:ia,start:t,end:L}):(f=d.substr(0,2),G===f[1]&&0<="+-\x3c\x3e\x26|".indexOf(G)||"\x3d\x3e"===f?(L+=2,{type:W.Punctuator,value:f,lineNumber:ga,lineStart:ia,start:t,end:L}):0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(G)?(++L,{type:W.Punctuator,value:G,lineNumber:ga,lineStart:ia,start:t,end:L}):void n()))}function D(){var c,f,
d;if(d=R[L],p(u(d.charCodeAt(0))||"."===d,"Numeric literal must start with a decimal digit or a decimal point"),f=L,c="","."!==d){if(c=R[L++],d=R[L],"0"===c){if("x"===d||"X"===d){++L;for(var k="";ka>L&&m(R[L]);)k+=R[L++];return 0===k.length&&n(),q(R.charCodeAt(L))&&n(),{type:W.NumericLiteral,value:parseInt("0x"+k,16),lineNumber:ga,lineStart:ia,start:f,end:L}}if("b"===d||"B"===d){++L;for(c="";ka>L&&(k=R[L],"0"===k||"1"===k);)c+=R[L++];return 0===c.length&&n(),ka>L&&(k=R.charCodeAt(L),(q(k)||u(k))&&
n()),{type:W.NumericLiteral,value:parseInt(c,2),lineNumber:ga,lineStart:ia,start:f,end:L}}if("o"===d||"O"===d||h(d)){var t,A;for(h(d)?(A=!0,t="0"+R[L++]):(A=!1,++L,t="");ka>L&&h(R[L]);)t+=R[L++];return A||0!==t.length||n(),(q(R.charCodeAt(L))||u(R.charCodeAt(L)))&&n(),{type:W.NumericLiteral,value:parseInt(t,8),octal:A,lineNumber:ga,lineStart:ia,start:f,end:L}}d&&u(d.charCodeAt(0))&&n()}for(;u(R.charCodeAt(L));)c+=R[L++];d=R[L]}if("."===d){for(c+=R[L++];u(R.charCodeAt(L));)c+=R[L++];d=R[L]}if("e"===
d||"E"===d)if(c+=R[L++],d=R[L],("+"===d||"-"===d)&&(c+=R[L++]),u(R.charCodeAt(L)))for(;u(R.charCodeAt(L));)c+=R[L++];else n();return q(R.charCodeAt(L))&&n(),{type:W.NumericLiteral,value:parseFloat(c),lineNumber:ga,lineStart:ia,start:f,end:L}}function E(){ba=null;r();fa("Regular Expression language structures not supported")}function B(){r();E()}function J(){var c,f;if(c=S.tokens[S.tokens.length-1],!c)return B();if("Punctuator"===c.type){if("]"===c.value)return x();if(")"===c.value)return f=S.tokens[S.openParenToken-
1],!f||"Keyword"!==f.type||"if"!==f.value.toLowerCase()&&"while"!==f.value.toLowerCase()&&"for"!==f.value.toLowerCase()&&"with"!==f.value.toLowerCase()?x():B();if("}"===c.value){if(S.tokens[S.openCurlyToken-3]&&"Keyword"===S.tokens[S.openCurlyToken-3].type){if(f=S.tokens[S.openCurlyToken-4],!f)return x()}else{if(!S.tokens[S.openCurlyToken-4]||"Keyword"!==S.tokens[S.openCurlyToken-4].type)return x();if(f=S.tokens[S.openCurlyToken-5],!f)return B()}return 0<=ta.indexOf(f.value)?x():B()}return B()}return"Keyword"===
c.type&&"this"!==c.value?B():x()}function K(){var c;r();var f;if(L>=ka)f={type:W.EOF,lineNumber:ga,lineStart:ia,start:L,end:L};else if(c=R.charCodeAt(L),q(c)){var d,k;f=L;var t;if(92===R.charCodeAt(L))t=w();else a:{var A;for(t=L++;ka>L;){if(A=R.charCodeAt(L),92===A){t=(L=t,w());break a}if(!l(A))break;++L}t=R.slice(t,L)}f=(d=t,k=1===d.length?W.Identifier:b(d)?W.Keyword:"null"===d.toLowerCase()?W.NullLiteral:"true"===d.toLowerCase()||"false"===d.toLowerCase()?W.BooleanLiteral:W.Identifier,{type:k,value:d,
lineNumber:ga,lineStart:ia,start:f,end:L})}else if(40===c||41===c||59===c)f=x();else if(39===c||34===c){var G,a,F="",H=!1;A=ga;c=ia;d=R[L];p("'"===d||'"'===d,"String literal must starts with a quote");k=L;for(++L;ka>L;){if(f=R[L++],f===d){d="";break}if("\\"===f)if(f=R[L++],f&&e(f.charCodeAt(0)))++ga,"\r"===f&&"\n"===R[L]&&++L,ia=L;else switch(f){case "u":case "x":if("{"===R[L]){++L;G=F;var g,C=g=void 0,F=a=void 0;g=R[L];C=0;for("}"===g&&n();ka>L&&(g=R[L++],m(g));)C=16*C+"0123456789abcdef".indexOf(g.toLowerCase());
g=((1114111<C||"}"!==g)&&n(),65535>=C?String.fromCharCode(C):(a=(C-65536>>10)+55296,F=(C-65536&1023)+56320,String.fromCharCode(a,F)));F=G+g}else a=L,(G=v(f))?F+=G:(L=a,F+=f);break;case "n":F+="\n";break;case "r":F+="\r";break;case "t":F+="\t";break;case "b":F+="\b";break;case "f":F+="\f";break;case "v":F+="\x0B";break;default:h(f)?(t="01234567".indexOf(f),0!==t&&(H=!0),ka>L&&h(R[L])&&(H=!0,t=8*t+"01234567".indexOf(R[L++]),0<="0123".indexOf(f)&&ka>L&&h(R[L])&&(t=8*t+"01234567".indexOf(R[L++]))),F+=
String.fromCharCode(t)):F+=f}else{if(e(f.charCodeAt(0)))break;F+=f}}f=(""!==d&&n(),{type:W.StringLiteral,value:F,octal:H,startLineNumber:A,startLineStart:c,lineNumber:ga,lineStart:ia,start:k,end:L})}else f=46===c?u(R.charCodeAt(L+1))?D():x():u(c)?D():S.tokenize&&47===c?J():x();return f}function z(){var c,f,d,k;return r(),c={start:{line:ga,column:L-ia}},f=K(),c.end={line:ga,column:L-ia},f.type!==W.EOF&&(d=R.slice(f.start,f.end),k={type:za[f.type],value:d,range:[f.start,f.end],loc:c},f.regex&&(k.regex=
{pattern:f.regex.pattern,flags:f.regex.flags}),S.tokens.push(k)),f}function M(){var c;return c=ba,L=c.end,ga=c.lineNumber,ia=c.lineStart,ba="undefined"!=typeof S.tokens?z():K(),L=c.end,ga=c.lineNumber,ia=c.lineStart,c}function I(){var c,f,d;c=L;f=ga;d=ia;ba="undefined"!=typeof S.tokens?z():K();L=c;ga=f;ia=d}function Q(){this.line=ga;this.column=L-ia}function O(){this.start=new Q;this.end=null}function Y(c){c.type===W.StringLiteral?this.start={line:c.startLineNumber,column:c.start-c.startLineStart}:
this.start={line:c.lineNumber,column:c.start-c.lineStart};this.end=null}function N(){L=ba.start;ba.type===W.StringLiteral?(ga=ba.startLineNumber,ia=ba.startLineStart):(ga=ba.lineNumber,ia=ba.lineStart);S.range&&(this.range=[L,0]);S.loc&&(this.loc=new O)}function T(c){S.range&&(this.range=[c.start,0]);S.loc&&(this.loc=new Y(c))}function da(){var c,f,d,k;return c=L,f=ga,d=ia,r(),k=ga!==f,L=c,ga=f,ia=d,k}function Z(c,f,d){var k=Error("Line "+c+": "+d);return k.index=f,k.lineNumber=c,k.column=f-ia+1,
k.description=d,k}function fa(c){var f,d;throw f=Array.prototype.slice.call(arguments,1),d=c.replace(/%(\d)/g,function(c,d){return p(d<f.length,"Message reference must be in range"),f[d]}),Z(ga,L,d);}function P(c){var f,d,k;if(f=Array.prototype.slice.call(arguments,1),d=c.replace(/%(\d)/g,function(c,d){return p(d<f.length,"Message reference must be in range"),f[d]}),k=Z(ga,L,d),!S.errors)throw k;S.errors.push(k)}function aa(c,f){var d=ja.UnexpectedToken;c&&(d=f?f:c.type===W.EOF?ja.UnexpectedEOS:c.type===
W.Identifier?ja.UnexpectedIdentifier:c.type===W.NumericLiteral?ja.UnexpectedNumber:c.type===W.StringLiteral?ja.UnexpectedString:ja.UnexpectedToken);return d=d.replace("%0",c?c.value:"ILLEGAL"),c&&"number"==typeof c.lineNumber?Z(c.lineNumber,c.start,d):Z(ga,L,d)}function n(c,f){throw aa(c,f);}function U(c,f){c=aa(c,f);if(!S.errors)throw c;S.errors.push(c)}function C(c){var f=M();f.type===W.Punctuator&&f.value===c||n(f)}function d(){var c;S.errors?(c=ba,c.type===W.Punctuator&&","===c.value?M():c.type===
W.Punctuator&&";"===c.value?(M(),U(c)):U(c,ja.UnexpectedToken)):C(",")}function c(c){var f=M();f.type===W.Keyword&&f.value.toLowerCase()===c.toLowerCase()||n(f)}function f(c){return ba.type===W.Punctuator&&ba.value===c}function k(c){return ba.type===W.Keyword&&ba.value.toLowerCase()===c.toLowerCase()}function t(){var c;return 59===R.charCodeAt(L)||f(";")?void M():(c=ga,r(),void(ga===c&&(ba.type===W.EOF||f("}")||n(ba))))}function A(c){return c.type===ha.Identifier||c.type===ha.MemberExpression}function G(c,
f){var d,k;f=new N;return d=na,k=Va(),na=d,f.finishFunctionExpression(null,c,[],k)}function F(){var c,f,d;return c=na,na=!0,f=Da(),d=G(f.params),na=c,d}function H(){var c,f=new N;return c=M(),c.type===W.StringLiteral||c.type===W.NumericLiteral?(na&&c.octal&&U(c,ja.StrictOctalLiteral),f.finishLiteral(c)):f.finishIdentifier(c.value)}function X(){var c,d,k,t,A,a=new N;if(c=ba,c.type===W.Identifier)return k=H(),"get"!==c.value||f(":")||f("(")?"set"!==c.value||f(":")||f("(")?f(":")?(M(),t=ya(),a.finishProperty("init",
k,t,!1,!1)):f("(")?(t=F(),a.finishProperty("init",k,t,!0,!1)):(t=k,a.finishProperty("init",k,t,!1,!0)):(d=H(),C("("),c=ba,c.type!==W.Identifier?(C(")"),U(c),t=G([])):(A=[Fa()],C(")"),t=G(A,c)),a.finishProperty("set",d,t,!1,!1)):(d=H(),C("("),C(")"),t=G([]),a.finishProperty("get",d,t,!1,!1));if(c.type===W.EOF||c.type===W.Punctuator)n(c);else{if(d=H(),f(":"))return M(),t=ya(),a.finishProperty("init",d,t,!1,!1);if(f("("))return t=F(),a.finishProperty("init",d,t,!0,!1);n(M())}}function ca(c){var k,t,
A=[],n={},G=String,a=new N;for(!0!==c&&C("{");!f("}");)c=X(),k=c.key.type===ha.Identifier?c.key.name:G(c.key.value),t="init"===c.kind?Ia.Data:"get"===c.kind?Ia.Get:Ia.Set,k="$"+k,Object.prototype.hasOwnProperty.call(n,k)?(n[k]===Ia.Data?na&&t===Ia.Data?P(ja.StrictDuplicateProperty):t!==Ia.Data&&P(ja.AccessorDataProperty):t===Ia.Data?P(ja.AccessorDataProperty):n[k]&t&&P(ja.AccessorGetSet),n[k]|=t):n[k]=t,A.push(c),f("}")||d();return C("}"),a.finishObjectExpression(A)}function la(){var d,t,A,G;if(f("("))return C("("),
f(")")?(M(),Wa.ArrowParameterPlaceHolder):(++ea.parenthesisCount,G=wa(),C(")"),G);if(f("[")){var a=[],b=new N;for(C("[");!f("]");)f(",")?(M(),a.push(null)):(a.push(ya()),f("]")||C(","));return M(),b.finishArrayExpression(a)}if(f("{"))return ca();if(d=ba.type,G=new N,d===W.Identifier)A=G.finishIdentifier(M().value);else if(d===W.StringLiteral||d===W.NumericLiteral)na&&ba.octal&&U(ba,ja.StrictOctalLiteral),A=G.finishLiteral(M());else if(d===W.Keyword){if(k("function")){var F,H,e,g;d=null;t=[];A=[];
G=new N;return c("function"),f("(")||(d=Fa()),H=Da(b),t=H.params,A=H.defaults,a=H.stricted,b=H.firstRestricted,H.message&&(F=H.message),g=na,e=Va(),na&&b&&n(b,F),na&&a&&U(a,F),na=g,G.finishFunctionExpression(d,t,A,e)}k("this")?(M(),A=G.finishThisExpression()):n(M())}else d===W.BooleanLiteral?(t=M(),t.value="true"===t.value.toLowerCase(),A=G.finishLiteral(t)):d===W.NullLiteral?(t=M(),t.value=null,A=G.finishLiteral(t)):f("/")||f("/\x3d")?(A="undefined"!=typeof S.tokens?G.finishLiteral(B()):G.finishLiteral(E()),
I()):n(M());return A}function Oa(){var c=[];if(C("("),!f(")"))for(;ka>L&&(c.push(ya()),!f(")"));)d();return C(")"),c}function ua(){var c,f=new N;return c=M(),c.type===W.Identifier||c.type===W.Keyword||c.type===W.BooleanLiteral||c.type===W.NullLiteral||n(c),f.finishIdentifier(c.value)}function Ka(){var c;return C("["),c=wa(),C("]"),c}function Aa(){var d,t,A=new N;c("new");var n,G,a;p(ea.allowIn,"callee of new expression always allow in keyword.");a=ba;for(n=k("new")?Aa():la();;)if(f("["))G=Ka(),n=
(new T(a)).finishMemberExpression("[",n,G);else{if(!f("."))break;G=(C("."),ua());n=(new T(a)).finishMemberExpression(".",n,G)}return d=n,t=f("(")?Oa():[],A.finishNewExpression(d,t)}function Ea(){var c,d,t=ba,n,G,a,b=ea.allowIn;a=ba;ea.allowIn=!0;for(n=k("new")?Aa():la();;)if(f("."))G=(C("."),ua()),n=(new T(a)).finishMemberExpression(".",n,G);else if(f("("))G=Oa(),n=(new T(a)).finishCallExpression(n,G);else{if(!f("["))break;G=Ka();n=(new T(a)).finishMemberExpression("[",n,G)}return c=(ea.allowIn=b,
n),ba.type===W.Punctuator&&(!f("++")&&!f("--")||da()||(A(c)||P(ja.InvalidLHSInAssignment),d=M(),c=(new T(t)).finishPostfixExpression(d.value,c))),c}function Pa(){var c,d,t;return ba.type!==W.Punctuator&&ba.type!==W.Keyword?d=Ea():f("++")||f("--")?(t=ba,c=M(),d=Pa(),A(d)||P(ja.InvalidLHSInAssignment),d=(new T(t)).finishUnaryExpression(c.value,d)):f("+")||f("-")||f("~")||f("!")?(t=ba,c=M(),d=Pa(),d=(new T(t)).finishUnaryExpression(c.value,d)):k("delete")||k("void")||k("typeof")?(t=ba,c=M(),d=Pa(),d=
(new T(t)).finishUnaryExpression(c.value,d),na&&"delete"===d.operator&&d.argument.type===ha.Identifier&&P(ja.StrictDelete)):d=Ea(),d}function Ua(c,f){var d=0;if(c.type!==W.Punctuator&&c.type!==W.Keyword)return 0;switch(c.value){case "||":d=1;break;case "\x26\x26":d=2;break;case "|":d=3;break;case "^":d=4;break;case "\x26":d=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":d=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":d=7;break;case "in":d=
f?7:0;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":d=8;break;case "+":case "-":d=9;break;case "*":case "/":case "%":d=11}return d}function Ca(c){var f,d,k,t,A,G,a,b;t=[];A=[];G=0;a={paramSet:{}};f=0;for(d=c.length;d>f;f+=1)if(k=c[f],k.type===ha.Identifier)t.push(k),A.push(null),La(a,k,k.name);else{if(k.type!==ha.AssignmentExpression)return null;t.push(k.left);A.push(k.right);++G;La(a,k.left,k.left.name)}return a.message===ja.StrictParamDupe&&(b=na?a.stricted:a.firstRestricted,n(b,a.message)),
0===G&&(A=[]),{params:t,defaults:A,rest:null,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function ya(){var c,d,k,t,G,a;c=ea.parenthesisCount;d=a=ba;var b,F,H,e;k=ba;var g;var X,l,r,h,q;if((g=ba,X=Pa(),X!==Wa.ArrowParameterPlaceHolder)&&(l=ba,r=Ua(l,ea.allowIn),0!==r)){l.prec=r;M();g=[g,ba];q=Pa();for(h=[X,l,q];0<(r=Ua(ba,ea.allowIn));){for(;2<h.length&&r<=h[h.length-2].prec;)q=h.pop(),l=h.pop().value,X=h.pop(),g.pop(),X=(new T(g[g.length-1])).finishBinaryExpression(l,
X,q),h.push(X);l=M();l.prec=r;h.push(l);g.push(ba);X=Pa();h.push(X)}r=h.length-1;X=h[r];for(g.pop();1<r;)X=(new T(g.pop())).finishBinaryExpression(h[r-1].value,h[r-2],X),r-=2}g=X;k=(b=g,b===Wa.ArrowParameterPlaceHolder?b:(f("?")&&(M(),F=ea.allowIn,ea.allowIn=!0,H=ya(),ea.allowIn=F,C(":"),e=ya(),b=(new T(k)).finishConditionalExpression(b,H,e)),b));if(k!==Wa.ArrowParameterPlaceHolder&&!f("\x3d\x3e")||ea.parenthesisCount!==c&&ea.parenthesisCount!==c+1||(k.type===ha.Identifier?G=Ca([k]):k.type===ha.AssignmentExpression?
G=Ca([k]):k.type===ha.SequenceExpression?G=Ca(k.expressions):k===Wa.ArrowParameterPlaceHolder&&(G=Ca([])),!G)){var m;a=((ba.type!==W.Punctuator?!1:(m=ba.value,"\x3d"===m||"*\x3d"===m||"/\x3d"===m||"%\x3d"===m||"+\x3d"===m||"-\x3d"===m||"\x3c\x3c\x3d"===m||"\x3e\x3e\x3d"===m||"\x3e\x3e\x3e\x3d"===m||"\x26\x3d"===m||"^\x3d"===m||"|\x3d"===m))&&(A(k)||P(ja.InvalidLHSInAssignment),d=M(),t=ya(),k=(new T(a)).finishAssignmentExpression(d.value,k,t)),k)}else{d=G;t=new T(a);var ca,w;a=(C("\x3d\x3e"),ca=na,
w=f("{")?Va():ya(),na&&d.firstRestricted&&n(d.firstRestricted,d.message),na&&d.stricted&&U(d.stricted,d.message),na=ca,t.finishArrowFunctionExpression(d.params,d.defaults,w,w.type!==ha.BlockStatement))}return a}function wa(){var c,d=ba;if(c=ya(),f(",")){for(c=[c];ka>L&&f(",");)M(),c.push(ya());c=(new T(d)).finishSequenceExpression(c)}return c}function Fa(){var c,f=new N;return c=M(),c.type!==W.Identifier&&n(c),f.finishIdentifier(c.value)}function pb(c){var d,k=null,t=new N;return d=Fa(),"const"===
c?(C("\x3d"),k=ya()):f("\x3d")&&(M(),k=ya()),t.finishVariableDeclarator(d,k)}function jb(c){var d=[];do{if(d.push(pb(c)),!f(","))break;M()}while(ka>L);return d}function Qa(d){var G,a,b,F,H=ba.type;if(H===W.EOF&&n(ba),H===W.Punctuator&&"{"===ba.value){if(d){C("{");var e,g,X,l,r;e=ba;e=(g=L,X=ga,l=ia,M(),r=f(":"),ba=e,L=g,ga=X,ia=l,r);if(ba.type!==W.Identifier&&ba.type!==W.StringLiteral||!e){e=new N;for(var h=[];ka>L&&!f("}")&&(F=xa(),"undefined"!=typeof F);)h.push(F);e=(C("}"),e.finishBlockStatement(h))}else e=
ca(!0);return e}return ca()}if(F=new N,H===W.Punctuator)switch(ba.value){case ";":return e=new N,C(";"),e.finishEmptyStatement();case "(":return e=wa(),t(),F.finishExpressionStatement(e)}else if(H===W.Keyword)switch(ba.value.toLowerCase()){case "break":var m;e=null;return c("break"),59===R.charCodeAt(L)?(M(),ea.inIteration||ea.inSwitch||fa(ja.IllegalBreak),F.finishBreakStatement(null)):da()?(ea.inIteration||ea.inSwitch||fa(ja.IllegalBreak),F.finishBreakStatement(null)):(ba.type===W.Identifier&&(e=
Fa(),m="$"+e.name,Object.prototype.hasOwnProperty.call(ea.labelSet,m)||fa(ja.UnknownLabel,e.name)),t(),null!==e||ea.inIteration||ea.inSwitch||fa(ja.IllegalBreak),F.finishBreakStatement(e));case "continue":var w;e=null;return c("continue"),59===R.charCodeAt(L)?(M(),ea.inIteration||fa(ja.IllegalContinue),F.finishContinueStatement(null)):da()?(ea.inIteration||fa(ja.IllegalContinue),F.finishContinueStatement(null)):(ba.type===W.Identifier&&(e=Fa(),w="$"+e.name,Object.prototype.hasOwnProperty.call(ea.labelSet,
w)||fa(ja.UnknownLabel,e.name)),t(),null!==e||ea.inIteration||fa(ja.IllegalContinue),F.finishContinueStatement(e));case "for":var v,la;l=ea.allowIn;r=g=X=null;c("for");C("(");if(f(";"))M();else{if(k("var")){ea.allowIn=!1;var x,B;r=new N;r=(x=M(),B=jb(),r.finishVariableDeclaration(B,x.value));ea.allowIn=l;1===r.declarations.length&&k("in")&&(M(),e=r,h=wa(),r=null)}else ea.allowIn=!1,r=wa(),ea.allowIn=l,k("in")&&(A(r)||P(ja.InvalidLHSInForIn),M(),e=r,h=wa(),r=null);"undefined"==typeof e&&C(";")}return"undefined"==
typeof e&&(f(";")||(g=wa()),C(";"),f(")")||(X=wa())),C(")"),la=ea.inIteration,ea.inIteration=!0,v=Qa(!0),ea.inIteration=la,"undefined"==typeof e?F.finishForStatement(r,g,X,v):F.finishForInStatement(e,h,v);case "function":return db(F);case "if":var u,D,p;return c("if"),C("("),u=wa(),C(")"),D=Qa(!0),k("else")?(M(),p=Qa(!0)):p=null,F.finishIfStatement(u,D,p);case "return":return e=null,c("return"),ea.inFunctionBody||P(ja.IllegalReturn),32===R.charCodeAt(L)&&q(R.charCodeAt(L+1))?(e=wa(),t(),F.finishReturnStatement(e)):
da()?F.finishReturnStatement(null):(f(";")||f("}")||ba.type===W.EOF||(e=wa()),t(),F.finishReturnStatement(e));case "var":var U;return c("var"),U=jb(),t(),F.finishVariableDeclaration(U,"var")}return G=wa(),G.type===ha.Identifier&&f(":")?(M(),b="$"+G.name,Object.prototype.hasOwnProperty.call(ea.labelSet,b)&&fa(ja.Redeclaration,"Label",G.name),ea.labelSet[b]=!0,a=Qa(!1),delete ea.labelSet[b],F.finishLabeledStatement(G,a)):(t(),F.finishExpressionStatement(G))}function Va(){var c,d,k,t,A,n,G=[],a=new N;
for(C("{");ka>L&&ba.type===W.StringLiteral&&(d=ba,c=xa(),G.push(c),c.expression.type===ha.Literal);)k=R.slice(d.start+1,d.end-1),"use strict"===k?(na=!0,t&&U(t,ja.StrictOctalLiteral)):!t&&d.octal&&(t=d);d=ea.labelSet;k=ea.inIteration;t=ea.inSwitch;A=ea.inFunctionBody;n=ea.parenthesizedCount;ea.labelSet={};ea.inIteration=!1;ea.inSwitch=!1;ea.inFunctionBody=!0;for(ea.parenthesizedCount=0;ka>L&&!f("}")&&(c=xa(),"undefined"!=typeof c);)G.push(c);return C("}"),ea.labelSet=d,ea.inIteration=k,ea.inSwitch=
t,ea.inFunctionBody=A,ea.parenthesizedCount=n,a.finishBlockStatement(G)}function La(c,f,d){d="$"+d;na?Object.prototype.hasOwnProperty.call(c.paramSet,d)&&(c.stricted=f,c.message=ja.StrictParamDupe):c.firstRestricted||Object.prototype.hasOwnProperty.call(c.paramSet,d)&&(c.firstRestricted=f,c.message=ja.StrictParamDupe);c.paramSet[d]=!0}function kb(c){var d,k,t;return d=ba,k=Fa(),La(c,d,d.value),f("\x3d")&&(M(),t=ya(),++c.defaultCount),c.params.push(k),c.defaults.push(t),!f(")")}function Da(c){if(c=
{params:[],defaultCount:0,defaults:[],firstRestricted:c},C("("),!f(")"))for(c.paramSet={};ka>L&&kb(c);)C(",");return C(")"),0===c.defaultCount&&(c.defaults=[]),{params:c.params,defaults:c.defaults,stricted:c.stricted,firstRestricted:c.firstRestricted,message:c.message}}function db(){var f,d,k,t,A,G,a,b=[],F=[],H=new N;return c("function"),f=Fa(),t=Da(A),b=t.params,F=t.defaults,k=t.stricted,A=t.firstRestricted,t.message&&(G=t.message),a=na,d=Va(),na&&A&&n(A,G),na&&k&&U(k,G),na=a,H.finishFunctionDeclaration(f,
b,F,d)}function xa(){return ba.type===W.Keyword?"function"===ba.value.toLowerCase()?db():Qa(!1):ba.type!==W.EOF?Qa(!1):void 0}function gb(){var c,f,d,k=[];for(c=0;c<S.tokens.length;++c)f=S.tokens[c],d={type:f.type,value:f.value},f.regex&&(d.regex={pattern:f.regex.pattern,flags:f.regex.flags}),S.range&&(d.range=f.range),S.loc&&(d.loc=f.loc),k.push(d);S.tokens=k}var W,za,ta,ha,Wa,Ia,ja,eb,R,na,L,ga,ia,ka,ba,ea,S;W={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,
StringLiteral:8,RegularExpression:9};za={};za[W.BooleanLiteral]="Boolean";za[W.EOF]="\x3cend\x3e";za[W.Identifier]="Identifier";za[W.Keyword]="Keyword";za[W.NullLiteral]="Null";za[W.NumericLiteral]="Numeric";za[W.Punctuator]="Punctuator";za[W.StringLiteral]="String";za[W.RegularExpression]="RegularExpression";ta="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ");
ha={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",
FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};Wa={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}};
Ia={Data:1,Get:2,Set:4};ja={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",
MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",
StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",
AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};eb={NonAsciiIdentifierStart:/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/,
NonAsciiIdentifierPart:/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/};
T.prototype=N.prototype={processComment:function(){var c,f,d,k,t,A=S.bottomRightStack,n=A[A.length-1];if(!(this.type===ha.Program&&0<this.body.length)){if(0<S.trailingComments.length){d=[];for(k=S.trailingComments.length-1;0<=k;--k)t=S.trailingComments[k],t.range[0]>=this.range[1]&&(d.unshift(t),S.trailingComments.splice(k,1));S.trailingComments=[]}else n&&n.trailingComments&&n.trailingComments[0].range[0]>=this.range[1]&&(d=n.trailingComments,delete n.trailingComments);if(n)for(;n&&n.range[0]>=this.range[0];)c=
n,n=A.pop();if(c)c.leadingComments&&c.leadingComments[c.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=c.leadingComments,c.leadingComments=void 0);else if(0<S.leadingComments.length)for(f=[],k=S.leadingComments.length-1;0<=k;--k)t=S.leadingComments[k],t.range[1]<=this.range[0]&&(f.unshift(t),S.leadingComments.splice(k,1));f&&0<f.length&&(this.leadingComments=f);d&&0<d.length&&(this.trailingComments=d);A.push(this)}},finish:function(){S.range&&(this.range[1]=L);S.loc&&(this.loc.end=
new Q,S.source&&(this.loc.source=S.source));S.attachComment&&this.processComment()},finishArrayExpression:function(c){return this.type=ha.ArrayExpression,this.elements=c,this.finish(),this},finishAssignmentExpression:function(c,f,d){return this.type=ha.AssignmentExpression,this.operator=c,this.left=f,this.right=d,this.finish(),this},finishBinaryExpression:function(c,f,d){return this.type="||"===c||"\x26\x26"===c?ha.LogicalExpression:ha.BinaryExpression,this.operator=c,this.left=f,this.right=d,this.finish(),
this},finishBlockStatement:function(c){return this.type=ha.BlockStatement,this.body=c,this.finish(),this},finishBreakStatement:function(c){return this.type=ha.BreakStatement,this.label=c,this.finish(),this},finishCallExpression:function(c,f){return this.type=ha.CallExpression,this.callee=c,this.arguments=f,this.finish(),this},finishConditionalExpression:function(c,f,d){return this.type=ha.ConditionalExpression,this.test=c,this.consequent=f,this.alternate=d,this.finish(),this},finishContinueStatement:function(c){return this.type=
ha.ContinueStatement,this.label=c,this.finish(),this},finishEmptyStatement:function(){return this.type=ha.EmptyStatement,this.finish(),this},finishExpressionStatement:function(c){return this.type=ha.ExpressionStatement,this.expression=c,this.finish(),this},finishForStatement:function(c,f,d,k){return this.type=ha.ForStatement,this.init=c,this.test=f,this.update=d,this.body=k,this.finish(),this},finishForInStatement:function(c,f,d){return this.type=ha.ForInStatement,this.left=c,this.right=f,this.body=
d,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(c,f,d,k){return this.type=ha.FunctionDeclaration,this.id=c,this.params=f,this.defaults=d,this.body=k,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishFunctionExpression:function(c,f,d,k){return this.type=ha.FunctionExpression,this.id=c,this.params=f,this.defaults=d,this.body=k,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishIdentifier:function(c){return this.type=ha.Identifier,
this.name=c,this.finish(),this},finishIfStatement:function(c,f,d){return this.type=ha.IfStatement,this.test=c,this.consequent=f,this.alternate=d,this.finish(),this},finishLiteral:function(c){return this.type=ha.Literal,this.value=c.value,this.raw=R.slice(c.start,c.end),c.regex&&(this.regex=c.regex),this.finish(),this},finishMemberExpression:function(c,f,d){return this.type=ha.MemberExpression,this.computed="["===c,this.object=f,this.property=d,this.finish(),this},finishObjectExpression:function(c){return this.type=
ha.ObjectExpression,this.properties=c,this.finish(),this},finishPostfixExpression:function(c,f){return this.type=ha.UpdateExpression,this.operator=c,this.argument=f,this.prefix=!1,this.finish(),this},finishProgram:function(c){return this.type=ha.Program,this.body=c,this.finish(),this},finishProperty:function(c,f,d,k,t){return this.type=ha.Property,this.key=f,this.value=d,this.kind=c,this.method=k,this.shorthand=t,this.finish(),this},finishReturnStatement:function(c){return this.type=ha.ReturnStatement,
this.argument=c,this.finish(),this},finishUnaryExpression:function(c,f){return this.type="++"===c||"--"===c?ha.UpdateExpression:ha.UnaryExpression,this.operator=c,this.argument=f,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(c,f){return this.type=ha.VariableDeclaration,this.declarations=c,this.kind=f,this.finish(),this},finishVariableDeclarator:function(c,f){return this.type=ha.VariableDeclarator,this.id=c,this.init=f,this.finish(),this}};y.version="2.0.0-dev";y.tokenize=function(c,
f){var d,k;d=String;"string"==typeof c||c instanceof String||(c=d(c));R=c;L=0;ga=0<R.length?1:0;ia=0;ka=R.length;ba=null;ea={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1};S={};f=f||{};f.tokens=!0;S.tokens=[];S.tokenize=!0;S.openParenToken=-1;S.openCurlyToken=-1;S.range="boolean"==typeof f.range&&f.range;S.loc="boolean"==typeof f.loc&&f.loc;"boolean"==typeof f.comment&&f.comment&&(S.comments=[]);"boolean"==typeof f.tolerant&&f.tolerant&&(S.errors=[]);try{if(I(),
ba.type===W.EOF)return S.tokens;for(M();ba.type!==W.EOF;)try{M()}catch(bb){if(S.errors){S.errors.push(bb);break}throw bb;}gb();k=S.tokens;"undefined"!=typeof S.comments&&(k.comments=S.comments);"undefined"!=typeof S.errors&&(k.errors=S.errors)}catch(bb){throw bb;}finally{S={}}return k};y.parse=function(c,f){var d,k;k=String;"string"==typeof c||c instanceof String||(c=k(c));R=c;L=0;ga=0<R.length?1:0;ia=0;ka=R.length;ba=null;ea={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,
inSwitch:!1,lastCommentStart:-1};S={};"undefined"!=typeof f&&(S.range="boolean"==typeof f.range&&f.range,S.loc="boolean"==typeof f.loc&&f.loc,S.attachComment="boolean"==typeof f.attachComment&&f.attachComment,S.loc&&null!==f.source&&void 0!==f.source&&(S.source=k(f.source)),"boolean"==typeof f.tokens&&f.tokens&&(S.tokens=[]),"boolean"==typeof f.comment&&f.comment&&(S.comments=[]),"boolean"==typeof f.tolerant&&f.tolerant&&(S.errors=[]),S.attachComment&&(S.range=!0,S.comments=[],S.bottomRightStack=
[],S.trailingComments=[],S.leadingComments=[]));try{var t;r();I();t=new N;na=!1;var A,n,G,a;for(c=[];ka>L&&(n=ba,n.type===W.StringLiteral)&&(A=xa(),c.push(A),A.expression.type===ha.Literal);)G=R.slice(n.start+1,n.end-1),"use strict"===G?(na=!0,a&&U(a,ja.StrictOctalLiteral)):!a&&n.octal&&(a=n);for(;ka>L&&(A=xa(),"undefined"!=typeof A);)c.push(A);d=t.finishProgram(c);"undefined"!=typeof S.comments&&(d.comments=S.comments);"undefined"!=typeof S.tokens&&(gb(),d.tokens=S.tokens);"undefined"!=typeof S.errors&&
(d.errors=S.errors)}catch(hb){throw hb;}finally{S={}}return d};y.Syntax=function(){var c,f={};"function"==typeof Object.create&&(f=Object.create(null));for(c in ha)ha.hasOwnProperty(c)&&(f[c]=ha[c]);return"function"==typeof Object.freeze&&Object.freeze(f),f}()})},"esri/arcade/arcadeCompiler":function(){define("require exports ../geometry/Polygon ../geometry/Polyline ../geometry/Point ../geometry/Extent ../geometry/Multipoint ../geometry/SpatialReference ./languageUtils ./treeAnalysis ./Dictionary ./Feature ./functions/date ./functions/string ./functions/maths ./functions/geometry ./functions/geomsync ./functions/stats ./ImmutablePathArray ./ImmutablePointArray ../geometry/Geometry".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J,K,z){function M(c,f,d){try{return d(c,null,f)}catch(ca){throw ca;}}function I(c,f){try{switch(f.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return T(c,f);case "VariableDeclaration":for(var d=[],k=0;k<f.declarations.length;k++)d.push(I(c,f.declarations[k]));return d.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return N(c,f);case "FunctionDeclaration":var t=f.id.name.toLowerCase(),A={applicationCache:void 0===
c.applicationCache?null:c.applicationCache,spatialReference:c.spatialReference,console:c.console,symbols:c.symbols,localScope:{_SymbolsMap:{}},depthCounter:c.depthCounter+1,globalScope:c.globalScope};if(64<A.depthCounter)throw Error("Exceeded maximum function depth");for(var d="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; var lscope \x3d [];\n ",n=0;n<f.params.length;n++){var G=f.params[n].name.toLowerCase(),a=U(G,c);A.localScope._SymbolsMap[G]=
a;d+="lscope['"+a+"']\x3darguments["+n.toString()+"];\n"}(d+=N(A,f.body)+"\n return lastStatement; }, runtimeCtx))",d+="\n lastStatement \x3d lc.voidOperation; \n",void 0!==c.globalScope[t])?k="gscope['"+t+"']\x3d"+d:void 0!==c.globalScope._SymbolsMap[t]?k="gscope['"+c.globalScope._SymbolsMap[t]+"']\x3d"+d:(a=U(t,c),k=(c.globalScope._SymbolsMap[t]=a,"gscope['"+a+"']\x3d"+d));return k;case "ReturnStatement":var b;b=null===f.argument?"return lc.voidOperation;":"return "+I(c,f.argument)+";";return b;
case "IfStatement":if("AssignmentExpression"===f.test.type||"UpdateExpression"===f.test.type)throw Error(g.nodeErrorMessage(f.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var F=I(c,f.test),H=C(c),e="var "+H+" \x3d "+F+";\n if ("+H+" \x3d\x3d\x3d true) {\n"+Y(c,f.consequent)+"\n }\n";return e+=null!==f.alternate?"else if ("+H+"\x3d\x3d\x3dfalse)   { \n"+Y(c,f.alternate)+"}\n":"else if ("+H+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n",e+="else { lang.error({type: '"+
f.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n";case "ExpressionStatement":return"AssignmentExpression"===f.expression.type?"lastStatement \x3d lc.voidOperation; "+I(c,f.expression)+" \n ":"lastStatement \x3d "+I(c,f.expression)+";";case "AssignmentExpression":return O(c,f);case "UpdateExpression":return Q(c,f);case "BreakStatement":return"break;";case "ContinueStatement":return"continue;";case "ForStatement":d="lastStatement \x3d lc.voidOperation; \n";null!==f.init&&(d+=I(c,f.init));
var l=C(c),r=C(c);return d+="var "+l+" \x3d true;",d+="\n do { ",null!==f.update&&(d+=" if ("+l+"\x3d\x3d\x3dfalse) {\n "+I(c,f.update)+"  \n}\n "+l+"\x3dfalse; \n"),null!==f.test&&(d+="var "+r+" \x3d "+I(c,f.test)+";",d+="if ("+r+"\x3d\x3d\x3dfalse) { break; } else if ("+r+"!\x3d\x3dtrue) { lang.error({type: '"+f.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n"),d+=I(c,f.body),null!==f.update&&(d+="\n "+I(c,f.update)),d+="\n"+l+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation;";
case "ForInStatement":var h=C(c),q=C(c),m=C(c),w="var "+h+" \x3d "+I(c,f.right)+";\n";"VariableDeclaration"===f.left.type&&(w+=I(c,f.left));var v="VariableDeclaration"===f.left.type?f.left.declarations[0].id.name:f.left.name,v=v.toLowerCase(),d="";return null!==c.localScope&&(void 0!==c.localScope[v]?d="lscope['"+v+"']":void 0!==c.localScope._SymbolsMap[v]&&(d="lscope['"+c.localScope._SymbolsMap[v]+"']")),""===d&&(void 0!==c.globalScope[v]?d="gscope['"+v+"']":void 0!==c.globalScope._SymbolsMap[v]&&
(d="gscope['"+c.globalScope._SymbolsMap[v]+"']")),w+="if ("+h+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n ",w+="else if (lc.isArray("+h+") || lc.isString("+h+")) {",w+="var "+q+"\x3d"+h+".length; \n",w+="for(var "+m+"\x3d0; "+m+"\x3c"+q+"; "+m+"++) {\n",w+=d+"\x3d"+m+";\n",w+=I(c,f.body),w+="\n}\n",w+=" lastStatement \x3d lc.voidOperation; \n",w+=" \n}\n",w+="else if (lc.isImmutableArray("+h+")) {",w+="var "+q+"\x3d"+h+".length(); \n",w+="for(var "+m+"\x3d0; "+m+"\x3c"+q+"; "+m+
"++) {\n",w+=d+"\x3d"+m+";\n",w+=I(c,f.body),w+="\n}\n",w+=" lastStatement \x3d lc.voidOperation; \n",w+=" \n}\n",w+="else if (( "+h+" instanceof lang.Dictionary) || ( "+h+" instanceof lang.Feature)) {",w+="var "+q+"\x3d"+h+".keys(); \n",w+="for(var "+m+"\x3d0; "+m+"\x3c"+q+".length; "+m+"++) {\n",w+=d+"\x3d"+q+"["+m+"];\n",w+=I(c,f.body),w+="\n}\n",w+=" lastStatement \x3d lc.voidOperation; \n",w+=" \n}\n",w+="else { lastStatement \x3d lc.voidOperation; } \n";case "Identifier":return Z(c,f);case "MemberExpression":var x;
try{d=void 0,x=(d=!0===f.computed?I(c,f.property):"'"+f.property.name+"'","lang.member("+I(c,f.object)+","+d+")")}catch(ta){throw ta;}return x;case "Literal":return null===f.value||void 0===f.value?"null":JSON.stringify(f.value);case "ThisExpression":throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==f.callee.type)throw Error(g.nodeErrorMessage(f,"RUNTIME","ONLYNODESSUPPORTED"));var B=f.callee.name.toLowerCase(),k="";if(null!==c.localScope&&(void 0!==
c.localScope[B]?k="lscope['"+B+"']":void 0!==c.localScope._SymbolsMap[B]&&(k="lscope['"+c.localScope._SymbolsMap[B]+"']")),""===k&&(void 0!==c.globalScope[B]?k="gscope['"+B+"']":void 0!==c.globalScope._SymbolsMap[B]&&(k="gscope['"+c.globalScope._SymbolsMap[B]+"']")),""!==k){t="[";for(A=0;A<f.arguments.length;A++)0<A&&(t+=", "),t+=I(c,f.arguments[A]);d=(t+="]","lang.callfunc("+k+","+t+",runtimeCtx)")}else throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTFOUND"));}catch(ta){throw ta;}return d;case "UnaryExpression":var u;
try{u="lang.unary("+I(c,f.argument)+",'"+f.operator+"')"}catch(ta){throw ta;}return u;case "BinaryExpression":var D;try{D="lang.binary("+I(c,f.left)+","+I(c,f.right)+",'"+f.operator+"')"}catch(ta){throw ta;}return D;case "LogicalExpression":var p;try{if("AssignmentExpression"===f.left.type||"UpdateExpression"===f.left.type)throw Error(g.nodeErrorMessage(f.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===f.right.type||"UpdateExpression"===f.right.type)throw Error(g.nodeErrorMessage(f.right,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===f.operator||"||"===f.operator)p="(lang.logicalCheck("+I(c,f.left)+") "+f.operator+" lang.logicalCheck("+I(c,f.right)+"))";else throw Error(g.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));}catch(ta){throw ta;}return p;case "ConditionalExpression":throw Error(g.nodeErrorMessage(f,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{d=[];for(k=0;k<f.elements.length;k++)"Literal"===f.elements[k].type?d.push(I(c,f.elements[k])):
d.push("lang.aCheck("+I(c,f.elements[k])+",'ArrayExpression')");n="["+d.join(",")+"]"}catch(ta){throw ta;}return n;case "ObjectExpression":d="lang.dictionary([";for(k=0;k<f.properties.length;k++){var z=f.properties[k],E="Identifier"===z.key.type?"'"+z.key.name+"'":I(c,z.key),K=I(c,z.value);0<k&&(d+=",");d+="lang.strCheck("+E+",'ObjectExpression'),lang.aCheck("+K+", 'ObjectExpression')"}return d+="])";case "Property":throw Error("Should not get here");case "Array":throw Error(g.nodeErrorMessage(f,
"RUNTIME","NOTSUPPORTED"));default:throw Error(g.nodeErrorMessage(f,"RUNTIME","UNREOGNISED"));}}catch(ta){throw ta;}}function Q(c,f){var d=null,k="";if("MemberExpression"===f.argument.type)return d=I(c,f.argument.object),k=!0===f.argument.computed?I(c,f.argument.property):"'"+f.argument.property.name+"'","lang.memberupdate("+d+","+k+",'"+f.operator+"',"+f.prefix+")";if(d=f.argument.name.toLowerCase(),null!==c.localScope){if(void 0!==c.localScope[d])return"lang.update(lscope, '"+d+"','"+f.operator+
"',"+f.prefix+")";if(void 0!==c.localScope._SymbolsMap[d])return"lang.update(lscope, '"+c.localScope._SymbolsMap[d]+"','"+f.operator+"',"+f.prefix+")"}if(void 0!==c.globalScope[d])return"lang.update(gscope, '"+d+"','"+f.operator+"',"+f.prefix+")";if(void 0!==c.globalScope._SymbolsMap[d])return"lang.update(gscope, '"+c.globalScope._SymbolsMap[d]+"','"+f.operator+"',"+f.prefix+")";throw Error("Variable not recognised");}function O(c,f){var d=I(c,f.right),k=null,t="";if("MemberExpression"===f.left.type)return k=
I(c,f.left.object),t=!0===f.left.computed?I(c,f.left.property):"'"+f.left.property.name+"'","lang.assignmember("+k+","+t+",'"+f.operator+"',"+d+");";if(k=f.left.name.toLowerCase(),null!==c.localScope){if(void 0!==c.localScope[k])return"lscope['"+k+"']\x3dlang.assign("+d+",'"+f.operator+"', lscope['"+k+"']); ";if(void 0!==c.localScope._SymbolsMap[k])return"lscope['"+c.localScope._SymbolsMap[k]+"']\x3dlang.assign("+d+",'"+f.operator+"', lscope['"+c.localScope._SymbolsMap[k]+"']); "}if(void 0!==c.globalScope[k])return"gscope['"+
k+"']\x3dlang.assign("+d+",'"+f.operator+"', gscope['"+k+"']); ";if(void 0!==c.globalScope._SymbolsMap[k])return"gscope['"+c.globalScope._SymbolsMap[k]+"']\x3dlang.assign("+d+",'"+f.operator+"', gscope['"+c.globalScope._SymbolsMap[k]+"']); ";throw Error("Variable not recognised");}function Y(c,f){return"BlockStatement"===f.type?I(c,f):"ReturnStatement"===f.type?I(c,f):"BreakStatement"===f.type?I(c,f):"ContinueStatement"===f.type?I(c,f):"UpdateExpression"===f.type?"lastStatement \x3d "+I(c,f)+";":
"ExpressionStatement"===f.type?I(c,f):"ObjectExpression"===f.type?"lastStatement \x3d "+I(c,f)+";":I(c,f)}function N(c,f){for(var d="",k=0;k<f.body.length;k++)d+="ReturnStatement"===f.body[k].type?I(c,f.body[k])+" \n":"BreakStatement"===f.body[k].type?I(c,f.body[k])+" \n":"ContinueStatement"===f.body[k].type?I(c,f.body[k])+" \n":"UpdateExpression"===f.body[k].type?"lastStatement \x3d "+I(c,f.body[k])+"; \n":"ObjectExpression"===f.body[k].type?"lastStatement \x3d "+I(c,f.body[k])+"; \n":I(c,f.body[k])+
" \n";return d}function T(c,f){var d=null===f.init?null:I(c,f.init);d===b.voidOperation&&(d=null);f=f.id.name.toLowerCase();if(null!==c.localScope){if(void 0!==c.localScope[f])return"lscope['"+f+"']\x3d"+d+";";if(void 0!==c.localScope._SymbolsMap[f])return"lscope['"+c.localScope._SymbolsMap[f]+"']\x3d"+d+";";var k=U(f,c);return c.localScope._SymbolsMap[f]=k,"lscope['"+k+"']\x3d"+d+";"}if(void 0!==c.globalScope[f])return"gscope['"+f+"']\x3d"+d+";";if(void 0!==c.globalScope._SymbolsMap[f])return"gscope['"+
c.globalScope._SymbolsMap[f]+"']\x3d"+d+";";k=U(f,c);return c.globalScope._SymbolsMap[f]=k,"gscope['"+k+"']\x3d"+d+";"}function da(c,d,k){switch(d=d.toLowerCase()){case "hasz":return c=c.hasZ,void 0===c?!1:c;case "hasm":return c=c.hasM,void 0===c?!1:c;case "spatialreference":return d=c.spatialReference._arcadeCacheId,void 0===d&&(k=!0,Object.freeze&&Object.isFrozen(c.spatialReference)&&(k=!1),k&&(f++,c.spatialReference._arcadeCacheId=f,d=f)),c=new a({wkt:c.spatialReference.wkt,wkid:c.spatialReference.wkid}),
void 0!==d&&(c._arcadeCacheId="SPREF"+d.toString()),c}switch(c.type){case "extent":switch(d){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return c=c[d],void 0!==c?c:null;case "type":return"Extent"}break;case "polygon":switch(d){case "rings":return d=b.isVersion4?c.cache._arcadeCacheId:c.getCacheValue("_arcadeCacheId"),void 0===d&&(f++,d=f,b.isVersion4?c.cache._arcadeCacheId=d:c.setCacheValue("_arcadeCacheId",d)),c=new J(c.rings,c.spatialReference,
!0===c.hasZ,!0===c.hasM,d);case "type":return"Polygon"}break;case "point":switch(d){case "x":case "y":case "z":case "m":return void 0!==c[d]?c[d]:null;case "type":return"Point"}break;case "polyline":switch(d){case "paths":return d=b.isVersion4?c.cache._arcadeCacheId:c.getCacheValue("_arcadeCacheId"),void 0===d&&(f++,d=f,b.isVersion4?c.cache._arcadeCacheId=d:c.setCacheValue("_arcadeCacheId",d)),c=new J(c.paths,c.spatialReference,!0===c.hasZ,!0===c.hasM,d);case "type":return"Polyline"}break;case "multipoint":switch(d){case "points":return d=
b.isVersion4?c.cache._arcadeCacheId:c.getCacheValue("_arcadeCacheId"),void 0===d&&(f++,d=f,b.isVersion4?c.cache._arcadeCacheId=d:c.setCacheValue("_arcadeCacheId",d)),c=new K(c.points,c.spatialReference,!0===c.hasZ,!0===c.hasM,d,1);case "type":return"Multipoint"}}throw Error(g.nodeErrorMessage(k,"RUNTIME","PROPERTYNOTFOUND"));}function Z(c,f){try{var d=f.name.toLowerCase();if(null!==c.localScope){if(void 0!==c.localScope[d])return"lscope['"+d+"']";if(void 0!==c.localScope._SymbolsMap[d])return"lscope['"+
c.localScope._SymbolsMap[d]+"']"}if(void 0!==c.globalScope[d])return"gscope['"+d+"']";if(void 0!==c.globalScope._SymbolsMap[d])return"gscope['"+c.globalScope._SymbolsMap[d]+"']";throw Error(g.nodeErrorMessage(f,"RUNTIME","VARIABLENOTFOUND"));}catch(ca){throw ca;}}function fa(c){return null===c?"":b.isArray(c)?"Array":b.isImmutableArray(c)?"Array":b.isDate(c)?"Date":b.isString(c)?"String":b.isBoolean(c)?"Boolean":b.isNumber(c)?"Number":c instanceof a?"Dictionary":c instanceof r?"Feature":c instanceof
h?"Point":c instanceof u?"Polygon":c instanceof m?"Polyline":c instanceof q?"Multipoint":c instanceof e?"Extent":b.isFunctionParameter(c)?"Function":c===b.voidOperation?"":"number"==typeof c&&isNaN(c)?"Number":"Unrecognised Type"}function P(c,f,d,k){try{if(b.equalityTest(f[d],k))return f[d+1];var t=f.length-d;return 1===t?f[d]:2===t?null:3===t?f[d+2]:P(c,f,d+2,k)}catch(Oa){throw Oa;}}function aa(c,f,d,k){try{if(!0===k)return f[d+1];if(3===f.length-d)return f[d+2];var t=f[d+2];if(!1===b.isBoolean(t))throw Error("WHEN needs boolean test conditions");
return aa(c,f,d+2,t)}catch(Oa){throw Oa;}}function n(c,f){var d=c.length,k=Math.floor(d/2);if(0===d)f=[];else if(1===d)f=[c[0]];else{var t=n(c.slice(0,k),f);c=n(c.slice(k,d),f);for(d=[];0<t.length||0<c.length;)0<t.length&&0<c.length?(k=f(t[0],c[0]),isNaN(k)&&(k=0),0>=k?(d.push(t[0]),t=t.slice(1)):(d.push(c[0]),c=c.slice(1))):0<t.length?(d.push(t[0]),t=t.slice(1)):0<c.length&&(d.push(c[0]),c=c.slice(1));f=d}return f}function U(c,f){return f.symbols.symbolCounter++,"_T"+f.symbols.symbolCounter.toString()}
function C(c){return c.symbols.symbolCounter++,"_Tvar"+c.symbols.symbolCounter.toString()}function d(c,f,d){var k={};c||(c={});d||(d={});k._SymbolsMap={};k.textformatting=1;k.infinity=1;k.pi=1;for(var t in f)k[t]=1;for(t in d)k[t]=1;for(t in c)k[t]=1;return k}function c(c){console.log(c)}Object.defineProperty(p,"__esModule",{value:!0});var f=0,k={};v.registerFunctions(k,M);w.registerFunctions(k,M);x.registerFunctions(k,M);D.registerFunctions(k,M);B.registerFunctions(k,M);E.registerFunctions(k,M);
k["typeof"]=function(c,f){return M(c,f,function(c,f,d){b.pcCheck(d,1,1);c=fa(d[0]);if("Unrecognised Type"===c)throw Error("Unrecognised Type");return c})};k.iif=function(c,f){try{return M(c,f,function(c,f,d){if(b.pcCheck(d,3,3),!1===b.isBoolean(d[0]))throw Error("IF Function must have a boolean test condition");return d[0]?d[1]:d[2]})}catch(X){throw X;}};k.decode=function(c,f){try{return M(c,f,function(f,d,k){if(2>k.length)throw Error("Missing Parameters");if(2===k.length)return k[1];if(0===(k.length-
1)%2)throw Error("Must have a default value result.");return P(c,k,1,k[0])})}catch(X){throw X;}};k.when=function(c,f){try{return M(c,f,function(f,d,k){if(3>k.length)throw Error("Missing Parameters");if(0===k.length%2)throw Error("Must have a default value result.");f=k[0];if(!1===b.isBoolean(f))throw Error("WHEN needs boolean test conditions");return aa(c,k,0,f)})}catch(X){throw X;}};k.top=function(c,f){return M(c,f,function(c,f,d){if(b.pcCheck(d,2,2),b.isArray(d[0]))return b.toNumber(d[1])>=d[0].length?
d[0].slice(0):d[0].slice(0,b.toNumber(d[1]));if(b.isImmutableArray(d[0]))return b.toNumber(d[1])>=d[0].length()?d[0].slice(0):d[0].slice(0,b.toNumber(d[1]));throw Error("Top cannot accept this parameter type");})};k.first=function(c,f){return M(c,f,function(c,f,d){return b.pcCheck(d,1,1),b.isArray(d[0])?0===d[0].length?null:d[0][0]:b.isImmutableArray(d[0])?0===d[0].length()?null:d[0].get(0):null})};k.sort=function(c,f){return M(c,f,function(c,f,d){b.pcCheck(d,1,2);f=d[0];if(b.isImmutableArray(f)&&
(f=f.toArray()),!1===b.isArray(f))throw Error("Illegal Argument");if(1<d.length){if(!1===b.isFunctionParameter(d[1]))throw Error("Illegal Argument");return f=n(f,function(f,k){return G.callfunc(d[1],[f,k],c)})}if(0===f.length)return[];for(var k={},t=0;t<f.length;t++){var A=fa(f[t]);""!==A&&(k[A]=!0)}if(!0===k.Array||!0===k.Dictionary||!0===k.Feature||!0===k.Point||!0===k.Polygon||!0===k.Polyline||!0===k.Multipoint||!0===k.Extent||!0===k.Function)return f.slice(0);var t=0,A="",a;for(a in k)t++,A=a;
return f=1<t||"String"===A?n(f,function(c,f){if(null===c||void 0===c||c===b.voidOperation)return null===f||void 0===f||f===b.voidOperation?0:1;if(null===f||void 0===f||f===b.voidOperation)return-1;c=b.toString(c);f=b.toString(f);return f>c?-1:c===f?0:1}):"Number"===A?n(f,function(c,f){return c-f}):"Boolean"===A?n(f,function(c,f){return c===f?0:f?-1:1}):"Date"===A?n(f,function(c,f){return f-c}):f.slice(0)})};for(var t in k)k[t]=new b.NativeFunction(k[t]);var A=function(){};A.prototype=k;p.functionHelper=
{fixSpatialReference:b.fixSpatialReference,parseArguments:function(c,f){for(var d=[],k=0;k<f.arguments.length;k++)d.push(I(c,f.arguments[k]));return d},standardFunction:M};p.extend=function(c){for(var f={mode:"sync",compiled:!0,functions:{},signatures:[],standardFunction:M},d=0;d<c.length;d++)c[d].registerFunctions(f);for(var t in f.functions)k[t]=new b.NativeFunction(f.functions[t]),A.prototype[t]=k[t];for(d=0;d<f.signatures.length;d++)g.addFunctionDeclaration(f.signatures[d],"f")};p.executeScript=
function(c,f,d){return c(f,d)};p.extractFieldLiterals=function(c,f){return void 0===f&&(f=!1),g.findFieldLiterals(c,f)};p.validateScript=function(c,f){return g.validateScript(c,f,"simple")};p.referencesMember=function(c,f){return g.referencesMember(c,f)};p.referencesFunction=function(c,f){return g.referencesFunction(c,f)};var G={error:function(c,f,d){throw Error(g.nodeErrorMessage(c,f,d));},functionDepthchecker:function(c,f){return function(){if(f.depthCounte++,64<f.depthCounter)throw Error("Exceeded maximum function depth");
var d=c.apply(this,arguments);return f.depthCounte--,d}},aCheck:function(c,f){if(b.isFunctionParameter(c))throw Error(g.nodeErrorMessage({type:f},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return c===b.voidOperation?null:c},Dictionary:a,Feature:r,dictionary:function(c){for(var f={},d=0;d<c.length;d+=2){if(b.isFunctionParameter(c[d+1]))throw Error("Illegal Argument");if(!1===b.isString(c[d]))throw Error("Illegal Argument");c[d+1]===b.voidOperation?f[c[d].toString()]=null:f[c[d].toString()]=c[d+1]}c=new a(f);
return c.immutable=!1,c},strCheck:function(c,f){if(!1===b.isString(c))throw Error("Illegal Argument");return c},unary:function(c,f){if(b.isBoolean(c)){if("!"===f)return!c;if("-"===f)return-1*b.toNumber(c);if("+"===f)return 1*b.toNumber(c);throw Error(g.nodeErrorMessage({type:"UnaryExpression"},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===f)return-1*b.toNumber(c);if("+"===f)return 1*b.toNumber(c);throw Error(g.nodeErrorMessage({type:"UnaryExpression"},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},
logicalCheck:function(c){if(!1===b.isBoolean(c))throw Error(g.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));return c},logical:function(c,f,d){if(!b.isBoolean(c)||!b.isBoolean(f))throw Error(g.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));switch(d){case "||":return c||f;case "\x26\x26":return c&&f;default:throw Error(g.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));}},binary:function(c,f,d){switch(d){case "\x3d\x3d":return b.equalityTest(c,f);case "\x3d":return b.equalityTest(c,
f);case "!\x3d":return!b.equalityTest(c,f);case "\x3c":return b.greaterThanLessThan(c,f,d);case "\x3e":return b.greaterThanLessThan(c,f,d);case "\x3c\x3d":return b.greaterThanLessThan(c,f,d);case "\x3e\x3d":return b.greaterThanLessThan(c,f,d);case "+":return b.isString(c)||b.isString(f)?b.toString(c)+b.toString(f):b.toNumber(c)+b.toNumber(f);case "-":return b.toNumber(c)-b.toNumber(f);case "*":return b.toNumber(c)*b.toNumber(f);case "/":return b.toNumber(c)/b.toNumber(f);case "%":return b.toNumber(c)%
b.toNumber(f);default:throw Error(g.nodeErrorMessage({type:"BinaryExpression"},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign:function(c,f,d){switch(f){case "\x3d":return c===b.voidOperation?null:c;case "/\x3d":return b.toNumber(d)/b.toNumber(c);case "*\x3d":return b.toNumber(d)*b.toNumber(c);case "-\x3d":return b.toNumber(d)-b.toNumber(c);case "+\x3d":return b.isString(d)||b.isString(c)?b.toString(d)+b.toString(c):b.toNumber(d)+b.toNumber(c);case "%\x3d":return b.toNumber(d)%b.toNumber(c);default:throw Error(g.nodeErrorMessage("AssignmentExpression",
"RUNTIME","OPERATORNOTRECOGNISED"));}},update:function(c,f,d,k){var t=b.toNumber(c[f]);return c[f]="++"===d?t+1:t-1,!1===k?t:"++"===d?t+1:t-1},memberupdate:function(c,f,d,k){var t;if(b.isArray(c)){if(!b.isNumber(f))throw Error("Invalid Parameter");if(0>f&&(f=c.length+f),0>f||f>=c.length)throw Error("Assignment outside of array bounds");t=b.toNumber(c[f]);c[f]="++"===d?t+1:t-1}else{if(c instanceof a){if(!1===b.isString(f))throw Error("Dictionary accessor must be a string");}else{if(!(c instanceof r))throw b.isImmutableArray(c)?
Error("Array is Immutable"):Error("Invalid Parameter");if(!1===b.isString(f))throw Error("Feature accessor must be a string");}if(!0!==c.hasField(f))throw Error("Invalid Parameter");t=b.toNumber(c.field(f));c.setField(f,"++"===d?t+1:t-1)}return!1===k?t:"++"===d?t+1:t-1},assignmember:function(c,f,d,k){if(b.isArray(c)){if(!b.isNumber(f))throw Error("Invalid Parameter");if(0>f&&(f=c.length+f),0>f||f>c.length)throw Error("Assignment outside of array bounds");if(f===c.length&&"\x3d"!==d)throw Error("Invalid Parameter");
c[f]=this.assign(k,d,c[f])}else{if(c instanceof a){if(!1===b.isString(f))throw Error("Dictionary accessor must be a string");}else{if(!(c instanceof r))throw b.isImmutableArray(c)?Error("Array is Immutable"):Error("Invalid Parameter");if(!1===b.isString(f))throw Error("Feature accessor must be a string");}if(!0===c.hasField(f))c.setField(f,this.assign(k,d,c.field(f)));else{if("\x3d"!==d)throw Error("Invalid Parameter");c.setField(f,this.assign(k,d,null))}}},member:function(c,f){if(null===c)throw Error(g.nodeErrorMessage("MemberExpression",
"RUNTIME","NOTFOUND"));if(c instanceof a||c instanceof r){if(b.isString(f))return c.field(f);throw Error(g.nodeErrorMessage("MemberExpression","RUNTIME","INVALIDTYPE"));}if(c instanceof z){if(b.isString(f))return da(c,f,"MemberExpression");throw Error(g.nodeErrorMessage("MemberExpression","RUNTIME","INVALIDTYPE"));}if(b.isArray(c)){if(b.isNumber(f)&&isFinite(f)&&Math.floor(f)===f){if(0>f&&(f=c.length+f),f>=c.length||0>f)throw Error(g.nodeErrorMessage("MemberExpression","RUNTIME","OUTOFBOUNDS"));return c[f]}throw Error(g.nodeErrorMessage("MemberExpression",
"RUNTIME","INVALIDTYPE"));}if(b.isString(c)){if(b.isNumber(f)&&isFinite(f)&&Math.floor(f)===f){if(0>f&&(f=c.length+f),f>=c.length||0>f)throw Error(g.nodeErrorMessage("MemberExpression","RUNTIME","OUTOFBOUNDS"));return c[f]}throw Error(g.nodeErrorMessage("MemberExpression","RUNTIME","INVALIDTYPE"));}if(b.isImmutableArray(c)&&b.isNumber(f)&&isFinite(f)&&Math.floor(f)===f){if(0>f&&(f=c.length()+f),f>=c.length()||0>f)throw Error(g.nodeErrorMessage("MemberExpression","RUNTIME","OUTOFBOUNDS"));return c.get(f)}throw Error(g.nodeErrorMessage("MemberExpression",
"RUNTIME","INVALIDTYPE"));},callfunc:function(c,f,d){return c instanceof b.NativeFunction?c.fn(d,f):c instanceof b.SizzleFunction?c.fn.apply(this,f):c.apply(this,f)}};p.compileScript=function(f,t){void 0===t&&(t=null);null===t&&(t={vars:{},customfunctions:{}});t={globalScope:d(t.vars,k,t.customfunctions),localScope:null,console:c,symbols:{symbolCounter:0}};f=I(t,f.body[0].body);""===f&&(f="lc.voidOperation;");t={lc:b,lang:G,postProcess:function(c){if(c instanceof b.ReturnResult&&(c=c.value),c instanceof
b.ImplicitResult&&(c=c.value),c===b.voidOperation&&(c=null),c===b.breakResult)throw Error("Cannot return BREAK");if(c===b.continueResult)throw Error("Cannot return CONTINUE");if(b.isFunctionParameter(c))throw Error("Cannot return FUNCTION");return c},prepare:function(f,d){d||(d=new l({wkid:102100}));var k=f.vars,t=f.customfunctions,n=new A;k||(k={});t||(t={});var G=new a({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});G.immutable=!1;n._SymbolsMap={textformatting:1,
infinity:1,pi:1};n.textformatting=G;n.infinity=Number.POSITIVE_INFINITY;n.pi=Math.PI;for(var b in t)n[b]=t[b],n._SymbolsMap[b]=1;for(b in k)n._SymbolsMap[b]=1,k[b]&&"esri.Graphic"===k[b].declaredClass?n[b]=new r(k[b]):n[b]=k[b];return{spatialReference:d,globalScope:n,localScope:null,console:f.console?f.console:c,symbols:{symbolCounter:0},depthCounter:1,applicationCache:void 0===f.applicationCache?null:f.applicationCache}}};return(new Function("context","spatialReference","var runtimeCtx\x3dthis.prepare(context, spatialReference);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+
f+"\n return lastStatement; } \n return this.postProcess(mainBody());")).bind(t)}})},"esri/layers/support/fieldUtils":function(){define(["require","exports","dojo/_base/lang"],function(y,p,u){function m(e,q,l){if(e)for(var b=0;b<e.length;b++){var g=e[b],a=u.getObject(g,!1,q);(a=a&&"function"!=typeof a&&h(a,l))&&u.setObject(g,a.name,q)}}function h(e,h){if(null!=h){e=e.toLowerCase();for(var l=0;l<h.length;l++){var b=h[l];if(b&&b.name.toLowerCase()===e)return b}}return null}Object.defineProperty(p,"__esModule",
{value:!0});p.extractFieldNames=function(e){if(!e||"string"!=typeof e)return[];e=e.match(/{[^}]*}/g);if(!e)return[];var h=/\{(\w+):.+\}/;return(e=e.filter(function(e){return!(0===e.indexOf("{relationships/")||0===e.indexOf("{expression/"))}).map(function(e){return e.replace(h,"{$1}")}))?e.map(function(e){return e.slice(1,-1)}):[]};p.fixRendererFields=function(e,h){if(null!=e&&null!=h){var l=0;for(e=Array.isArray(e)?e:[e];l<e.length;l++){var b=e[l];if(m(p.rendererFields,b,h),b.visualVariables)for(var g=
0,b=b.visualVariables;g<b.length;g++)m(p.visualVariableFields,b[g],h)}}};p.getField=h;p.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");p.visualVariableFields=["field","normalizationField"];p.numericTypes=["integer","small-integer","single","double"];p.isNumericField=function(e,h){return e?-1<p.numericTypes.indexOf(e.type)&&e.name!==h.objectIdField:
!1};p.isStringField=function(e,h){return e?"string"===e.type&&e.name!==h.objectIdField:!1};p.isDateField=function(e){return e?"date"===e.type:!1}})},"esri/symbols/support/typeUtils":function(){define("require exports ../../core/accessorSupport/ensureType ../Symbol ../PictureFillSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ../WebStyleSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PointSymbol3D ../PolygonSymbol3D".split(" "),function(y,
p,u,m,h,e,q,l,b,g,a,r,v,w,x,D){Object.defineProperty(p,"__esModule",{value:!0});p.types={base:m,key:"type",typeMap:{"simple-fill":q,"picture-fill":h,"picture-marker":e,"simple-line":l,"simple-marker":b,text:g,"label-3d":r,"line-3d":v,"mesh-3d":w,"point-3d":x,"polygon-3d":D,"web-style":a}};p.types3D={base:m,key:"type",typeMap:{"label-3d":r,"line-3d":v,"mesh-3d":w,"point-3d":x,"polygon-3d":D,"web-style":a}};p.ensureType=u.ensureOneOfType(p.types)})},"esri/symbols/Symbol":function(){define(["../core/lang",
"../core/kebabDictionary","../core/JSONSupport","../Color"],function(y,p,u,m){var h=p({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),e=0;return u.createSubclass({declaredClass:"esri.symbols.Symbol",constructor:function(){this.id="sym"+e++},properties:{type:{type:String,
value:null,json:{read:h.fromJSON,write:{ignoreOrigin:!0,writer:function(e,l){l.type=h.toJSON(this.type)}}}},color:{type:m,value:new m([0,0,0,1]),json:{read:function(e){return e&&y.isDefined(e[0])?[e[0],e[1],e[2],e[3]/255]:e},write:!0}}}})})},"esri/symbols/PictureFillSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./FillSymbol ./support/urlUtils".split(" "),function(y,p,u,m,h,e){var q={xscale:1,yscale:1,xoffset:0,yoffset:0,width:12,height:12},l=y(h,{declaredClass:"esri.symbols.PictureFillSymbol",
properties:{type:"picture-fill",url:e.urlPropertyDefinition,xscale:{value:1,json:{write:!0}},yscale:{value:1,json:{write:!0}},width:{value:12,cast:m.toPt,json:{write:!0}},height:{value:12,cast:m.toPt,json:{write:!0}},xoffset:{value:0,cast:m.toPt,json:{write:!0}},yoffset:{value:0,cast:m.toPt,json:{write:!0}},source:e.sourcePropertyDefinition},getDefaults:function(){return p.mixin(this.inherited(arguments),q)},normalizeCtorArgs:function(b,e,a,l){if(b&&"string"!=typeof b&&null==b.imageData)return b;
var g={};return b&&(g.url=b),e&&(g.outline=e),null!=a&&(g.width=m.toPt(a)),null!=l&&(g.height=m.toPt(l)),g},clone:function(){var b=new l({color:u.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return b._set("source",u.clone(this.source)),b}});return l.defaultProps=q,l})},"esri/core/screenUtils":function(){define(["require","exports"],function(y,p){function u(h){return h?
72*h/p.DPI:0}Object.defineProperty(p,"__esModule",{value:!0});var m=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;p.DPI=96;p.pt2px=function(h){return h?h/72*p.DPI:0};p.px2pt=u;p.toPt=function(h){if("string"==typeof h){if(m.test(h)){var e=h.match(m),q=Number(e[1]),e=e[3]&&e[3].toLowerCase();h="-"===h.charAt(0);q="px"===e?u(q):q;return h?-q:q}return console.warn("screenUtils.toPt: input not recognized!"),null}return h}})},"esri/symbols/FillSymbol":function(){define(["dojo/_base/lang","./Symbol","./SimpleLineSymbol"],
function(y,p,u){return p.createSubclass({declaredClass:"esri.symbols.FillSymbol",properties:{outline:{type:u,json:{write:!0}},type:null},read:function h(e,q){return this.getInherited(h,arguments).call(this,y.mixin({outline:null},e),q)}})})},"esri/symbols/SimpleLineSymbol":function(){define(["../core/declare","dojo/_base/lang","../core/lang","../core/screenUtils","./LineSymbol"],function(y,p,u,m,h){var e={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dash-dot",STYLE_DASHDOTDOT:"long-dash-dot-dot",
STYLE_NULL:"none",STYLE_SHORTDASH:"short-dash",STYLE_SHORTDOT:"short-dot",STYLE_SHORTDASHDOT:"short-dash-dot",STYLE_SHORTDASHDOTDOT:"short-dash-dot-dot",STYLE_LONGDASH:"long-dash",STYLE_LONGDASHDOT:"long-dash-dot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},q={color:[0,0,0,1],style:e.STYLE_SOLID,width:.75,cap:e.CAP_BUTT,join:e.JOIN_MITER,miterLimit:7.5},l=y(h,{declaredClass:"esri.symbols.SimpleLineSymbol",properties:{type:"simple-line",
style:{value:e.STYLE_SOLID,json:{read:function(b,e){return u.valueOf(this._jsonStyles,b)||void 0},write:function(b,e){e.style=this._jsonStyles[b]}}},cap:{value:e.CAP_BUTT,json:{read:!1,write:!1}},join:{value:e.JOIN_MITER,json:{read:!1,write:!1}},miterLimit:{value:7.5,cast:m.toPt,json:{read:!1,write:!1}}},_jsonStyles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot","dash-dot":"esriSLSDashDot","long-dash-dot-dot":"esriSLSDashDotDot",none:"esriSLSNull","inside-frame":"esriSLSInsideFrame","short-dash":"esriSLSShortDash",
"short-dot":"esriSLSShortDot","short-dash-dot":"esriSLSShortDashDot","short-dash-dot-dot":"esriSLSShortDashDotDot","long-dash":"esriSLSLongDash","long-dash-dot":"esriSLSLongDashDot"},getDefaults:function(){return p.mixin(this.inherited(arguments),q)},normalizeCtorArgs:function(b,e,a,l,h,q){if(b&&"string"!=typeof b)return b;var g={};return null!=b&&(g.style=b),null!=e&&(g.color=e),null!=a&&(g.width=m.toPt(a)),null!=l&&(g.cap=l),null!=h&&(g.join=h),null!=q&&(g.miterLimit=m.toPt(q)),g},clone:function(){return new l({color:u.clone(this.color),
style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})}});return p.mixin(l,e),l.defaultProps=q,l})},"esri/symbols/LineSymbol":function(){define(["../core/declare","../core/screenUtils","./Symbol"],function(y,p,u){return y(u,{declaredClass:"esri.symbols.LineSymbol",properties:{color:{},type:"simple-line",width:{value:.75,cast:p.toPt,json:{write:!0}}}})})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(y,p,u){function m(e,
b,g){return b.imageData?u.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):h(b.url,g)}function h(e,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||u.isAbsolute(e)||!b.layer.parsedUrl?u.read(e,b):u.join(b.layer.parsedUrl.path,"images",e)}function e(e,b,g,a){u.isDataProtocol(e)?(e=u.dataComponents(e),b.contentType=e.mediaType,b.imageData=e.data,g&&g.imageData===b.imageData&&g.url&&(b.url=q(g.url,a))):
b.url=q(e,a)}function q(e,b){return u.write(e,b)}Object.defineProperty(p,"__esModule",{value:!0});p.readImageDataOrUrl=m;p.read=h;p.writeImageDataAndUrl=e;p.write=q;p.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:m},write:{writer:function(l,b,g,a){e(l,b,this.source,a)}}}};p.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(e,b,g){e={};return b.imageData&&(e.imageData=b.imageData),b.contentType&&(e.contentType=b.contentType),b.url&&
(e.url=h(b.url,g)),e}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./MarkerSymbol ./support/urlUtils".split(" "),function(y,p,u,m,h,e){var q={width:12,height:12,angle:0,xoffset:0,yoffset:0},l=y(h,{declaredClass:"esri.symbols.PictureMarkerSymbol",properties:{color:{json:{write:!1}},type:"picture-marker",url:e.urlPropertyDefinition,source:e.sourcePropertyDefinition,height:{json:{read:{source:["height","size"],reader:function(b,
e){return e.size||b}},write:!0},cast:m.toPt},width:{json:{read:{source:["width","size"],reader:function(b,e){return e.size||b}},write:!0},cast:m.toPt},size:{json:{write:!1}}},getDefaults:function(){return p.mixin(this.inherited(arguments),q)},normalizeCtorArgs:function(b,e,a){if(b&&"string"!=typeof b&&null==b.imageData)return b;var g={};return b&&(g.url=b),null!=e&&(g.width=m.toPt(e)),null!=a&&(g.height=m.toPt(a)),g},clone:function(){var b=new l({angle:this.angle,height:this.height,url:this.url,width:this.width,
xoffset:this.xoffset,yoffset:this.yoffset});return b._set("source",u.clone(this.source)),b}});return l.defaultProps=q,l})},"esri/symbols/MarkerSymbol":function(){define(["../core/declare","../core/screenUtils","./Symbol"],function(y,p,u){return y(u,{declaredClass:"esri.symbols.MarkerSymbol",properties:{angle:{value:0,json:{read:function(m){return m&&-1*m},write:function(m,h){h.angle=m&&-1*m}}},type:{},xoffset:{value:0,cast:p.toPt,json:{write:!0}},yoffset:{value:0,cast:p.toPt,json:{write:!0}},size:{value:9,
cast:function(m){return"auto"===m?m:p.toPt(m)},json:{write:!0}}}})})},"esri/symbols/SimpleFillSymbol":function(){define(["../core/declare","dojo/_base/lang","../core/lang","./FillSymbol","./SimpleLineSymbol"],function(y,p,u,m,h){var e={style:"solid",outline:new h,color:[0,0,0,.25]},q=y(m,{declaredClass:"esri.symbols.SimpleFillSymbol",properties:{color:{},type:"simple-fill",style:{value:"solid",type:String,json:{read:function(e){return u.valueOf(this._styles,e)||void 0},write:function(e,b){b.style=
this._styles[e]}}}},_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical","forward-diagonal":"esriSFSForwardDiagonal","backward-diagonal":"esriSFSBackwardDiagonal",cross:"esriSFSCross","diagonal-cross":"esriSFSDiagonalCross"},getDefaults:function(){return p.mixin(this.inherited(arguments),e)},normalizeCtorArgs:function(e,b,g){if(e&&"string"!=typeof e)return e;var a={};return e&&(a.style=e),b&&(a.outline=b),g&&(a.color=g),a},clone:function(){return new q({color:u.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})}});return p.mixin(q,{STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forward-diagonal",STYLE_BACKWARD_DIAGONAL:"backward-diagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonal-cross"}),q.defaultProps=e,q})},"esri/symbols/SimpleMarkerSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(y,p,u,m,h,e){var q={style:"circle",color:[255,255,255,.25],outline:new e,size:12,angle:0,xoffset:0,yoffset:0},l=y(h,{declaredClass:"esri.symbols.SimpleMarkerSymbol",properties:{color:{json:{write:function(b,e){b&&"x"!==this.style&&"cross"!==this.style&&(e.color=b.toJSON())}}},type:"simple-marker",size:{value:12},style:{type:String,value:"circle",json:{read:function(b){return u.valueOf(this._styles,b)},write:function(b,e){e.style=this._styles[b]}}},path:{type:String,value:null,set:function(b){this.style=
"path";this._set("path",b)},json:{write:!0}},outline:{type:e,json:{write:!0}}},_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},getDefaults:function(){return p.mixin(this.inherited(arguments),q)},normalizeCtorArgs:function(b,e,a,l){if(b&&"string"!=typeof b)return b;var g={};return b&&(g.style=b),null!=e&&(g.size=m.toPt(e)),a&&(g.outline=a),l&&(g.color=l),g},clone:function(){return new l({angle:this.angle,color:u.clone(this.color),
outline:this.outline&&this.outline.clone(),size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})},read:function g(a,e){return this.getInherited(g,arguments).call(this,p.mixin({outline:null},a),e)}});return p.mixin(l,{STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"}),l.defaultProps=q,l})},"esri/symbols/TextSymbol":function(){define("../core/declare dojo/_base/lang ../core/lang ../core/screenUtils ../Color ./Symbol ./Font".split(" "),
function(y,p,u,m,h,e,q){var l={text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:{},angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},b=y(e,{declaredClass:"esri.symbols.TextSymbol",properties:{backgroundColor:{type:h,json:{write:!0}},borderLineColor:{type:h,json:{write:!0}},borderLineSize:{type:Number,json:{write:!0}},color:{},font:{type:q,json:{write:!0}},horizontalAlignment:{value:"center",json:{write:!0}},kerning:{value:!0,json:{write:!0}},haloColor:{type:h,json:{write:!0}},haloSize:{type:Number,
cast:m.toPt,json:{write:!0}},rightToLeft:{json:{write:!0}},rotated:{value:!1,json:{write:!0}},text:{type:String,json:{write:!0}},type:"text",verticalAlignment:{type:String,json:{write:!0}},xoffset:{value:0,type:Number,cast:m.toPt,json:{write:!0}},yoffset:{value:0,type:Number,cast:m.toPt,json:{write:!0}},angle:{type:Number,value:0,json:{read:function(b){return b&&-1*b},write:function(b,a){a.angle=b&&-1*b}}},width:{json:{write:!0}}},getDefaults:function(){return p.mixin(this.inherited(arguments),l)},
normalizeCtorArgs:function(b,a,e){if(b&&"string"!=typeof b)return b;var g={};return b&&(g.text=b),a&&(g.font=a),e&&(g.color=e),g},clone:function(){return new b({angle:this.angle,backgroundColor:u.clone(this.backgroundColor),borderLineColor:u.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:u.clone(this.color),font:this.font&&this.font.clone(),haloColor:u.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,
rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}});return p.mixin(b,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"}),b.defaultProps=l,b})},"esri/symbols/Font":function(){define(["dojo/_base/lang","../core/JSONSupport","../core/lang","../core/screenUtils"],function(y,p,u,m){var h=
{style:"normal",weight:"normal",size:9,family:"serif",decoration:"none"},e=p.createSubclass({declaredClass:"esri.symbols.Font",properties:{decoration:{},family:{},size:{cast:m.toPt},style:{},weight:{}},getDefaults:function(){return h},normalizeCtorArgs:function(e,l,b,g){if(e&&"string"!=typeof e)return e;var a={};return null!=e&&(a.size=m.toPt(e)),null!=l&&(a.style=l),null!=b&&(a.weight=b),g&&(a.family=g),a},toJSON:function(){return u.fixJson({size:this.size,style:this.style,decoration:this.decoration,
weight:this.weight,family:this.family})},clone:function(){return new e({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}});return e.defaultProps=h,y.mixin(e,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"}),e})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/extendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/urlUtils ../core/Logger ../core/requireUtils ./Symbol ../portal/Portal ./support/Thumbnail".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){var r=q.getLogger("esri.symbols.WebStyleSymbol");return function(b){function q(a){a=b.call(this,a)||this;return a.styleName=null,a.portal=null,a.styleUrl=null,a.thumbnail=null,a.name=null,a.type="web-style",a}return u(q,b),v=q,q.prototype._readStyleUrl=function(a,b,g){return e.read(a,g)},q.prototype._writeStyleUrl=function(a,b,g,l){b.styleUrl=e.write(a,l);e.isAbsolute(b.styleUrl)&&(b.styleUrl=e.normalize(b.styleUrl))},q.prototype._writeType=function(a,b,e,g){b.type=
"styleSymbolReference"},q.prototype.read=function(a,b){return this.portal=b?b.portal:void 0,this.inherited(arguments,[a,b]),this},q.prototype.clone=function(){return new v({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})},q.prototype.fetchSymbol=function(){var a=this;return l.when(y,"./support/styleUtils").then(function(b){b=b.resolveWebStyleSymbol(a,{portal:a.portal});return b.otherwise(function(a){r.error("#fetchSymbol()","Failed to create symbol from style",
a)}),b})},m([h.property({json:{write:!1}})],q.prototype,"color",void 0),m([h.property({type:String,json:{write:!0}})],q.prototype,"styleName",void 0),m([h.property({type:g,json:{write:!1}})],q.prototype,"portal",void 0),m([h.property({type:String,json:{write:!0}})],q.prototype,"styleUrl",void 0),m([h.reader("styleUrl")],q.prototype,"_readStyleUrl",null),m([h.writer("styleUrl")],q.prototype,"_writeStyleUrl",null),m([h.property({type:a["default"],json:{read:!1}})],q.prototype,"thumbnail",void 0),m([h.property({type:String,
json:{write:!0}})],q.prototype,"name",void 0),m([h.property({type:String,readOnly:!0,json:{read:!1}})],q.prototype,"type",void 0),m([h.writer("type")],q.prototype,"_writeType",null),q=v=m([h.subclass("esri.symbols.WebStyleSymbol")],q);var v}(h.declared(b))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor".split(" "),function(y,p,u,m,h,e){Object.defineProperty(p,
"__esModule",{value:!0});y=function(e){function l(){return null!==e&&e.apply(this,arguments)||this}return u(l,e),b=l,l.prototype.clone=function(){return new b({url:this.url})},m([h.property({type:String})],l.prototype,"url",void 0),l=b=m([h.subclass("esri.symbols.support.Thumbnail")],l);var b}(h.declared(e));p.Thumbnail=y;p["default"]=y})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/Collection ./Symbol3D ./TextSymbol3DLayer ./support/Symbol3DVerticalOffset ./callouts/calloutUtils ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){var r=e.ofType({base:null,key:"type",typeMap:{text:l}});return function(e){function l(a){a=e.call(this)||this;return a.verticalOffset=null,a.callout=null,a.symbolLayers=new r,a.type="label-3d",a}return u(l,e),q=l,l.prototype.supportsCallout=function(){return!0},l.prototype.hasVisibleCallout=function(){return g.hasVisibleCallout(this)},l.prototype.hasVisibleVerticalOffset=function(){return g.hasVisibleVerticalOffset(this)},l.prototype.clone=function(){return new q({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail),callout:h.clone(this.callout),verticalOffset:h.clone(this.verticalOffset)})},m([a.property({type:b["default"],json:{write:!0}})],l.prototype,"verticalOffset",void 0),m([a.property(g.calloutProperty)],l.prototype,"callout",void 0),m([a.property({type:r})],l.prototype,"symbolLayers",void 0),m([a.property()],l.prototype,"type",void 0),l=q=m([a.subclass("esri.symbols.LabelSymbol3D")],l);var q}(a.declared(q))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Logger ../core/collectionUtils ../core/Warning ../core/urlUtils ../core/accessorSupport/metadata ./Symbol ./Symbol3DLayer ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./LineSymbol3DLayer ./PathSymbol3DLayer ./FillSymbol3DLayer ./ExtrudeSymbol3DLayer ./TextSymbol3DLayer ./support/Thumbnail ./support/StyleOrigin ../portal/Portal ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J,K,z,M,I){var Q={icon:v,object:w,line:x,path:D,fill:E,extrude:B,text:J},O=h.ofType({base:r,key:"type",typeMap:Q}),Y=e.getLogger("esri.symbols.Symbol3D");return function(a){function e(b){b=a.call(this)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var e=g.getMetadata(b).properties.symbolLayers.type;return b._set("symbolLayers",new e),b}return u(e,a),Object.defineProperty(e.prototype,"color",{get:function(){return null},set:function(a){Y.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},
enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolLayers",{set:function(a){q.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0}),e.prototype.readSymbolLayers=function(a,b,e){b=[];for(var g=0;g<a.length;g++){var h=a[g],n=r.typeJSONDictionary.read(h.type),q=Q[n];q?(h=new q,h.read(a[g],e),b.push(h)):(Y.warn("Unknown symbol layer type: "+n),e&&e.messages&&e.messages.push(new l("symbol-layer:unsupported","Symbol layers of type '"+(n||"unknown")+"' are not supported",
{definition:h,context:e})))}return b},e.prototype.readStyleOrigin=function(a,e,g){return a.styleUrl&&a.name?(e=b.read(a.styleUrl,g),new z({styleUrl:e,name:a.name})):a.styleName&&a.name?new z({portal:g&&g.portal||M.getDefault(),styleName:a.styleName,name:a.name}):void(g&&g.messages&&g.messages.push(new l("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:g,definition:a})))},e.prototype.writeStyleOrigin=function(a,e,g,h){a.styleUrl&&
a.name?(g=b.write(a.styleUrl,h),b.isAbsolute(g)&&(g=b.normalize(g)),e.styleOrigin={styleUrl:g,name:a.name}):a.styleName&&a.name&&(a.portal&&h&&h.portal&&!b.hasSamePortal(a.portal.restUrl,h.portal.restUrl)?h&&h.messages&&h.messages.push(new l("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:a.styleName,name:a.name})},e.prototype.normalizeCtorArgs=function(a){return a instanceof
r||a&&Q[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a},m([I.property({json:{read:!1,write:!1}})],e.prototype,"color",null),m([I.property({type:O,nonNullable:!0,json:{write:!0}}),I.cast(q.castForReferenceSetter)],e.prototype,"symbolLayers",null),m([I.reader("symbolLayers")],e.prototype,"readSymbolLayers",null),m([I.property({type:z})],e.prototype,"styleOrigin",void 0),m([I.reader("styleOrigin")],e.prototype,"readStyleOrigin",null),m([I.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},
"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],e.prototype,"writeStyleOrigin",null),m([I.property({type:K["default"],json:{read:!1}})],e.prototype,"thumbnail",void 0),m([I.property({type:String,readOnly:!0,json:{read:!1}})],e.prototype,"type",void 0),e=m([I.subclass("esri.symbols.Symbol3D")],e)}(I.declared(a))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(y,p,u){Object.defineProperty(p,"__esModule",{value:!0});p.referenceSetter=
function(m,h,e){void 0===e&&(e=u);h||(h=new e);h.removeAll();return m&&(Array.isArray(m)||m.isInstanceOf&&m.isInstanceOf(u))?h.addMany(m):h.add(m),h};p.castForReferenceSetter=function(m){return m}})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ./support/Symbol3DMaterial ./support/ElevationInfo ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q,
l,b){var g=e({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text"});y=function(a){function e(b){b=a.call(this)||this;return b.enabled=!0,b.material=null,b.type=null,b}return u(e,a),e.prototype.writeEnabled=function(a,b,e){a||(b[e]=a)},m([b.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],e.prototype,"enabled",void 0),m([b.writer("enabled")],e.prototype,"writeEnabled",null),m([b.property({type:l,json:{read:!1,write:!1}})],e.prototype,
"elevationInfo",void 0),m([b.property({type:q["default"],json:{write:!0}})],e.prototype,"material",void 0),m([b.property({type:String,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:g.write}}})],e.prototype,"type",void 0),e=m([b.subclass("esri.symbols.Symbol3DLayer")],e)}(b.declared(h));(y||(y={})).typeJSONDictionary=g;return y})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ./materialUtils ../../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q){Object.defineProperty(p,"__esModule",{value:!0});y=function(l){function b(){return null!==l&&l.apply(this,arguments)||this}return u(b,l),g=b,b.prototype.clone=function(){return new g({color:this.color?this.color.clone():null})},m([q.property(e.colorAndTransparencyProperty)],b.prototype,"color",void 0),b=g=m([q.subclass("esri.symbols.support.Symbol3DMaterial")],b);var g}(q.declared(h));p.Symbol3DMaterial=y;p["default"]=y})},"esri/symbols/support/materialUtils":function(){define(["require",
"exports","../../Color","../../core/screenUtils"],function(y,p,u,m){function h(b){return Math.max(0,Math.min(Math.round(100*(1-b)),100))}function e(b){return Math.max(0,Math.min(1-b/100,1))}function q(b,g){b=null!=g.transparency?e(g.transparency):1;return(g=g.color)&&Array.isArray(g)?new u([g[0]||0,g[1]||0,g[2]||0,b]):void 0}function l(b,e){e.color=b.toJSON().slice(0,3);b=h(b.a);0!==b&&(e.transparency=b)}Object.defineProperty(p,"__esModule",{value:!0});p.opacityToTransparency=h;p.transparencyToOpacity=
e;p.readColorAndTransparency=q;p.writeColorAndTransparency=l;p.colorAndTransparencyProperty={type:u,json:{type:[Number],read:{source:["color","transparency"],reader:q},write:{target:{color:{type:[Number]},transparency:{type:Number}},writer:l}}};p.screenSizeProperty={type:Number,cast:m.toPt,json:{write:!0}}})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/JSONSupport ../../core/kebabDictionary ../../support/arcadeUtils".split(" "),
function(y,p,u,m,h,e,q,l){var b=q({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),g=q({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return u(b,a),e=b,Object.defineProperty(b.prototype,"requiredFields",{get:function(){return l.extractFieldNames(this.expression)},enumerable:!0,configurable:!0}),
b.prototype.clone=function(){return new e({expression:this.expression})},m([h.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0),m([h.property({readOnly:!0,dependsOn:["expression"]})],b.prototype,"requiredFields",null),b=e=m([h.subclass("esri.layers.support.FeatureExpressionInfo")],b);var e}(h.declared(e));return function(e){function l(){return null!==e&&e.apply(this,arguments)||this}return u(l,e),r=l,l.prototype.readFeatureExpressionInfo=function(a,b){return null!=a?a:b.featureExpression&&
0===b.featureExpression.value?{expression:"0"}:void 0},l.prototype.writeFeatureExpressionInfo=function(a,b,e,g){b[e]=a.write(null,g);"0"===a.expression&&(b.featureExpression={value:0})},Object.defineProperty(l.prototype,"mode",{get:function(){var a=this._get("mode");return a?a:null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._set("mode",a)},enumerable:!0,configurable:!0}),l.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||
this.unit?this.inherited(arguments):null},l.prototype.clone=function(){return new r({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})},m([h.property({type:a,json:{write:!0}})],l.prototype,"featureExpressionInfo",void 0),m([h.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],l.prototype,"readFeatureExpressionInfo",null),m([h.writer("featureExpressionInfo")],l.prototype,"writeFeatureExpressionInfo",
null),m([h.property({type:String,dependsOn:["offset","featureExpressionInfo"],json:{read:b.read,write:{writer:b.write,isRequired:!0}}})],l.prototype,"mode",null),m([h.property({type:Number,json:{write:!0}})],l.prototype,"offset",void 0),m([h.property({type:String,json:{read:g.read,write:g.write}})],l.prototype,"unit",void 0),l=r=m([h.subclass("esri.layers.support.ElevationInfo")],l);var r}(h.declared(e))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DOutline ./support/Symbol3DResource ./support/materialUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){var r=h({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right"},{ignoreUnknown:!0}),v=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return u(b,a),g=b,b.prototype.readHref=function(a,b,g){return a?e.read(a,g):b.dataURI},b.prototype.writeHref=function(a,b,g,l){a&&(e.isDataProtocol(a)?b.dataURI=a:(b.href=e.write(a,l),e.isAbsolute(b.href)&&
(b.href=e.normalize(b.href))))},b.prototype.clone=function(){return new g({href:this.href,primitive:this.primitive})},m([q.property({json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0),m([q.reader("href")],b.prototype,"readHref",null),m([q.writer("href")],b.prototype,"writeHref",null),b=g=m([q.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b);var g}(q.declared(g["default"]));return function(e){function g(a){a=e.call(this)||this;return a.material=null,a.resource=
null,a.type="icon",a.size=12,a.anchor=void 0,a.outline=void 0,a}return u(g,e),l=g,g.prototype.clone=function(){return new l({anchor:this.anchor,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone(),resource:this.resource&&this.resource.clone(),size:this.size})},m([q.property()],g.prototype,"material",void 0),m([q.property({type:v,json:{write:!0}})],g.prototype,"resource",void 0),m([q.property()],
g.prototype,"type",void 0),m([q.property(a.screenSizeProperty)],g.prototype,"size",void 0),m([q.property({type:String,json:{read:r.read,write:r.write}})],g.prototype,"anchor",void 0),m([q.property({type:b["default"],json:{write:!0}})],g.prototype,"outline",void 0),g=l=m([q.subclass("esri.symbols.IconSymbol3DLayer")],g);var l}(q.declared(l))})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../Color ./materialUtils ../../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l){Object.defineProperty(p,"__esModule",{value:!0});y=function(b){function g(){var a=null!==b&&b.apply(this,arguments)||this;return a.color=new e([0,0,0,1]),a.size=1,a}return u(g,b),a=g,g.prototype.clone=function(){return new a({color:this.color?this.color.clone():null,size:this.size})},m([l.property(q.colorAndTransparencyProperty)],g.prototype,"color",void 0),m([l.property(q.screenSizeProperty)],g.prototype,"size",void 0),g=a=m([l.subclass("esri.symbols.support.Symbol3DOutline")],
g);var a}(l.declared(h));p.Symbol3DOutline=y;p["default"]=y})},"esri/symbols/support/Symbol3DResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/urlUtils ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q,l){Object.defineProperty(p,"__esModule",{value:!0});var b=q({invertedCone:"inverted-cone"});y=function(e){function a(){return null!==e&&e.apply(this,
arguments)||this}return u(a,e),g=a,a.prototype.readHref=function(a,b,e){return h.read(a,e)},a.prototype.writeHref=function(a,b,e,g){a&&(b.href=h.write(a,g),h.isAbsolute(b.href)&&(b.href=h.normalize(b.href)))},a.prototype.readPrimitive=function(a){return b.fromJSON(a)},a.prototype.writePrimitive=function(a,e){e.primitive=b.toJSON(a)},a.prototype.clone=function(){return new g({href:this.href,primitive:this.primitive})},m([l.property({type:String,json:{write:!0}})],a.prototype,"href",void 0),m([l.reader("href")],
a.prototype,"readHref",null),m([l.writer("href")],a.prototype,"writeHref",null),m([l.property({type:String,json:{write:!0}})],a.prototype,"primitive",void 0),m([l.reader("primitive")],a.prototype,"readPrimitive",null),m([l.writer("primitive")],a.prototype,"writePrimitive",null),a=g=m([l.subclass("esri.symbols.support.Symbol3DResource")],a);var g}(l.declared(e));p.Symbol3DResource=y;p["default"]=y})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ./Symbol3DLayer ./support/Symbol3DMaterial ./support/Symbol3DResource ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b){var g=h({center:"center",top:"top",bottom:"bottom",origin:"origin"},{ignoreUnknown:!0});return function(a){function e(b){b=a.call(this)||this;return b.material=null,b.resource=null,b.type="object",b.width=void 0,b.height=void 0,b.depth=void 0,b.anchor=void 0,b.heading=void 0,b.tilt=void 0,b.roll=void 0,b}return u(e,a),h=e,e.prototype.clone=function(){return new h({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,depth:this.depth,enabled:this.enabled,
elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:this.material&&this.material.clone(),resource:this.resource&&this.resource.clone(),width:this.width})},Object.defineProperty(e.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!=typeof this.resource.href},enumerable:!0,configurable:!0}),m([b.property({type:q["default"]})],e.prototype,"material",void 0),m([b.property({type:l["default"],json:{write:!0}})],e.prototype,"resource",void 0),m([b.property()],
e.prototype,"type",void 0),m([b.property({type:Number,json:{write:!0}})],e.prototype,"width",void 0),m([b.property({type:Number,json:{write:!0}})],e.prototype,"height",void 0),m([b.property({type:Number,json:{write:!0}})],e.prototype,"depth",void 0),m([b.property({type:String,json:{read:g.read,write:g.write}})],e.prototype,"anchor",void 0),m([b.property({type:Number,json:{write:!0}})],e.prototype,"heading",void 0),m([b.property({type:Number,json:{write:!0}})],e.prototype,"tilt",void 0),m([b.property({type:Number,
json:{write:!0}})],e.prototype,"roll",void 0),m([b.property({readOnly:!0,dependsOn:["resource","resource.href"]})],e.prototype,"isPrimitive",null),e=h=m([b.subclass("esri.symbols.ObjectSymbol3DLayer")],e);var h}(b.declared(e))})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Symbol3DLayer ./support/materialUtils ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q){return function(l){function b(a){a=
l.call(this)||this;return a.material=null,a.type="line",a.size=1,a}return u(b,l),g=b,b.prototype.clone=function(){return new g({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})},m([q.property()],b.prototype,"material",void 0),m([q.property()],b.prototype,"type",void 0),m([q.property(e.screenSizeProperty)],b.prototype,"size",void 0),b=g=m([q.subclass("esri.symbols.LineSymbol3DLayer")],b);var g}(q.declared(h))})},
"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Symbol3DLayer ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e){return function(h){function l(b){b=h.call(this)||this;return b.material=null,b.type="path",b.size=void 0,b}return u(l,h),b=l,l.prototype.readSize=function(b,a){return b||a.width||0},l.prototype.clone=function(){return new b({enabled:this.enabled,elevationInfo:this.elevationInfo&&
this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})},m([e.property()],l.prototype,"material",void 0),m([e.property()],l.prototype,"type",void 0),m([e.property({type:Number,json:{write:!0}})],l.prototype,"size",void 0),m([e.reader("size",["size","width"])],l.prototype,"readSize",null),l=b=m([e.subclass("esri.symbols.PathSymbol3DLayer")],l);var b}(e.declared(h))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Symbol3DLayer ./support/Symbol3DOutline ./support/Symbol3DFillMaterial ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l){return function(b){function g(a){a=b.call(this)||this;return a.type="fill",a.material=null,a.outline=null,a}return u(g,b),a=g,g.prototype.clone=function(){return new a({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone()})},m([l.property()],g.prototype,"type",void 0),m([l.property({type:q["default"]})],g.prototype,"material",void 0),m([l.property({type:e["default"],
json:{write:!0}})],g.prototype,"outline",void 0),g=a=m([l.subclass("esri.symbols.FillSymbol3DLayer")],g);var a}(l.declared(h))})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ./Symbol3DMaterial ../../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function l(){return null!==h&&h.apply(this,arguments)||this}
return u(l,h),b=l,l.prototype.clone=function(){return new b({color:this.color?this.color.clone():null,colorMixMode:this.colorMixMode})},m([e.property({type:String,json:{read:!0,write:!0}})],l.prototype,"colorMixMode",void 0),l=b=m([e.subclass("esri.symbols.support.Symbol3DFillMaterial")],l);var b}(e.declared(h["default"]));p.Symbol3DFillMaterial=y;p["default"]=y})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Symbol3DLayer ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e){return function(h){function l(b){b=h.call(this)||this;return b.type="extrude",b.size=void 0,b.material=null,b}return u(l,h),b=l,l.prototype.clone=function(){return new b({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})},m([e.property()],l.prototype,"type",void 0),m([e.property({type:Number,json:{write:!0}})],l.prototype,"size",void 0),m([e.property()],l.prototype,"material",void 0),
l=b=m([e.subclass("esri.symbols.ExtrudeSymbol3DLayer")],l);var b}(e.declared(h))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ./Symbol3DLayer ./support/Symbol3DHalo ./support/materialUtils ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q,l,b){return function(e){function a(a){a=e.call(this)||this;return a.font=null,a.halo=null,a.material=null,a.size=void 0,a.text=void 0,
a.type="text",a}return u(a,e),g=a,a.prototype.writeFont=function(a,b){a&&(b.font=h.clone(a))},a.prototype.clone=function(){return new g({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&h.clone(this.font),halo:this.halo&&h.clone(this.halo),material:this.material&&this.material.clone(),size:this.size,text:this.text})},m([b.property()],a.prototype,"font",void 0),m([b.writer("font",{"font.family":{type:String},"font.weight":{type:String},"font.style":{type:String}})],
a.prototype,"writeFont",null),m([b.property({type:q["default"],json:{write:!0}})],a.prototype,"halo",void 0),m([b.property()],a.prototype,"material",void 0),m([b.property(l.screenSizeProperty)],a.prototype,"size",void 0),m([b.property({type:String,json:{write:!0}})],a.prototype,"text",void 0),m([b.property()],a.prototype,"type",void 0),a=g=m([b.subclass("esri.symbols.TextSymbol3DLayer")],a);var g}(b.declared(e))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ./materialUtils ../../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b){Object.defineProperty(p,"__esModule",{value:!0});y=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.color=new h([0,0,0,1]),a.size=0,a}return u(a,e),g=a,a.prototype.clone=function(){return new g({color:q.clone(this.color),size:this.size})},m([b.property(l.colorAndTransparencyProperty)],a.prototype,"color",void 0),m([b.property(l.screenSizeProperty)],a.prototype,"size",void 0),a=g=m([b.subclass("esri.symbols.support.Symbol3DHalo")],a);var g}(b.declared(e));
p.Symbol3DHalo=y;p["default"]=y})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../portal/Portal".split(" "),function(y,p,u,m,h,e,q){return function(e){function b(){var a=null!==e&&e.apply(this,arguments)||this;return a.portal=null,a}return u(b,e),g=b,b.prototype.clone=function(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,
portal:this.portal})},m([h.property({type:String})],b.prototype,"name",void 0),m([h.property({type:String})],b.prototype,"styleUrl",void 0),m([h.property({type:String})],b.prototype,"styleName",void 0),m([h.property({type:q})],b.prototype,"portal",void 0),b=g=m([h.subclass("esri.symbols.support.StyleOrigin")],b);var g}(h.declared(e))})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(y,p,u,m,h,e,q){Object.defineProperty(p,"__esModule",{value:!0});y=function(l){function b(){var a=null!==l&&l.apply(this,arguments)||this;return a.screenLength=0,a.minWorldLength=0,a}return u(b,l),g=b,b.prototype.writeMinWorldLength=function(a,b,e){a&&(b[e]=a)},b.prototype.clone=function(){return new g({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})},m([e.property(q.screenSizeProperty)],b.prototype,"screenLength",void 0),m([e.property({type:Number,
json:{write:!0}})],b.prototype,"minWorldLength",void 0),m([e.writer("minWorldLength")],b.prototype,"writeMinWorldLength",null),m([e.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0),b=g=m([e.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b);var g}(e.declared(h));p.Symbol3DVerticalOffset=y;p["default"]=y})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(y,p,u,m){function h(e){return e?(e=e.verticalOffset)?
0>=e.screenLength||0>=e.maxWorldLength?!1:!0:!1:!1}function e(e,l,b){if(!e)return e;switch(e.type){case "line":return l=new m,l.read(e,b),l}}Object.defineProperty(p,"__esModule",{value:!0});p.hasVisibleVerticalOffset=h;p.hasVisibleCallout=function(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;var l=e.callout;return l&&l.visible&&h(e)?!0:!1};p.isCalloutSupport=function(e){return"point-3d"===e.type||"label-3d"===e.type};p.read=e;p.calloutProperty={types:{key:"type",base:u,typeMap:{line:m}},
json:{read:e,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/_base/lang ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q){return function(e){function b(b){b=e.call(this)||this;return b.visible=!0,b}return u(b,e),b.prototype.normalizeCtorArgs=function(b){return b&&b.type?(b=h.mixin({},b),delete b.type,b):b},b.prototype.clone=function(){},
m([q.property({type:String,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0),m([q.property({readOnly:!0})],b.prototype,"visible",void 0),b=m([q.subclass("esri.symbols.callouts.Callout3D")],b)}(q.declared(e))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ../support/materialUtils ./LineCallout3DBorder".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){return function(b){function r(a){a=b.call(this)||this;return a.type="line",a.color=new h([0,0,0,1]),a.size=q.px2pt(1),a.border=null,a}return u(r,b),w=r,Object.defineProperty(r.prototype,"visible",{get:function(){return 0<this.size&&0<this.color.a},enumerable:!0,configurable:!0}),r.prototype.clone=function(){return new w({color:e.clone(this.color),size:this.size,border:e.clone(this.border)})},m([l.property({type:String})],r.prototype,"type",void 0),m([l.property(g.colorAndTransparencyProperty)],
r.prototype,"color",void 0),m([l.property(g.screenSizeProperty)],r.prototype,"size",void 0),m([l.property({type:a["default"],json:{write:!0}})],r.prototype,"border",void 0),m([l.property({dependsOn:["size","color"],readOnly:!0})],r.prototype,"visible",null),r=w=m([l.subclass("esri.symbols.callouts.LineCallout3D")],r);var w}(l.declared(b))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(y,p,u,m,h,e,q,l,b){Object.defineProperty(p,"__esModule",{value:!0});y=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.color=new h("white"),a}return u(a,e),g=a,a.prototype.clone=function(){return new g({color:q.clone(this.color)})},m([l.property(b.colorAndTransparencyProperty)],a.prototype,"color",void 0),a=g=m([l.subclass("esri.symbols.support.LineCallout3DBorder")],a);var g}(l.declared(e));p.LineCallout3DBorder=y;p["default"]=y})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/Collection ./Symbol3D ./LineSymbol3DLayer ./PathSymbol3DLayer ./TextSymbol3DLayer ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){var r=e.ofType({base:null,key:"type",typeMap:{line:l,text:g,path:b}});return function(b){function e(a){a=b.call(this)||this;return a.symbolLayers=new r,a.type="line-3d",a}return u(e,b),g=e,e.prototype.clone=function(){return new g({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})},m([a.property({type:r})],e.prototype,"symbolLayers",void 0),m([a.property()],e.prototype,"type",void 0),e=g=m([a.subclass("esri.symbols.LineSymbol3D")],
e);var g}(a.declared(q))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/Collection ./Symbol3D ./FillSymbol3DLayer ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q,l,b){var g=e.ofType({base:null,key:"type",typeMap:{fill:l}});return function(a){function e(b){b=a.call(this)||this;return b.symbolLayers=new g,b.type="mesh-3d",b}return u(e,a),l=e,e.prototype.clone=function(){return new l({styleOrigin:h.clone(this.styleOrigin),
symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})},m([b.property({type:g})],e.prototype,"symbolLayers",void 0),m([b.property()],e.prototype,"type",void 0),e=l=m([b.subclass("esri.symbols.MeshSymbol3D")],e);var l}(b.declared(q))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/Collection ./Symbol3D ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./TextSymbol3DLayer ./support/Symbol3DVerticalOffset ./callouts/calloutUtils ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v){var w=e.ofType({base:null,key:"type",typeMap:{icon:l,object:b,text:g}});return function(b){function e(a){a=b.call(this)||this;return a.verticalOffset=null,a.callout=null,a.symbolLayers=new w,a.type="point-3d",a}return u(e,b),g=e,e.prototype.supportsCallout=function(){if(1!==(this.symbolLayers?this.symbolLayers.length:0))return!1;switch(this.symbolLayers.getItemAt(0).type){case "icon":case "text":case "object":return!0}return!1},e.prototype.hasVisibleCallout=function(){return r.hasVisibleCallout(this)},
e.prototype.hasVisibleVerticalOffset=function(){return r.hasVisibleVerticalOffset(this)},e.prototype.clone=function(){return new g({verticalOffset:h.clone(this.verticalOffset),callout:h.clone(this.callout),styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})},m([v.property({type:a["default"],json:{write:!0}})],e.prototype,"verticalOffset",void 0),m([v.property(r.calloutProperty)],e.prototype,"callout",void 0),m([v.property({type:w})],e.prototype,
"symbolLayers",void 0),m([v.property()],e.prototype,"type",void 0),e=g=m([v.subclass("esri.symbols.PointSymbol3D")],e);var g}(v.declared(q))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/Collection ./Symbol3D ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./TextSymbol3DLayer ../core/accessorSupport/decorators".split(" "),function(y,
p,u,m,h,e,q,l,b,g,a,r,v,w){var x=e.ofType({base:null,key:"type",typeMap:{extrude:l,fill:b,icon:g,line:a,object:r,text:v}});return function(a){function b(b){b=a.call(this)||this;return b.type="polygon-3d",b}return u(b,a),e=b,b.prototype.clone=function(){return new e({styleOrigin:h.clone(this.styleOrigin),symbolLayers:h.clone(this.symbolLayers),thumbnail:h.clone(this.thumbnail)})},b.fromJSON=function(a){var b=new e;if(b.read(a),2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===
b.symbolLayers.getItemAt(1).type){var g=b.symbolLayers.getItemAt(0),l=b.symbolLayers.getItemAt(1);!l.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(g.outline={size:l.size,color:l.material.color});b.symbolLayers.removeAt(1)}return b},m([w.property({type:x})],b.prototype,"symbolLayers",void 0),m([w.property()],b.prototype,"type",void 0),b=e=m([w.subclass("esri.symbols.PolygonSymbol3D")],b);var e}(w.declared(q))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../Symbol3D ../SimpleLineSymbol ../SimpleMarkerSymbol ../PictureMarkerSymbol ../PictureFillSymbol ../SimpleFillSymbol ../TextSymbol ../PointSymbol3D ../LineSymbol3D ../PolygonSymbol3D ../MeshSymbol3D ../LabelSymbol3D ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J){function K(a,b,e){if(!a)return null;if(!e||"web-scene"!==e.origin||a.isInstanceOf(h)||a.isInstanceOf(E))return a.write(b,e);var g=J.to3D(a);return g.symbol?g.symbol.write(b,e):(e.messages&&e.messages.push(new u("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:e,error:g.error})),null)}Object.defineProperty(p,"__esModule",{value:!0});
var z={esriSMS:q,esriPMS:l,esriTS:a,esriSLS:e,esriSFS:g,esriPFS:b,PointSymbol3D:r,LineSymbol3D:v,PolygonSymbol3D:w,MeshSymbol3D:x,LabelSymbol3D:D,styleSymbolReference:E};p.read=function(a,b,e){return(b=a?z[a.type]||null:null)?(b=new b,b.read(a,e),b):(e&&e.messages&&a&&e.messages.push(new m("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:e})),null)};p.writeTarget=function(a,b,e,g){(a=K(a,{},g))&&(b[e]=a)};p.write=K;p.fromJSON=function(a,b){var e=
a?z[a.type]||null:null;return e?e.fromJSON(a,b):null};p.readCallout3D=function(a,b){if(!a||!a.type)return null;var e=null;switch(a.type){case "line":e=new B}return e&&e.read(a,b),e}})},"esri/symbols/support/symbolConversion":function(){define("require exports dojo/_base/lang ../../core/lang ../../core/Error ../Font ../SimpleLineSymbol ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../TextSymbol ../WebStyleSymbol ../Symbol3D ../LineSymbol3D ../PointSymbol3D ../PolygonSymbol3D ../LabelSymbol3D ../LineSymbol3DLayer ../IconSymbol3DLayer ../FillSymbol3DLayer ../TextSymbol3DLayer ../../Color".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J,K,z,M){function I(a){var e,g,l,h=a.color?a.color.clone():new M([255,255,255]);a instanceof b?(a.color&&0===a.color.r&&0===a.color.g&&0===a.color.b&&(h=new M([255,255,255])),e={href:a.url},g=a.width<=a.height?a.height:a.width):(e=a.style,e={primitive:e in Q?Q[e]:(console.log(e+' cannot be mapped to Icon symbol. Fallback to "circle"'),"circle")},g=a.size,a.outline&&a.outline.color&&0<a.outline.width&&(l={size:a.outline.width,color:a.outline.color.clone()}));
return new x(new J({size:g,resource:e,material:{color:h},outline:l}))}Object.defineProperty(p,"__esModule",{value:!0});var Q={};Q[l.STYLE_CIRCLE]="circle";Q[l.STYLE_CROSS]="cross";Q[l.STYLE_DIAMOND]="kite";Q[l.STYLE_SQUARE]="square";Q[l.STYLE_X]="x";p.to3D=function(p,J,N,M){if(void 0===J&&(J=!1),void 0===N&&(N=!1),void 0===M&&(M=!0),!p)return{symbol:null};if(p instanceof v||p instanceof r)M=p.clone();else if(p instanceof q)M=new w(new B({size:p.width||1,material:{color:p.color?p.color.clone():[255,
255,255]}}));else if(p instanceof l)M=I(p);else if(p instanceof b)M=I(p);else if(p instanceof g)M=new K({material:{color:p.color?p.color.clone():[255,255,255]}}),M=(p.outline&&p.outline.color&&(M.outline={size:p.outline.width||0,color:p.outline.color}),new D(M));else{if(!(p instanceof a))return{error:new h("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(p.type||p.declaredClass)+"' is unsupported in 3D",{symbol:p})};var Y=u.clone(e.defaultProps);p.font&&u.mixin(Y,p.font);var y;y=p.haloColor;
var O=p.haloSize;y=y&&0<O?{color:m.clone(y),size:O}:null;M=new (M?E:x)(new z({size:Y.size,font:{family:Y.family,weight:Y.weight,style:Y.style},halo:y,material:{color:p.color.clone()},text:p.text}))}if(J&&(M.id=p.id),N&&M.isInstanceOf(v))for(p=0;p<M.symbolLayers.length;++p)M.symbolLayers.getItemAt(p)._ignoreDrivers=!0;return{symbol:M}}})},"esri/core/CollectionFlattener":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./accessorSupport/decorators ./Collection ./HandleRegistry".split(" "),
function(y,p,u,m,h,e,q){return function(l){function b(b){b=l.call(this)||this;return b._handles=new q,b.root=null,b.refresh=b.refresh.bind(b),b.updateCollections=b.updateCollections.bind(b),b}return u(b,l),b.prototype.initialize=function(){var b=this;this._handles.add(this.rootCollectionNames.map(function(a){return b.watch("root."+a,b.updateCollections,!0)}));this.updateCollections()},b.prototype.destroy=function(){this.root=null;this.refresh();this._handles.destroy();this._handles=null},b.prototype.updateCollections=
function(){var b=this;this._collections=this.rootCollectionNames.map(function(a){return b.get("root."+a)}).filter(function(a){return null!=a});this.refresh()},b.prototype.refresh=function(){var b=this._handles;b.remove("collections");this.removeAll();for(var a=this._collections.slice(),e=0,l=this._collections;e<l.length;e++)this._processCollection(a,this,l[e]);for(e=0;e<a.length;e++)b.add(a[e].on("after-changes",this.refresh),"collections")},b.prototype._createNewInstance=function(b){return new e(b)},
b.prototype._processCollection=function(b,a,e){var g=this;e&&(b.push(e),e.forEach(function(e){e&&(a.push(e),g._processCollection(b,a,g.getChildrenFunction(e)))}))},m([h.property()],b.prototype,"rootCollectionNames",void 0),m([h.property()],b.prototype,"root",void 0),m([h.property()],b.prototype,"getChildrenFunction",void 0),b=m([h.subclass("esri.core.CollectionFlattener")],b)}(h.declared(e))})},"esri/views/LayerViewManager":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/Accessor ../core/Error ../core/HandleRegistry ../core/Scheduler ../core/promiseUtils ../core/watchUtils ./LayerViewFactory".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r){return function(e){function w(){var b=e.call(this)||this;return b._promisesMap=new Map,b._layerViewsMap=new Map,b._handles=new l,b.factory=new r,b.ready=!1,b.layersToLayerViews=function(){var a=new Map;return a.set("view.map.basemap.baseLayers","view.basemapView.baseLayerViews"),a.set("view.map.ground.layers","view.groundView.layerViews"),a.set("view.map.layers","view.layerViews"),a.set("view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"),a}(),
b._doWork=b._doWork.bind(b),b.refresh=b.refresh.bind(b),b._handles.add(a.init(b,"view.ready",function(a){return b.ready=a})),b._handles.add(b.watch(["view.map.basemap","view.map.ground","view.map.layers","ready"],b.refresh),"watcher"),b}return u(w,e),w.prototype.destroy=function(){this._handles&&(this.empty(),this.view=null,this.factory.destroy(),this.factory=null,this._handles.destroy(),this._handles=null,this._promisesMap=null,this._layerViewsMap=null,this._map=null)},w.prototype.empty=function(){this._layerViewsMap.forEach(this._disposeLayerView,
this);this._promisesMap.forEach(function(a){return a.cancel()});this._layerViewsMap.clear();this._promisesMap.clear();this._refreshCollections()},w.prototype.refresh=function(){var a=this._handles;a.remove("refresh");a.add(b.schedule(this._doWork),"refresh")},w.prototype.whenLayerView=function(a){return this.refresh(),this._doWork(),this._promisesMap.has(a)?this._promisesMap.get(a):g.reject(new q("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:a}))},w.prototype._doWork=
function(){var a=this,b=this._handles,e=this.get("view.map");if(this._map!==e&&(this.empty(),this._map=e),b.has("refresh")){b.remove("refresh");b.remove("collection-change");this.factory.paused=!this.ready;var g=this._map&&this._map.allLayers;g&&(g.forEach(this._createLayerView,this),this._refreshCollections(),this._promisesMap.forEach(function(b,e){g.includes(e)||a._disposeLayerView(a._layerViewsMap.get(e),e)}),b.add(g.on("change",this.refresh),"collection-change"))}},w.prototype._refreshCollections=
function(){var a=this;this.layersToLayerViews.forEach(function(b,e){a._populateLayerViewsOwners(a.get(e),a.get(b),a.view)})},w.prototype._populateLayerViewsOwners=function(a,b,e){var g=this;if(!a||!b)return void(b&&b.removeAll());var l=0;a.forEach(function(a){var h=g._layerViewsMap.get(a);h&&(h.layer=a,h.parent=e,b.getItemAt(l)!==h&&b.splice(l,0,h),a.layers&&g._populateLayerViewsOwners(a.layers,h.layerViews,h),l+=1)});l<b.length&&b.splice(l,b.length)},w.prototype._createLayerView=function(a){var b=
this,e=this.view,g=this.factory,l=this._layerViewsMap,h=this._promisesMap;if(l.has(a))return void a.load();h.has(a)||(g=g.create(e,a).then(function(g){if(!b._map||!b._map.allLayers.some(function(b){return a===b}))throw new q("view:no-layerview-for-layer","The layer has been removed from the map",{layer:a});return l.set(a,g),b._refreshCollections(),a.emit("layerview-create",{view:e,layerView:g}),e.emit("layerview-create",{layer:a,layerView:g}),g.when()}),h.set(a,g),g.always(this.refresh))},w.prototype._disposeLayerView=
function(a,b){if(this._promisesMap.has(b)&&(this._promisesMap.get(b).cancel(),this._promisesMap["delete"](b),a)){b=a.layer;var e=a.view;this.factory.dispose(a);a.layer=a.parent=a.view=null;this._layerViewsMap["delete"](b);b.emit("layerview-destroy",{view:e,layerView:a});e.emit("layerview-destroy",{layer:b,layerView:a})}},m([h.property()],w.prototype,"ready",void 0),m([h.property()],w.prototype,"view",void 0),w=m([h.subclass("esri.views.LayerViewManager")],w)}(h.declared(e))})},"esri/views/LayerViewFactory":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators dojo/Deferred dojo/when ../core/Accessor ../core/Collection ../core/Error ../core/watchUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){return function(l){function r(){var a=null!==l&&l.apply(this,arguments)||this;return a.creationRequests=new b,a.paused=!0,a}return u(r,l),r.prototype.initialize=function(){var b=this;a.whenFalse(this,"paused",function(){b.creationRequests.toArray().forEach(b._processRequest,b)},!0)},r.prototype.destroy=function(){this.creationRequests.drain(function(a){return a.deferred.cancel(void 0)})},Object.defineProperty(r.prototype,"working",{get:function(){return 0<this.creationRequests.length},
enumerable:!0,configurable:!0}),r.prototype.create=function(a,b){var l=this.getLayerViewPromise(b);if(l)return l;var h=this.creationRequests,r={deferred:new e(function(){var a=new g("cancelled:layerview-create","layerview creation cancelled",{layer:b});return h.remove(r),r.creationPromise&&r.creationPromise.cancel(a),a}),view:a,layer:b,started:!1,creationPromise:null};return h.push(r),this.paused||this._processRequest(r),r.deferred.promise},r.prototype.dispose=function(a){a.layer.destroyLayerView(a)},
r.prototype.getLayerViewPromise=function(a){var b=this.creationRequests&&this.creationRequests.find(function(b){return b.layer===a});return b&&b.deferred.promise},r.prototype._processRequest=function(a){var b=this;if(!a.started){a.started=!0;var e=a.deferred,l=a.layer,h=a.view;l.load().then(function(b){return e.isCanceled()?void 0:(a.creationPromise=b.createLayerView(h),a.creationPromise)}).then(function(b){return e.isCanceled()?b:a.creationPromise=q(b.when())})["catch"](function(a){e.isCanceled()||
e.reject(new g("layerview:create-error","layerview creation failed",{layer:l,error:a}))}).then(function(g){return b.creationRequests&&b.creationRequests.remove(a),e.isFulfilled()?g&&b.dispose(g):e.resolve(g),g})}},m([h.property()],r.prototype,"creationRequests",void 0),m([h.property()],r.prototype,"paused",void 0),m([h.property()],r.prototype,"view",void 0),m([h.property({dependsOn:["paused","creationRequests.length"],readOnly:!0})],r.prototype,"working",null),r=m([h.subclass("esri.views.LayerViewFactory")],
r)}(h.declared(l))})},"esri/views/RefreshManager":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/Accessor ../core/HandleRegistry".split(" "),function(y,p,u,m,h,e,q){return function(e){function b(){var b=null!==e&&e.apply(this,arguments)||this;return b._handles=new q,b._currentTick=0,b}return u(b,e),b.prototype.initialize=function(){var b=this;this.view.allLayerViews.on("after-changes",function(){b.notifyChange("tickInterval");
b._handles.remove("layerViewsUpdating");b._handles.add(b._getLayerViewHandles(),"layerViewsUpdating")});this.watch("tickInterval",function(){return b._restartTicking()});this.watch("view.ready",function(){return b._restartTicking()});this._restartTicking()},b.prototype.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)},Object.defineProperty(b.prototype,"tickInterval",{get:function(){var b=this.view.allLayerViews.filter(function(a){return!!a.refresh});
return this._getCommonInterval(b)},enumerable:!0,configurable:!0}),b.prototype._restartTicking=function(){var b=this;this._currentTick=0;this._intervalID&&clearInterval(this._intervalID);this.get("view.ready")&&(this._intervalID=setInterval(function(){var a=Date.now();b._currentTick+=b.tickInterval;b.view.allLayerViews.forEach(function(e){if(e.refresh){var g=Math.round(6E4*e.refreshInterval),l=0===b._currentTick%g,h=6E3>a-e.refreshTimestamp;g&&l&&!h&&e.refresh(a)}})},this.tickInterval))},b.prototype._getLayerViewHandles=
function(){var b=this,a=[];return this.view.allLayerViews.forEach(function(e){if(e.refresh){var g=e.watch("refreshInterval",function(){return b.notifyChange("tickInterval")});if(a.push(g),e.layer)g=e.layer.on("refresh",function(){var a=Date.now();6E3>a-e.refreshTimestamp||e.refresh(a)}),a.push(g)}}),a},b.prototype._getCommonInterval=function(b){var a=function(b,e){return isNaN(b)||isNaN(e)?0:0>=e?b:a(e,b%e)};return b.toArray().reduce(function(b,e){return a(Math.round(6E4*e.refreshInterval),b)},0)},
m([h.property()],b.prototype,"view",void 0),m([h.property({readOnly:!0})],b.prototype,"tickInterval",null),b=m([h.subclass("esri.views.RefreshManager")],b)}(h.declared(e))})},"esri/views/BasemapView":function(){define(["../core/Accessor","../core/Collection","../core/watchUtils"],function(y,p,u){return y.createSubclass({declaredClass:"esri.views.BasemapView",properties:{view:{},baseLayerViews:{type:p},referenceLayerViews:{type:p}},constructor:function(){this._loadingHdl=u.init(this,"view.map.basemap",
this._loadBasemap)},getDefaults:function(){return{baseLayerViews:[],referenceLayerViews:[]}},destroy:function(){this.view=null;this._loadingHdl&&(this._loadingHdl.remove(),this._loadingHdl=null)},_suspendedGetter:function(){return this.view?this.view.suspended:!0},_loadBasemap:function(m){m&&m.load()}})})},"esri/views/GroundView":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/Accessor ../core/Collection ../core/watchUtils ../core/HandleRegistry".split(" "),
function(y,p,u,m,h,e,q,l,b){return function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.handles=new b,a.layerViews=new q,a}return u(a,e),a.prototype.initialize=function(){this.handles.add(l.when(this,"view.map.ground",function(a){return a.load()}))},a.prototype.destroy=function(){this.view=null;this.handles&&(this.handles.destroy(),this.handles=null)},Object.defineProperty(a.prototype,"suspended",{get:function(){return!this.view||this.view.suspended},enumerable:!0,configurable:!0}),
m([h.property()],a.prototype,"view",void 0),m([h.property({type:q})],a.prototype,"layerViews",void 0),m([h.property()],a.prototype,"suspended",null),a=m([h.subclass("esri.views.GroundView")],a)}(h.declared(e))})},"esri/views/support/DefaultsFromMap":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/arrayUtils ../../core/watchUtils ../../core/Accessor ../../core/HandleRegistry ../../portal/support/geometryServiceUtils ../../geometry/support/webMercatorUtils ../../geometry/support/heightModelInfoUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r){return function(l){function w(){var a=null!==l&&l.apply(this,arguments)||this;return a._handles=new b,a._waitTask=null,a._isStarted=!1,a._spatialReferenceCandidates=null,a._extentCandidates=null,a.isSpatialReferenceDone=!1,a.isTileInfoDone=!1,a.isHeightModelInfoSearching=!1,a.spatialReference=null,a.extent=null,a.heightModelInfo=null,a.vcsWkid=null,a.latestVcsWkid=null,a.mapCollectionPaths=v.DefaultMapCollectionPaths.slice(),a.tileInfo=null,a}return u(w,l),v=w,w.prototype.initialize=
function(){var a=this;this.watch("mapCollectionPaths",function(){a._isStarted&&(a.reset(),a.start())})},w.prototype.destroy=function(){this._set("view",null);this._handles&&(this._handles.destroy(),this._handles=null,this._isStarted=!1);this._cancelLoading()},w.prototype.reset=function(){this._handles.removeAll();this._isStarted=!1;this._set("isSpatialReferenceDone",!1);this._set("isTileInfoDone",!1);this._set("isHeightModelInfoSearching",!1);this._set("spatialReference",null);this._set("extent",
null);this._set("heightModelInfo",null);this._set("vcsWkid",null);this._set("latestVcsWkid",null);this._set("tileInfo",null);this._extentCandidates=this._spatialReferenceCandidates=null},w.prototype.start=function(){this._handles.removeAll();this._isStarted=!0;for(var a=this._updateLayerChange.bind(this),b=0,e=this.mapCollectionPaths;b<e.length;b++)this._handles.add(q.on(this.view,"map."+e[b],"change",a,a,a,!0))},w.prototype._ownerNameFromCollectionName=function(a){var b=a.lastIndexOf(".");return-1===
b?"view":"view."+a.slice(0,b)},w.prototype._ensureLoadedOwnersFromCollectionName=function(a){var b;a=this._ownerNameFromCollectionName(a).split(".");for(var e=0;e<a.length&&(b=this.get(a.slice(0,e+1).join(".")),b);e++)if(b.load&&!b.isFulfilled())return{owner:null,loading:b.load()};return{owner:b}},w.prototype._cancelLoading=function(){this._waitTask=null;this._extentProjectTask&&(this._extentProjectTask.cancel(),this._extentProjectTask=null)},w.prototype._updateWhen=function(a){var b=this,e=!0,g=
!1,l=a.always(function(){e?g=!0:l===b._waitTask&&b._update()});return e=!1,g||(this._waitTask=l),g},w.prototype._updateLayerChange=function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1);this._update()},w.prototype._update=function(){var a=this;if(this._cancelLoading(),this.view){if(!this.isSpatialReferenceDone&&0!==this._processMapCollections(function(b){return a._processSpatialReferenceSource(b)})){var b=null,g=this._spatialReferenceCandidates;!g||
1>g.length?b=this.defaultSpatialReference:(this.defaultSpatialReference&&1<g.length&&-1<e.findIndex(g,function(b){return b.equals(a.defaultSpatialReference)})&&(g=[this.defaultSpatialReference]),b=g[0]);this._set("spatialReference",b);this._set("isSpatialReferenceDone",!0);b&&(this._processMapCollections(function(e){return a._findExtent(e,b)}),this.extent||this._projectExtentCandidate())}null==this.heightModelInfo&&this.view.isHeightModelInfoRequired&&(g=this._processMapCollections(function(b){return a._processHeightModelInfoSource(b)},
function(a){return r.mayHaveHeightModelInfo(a)}),this._set("isHeightModelInfoSearching",0===g));null==this.tileInfo&&(g=!1,this.view.isTileInfoRequired()&&(g=this._deriveTileInfo()),g||this._set("isTileInfoDone",!0))}},w.prototype._processMapCollections=function(a,b){for(var e=0,g=this.mapCollectionPaths;e<g.length;e++){var l="map."+g[e],h=this._ensureLoadedOwnersFromCollectionName(l);if(h.loading&&!this._updateWhen(h.loading))return 0;h=h.owner;if(!(!h||h.isRejected&&h.isRejected())&&(l=this.view.get(l))&&
(l=this._processMapCollection(l,a,b),2!==l))return l}return 2},w.prototype._processMapCollection=function(a,b,e){for(var g=0;g<a.length;g++){var l=a.getItemAt(g),h=null!=e&&!e(l);if(!h&&l.load&&!l.isFulfilled()&&!this._updateWhen(l.load()))return 0;if(!h&&(!l.load||l.isResolved())){if(b(l))return 1;if(l.layers&&(l=this._processMapCollection(l.layers,b),2!==l))return l}}return 2},w.prototype._processSpatialReferenceSource=function(a){a=this._getSupportedSpatialReferences(a);return 0===a.length?!1:
(this._spatialReferenceCandidates?(a=e.intersect(a,this._spatialReferenceCandidates,function(a,b){return a.equals(b)}),0<a.length&&(this._spatialReferenceCandidates=a)):this._spatialReferenceCandidates=a,1===this._spatialReferenceCandidates.length)},w.prototype._findExtent=function(a,b){var g=a.fullExtents||(a.fullExtent?[a.fullExtent]:[]),l=e.find(g,function(a){return a.spatialReference.equals(b)});if(l)return this._set("extent",l),!0;0<this._getSupportedSpatialReferences(a).length&&(g=g.map(function(b){return{extent:b,
layer:a}}),this._extentCandidates=(this._extentCandidates||[]).concat(g));return!1},w.prototype._projectExtentCandidate=function(){var b=this;if(this._extentCandidates&&this._extentCandidates.length){var l=this.spatialReference,h=e.find(this._extentCandidates,function(b){return a.canProject(b.extent.spatialReference,l)});h?this._set("extent",a.project(h.extent,l)):(h=this._extentCandidates[0],this._extentProjectTask=g.projectGeometry(h.extent,l,h.layer.portalItem).then(function(a){b._set("extent",
a)}))}},w.prototype._getSupportedSpatialReferences=function(a){var b=this;return(a.supportedSpatialReferences||(a.spatialReference?[a.spatialReference]:[])).filter(function(e){return b.view.isSpatialReferenceSupported(e,a)})},w.prototype._processHeightModelInfoSource=function(a){var b=r.deriveHeightModelInfoFromLayer(a);return b?(this._set("heightModelInfo",b),this._set("isHeightModelInfoSearching",!1),a.spatialReference&&(this._set("vcsWkid",a.spatialReference.vcsWkid),this._set("latestVcsWkid",
a.spatialReference.latestVcsWkid)),!0):!1},w.prototype._deriveTileInfo=function(){if(!this.isSpatialReferenceDone)return!0;var a=this.get("view.map");if(!a)return!0;var b=a.basemap,e=b&&b.get("baseLayers.0"),a=a.get("layers.0"),g=!1,l=null;return b&&"failed"!==b.loadStatus?b.loaded?e&&"failed"!==e.loadStatus?e.loaded?l=e.tileInfo:(this._updateWhen(e.load()),g=!0):a&&"failed"!==a.loadStatus?a.loaded?l=a.tileInfo:(this._updateWhen(a.load()),g=!0):g=!0:(this._updateWhen(b.load()),g=!0):a&&"failed"!==
a.loadStatus&&(a.loaded?l=a.tileInfo:(this._updateWhen(a.load()),g=!0)),l&&!l.spatialReference.equals(this.spatialReference)&&(l=null),g||this._set("tileInfo",l),g},w.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"],m([h.property({readOnly:!0})],w.prototype,"isSpatialReferenceDone",void 0),m([h.property({readOnly:!0})],w.prototype,"isTileInfoDone",void 0),m([h.property({readOnly:!0})],w.prototype,"isHeightModelInfoSearching",void 0),m([h.property({constructOnly:!0})],
w.prototype,"view",void 0),m([h.property({readOnly:!0})],w.prototype,"spatialReference",void 0),m([h.property({readOnly:!0})],w.prototype,"extent",void 0),m([h.property({readOnly:!0})],w.prototype,"heightModelInfo",void 0),m([h.property({readOnly:!0})],w.prototype,"vcsWkid",void 0),m([h.property({readOnly:!0})],w.prototype,"latestVcsWkid",void 0),m([h.property()],w.prototype,"mapCollectionPaths",void 0),m([h.property()],w.prototype,"defaultSpatialReference",void 0),m([h.property({readOnly:!0})],w.prototype,
"tileInfo",void 0),w=v=m([h.subclass("esri.views.support.DefaultsFromMap")],w);var v}(h.declared(l))})},"esri/core/arrayUtils":function(){define([],function(){function y(m,h){return-1===m.indexOf(h)}function p(m,h,e){return!m.some(h.bind(null,e))}var u={findIndex:function(m,h,e){for(var q,l=m.length,b=0;l>b;b++)if(q=m[b],h.call(e,q,b,m))return b;return-1},find:function(m,h,e){for(var q,l=m.length,b=0;l>b;b++)if(q=m[b],h.call(e,q,b,m))return q},equals:function(m,h,e){if(!m&&!h)return!0;if(!m||!h||
m.length!=h.length)return!1;if(e)for(var q=0;q<m.length;q++){if(!e(m[q],h[q]))return!1}else for(e=0;e<m.length;e++)if(m[e]!==h[e])return!1;return!0},difference:function(m,h,e){var q,l;return e?(q=h.filter(p.bind(null,m,e)),l=m.filter(p.bind(null,h,e))):(q=h.filter(y.bind(null,m)),l=m.filter(y.bind(null,h))),{added:q,removed:l}},intersect:function(m,h,e){return m&&h?e?m.filter(function(q){return-1<u.findIndex(h,function(l){return e(q,l)})}):m.filter(function(e){return-1<h.indexOf(e)}):[]},range:function(m,
h){null==h&&(h=m,m=0);for(var e=Array(h-m),q=m;h>q;q++)e[q-m]=q;return e},constant:function(m,h){for(var e=Array(m),q=0;m>q;q++)e[q]=h;return e},binaryIndexOf:function(m,h,e){for(var q=m.length,l=0,b=q-1;b>l;){var g=l+Math.floor((b-l)/2);h>m[g]?l=g+1:b=g}b=m[l];return e?h>=m[q-1]?-1:b===h?l:l-1:b===h?l:-1}};return u})},"esri/portal/support/geometryServiceUtils":function(){define("require exports ../Portal ../PortalItem ../../config ../../tasks/GeometryService ../../tasks/support/ProjectParameters ../../core/promiseUtils ../../core/Error".split(" "),
function(y,p,u,m,h,e,q,l,b){function g(a){if(void 0===a&&(a=null),h.geometryServiceUrl)return l.resolve(new e({url:h.geometryServiceUrl}));if(!a)return l.reject(new b("internal:geometry-service-url-not-configured"));var g;return a.isInstanceOf(m)?g=a.portal||u.getDefault():a.isInstanceOf(u)&&(g=a),g.load().then(function(a){if(a.helperServices&&a.helperServices.geometry&&a.helperServices.geometry.url)return l.resolve(new e({url:a.helperServices.geometry.url}));throw new b("internal:geometry-service-url-not-configured");
})}Object.defineProperty(p,"__esModule",{value:!0});p.create=g;p.projectGeometry=function(a,b,e){return void 0===e&&(e=null),g(e).then(function(e){var g=new q;return g.geometries=[a],g.outSpatialReference=b,e.project(g)}).then(function(a){return a&&Array.isArray(a)&&1===a.length?a[0]:l.reject()})}})},"esri/tasks/GeometryService":function(){define("../core/kebabDictionary ../core/accessorSupport/ensureType ../geometry/Extent ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ../geometry/support/jsonUtils ../request ./Task ./support/ProjectParameters dojo/_base/lang".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){var r=y({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),v=p.ensureType(g);y=b.createSubclass({declaredClass:"esri.tasks.GeometryService",areasAndLengths:function(b,e){b={query:a.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON()),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/areasAndLengths",b).then(function(a){return a.data})},autoComplete:function(b,
g,h){var r=b[0].spatialReference;b={query:a.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(r.toJSON()),polygons:JSON.stringify(this._encodeGeometries(b).geometries),polylines:JSON.stringify(this._encodeGeometries(g).geometries)}),callbackParamName:"callback"};return(this.requestOptions||h)&&(b=a.mixin({},this.requestOptions,h,b)),l(this.parsedUrl.path+"/autoComplete",b).then(function(a){return(a.data.geometries||[]).map(function(a){return new e({spatialReference:r,rings:a.rings})})})},
buffer:function(b,g){var h=a.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON()),r=b.outSpatialReference||b.geometries[0].spatialReference;b={query:h,callbackParamName:"callback"};return(this.requestOptions||g)&&(b=a.mixin({},this.requestOptions,g,b)),l(this.parsedUrl.path+"/buffer",b).then(function(a){return(a.data.geometries||[]).map(function(a){return new e({spatialReference:r,rings:a.rings})})})},cut:function(b,e,g){var h=b[0].spatialReference,r=b.map(function(a){return a.toJSON()});b={query:a.mixin({},
this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),target:JSON.stringify({geometryType:q.getJsonType(b[0]),geometries:r}),cutter:JSON.stringify(e.toJSON())}),callbackParamName:"callback"};return(this.requestOptions||g)&&(b=a.mixin({},this.requestOptions,g,b)),l(this.parsedUrl.path+"/cut",b).then(function(a){a=a.data;return{cutIndexes:a.cutIndexes,geometries:(a.geometries||[]).map(function(a){return q.fromJSON(a).set("spatialReference",h)})}})},convexHull:function(b,e){var g=b[0].spatialReference;
b={query:a.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(g.toJSON()),geometries:JSON.stringify(this._encodeGeometries(b))}),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/convexHull",b).then(function(a){return q.fromJSON(a.data.geometry).set("spatialReference",g)})},densify:function(b,e){var g=a.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON()),h=b.geometries[0].spatialReference;b={query:g,callbackParamName:"callback"};
return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/densify",b).then(function(a){return(a.data.geometries||[]).map(function(a){return q.fromJSON(a).set("spatialReference",h)})})},difference:function(b,e,g){var h=b[0].spatialReference;b={query:a.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),geometries:JSON.stringify(this._encodeGeometries(b)),geometry:JSON.stringify({geometryType:q.getJsonType(e),geometry:e.toJSON()})}),callbackParamName:"callback"};
return(this.requestOptions||g)&&(b=a.mixin({},this.requestOptions,g,b)),l(this.parsedUrl.path+"/difference",b).then(function(a){return(a.data.geometries||[]).map(function(a){return q.fromJSON(a).set("spatialReference",h)})})},distance:function(b,e){b={query:a.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON()),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/distance",b).then(this._handleDistanceResponse)},fromGeoCoordinateString:function(b,
e){var g={};a.isObject(b.sr)?g.sr=b.sr.wkid||JSON.stringify(b.sr.toJSON()):g.sr=b.sr;g.strings=JSON.stringify(b.strings);g.conversionType=r.toJSON(b.conversionType||"mgrs");g.conversionMode=b.conversionMode;b={query:a.mixin({},this.parsedUrl.query,{f:"json"},g),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/fromGeoCoordinateString",b).then(this._handleFromGeoCoordinateResponse)},generalize:function(b,e){var g=a.mixin({},
this.parsedUrl.query,{f:"json"},b.toJSON()),h=b.geometries[0].spatialReference;b={query:g,callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/generalize",b).then(function(a){return(a.data.geometries||[]).map(function(a){return q.fromJSON(a).set("spatialReference",h)})})},intersect:function(b,e,g){var h=b[0].spatialReference;b={query:a.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),geometries:JSON.stringify(this._encodeGeometries(b)),
geometry:JSON.stringify({geometryType:q.getJsonType(e),geometry:e.toJSON()})}),callbackParamName:"callback"};return(this.requestOptions||g)&&(b=a.mixin({},this.requestOptions,g,b)),l(this.parsedUrl.path+"/intersect",b).then(function(a){return(a.data.geometries||[]).map(function(a){return q.fromJSON(a).set("spatialReference",h)})})},lengths:function(b,e){b={query:a.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON()),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,
e,b)),l(this.parsedUrl.path+"/lengths",b).then(function(a){return a.data})},labelPoints:function(b,e){var g=b.map(function(a){return a.toJSON()}),h=b[0].spatialReference;b={query:a.mixin({},this.parsedUrl.query,{f:"json",sr:h.wkid?h.wkid:JSON.stringify(h.toJSON()),polygons:JSON.stringify(g)}),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/labelPoints",b).then(function(a){return(a.data.labelPoints||[]).map(function(a){return q.fromJSON(a).set("spatialReference",
h)})})},offset:function(b,e){var g=a.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON()),h=b.geometries[0].spatialReference;b={query:g,callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/offset",b).then(function(a){return(a.data.geometries||[]).map(function(a){return q.fromJSON(a).set("spatialReference",h)})})},project:function(b,e){b=v(b);var g=a.mixin({},b.toJSON(),this.parsedUrl.query,{f:"json"}),h=b.outSpatialReference,
r=q.getJsonType(b.geometries[0]),m=this._decodeGeometries;b={query:g,callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/project",b).then(function(a){return m(a.data,r,h)})},relation:function(b,e){b={query:a.mixin({},this.parsedUrl.query,{f:"json"},b.toJSON()),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/relation",b).then(this._handleRelationResponse)},
reshape:function(b,e,g){var h=b.spatialReference;b={query:a.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),target:JSON.stringify({geometryType:q.getJsonType(b),geometry:b.toJSON()}),reshaper:JSON.stringify(e.toJSON())}),callbackParamName:"callback"};return(this.requestOptions||g)&&(b=a.mixin({},this.requestOptions,g,b)),l(this.parsedUrl.path+"/reshape",b).then(function(a){return q.fromJSON(a.data.geometry).set("spatialReference",h)})},simplify:function(b,e){var g=b[0].spatialReference,
h=a.mixin({},this.parsedUrl.query,{f:"json",sr:g.wkid?g.wkid:JSON.stringify(g.toJSON()),geometries:JSON.stringify(this._encodeGeometries(b))}),r=q.getJsonType(b[0]),m=this._decodeGeometries;b={query:h,callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/simplify",b).then(function(a){return m(a.data,r,g)})},toGeoCoordinateString:function(b,e){var g={};a.isObject(b.sr)?g.sr=b.sr.wkid||JSON.stringify(b.sr.toJSON()):g.sr=b.sr;g.coordinates=
JSON.stringify(b.coordinates);g.conversionType=r.toJSON(b.conversionType||"mgrs");g.conversionMode=b.conversionMode;g.numOfDigits=b.numOfDigits;g.rounding=b.rounding;g.addSpaces=b.addSpaces;b={query:a.mixin({},this.parsedUrl.query,{f:"json"},g),callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/toGeoCoordinateString",b).then(this._handleToGeoCoordinateResponse)},trimExtend:function(b,e){var g=a.mixin({},this.parsedUrl.query,
{f:"json"},b.toJSON()),r=b.sr;b={query:g,callbackParamName:"callback"};return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/trimExtend",b).then(function(a){return(a.data.geometries||[]).map(function(a){return new h({spatialReference:r,paths:a.paths})})})},union:function(b,e){var g=b[0].spatialReference;b={query:a.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(g.toJSON()),geometries:JSON.stringify(this._encodeGeometries(b))}),callbackParamName:"callback"};
return(this.requestOptions||e)&&(b=a.mixin({},this.requestOptions,e,b)),l(this.parsedUrl.path+"/union",b).then(function(a){return q.fromJSON(a.data.geometry).set("spatialReference",g)})},_handleRelationResponse:function(a){return a.data.relations},_handleDistanceResponse:function(a){return a=a.data,a&&a.distance},_handleToGeoCoordinateResponse:function(a){return a.data.strings},_handleFromGeoCoordinateResponse:function(a){return a.data.coordinates},_encodeGeometries:function(a){var b,e=[],g=a.length;
for(b=0;g>b;b++)e.push(a[b].toJSON());return{geometryType:q.getJsonType(a[0]),geometries:e}},_decodeGeometries:function(b,e,g){var l=q.getGeometryType(e);b=b.geometries;var h=[],r={spatialReference:g.toJSON()},m=a.mixin;return b.forEach(function(a,b){h[b]=new l(m(a,r))}),h},_toProjectGeometry:function(a){var b=a.spatialReference.toJSON();return a instanceof u?new e({rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]],spatialReference:b}):new h({paths:[[].concat(a.points)],
spatialReference:b})},_fromProjectedGeometry:function(a,b,e){return"extent"===b?(a=a.rings[0],new u(a[0][0],a[0][1],a[2][0],a[2][1],e)):new m({points:a.paths[0],spatialReference:e.toJSON()})}});return a.mixin(y,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,
UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,
UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,
UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",
UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"}),y})},"esri/tasks/Task":function(){define(["dojo/_base/lang","../core/Accessor","../core/urlUtils"],function(y,p,u){return p.createSubclass({declaredClass:"esri.tasks.Task",normalizeCtorArgs:function(m,h){if("string"!=typeof m)return m;var e={};return m&&(e.url=m),h&&y.mixin(e,h),e},properties:{normalization:{value:!0},parsedUrl:{value:null,readOnly:!0,dependsOn:["url"],
get:function(){return this._parseUrl(this.url)}},requestOptions:{value:null},url:{value:null,type:String}},_parseUrl:function(m){return m?u.urlToObject(m):null},_useSSL:function(){var m=this.parsedUrl,h=/^http:/i;this.url&&this.set("url",this.url.replace(h,"https:"));m&&m.path&&(m.path=m.path.replace(h,"https:"))},_encode:function(m,h,e){var q,l,b,g,a,r={};for(b in m)if("declaredClass"!==b&&(q=m[b],l=typeof q,null!==q&&void 0!==q&&"function"!==l))if(y.isArray(q))for(r[b]=[],a=q.length,g=0;a>g;g++)r[b][g]=
this._encode(q[g]);else"object"===l?q.toJSON&&(g=q.toJSON(e&&e[b]),"esri.tasks.support.FeatureSet"===q.declaredClass&&g.spatialReference&&(g.sr=g.spatialReference,delete g.spatialReference),r[b]=h?g:JSON.stringify(g)):r[b]=q;return r}})})},"esri/tasks/support/ProjectParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/lang ../../geometry/support/jsonUtils ../../core/JSONSupport ../../core/Logger".split(" "),
function(y,p,u,m,h,e,q,l,b){var g=b.getLogger("esri.tasks.support.ProjectParameters");return function(a){function b(b){b=a.call(this)||this;return b.geometries=null,b.outSpatialReference=null,b.transformation=null,b.transformForward=null,b}return u(b,a),Object.defineProperty(b.prototype,"outSR",{get:function(){return g.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead."),this.outSpatialReference},set:function(a){g.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead.");
this.outSpatialReference=a},enumerable:!0,configurable:!0}),b.prototype.toJSON=function(){var a=this.geometries.map(function(a){return a.toJSON()}),b=this.geometries[0],g={};return g.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),g.inSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference.toJSON()),g.geometries=JSON.stringify({geometryType:q.getJsonType(b),geometries:a}),this.transformation&&(g.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),
e.isDefined(this.transformForward)&&(g.transformForward=this.transformForward),g},m([h.property()],b.prototype,"geometries",void 0),m([h.property({json:{read:{source:"outSR"}}})],b.prototype,"outSpatialReference",void 0),m([h.property({json:{read:!1}})],b.prototype,"outSR",null),m([h.property()],b.prototype,"transformation",void 0),m([h.property()],b.prototype,"transformForward",void 0),b=m([h.subclass("esri.tasks.support.ProjectParameters")],b)}(h.declared(l))})},"esri/views/ViewAnimation":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators dojo/Deferred ../core/Accessor ../core/Promise ../core/Scheduler ../core/Error ../core/promiseUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){y=function(l){function r(a){a=l.call(this)||this;return a.state="running",a.target=null,a}return u(r,l),r.prototype.initialize=function(){this._dfd=new e;this.addResolvingPromise(this._dfd.promise)},Object.defineProperty(r.prototype,"done",{get:function(){return"finished"===this.state||"stopped"===this.state},enumerable:!0,configurable:!0}),r.prototype.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),b.schedule(this._dfd.reject.bind(this._dfd,
new g("ViewAnimation stopped"))))},r.prototype.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),b.schedule(this._dfd.resolve))},r.prototype.update=function(b,e){e||(e=a.isThenable(b)?"waiting-for-target":"running");this._set("target",b);this._set("state",e)},m([h.property({readOnly:!0,dependsOn:["state"]})],r.prototype,"done",null),m([h.property({readOnly:!0,type:String})],r.prototype,"state",void 0),m([h.property()],r.prototype,"target",void 0),r=
m([h.subclass("esri.views.ViewAnimation")],r)}(h.declared(q,l));(y||(y={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return y})},"esri/views/2d/FrameTask":function(){define(["require","exports","../../core/Scheduler","./FrameBudget"],function(y,p,u,m){return function(){function h(e){var h=this;this.view=e;this._frameTaskHandle=null;this._budget=new m(6);this.budget=6;this.updateEnabled=this.stationary=!0;this.prepare=function(){h._updateParameters.state=
h.view.state;h._updateParameters.stationary=h.view.stationary;h._updateParameters.devicePixelRatio=window.devicePixelRatio;h._budget.reset(h.budget)};this.update=function(){if(h.updateEnabled){for(var e=h._budget,b=h.view,g=b.allLayerViews.toArray().filter(function(a){return a.isFulfilled()&&null==a.layerViews}),a=g.length,r=b.state,m=0;m<g.length;m++)if(b=g[m],b.attached){var q=h._layerViewsState[b.uid];null!=q&&(h.stationary||b.moving)||(b.moving=!0,b.moveStart());q!==r.id&&b.viewChange();h.stationary&&
b.moving&&(b.moving=!1,b.moveEnd());h._layerViewsState[b.uid]=r.id}r=h._layerViewsTrash;for(m=0;m<r.length;m++)b=r[m],h._detachLayerView(b);for(m=r.length=0;a>m;m++)b=g[m],b.isFulfilled()&&!b.attached&&h._attachLayerView(b);g=h._layerViewsToUpdate;a=g.slice();b=h._updateParameters;for(h._layerViewsToUpdate.length=0;!e.done&&0<a.length;)a.shift().processUpdate(b);0<a.length&&g.unshift.apply(g,a);0===g.length&&0===r.length&&h._frameTaskHandle.pause()}};e.watch("ready",function(e){e?h.start():h.stop()})}
return h.prototype.destroy=function(){this.stop()},h.prototype.start=function(){var e=this;this._updateParameters={budget:this._budget,state:this.view.state,devicePixelRatio:window.devicePixelRatio,stationary:!0};this._layerViewsTrash=[];this._layerViewsToUpdate=[];this._layerViewsState={};this._allLayerViewsChangeHandle=this.view.allLayerViews.on("change",function(h){Array.prototype.push.apply(e._layerViewsTrash,h.removed);e.requestFrame()});this._stationaryHandle=this.view.watch("stationary",function(h){e.stationary=
h;e.requestFrame()});this._frameTaskHandle=u.addFrameTask(this)},h.prototype.stop=function(){var e=this;this._frameTaskHandle&&(this.view.allLayerViews.forEach(function(h){return e._detachLayerView(h)}),this._stationaryHandle.remove(),this._allLayerViewsChangeHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._allLayerViewsChangeHandle=this._frameTaskHandle=this._layerViewsTrash=this._layerViewsToUpdate=this._layerViewsState=null,this.stationary=!0)},
h.prototype.requestLayerViewUpdate=function(e){this._layerViewsToUpdate.push(e);this.requestFrame()},h.prototype.requestFrame=function(){this._frameTaskHandle&&this._frameTaskHandle.isPaused()&&this._frameTaskHandle.resume()},h.prototype._attachLayerView=function(e){e.attached||(e.attached=!0,e.moving=!1,e.attach())},h.prototype._detachLayerView=function(e){e.attached&&(e.detach(),e.attached=!1,e.moving=!1)},h}()})},"esri/views/2d/FrameBudget":function(){define(["require","exports","../../core/now"],
function(y,p,u){return function(){function m(h){void 0===h&&(h=Number.MAX_VALUE);this._budget=this._begin=0;this.enabled=!0;this.reset(h)}return m.now=function(){return u()},Object.defineProperty(m.prototype,"done",{get:function(){return this.enabled&&this.elapsed>=this._budget},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"elapsed",{get:function(){return u()-this._begin},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"remaining",{get:function(){return Math.max(this._budget-
this.elapsed,0)},enumerable:!0,configurable:!0}),m.prototype.reset=function(h){void 0===h&&(h=Number.MAX_VALUE);this._begin=u();this._budget=this.enabled?h:Number.MAX_VALUE},m}()})},"esri/views/2d/PaddedViewState":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./viewpointUtils ./ViewState ./libs/gl-matrix/vec2 ./libs/gl-matrix/mat2d ./libs/gl-matrix/common ../../core/Accessor".split(" "),function(y,
p,u,m,h,e,q,l,b,g,a){var r=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.left=0,b.top=0,b.right=0,b.bottom=0,b}return u(b,a),m([h.property()],b.prototype,"left",void 0),m([h.property()],b.prototype,"top",void 0),m([h.property()],b.prototype,"right",void 0),m([h.property()],b.prototype,"bottom",void 0),b=m([h.subclass("esri.views.2d.PaddedViewState.Padding")],b)}(h.declared(a));return function(a){function v(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];
b=a.apply(this,b)||this;return b.content=new q,b.padding=new r,b.size=l.fromValues(0,0),b}return u(v,a),Object.defineProperty(v.prototype,"clipRect",{get:function(){var a=this.worldScreenWidth;if(!a)return null;var e=g.toRadian(this.rotation),h=this.width*Math.abs(Math.cos(e))+this.height*Math.abs(Math.sin(e));if(a>h)return null;var r=l.clone(this.screenCenter),m=b.fromTranslation(b.create(),r);return b.rotate(m,m,e),l.negate(r,r),b.translate(m,m,r),l.transformMat2d(r,this.paddedScreenCenter,m),{top:-Math.round(h),
left:Math.round(r[0]-.5*a),right:Math.round(r[0]+.5*a),bottom:+Math.round(h)}},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"padding",{set:function(a){this._set("padding",a||new r);this._updateContent()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"size",{set:function(a){this._set("size",a);this._updateContent()},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"paddedScreenCenter",{get:function(){var a=this.content.size,b=this.padding,a=
l.scale(l.create(),a,.5);return a[0]+=b.left,a[1]+=b.top,a},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"viewpoint",{set:function(a){var b=a.clone();this.content.viewpoint=a;e.addPadding(b,a,this._get("size"),this._get("padding"));this._set("viewpoint",e.addPadding(b.clone(),a,this._get("size"),this._get("padding")))},enumerable:!0,configurable:!0}),v.prototype._updateContent=function(){var a=l.create(),b=this._get("size"),e=this._get("padding");if(b&&e){var g=this.content;l.set(a,
e.left+e.right,e.top+e.bottom);l.subtract(a,b,a);g.size=a;(a=g.viewpoint)&&(this.viewpoint=a)}},m([h.shared({transform:{dependsOn:["padding"]}})],v.prototype,"properties",void 0),m([h.property({dependsOn:["worldScreenWidth","rotation","paddedScreenCenter","screenCenter"],readOnly:!0})],v.prototype,"clipRect",null),m([h.property()],v.prototype,"content",void 0),m([h.property({type:r})],v.prototype,"padding",null),m([h.property()],v.prototype,"size",null),m([h.property({dependsOn:["size","padding"],
readOnly:!0})],v.prototype,"paddedScreenCenter",null),m([h.property()],v.prototype,"viewpoint",null),v=m([h.subclass("esri.views.2d.PaddedViewState")],v)}(h.declared(q))})},"esri/views/2d/viewpointUtils":function(){define("require exports ./libs/gl-matrix/common ./libs/gl-matrix/mat2d ./libs/gl-matrix/vec2 ../../Viewpoint ../../core/promiseUtils ../../core/Error ../../geometry/SpatialReference ../../geometry/Geometry ../../geometry/Point ../../geometry/Extent ../../geometry/support/webMercatorUtils ../../geometry/support/scaleUtils ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D){function E(n,a,d,c){c&&d&&!c.equals(d)&&v.canProject(c,d)&&c.isWebMercator?c.isWebMercator?(d=a[1],n=(89.99999<d?d=89.99999:-89.99999>d&&(d=-89.99999),d=Math.sin(u.toRadian(d)),h.set(n,u.toRadian(a[0])*P,.5*P*Math.log((1+d)/(1-d))))):(d=u.toDegree(a[0]/P),n=h.set(n,d-360*Math.floor((d+180)/360),u.toDegree(.5*Math.PI-2*Math.atan(Math.exp(-1*a[1]/P))))):n=h.copy(n,a);return n}function B(n){return n.wkid?n:n.spatialReference||b.WGS84}function J(n,a){return a.type?
h.set(n,a.x,a.y):h.copy(n,a)}function K(n,a){return Math.max(n.width/a[0],n.height/a[1])*T(n.spatialReference)}function z(n,b,d){var c;if(!n)return null;if(Array.isArray(n)&&2===n.length&&"number"==typeof n[0]&&"number"==typeof n[1])return new a(n);if(n.reduce)return n.reduce(function(c,f){return z(f,b,c)},d);if(n instanceof g?c=n:n.geometry&&(c=n.geometry),!c)return null;var f;if(f="point"===c.type?new r({xmin:c.x,ymin:c.y,xmax:c.x,ymax:c.y,spatialReference:c.spatialReference}):c.extent,!f)return null;
n=v.canProject(f,b);if(!f.spatialReference.equals(b)&&n)f=v.project(f,b);else if(!n)return null;return d=d?d.union(f):f.clone()}function M(n,b){if(!n)return new e({targetGeometry:new a,scale:0,rotation:0});var d=b.spatialReference,c=b.size,f=b.viewpoint,k=b.constraints,t=null;"esri.Viewpoint"===n.declaredClass?t=n:n.viewpoint?t=n.viewpoint:n.target&&"esri.Viewpoint"===n.target.declaredClass&&(t=n.target);var A=null;t&&t.targetGeometry?A=t.targetGeometry:n instanceof r?A=n:(n||n&&(n.hasOwnProperty("center")||
n.hasOwnProperty("extent")||n.hasOwnProperty("target")))&&(A=z(n.center,d)||z(n.extent,d)||z(n.target,d)||z(n,d));!A&&f&&f.targetGeometry?A=f.targetGeometry:!A&&b.extent&&(A=b.extent);var G=B(A);if(d||(d=B(b.spatialReference||b.extent||A)),!D.canProject(A,d)&&G&&!G.equals(d))return null;var F=J(h.create(),A.center?A.center:A),G=new a(E(F,F,G,d),d),F=null,F=t&&t.targetGeometry&&"point"===t.targetGeometry.type?t.scale:n.hasOwnProperty("scale")&&n.scale?n.scale:n.hasOwnProperty("zoom")&&-1!==n.zoom&&
k&&k.effectiveLODs?k.zoomToScale(n.zoom):Array.isArray(A)||"point"===A.type||"extent"===A.type&&0===A.width&&0===A.height?b.extent&&v.canProject(b.extent,d)?K(v.project(b.extent,d),c):b.extent?K(b.extent,c):f.scale:v.canProject(A.extent,d)?K(v.project(A.extent,d),c):K(A.extent,c);b=0;t?b=t.rotation:n.hasOwnProperty("rotation")?b=n.rotation:f&&(b=f.rotation);n=new e({targetGeometry:G,scale:F,rotation:b});return k&&(n=k.fit(n),k.rotationEnabled||(n.rotation=0)),n}function I(n,a){var d=n.targetGeometry,
c=a.targetGeometry;return d.x=c.x,d.y=c.y,d.spatialReference=c.spatialReference,n.scale=a.scale,n.rotation=a.rotation,n}function Q(n,a,d){return d?h.set(n,.5*(a[0]-d.right+d.left),.5*(a[1]-d.bottom+d.top)):h.scale(n,a,.5)}function O(n,a,d,c){return p.getTransform(n,a,d,c),m.invert(n,n)}function Y(n,a,d){var c=u.toRadian(a.rotation)||0;a=Math.abs(Math.cos(c));c=Math.abs(Math.sin(c));return h.set(n,Math.round(d[1]*c+d[0]*a),Math.round(d[1]*a+d[0]*c))}function N(n){return n.scale*(1/(w.getMetersPerUnitForSR(n.targetGeometry.spatialReference)*
fa*96))}function T(n){return w.getMetersPerUnitForSR(n)*fa*96}function da(n){return n.isWrappable?(n=x.getInfo(n),n.valid[1]-n.valid[0]):0}function Z(n,a){return Math.round(da(n)/a)}Object.defineProperty(p,"__esModule",{value:!0});var fa=39.37,P=6378137,aa=180/Math.PI;p.extentToScale=K;p.create=M;p.copy=I;p.getAnchor=Q;p.getExtent=function(){var n=h.create();return function(a,d,c){var f=d.targetGeometry;J(n,f);d=.5*N(d);return a.xmin=n[0]-d*c[0],a.ymin=n[1]-d*c[1],a.xmax=n[0]+d*c[0],a.ymax=n[1]+d*
c[1],a.spatialReference=f.spatialReference,a}}();p.setExtent=function(n,a,d,c,f){return p.centerAt(n,a,d.center),n.scale=K(d,c),f&&f.constraints&&f.constraints.constrain(n),n};p.getOuterExtent=function(){var n=h.create(),a=h.create();return function(d,c,f){J(n,c.targetGeometry);Y(a,c,f);f=.5*N(c);return d.set({xmin:n[0]-f*a[0],ymin:n[1]-f*a[1],xmax:n[0]+f*a[0],ymax:n[1]+f*a[1],spatialReference:c.targetGeometry.spatialReference}),d}}();p.getClippedExtent=function(){var n=h.create(),a=h.create();return function(d,
c,f){var k=N(c),t=c.targetGeometry.spatialReference,A=Z(t,k);J(n,c.targetGeometry);Y(a,c,f);t.isWrappable&&a[0]>A&&(a[0]=A);c=.5*k;return d.set({xmin:n[0]-c*a[0],ymin:n[1]-c*a[1],xmax:n[0]+c*a[0],ymax:n[1]+c*a[1],spatialReference:t}),d}}();p.getOuterSize=Y;p.getPaddingScreenTranslation=function(){var n=h.create();return function(a,d,c){return h.sub(a,h.scale(a,d,.5),Q(n,d,c))}}();var n=function(){var n=m.create(),a=h.create();return function(d,c,f,k){var t=N(c);c=u.toRadian(c.rotation)||0;return h.set(a,
t,t),m.fromScaling(n,a),m.rotate(n,n,c),m.translate(n,n,p.getPaddingScreenTranslation(a,f,k)),m.translate(n,n,[0,k.top-k.bottom]),h.set(d,n[4],n[5])}}();p.getResolution=N;p.getResolutionToScaleFactor=T;p.getMatrix=function(){var n=h.create(),a=h.create(),d=h.create();return function(c,f,k,t,A,b){return h.negate(n,f),h.scale(a,k,.5*b),h.set(d,1/t*b,-1/t*b),m.identity(c),m.translate(c,c,a),A&&m.rotate(c,c,A),m.scale(c,c,d),m.translate(c,c,n),c}}();p.getTransform=function(){var n=h.create();return function(a,
d,c,f){var k=N(d),t=u.toRadian(d.rotation)||0;return J(n,d.targetGeometry),p.getMatrix(a,n,c,k,t,f)}}();p.getTransformNoRotation=function(){var n=h.create();return function(a,d,c,f){var k=N(d);return J(n,d.targetGeometry),p.getMatrix(a,n,c,k,0,f)}}();p.getWorldWidth=da;p.getWorldScreenWidth=Z;p.createAsync=function(n,a){if(n=M(n,a))return q.resolve(n);n=new l("viewpointUtils-createAsync:different-spatialReference","Target spatialReference cannot be projected and is different from out spatialReference");
return q.reject(n)};p.angleBetween=function(){var n=h.create(),a=h.create(),d=h.create();return function(c,f,k){h.subtract(n,c,f);h.normalize(n,n);h.subtract(a,c,k);h.normalize(a,a);h.cross(d,n,a);c=Math.acos(h.dot(n,a)/(h.length(n)*h.length(a)))*aa;return 0>d[2]&&(c=-c),isNaN(c)&&(c=0),c}}();p.addPadding=function(){var a=h.create();return function(b,d,c,f){var k=b.targetGeometry;return I(b,d),n(a,d,c,f),k.x+=a[0],k.y+=a[1],b}}();p.removePadding=function(){var a=h.create();return function(b,d,c,f){var k=
b.targetGeometry;return I(b,d),n(a,d,c,f),k.x-=a[0],k.y-=a[1],b}}();p.centerAt=function(){var n=h.create();return function(a,d,c){I(a,d);d=a.targetGeometry;var f=B(c),k=B(d);return J(n,c),E(n,n,f,k),d.x=n[0],d.y=n[1],a}}();p.pixelSizeAt=function(n,a,d){return N(a)};p.resize=function(){var n=h.create();return function(a,d,c,f,k){k||(k="center");h.sub(n,c,f);h.scale(n,n,.5);c=n[0];f=n[1];switch(k){case "center":h.set(n,0,0);break;case "left":h.set(n,-c,0);break;case "top":h.set(n,0,f);break;case "right":h.set(n,
c,0);break;case "bottom":h.set(n,0,-f);break;case "top-left":h.set(n,-c,f);break;case "bottom-left":h.set(n,-c,-f);break;case "top-right":h.set(n,c,f);break;case "bottom-right":h.set(n,c,-f)}return p.translateBy(a,d,n),a}}();p.rotateBy=function(n,a,d){return I(n,a),n.rotation+=d,n};p.rotateTo=function(n,a,d){return I(n,a),n.rotation=d,n};p.scaleBy=function(){var n=h.create();return function(a,d,c,f,k){return I(a,d),0!==c&&(p.toMap(n,f,d,k),a.scale=d.scale*c,p.toScreen(n,n,a,k),p.translateBy(a,a,h.set(n,
n[0]-f[0],f[1]-n[1]))),a}}();p.scaleTo=function(n,a,d){return I(n,a),n.scale=d,n};p.scaleAndRotateBy=function(){var n=h.create();return function(a,d,c,f,k,t){return I(a,d),0!==c&&(p.toMap(n,k,d,t),a.scale=d.scale*c,a.rotation+=f,p.toScreen(n,n,a,t),p.translateBy(a,a,h.set(n,n[0]-k[0],k[1]-n[1]))),a}}();p.padAndScaleAndRotateBy=function(){var n=h.create(),a=h.create();return function(d,c,f,k,t,A,b){return p.getPaddingScreenTranslation(a,A,b),h.add(n,t,a),k?p.scaleAndRotateBy(d,c,f,k,n,A):p.scaleBy(d,
c,f,n,A)}}();p.toMap=function(){var n=m.create();return function(a,d,c,f){return h.transformMat2d(a,d,O(n,c,f,1))}}();p.toScreen=function(){var n=m.create();return function(a,d,c,f){return h.transformMat2d(a,d,p.getTransform(n,c,f,1))}}();p.translateBy=function(){var n=h.create(),a=m.create();return function(d,c,f){I(d,c);var k=N(c),t=d.targetGeometry;return m.fromRotation(a,u.toRadian(c.rotation)||0),m.scale(a,a,h.fromValues(k,k)),h.transformMat2d(n,f,a),t.x+=n[0],t.y+=n[1],d}}()})},"esri/views/2d/libs/gl-matrix/common":function(){define([],
function(){if(!y)var y=1E-6;if(!p)var p="undefined"!=typeof Float32Array?Float32Array:Array;if(!u)var u=Math.random;var m={GLMAT_EPSILON:y,GLMAT_ARRAY_TYPE:p,GLMAT_RANDOM:u,setMatrixArrayType:function(e){m.GLMAT_ARRAY_TYPE=e}},h=Math.PI/180,e=180/Math.PI;return m.toRadian=function(e){return e*h},m.toDegree=function(h){return h*e},m.setMatrixArrayType(Array),m})},"esri/views/2d/libs/gl-matrix/mat2d":function(){define(["./common"],function(y){var p=y.GLMAT_ARRAY_TYPE;y={};return y.create=function(){var u=
new p(6);return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u},y.clone=function(u){var m=new p(6);return m[0]=u[0],m[1]=u[1],m[2]=u[2],m[3]=u[3],m[4]=u[4],m[5]=u[5],m},y.copy=function(u,m){return u[0]=m[0],u[1]=m[1],u[2]=m[2],u[3]=m[3],u[4]=m[4],u[5]=m[5],u},y.identity=function(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0,u},y.invert=function(u,m){var h=m[0],e=m[1],q=m[2],l=m[3],b=m[4];m=m[5];var g=h*l-e*q;return g?(g=1/g,u[0]=l*g,u[1]=-e*g,u[2]=-q*g,u[3]=h*g,u[4]=(q*m-l*b)*g,u[5]=(e*b-h*m)*
g,u):null},y.determinant=function(u){return u[0]*u[3]-u[1]*u[2]},y.multiply=function(u,m,h){var e=m[0],q=m[1],l=m[2],b=m[3],g=m[4];m=m[5];var a=h[0],r=h[1],v=h[2],w=h[3],p=h[4];h=h[5];return u[0]=e*a+l*r,u[1]=q*a+b*r,u[2]=e*v+l*w,u[3]=q*v+b*w,u[4]=e*p+l*h+g,u[5]=q*p+b*h+m,u},y.mul=y.multiply,y.rotate=function(u,m,h){var e=m[0],q=m[1],l=m[2],b=m[3],g=m[4];m=m[5];var a=Math.sin(h);h=Math.cos(h);return u[0]=e*h+l*a,u[1]=q*h+b*a,u[2]=e*-a+l*h,u[3]=q*-a+b*h,u[4]=g,u[5]=m,u},y.scale=function(u,m,h){var e=
m[1],q=m[2],l=m[3],b=m[4],g=m[5],a=h[0];h=h[1];return u[0]=m[0]*a,u[1]=e*a,u[2]=q*h,u[3]=l*h,u[4]=b,u[5]=g,u},y.translate=function(u,m,h){var e=m[0],q=m[1],l=m[2],b=m[3],g=m[4];m=m[5];var a=h[0];h=h[1];return u[0]=e,u[1]=q,u[2]=l,u[3]=b,u[4]=e*a+l*h+g,u[5]=q*a+b*h+m,u},y.fromRotation=function(u,m){var h=Math.sin(m);m=Math.cos(m);return u[0]=m,u[1]=h,u[2]=-h,u[3]=m,u[4]=0,u[5]=0,u},y.fromScaling=function(u,m){return u[0]=m[0],u[1]=0,u[2]=0,u[3]=m[1],u[4]=0,u[5]=0,u},y.fromTranslation=function(u,m){return u[0]=
1,u[1]=0,u[2]=0,u[3]=1,u[4]=m[0],u[5]=m[1],u},y.str=function(u){return"mat2d("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+")"},y.frob=function(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)+Math.pow(u[2],2)+Math.pow(u[3],2)+Math.pow(u[4],2)+Math.pow(u[5],2)+1)},y})},"esri/views/2d/libs/gl-matrix/vec2":function(){define(["./common"],function(y){var p=y.GLMAT_ARRAY_TYPE,u=y.GLMAT_RANDOM,m={};return m.create=function(){var h=new p(2);return h[0]=0,h[1]=0,h},m.clone=function(h){var e=
new p(2);return e[0]=h[0],e[1]=h[1],e},m.fromValues=function(h,e){var m=new p(2);return m[0]=h,m[1]=e,m},m.copy=function(h,e){return h[0]=e[0],h[1]=e[1],h},m.set=function(h,e,m){return h[0]=e,h[1]=m,h},m.add=function(h,e,m){return h[0]=e[0]+m[0],h[1]=e[1]+m[1],h},m.subtract=function(h,e,m){return h[0]=e[0]-m[0],h[1]=e[1]-m[1],h},m.sub=m.subtract,m.multiply=function(h,e,m){return h[0]=e[0]*m[0],h[1]=e[1]*m[1],h},m.mul=m.multiply,m.divide=function(h,e,m){return h[0]=e[0]/m[0],h[1]=e[1]/m[1],h},m.div=
m.divide,m.min=function(h,e,m){return h[0]=Math.min(e[0],m[0]),h[1]=Math.min(e[1],m[1]),h},m.max=function(h,e,m){return h[0]=Math.max(e[0],m[0]),h[1]=Math.max(e[1],m[1]),h},m.scale=function(h,e,m){return h[0]=e[0]*m,h[1]=e[1]*m,h},m.scaleAndAdd=function(h,e,m,l){return h[0]=e[0]+m[0]*l,h[1]=e[1]+m[1]*l,h},m.distance=function(h,e){var m=e[0]-h[0];h=e[1]-h[1];return Math.sqrt(m*m+h*h)},m.dist=m.distance,m.squaredDistance=function(h,e){var m=e[0]-h[0];h=e[1]-h[1];return m*m+h*h},m.sqrDist=m.squaredDistance,
m.length=function(h){var e=h[0];h=h[1];return Math.sqrt(e*e+h*h)},m.len=m.length,m.squaredLength=function(h){var e=h[0];h=h[1];return e*e+h*h},m.sqrLen=m.squaredLength,m.negate=function(h,e){return h[0]=-e[0],h[1]=-e[1],h},m.inverse=function(h,e){return h[0]=1/e[0],h[1]=1/e[1],h},m.normalize=function(h,e){var m=e[0],l=e[1],m=m*m+l*l;return 0<m&&(m=1/Math.sqrt(m),h[0]=e[0]*m,h[1]=e[1]*m),h},m.dot=function(h,e){return h[0]*e[0]+h[1]*e[1]},m.cross=function(h,e,m){e=e[0]*m[1]-e[1]*m[0];return h[0]=h[1]=
0,h[2]=e,h},m.lerp=function(h,e,m,l){var b=e[0];e=e[1];return h[0]=b+l*(m[0]-b),h[1]=e+l*(m[1]-e),h},m.random=function(h,e){e=e||1;var m=2*u()*Math.PI;return h[0]=Math.cos(m)*e,h[1]=Math.sin(m)*e,h},m.transformMat2=function(h,e,m){var l=e[0];e=e[1];return h[0]=m[0]*l+m[2]*e,h[1]=m[1]*l+m[3]*e,h},m.transformMat2d=function(h,e,m){var l=e[0];e=e[1];return h[0]=m[0]*l+m[2]*e+m[4],h[1]=m[1]*l+m[3]*e+m[5],h},m.transformMat3=function(h,e,m){var l=e[0];e=e[1];return h[0]=m[0]*l+m[3]*e+m[6],h[1]=m[1]*l+m[4]*
e+m[7],h},m.transformMat4=function(h,e,m){var l=e[0];e=e[1];return h[0]=m[0]*l+m[4]*e+m[12],h[1]=m[1]*l+m[5]*e+m[13],h},m.forEach=function(){var h=m.create();return function(e,m,l,b,g,a){m||(m=2);l||(l=0);for(b=b?Math.min(b*m+l,e.length):e.length;b>l;l+=m)h[0]=e[l],h[1]=e[l+1],g(h,h,a),e[l]=h[0],e[l+1]=h[1];return e}}(),m.str=function(h){return"vec2("+h[0]+", "+h[1]+")"},m})},"esri/views/2d/ViewState":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../geometry/Extent ./viewpointUtils ./libs/gl-matrix/vec2 ./libs/gl-matrix/mat2d".split(" "),
function(y,p,u,m,h,e,q,l,b,g){return function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;return b.pixelRatio=1,b.size=[0,0],b}return u(e,a),v=e,Object.defineProperty(e.prototype,"center",{get:function(){var a=this.viewpoint.targetGeometry;return b.set(b.create(),a.x,a.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extent",{get:function(){return l.getExtent(new q,this.viewpoint,this.size)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,
"height",{get:function(){return this.size?this.size[1]:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._get("id")+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inverseTransform",{get:function(){return g.invert(g.create(),this.transform)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latitude",{get:function(){return this.viewpoint.targetGeometry.latitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,
"longitude",{get:function(){return this.viewpoint.targetGeometry.longitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return l.getResolution(this.viewpoint)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.viewpoint.rotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.viewpoint.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,
"screenCenter",{get:function(){return b.scale(b.create(),this.size,.5)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spatialReference",{get:function(){return this.viewpoint.targetGeometry.spatialReference},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return l.getTransform(g.create(),this.viewpoint,this.size,this.pixelRatio)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformNoRotation",{get:function(){return l.getTransformNoRotation(g.create(),
this.viewpoint,this.size,this.pixelRatio)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clippedExtent",{get:function(){return l.getClippedExtent(new q,this.viewpoint,this.size)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.size?this.size[0]:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worldScreenWidth",{get:function(){return l.getWorldScreenWidth(this.spatialReference,this.resolution)},enumerable:!0,
configurable:!0}),Object.defineProperty(e.prototype,"worldWidth",{get:function(){return l.getWorldWidth(this.spatialReference)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappable",{get:function(){return!!this.spatialReference&&this.spatialReference.isWrappable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.center[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.center[1]},
enumerable:!0,configurable:!0}),e.prototype.copy=function(a){return this.viewpoint&&this.size?(this._set("viewpoint",l.copy(this.viewpoint,a.viewpoint)),this._set("size",b.copy(this.size,a.size))):(this.viewpoint=a.viewpoint.clone(),b.copy(this.size,a.size)),this._set("pixelRatio",a.pixelRatio),this},e.prototype.clone=function(){return new v({viewpoint:this.viewpoint.clone(),size:b.clone(this.size)})},e.prototype.toMap=function(a,e){return b.transformMat2d(a,e,this.inverseTransform)},e.prototype.toScreen=
function(a,e){return b.transformMat2d(a,e,this.transform)},e.prototype.pixelSizeAt=function(a){return l.pixelSizeAt(a,this.viewpoint,this.size)},m([h.property({dependsOn:["viewpoint"]})],e.prototype,"center",null),m([h.property({readOnly:!0,dependsOn:["viewpoint","size"]})],e.prototype,"extent",null),m([h.property({readOnly:!0,dependsOn:["size"]})],e.prototype,"height",null),m([h.property({value:0,readOnly:!0,dependsOn:["transform"]})],e.prototype,"id",null),m([h.property({readOnly:!0,dependsOn:["transform"]})],
e.prototype,"inverseTransform",null),m([h.property({readOnly:!0,dependsOn:["viewpoint"]})],e.prototype,"latitude",null),m([h.property({readOnly:!0,dependsOn:["viewpoint"]})],e.prototype,"longitude",null),m([h.property()],e.prototype,"pixelRatio",void 0),m([h.property({readOnly:!0,dependsOn:["viewpoint"]})],e.prototype,"resolution",null),m([h.property({readOnly:!0,dependsOn:["viewpoint"]})],e.prototype,"rotation",null),m([h.property({readOnly:!0,dependsOn:["viewpoint"]})],e.prototype,"scale",null),
m([h.property({readOnly:!0,dependsOn:["size"]})],e.prototype,"screenCenter",null),m([h.property()],e.prototype,"size",void 0),m([h.property({readOnly:!0,dependsOn:["viewpoint"]})],e.prototype,"spatialReference",null),m([h.property({readOnly:!0,dependsOn:["viewpoint","size","pixelRatio"]})],e.prototype,"transform",null),m([h.property({readOnly:!0,dependsOn:["viewpoint","size","pixelRatio"]})],e.prototype,"transformNoRotation",null),m([h.property()],e.prototype,"viewpoint",void 0),m([h.property({readOnly:!0,
dependsOn:["viewpoint","size"]})],e.prototype,"clippedExtent",null),m([h.property({readOnly:!0,dependsOn:["size"]})],e.prototype,"width",null),m([h.property({readOnly:!0,dependsOn:["worldWidth","resolution"]})],e.prototype,"worldScreenWidth",null),m([h.property({readOnly:!0,dependsOn:["spatialReference"]})],e.prototype,"worldWidth",null),m([h.property({readOnly:!0,dependsOn:["spatialReference"]})],e.prototype,"wrappable",null),m([h.property({readOnly:!0,dependsOn:["center"]})],e.prototype,"x",null),
m([h.property({readOnly:!0,dependsOn:["center"]})],e.prototype,"y",null),e=v=m([h.subclass("esri.views.2d.ViewState")],e);var v}(h.declared(e))})},"esri/views/2d/MapViewConstraints":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../core/Evented ../../layers/support/LOD ./constraints/ZoomConstraint ./constraints/RotationConstraint".split(" "),function(y,p,u,m,h,e,q,l,b,g){return function(a){function e(){var b=
null!==a&&a.apply(this,arguments)||this;return b.enabled=!0,b.lods=null,b.minScale=0,b.maxScale=0,b.minZoom=-1,b.maxZoom=-1,b.rotationEnabled=!0,b.snapToZoom=!0,b}return u(e,a),e.prototype.initialize=function(){this.watch("_zoom, _rotation",this.emit.bind(this,"update"),!0)},e.prototype.destroy=function(){this.view=null;this._set("_zoom",null);this._set("_rotation",null)},Object.defineProperty(e.prototype,"_rotation",{get:function(){return new g({rotationEnabled:this.rotationEnabled})},enumerable:!0,
configurable:!0}),Object.defineProperty(e.prototype,"_defaultLODs",{get:function(){var a=this.get("view.defaultsFromMap.tileInfo"),b=this.get("view.spatialReference");return a&&b&&a.spatialReference.equals(b)?a.lods:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_zoom",{get:function(){return new b({lods:this.lods||this._defaultLODs,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale,snapToZoom:this.snapToZoom})},enumerable:!0,configurable:!0}),
e.prototype.canZoomInTo=function(a){var b=this.effectiveMaxScale;return 0===b||a>=b},e.prototype.canZoomOutTo=function(a){var b=this.effectiveMinScale;return 0===b||b>=a},e.prototype.constrain=function(a,b){return this.enabled?(this._zoom.constrain(a,b),this._rotation.constrain(a,b),a):a},e.prototype.fit=function(a){return this.enabled&&this.snapToZoom?(this._zoom.fit(a),a):a},e.prototype.zoomToScale=function(a){return this._zoom.zoomToScale(a)},e.prototype.scaleToZoom=function(a){return this._zoom.scaleToZoom(a)},
e.prototype.snapScale=function(a){return this._zoom.snapToClosestScale(a)},e.prototype.snapToNextScale=function(a){return this._zoom.snapToNextScale(a)},e.prototype.snapToPreviousScale=function(a){return this._zoom.snapToPreviousScale(a)},m([h.property({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],e.prototype,"effectiveLODs",void 0),m([h.property({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],e.prototype,"effectiveMinScale",void 0),m([h.property({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],
e.prototype,"effectiveMaxScale",void 0),m([h.property({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],e.prototype,"effectiveMinZoom",void 0),m([h.property({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],e.prototype,"effectiveMaxZoom",void 0),m([h.property()],e.prototype,"enabled",void 0),m([h.property({type:[l]})],e.prototype,"lods",void 0),m([h.property()],e.prototype,"minScale",void 0),m([h.property()],e.prototype,"maxScale",void 0),m([h.property()],e.prototype,"minZoom",void 0),m([h.property()],
e.prototype,"maxZoom",void 0),m([h.property()],e.prototype,"rotationEnabled",void 0),m([h.property()],e.prototype,"snapToZoom",void 0),m([h.property()],e.prototype,"view",void 0),m([h.property({type:g,dependsOn:["rotationEnabled"]})],e.prototype,"_rotation",null),m([h.property({dependsOn:["view.spatialReference","view.defaultsFromMap.tileInfo"]})],e.prototype,"_defaultLODs",null),m([h.property({readOnly:!0,type:b,dependsOn:"lods minZoom maxZoom minScale maxScale snapToZoom _defaultLODs".split(" ")})],
e.prototype,"_zoom",null),e=m([h.subclass("esri.views.2d.MapViewConstraints")],e)}(h.declared(e,q))})},"esri/views/2d/constraints/ZoomConstraint":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Accessor ../../../layers/support/LOD".split(" "),function(y,p,u,m,h,e,q){return function(e){function b(){var a=null!==e&&e.apply(this,arguments)||this;return a._lodByScale={},a._scales=
[],a.effectiveLODs=null,a.effectiveMinZoom=-1,a.effectiveMaxZoom=-1,a.effectiveMinScale=0,a.effectiveMaxScale=0,a.enabled=!0,a.lods=null,a.minZoom=-1,a.maxZoom=-1,a.minScale=0,a.maxScale=0,a.snapToZoom=!0,a}return u(b,e),g=b,b.prototype.initialize=function(){var a=this,b=this.lods,e=this.minScale,g=this.maxScale,l=this.minZoom,h=this.maxZoom,m=-1,q=-1,u=!1,p=!1;if(0!==e&&0!==g&&g>e&&(M=[g,e],e=M[0],g=M[1]),!b||!b.length)return this._set("effectiveMinScale",e),void this._set("effectiveMaxScale",g);
b=b.map(function(a){return a.clone()});b.sort(function(a,b){return b.scale-a.scale});b.forEach(function(a,b){return a.level=b});for(var z,M=0,I=b;M<I.length;M++){var y=I[M];!u&&0<e&&e>=y.scale&&(m=y.level,u=!0);!p&&0<g&&g>=y.scale&&(q=z?z.level:-1,p=!0);z=y}-1===l&&(l=0===e?0:m);-1===h&&(h=0===g?b.length-1:q);l=Math.max(l,0);l=Math.min(l,b.length-1);h=Math.max(h,0);h=Math.min(h,b.length-1);l>h&&(O=[h,l],l=O[0],h=O[1]);e=b[l].scale;g=b[h].scale;b.splice(0,l);b.splice(h-l+1,b.length);b.forEach(function(b,
e){a._lodByScale[b.scale]=b;a._scales[e]=b.scale});this._set("effectiveLODs",b);this._set("effectiveMinZoom",l);this._set("effectiveMaxZoom",h);this._set("effectiveMinScale",e);this._set("effectiveMaxScale",g);var M,O},b.prototype.constrain=function(a,b){if(!this.enabled||b&&a.scale===b.scale)return a;var e=this.effectiveMinScale,g=this.effectiveMaxScale,l=a.targetGeometry,h=b&&b.targetGeometry,m=0!==e&&a.scale>e;if(0!==g&&a.scale<g||m)e=m?e:g,h&&(b=(e-b.scale)/(a.scale-b.scale),l.x=h.x+(l.x-h.x)*
b,l.y=h.y+(l.y-h.y)*b),a.scale=e;return this.snapToZoom&&this.effectiveLODs&&(a.scale=this._getClosestScale(a.scale)),a},b.prototype.fit=function(a){if(!this.effectiveLODs)return this.constrain(a,null);var b=a.scale,e=this.scaleToZoom(b);return.99<Math.abs(e-Math.round(e))?a.scale=this.snapToPreviousScale(b):a.scale=this.zoomToScale(Math.round(e)),a},b.prototype.zoomToScale=function(a){if(!this.effectiveLODs)return 0;a-=this.effectiveMinZoom;a=Math.max(0,a);var b=this._scales;if(0>=a)return b[0];
if(a>=b.length)return b[b.length-1];var e=Math.round(a);return b[e]+(e-a)*(b[Math.round(a-.5)]-b[e])},b.prototype.scaleToZoom=function(a){if(!this.effectiveLODs)return-1;var b,e,g=this._scales,l=0,h=g.length-1;for(l;h>l;l++){if(b=g[l],e=g[l+1],a>=b)return l+this.effectiveMinZoom;if(e===a)return l+1+this.effectiveMinZoom;if(b>a&&a>e)return l+1-(a-e)/(b-e)+this.effectiveMinZoom}return l},b.prototype.snapToClosestScale=function(a){if(!this.effectiveLODs)return a;a=this.scaleToZoom(a);return this.zoomToScale(Math.round(a))},
b.prototype.snapToNextScale=function(a,b){if(void 0===b&&(b=.5),!this.effectiveLODs)return a*b;a=Math.round(this.scaleToZoom(a));return this.zoomToScale(a+1)},b.prototype.snapToPreviousScale=function(a,b){if(void 0===b&&(b=2),!this.effectiveLODs)return a*b;a=Math.round(this.scaleToZoom(a));return this.zoomToScale(a-1)},b.prototype.clone=function(){return new g({enabled:this.enabled,lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})},b.prototype._getClosestScale=
function(a){return this._lodByScale[a]?this._lodByScale[a].scale:(a=this._scales.reduce(function(b,e,g,l){return Math.abs(e-a)<=Math.abs(b-a)?e:b},this._scales[0]),this._lodByScale[a].scale)},m([h.property({readOnly:!0})],b.prototype,"effectiveLODs",void 0),m([h.property({readOnly:!0})],b.prototype,"effectiveMinZoom",void 0),m([h.property({readOnly:!0})],b.prototype,"effectiveMaxZoom",void 0),m([h.property({readOnly:!0})],b.prototype,"effectiveMinScale",void 0),m([h.property({readOnly:!0})],b.prototype,
"effectiveMaxScale",void 0),m([h.property()],b.prototype,"enabled",void 0),m([h.property({type:[q]})],b.prototype,"lods",void 0),m([h.property()],b.prototype,"minZoom",void 0),m([h.property()],b.prototype,"maxZoom",void 0),m([h.property()],b.prototype,"minScale",void 0),m([h.property()],b.prototype,"maxScale",void 0),m([h.property()],b.prototype,"snapToZoom",void 0),b=g=m([h.subclass("esri.views.2d.constraints.ZoomConstraint")],b);var g}(h.declared(e))})},"esri/views/2d/constraints/RotationConstraint":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Accessor".split(" "),
function(y,p,u,m,h,e){return function(e){function l(){var b=null!==e&&e.apply(this,arguments)||this;return b.enabled=!0,b.rotationEnabled=!0,b}return u(l,e),b=l,l.prototype.constrain=function(b,a){return this.enabled?(this.rotationEnabled||(b.rotation=0),b):b},l.prototype.clone=function(){return new b({enabled:this.enabled,rotationEnabled:this.rotationEnabled})},m([h.property()],l.prototype,"enabled",void 0),m([h.property()],l.prototype,"rotationEnabled",void 0),l=b=m([h.subclass("esri.views.2d.constraints.RotationConstraint")],
l);var b}(h.declared(e))})},"esri/views/2d/AnimationManager":function(){define("../../core/Accessor ../../core/Scheduler ../../core/now ../ViewAnimation ./unitBezier ./viewpointUtils".split(" "),function(y,p,u,m,h,e){var q=function(e,b,g,a){var l=e.targetGeometry,m=b.targetGeometry;a?"string"==typeof a&&(a=h.parse(a)||h.ease):a=h.ease;this.easing=a;this.duration=g;this.sCenterX=l.x;this.sCenterY=l.y;this.sScale=e.scale;this.sRotation=e.rotation;this.tCenterX=m.x;this.tCenterY=m.y;this.tScale=b.scale;
this.tRotation=b.rotation;this.dCenterX=this.tCenterX-this.sCenterX;this.dCenterY=this.tCenterY-this.sCenterY;this.dScale=this.tScale-this.sScale;this.dRotation=this.tRotation-this.sRotation;180<this.dRotation?this.dRotation-=360:-180>this.dRotation&&(this.dRotation+=360)};q.prototype.applyRatio=function(e,b){var g,a,l,h,m=this.easing(b);1<=b?(g=this.tCenterX,a=this.tCenterY,l=this.tRotation,h=this.tScale):(g=this.sCenterX+m*this.dCenterX,a=this.sCenterY+m*this.dCenterY,l=this.sRotation+m*this.dRotation,
h=this.sScale+m*this.dScale);e.targetGeometry.x=g;e.targetGeometry.y=a;e.scale=h;e.rotation=l};return y.createSubclass({constructor:function(){this._updateTask=p.addFrameTask({postRender:this._postRender.bind(this)});this._updateTask.pause()},getDefaults:function(){return{viewpoint:e.create()}},properties:{animation:null,duration:{value:200},transition:{value:null},easing:{value:h.ease},viewpoint:null},animate:function(l,b,g){this.stop();return e.copy(this.viewpoint,b),this.transition=new q(this.viewpoint,
l.target,g&&g.duration||this.duration,g&&g.easing||this.easing),l.always(function(){this.animation===l&&this._updateTask&&("finished"===l.state&&(this.transition.applyRatio(this.viewpoint,1),this.animation._dfd.progress(this.viewpoint)),this._updateTask.pause(),this.animation=null,this.updateFunction=null)}.bind(this)),this._startTime=u(),this._updateTask.resume(),this.animation=l,l},animateContinous:function(e,b){this.stop();this.updateFunction=b;this.viewpoint=e;var g=new m({target:e.clone()});
return g.always(function(){this.animation===g&&this._updateTask&&(this._updateTask.pause(),this.animation=null,this.updateFunction=null)}.bind(this)),this._startTime=u(),this._updateTask.resume(),this.animation=g,g},stop:function(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)},_postRender:function(e){var b=this.animation;if(!b||b.state===m.STOPPED)return void this._updateTask.pause();this.updateFunction?this.updateFunction(this.viewpoint,e.deltaTime):(e=(u()-
this._startTime)/this.transition.duration,b=1<=e,this.transition.applyRatio(this.viewpoint,e),b&&this.animation.finish());this.animation._dfd.progress(this.viewpoint)}})})},"esri/views/2d/unitBezier":function(){define([],function(){var y=function(u,m,h,e){function q(a,e){var h,m,r,q,v;e=null==e?1E-6:e;r=a;for(v=0;8>v;v++){if(q=((g*r+b)*r+l)*r-a,Math.abs(q)<e)return r;if(m=(3*g*r+2*b)*r+l,1E-6>Math.abs(m))break;r-=q/m}if(h=0,m=1,r=a,h>r)return h;if(r>m)return m;for(;m>h&&!(q=((g*r+b)*r+l)*r,Math.abs(q-
a)<e);)a>q?h=r:m=r,r=.5*(m-h)+h;return r}var l=3*u,b=3*(h-u)-l,g=1-l-b,a=3*m,r=3*(e-m)-a,v=1-a-r;return function(b,e){b=q(b,e);return((v*b+r)*b+a)*b}},p=/^cubic-bezier\((.*)\)/;return y.parse=function(u){var m=y[u]||null;!m&&(u=p.exec(u))&&(u=u[1].split(",").map(function(h){return parseFloat(h.trim())}),4!==u.length||u.some(function(h){return isNaN(h)})||(m=y.apply(y,u)));return m},y.ease=y(.25,.1,.25,1),y.linear=y(0,0,1,1),y.easeIn=y["ease-in"]=y(.42,0,1,1),y.easeOut=y["ease-out"]=y(0,0,.58,1),y.easeInOut=
y["ease-in-out"]=y(.42,0,.58,1),y})},"esri/views/DOMContainer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/_base/lang dojo/on dojo/dom dojo/dom-construct ../core/Accessor ../core/Evented ../core/HandleRegistry ../core/Scheduler ../core/watchUtils ../widgets/Popup ./PopupManager ./overlay/ViewOverlay ./ui/DefaultUI ../core/accessorSupport/decorators".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B){var J=[0,0];return function(b){function g(){var e=
b.call(this)||this;return e._domHandles=new a,e._freqInfo={freq:16,time:750},e._overlayRenderTaskHandle=null,e.height=0,e.position=null,e.resizing=!1,e.root=null,e.surface=null,e.suspended=!0,e.width=0,e.watch("cursor",function(a){var b=e.surface;b&&b.setAttribute("data-cursor",a)}),e.watch("interacting",function(a){var b=e.surface;b&&b.setAttribute("data-interacting",a.toString())}),e}return u(g,b),g.prototype.getDefaults=function(){return h.mixin(this.inherited(arguments),{popup:{},ui:{}})},g.prototype.destroy=
function(){this.ui.destroy();this.popup&&this.popup.destroy();this.container=null;this._domHandles.destroy()},Object.defineProperty(g.prototype,"container",{set:function(a){var b=this,e=this._get("container");if(e!==a)if(this._stopMeasuring(),e&&(e.classList.remove("esri-view"),this.popupManager.destroy(),this._set("popupManager",null),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),l.destroy(this.root),
this._set("root",null)),a){a.classList.add("esri-view");e=document.createElement("div");e.className="esri-view-root";a.insertBefore(e,a.firstChild);this._set("root",e);var g=document.createElement("div");g.className="esri-view-surface";q.setSelectable(g,!1);e.appendChild(g);this._set("surface",g);g=new D;e.appendChild(g.surface);this._set("overlay",g);g.watch("needsRender",function(a){a&&!b._overlayRenderTaskHandle?b._overlayRenderTaskHandle=r.addFrameTask({render:function(){b.overlay.render()}}):
b._overlayRenderTaskHandle&&(b._overlayRenderTaskHandle.remove(),b._overlayRenderTaskHandle=null)});this._forceReadyCycle();this._set("container",a);this._startMeasuring();a=new x({enabled:!0,view:this});this._set("popupManager",a)}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"popup",{set:function(a){var b=this._get("popup");
a!==b&&(a||(a=new w({container:document.createElement("div")})),this._domHandles.remove("view-popup"),b&&b.destroy(),a&&(a.viewModel.view=this,this._domHandles.add([v.init(this,"root",function(b,e){var g=a.container;g||(a.container=document.createElement("div"));var h=g&&g.parentNode;q.isDescendant(h,e)&&h.removeChild(g);b&&!h&&l.place(a.container,b)})],"view-popup")),this._set("popup",a))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"size",{get:function(){return[this.width,
this.height]},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"ui",{set:function(a){var b=this._get("ui");a!==b&&(this._domHandles.remove("ui"),b&&b.destroy(),a&&(a.view=this,this._domHandles.add([v.init(this,"root",function(b){a.container=b?l.create("div",null,b):null})],"ui")),this._set("ui",a))},enumerable:!0,configurable:!0}),g.prototype.focus=function(){this.surface&&this.surface.focus()},g.prototype.pageToContainer=function(a,b,e){var g=this.position;return a-=g[0],b-=g[1],
e?(e[0]=a,e[1]=b):e=[a,b],e},g.prototype.containerToPage=function(a,b,e){var g=this.position;return a+=g[0],b+=g[1],e?(e[0]=a,e[1]=b):e=[a,b],e},g.prototype._stopMeasuring=function(){this._domHandles.remove("measuring");this._get("resizing")&&this._set("resizing",!1)},g.prototype._startMeasuring=function(){var a=this,b=this._freqInfo;b.freq=16;b.time=750;this._domHandles.add([e(window,"resize",function(){b.freq=16;b.time=750}),r.addFrameTask({prepare:function(b){var e=a._measure(),g=a._freqInfo;(g.time+=
b.deltaTime,e&&(g.freq=16,a._get("resizing")||a._set("resizing",!0)),g.time<g.freq)||(g.time=0,a._position()||e?g.freq=16:g.freq=Math.min(750,2*g.freq),!e&&512<=g.freq&&a._get("resizing")&&a._set("resizing",!1))}})],"measuring");this._measure();this._position()},g.prototype._measure=function(){var a=this.container,b=a?a.clientWidth:0,e=a?a.clientHeight:0;if(0===b||0===e||"hidden"===window.getComputedStyle(a).visibility)return this.suspended||this._set("suspended",!0),!1;var a=this.width,g=this.height;
return b===a&&e===g?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",b),this._set("height",e),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:a,oldHeight:g,width:b,height:e}),!0)},g.prototype._position=function(){var a=this.container,b=this.position,e;e=(a.ownerDocument||window.document).defaultView;a=a.getBoundingClientRect();e=(J[0]=a.left+e.pageXOffset,J[1]=a.top+e.pageYOffset,J);return b&&e[0]===b[0]&&e[1]===b[1]?!1:(this._set("position",e.slice()),!0)},
m([B.property({value:null,cast:function(a){return q.byId(a)}})],g.prototype,"container",null),m([B.property({readOnly:!0})],g.prototype,"height",void 0),m([B.property({type:w})],g.prototype,"popup",null),m([B.property({type:x})],g.prototype,"popupManager",void 0),m([B.property({type:D})],g.prototype,"overlay",void 0),m([B.property({readOnly:!0})],g.prototype,"position",void 0),m([B.property({readOnly:!0})],g.prototype,"resizing",void 0),m([B.property({readOnly:!0})],g.prototype,"root",void 0),m([B.property({value:null,
dependsOn:["width","height"],readOnly:!0})],g.prototype,"size",null),m([B.property({readOnly:!0})],g.prototype,"surface",void 0),m([B.property({readOnly:!0})],g.prototype,"suspended",void 0),m([B.property({type:E})],g.prototype,"ui",null),m([B.property({readOnly:!0})],g.prototype,"width",void 0),g=m([B.subclass("esri.views.DOMContainer")],g)}(B.declared(b,g))})},"esri/widgets/Popup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ./support/widget ../core/accessorSupport/decorators ../core/lang ../core/Logger ../core/HandleRegistry ../core/watchUtils ./Widget ../widgets/support/widgetUtils ./Popup/PopupRenderer ./Popup/PopupViewModel dojo/i18n!./Popup/nls/Popup ./Spinner dojo/dom-geometry dojo/keys".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J){function K(a,b){return void 0===b?I+"__"+a:I+"__"+a+"-"+b}var z=y.toUrl("./Popup/images/default-action.svg"),M={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},I="esri-popup",Q=b.getLogger("esri.widgets.Popup");return function(b){function p(a){a=b.call(this)||this;return a._blurContainer=!1,a._containerNode=null,a._mainContainerNode=null,a._featureMenuNode=null,a._focusContainer=!1,a._focusDockButton=!1,a._focusFeatureMenuButton=!1,a._focusFirstFeature=
!1,a._handleRegistry=new g,a._displayActionTextLimit=2,a._pointerOffsetInPx=16,a._spinner=null,a._closeFeatureMenuHandle=null,a.actions=null,a.alignment="auto",a.autoCloseEnabled=null,a.content=null,a.collapsed=!1,a.collapseEnabled=!0,a.dockEnabled=!1,a.featureCount=null,a.featureMenuOpen=!1,a.features=null,a.featureNavigationEnabled=!0,a.highlightEnabled=null,a.location=null,a.popupRenderers=[],a.promises=null,a.selectedFeature=null,a.selectedFeatureIndex=null,a.selectedPopupRenderer=null,a.spinnerEnabled=
!0,a.title=null,a.updateLocationEnabled=null,a.view=null,a.viewModel=new x,a.visible=null,a}return u(p,b),p.prototype.postInitialize=function(){var b=this,e=a.pausable(this,"\n      viewModel.visible,\n      dockEnabled,\n      viewModel.selectedFeature\n    ",function(){return b._closeFeatureMenu()});this._closeFeatureMenuHandle=e;this.own(a.watch(this,"viewModel.screenLocation",function(){return b._positionContainer()}),a.watch(this,["viewModel.visible","dockEnabled"],function(){return b._toggleScreenLocationEnabled()}),
a.watch(this,"viewModel.screenLocation",function(a,e){!!a!=!!e&&b.reposition()}),a.watch(this,"viewModel.features",function(a){return b._createPopupRenderers(a)}),a.watch(this,"viewModel.view.padding viewModel.view.size viewModel.visible viewModel.waitingForResult viewModel.location alignment".split(" "),function(){return b.reposition()}),e,a.watch(this,"spinnerEnabled",function(a){return b._spinnerEnabledChange(a)}),a.watch(this,["title","content"],function(){return b._hasFeatureUpdated()}),a.watch(this,
"viewModel.view.size",function(a,e){return b._updateDockEnabledForViewSize(a,e)}),a.watch(this,"viewModel.view",function(a,e){return b._viewChange(a,e)}),a.watch(this,"viewModel.view.ready",function(a,e){return b._viewReadyChange(a,e)}),a.watch(this,["viewModel.waitingForResult","viewModel.location"],function(){return b._displaySpinner()}),a.watch(this,["popupRenderers","viewModel.selectedFeatureIndex"],function(){return b._updatePopupRenderer()}),a.watch(this,"selectedPopupRenderer.viewModel.title",
function(a){return b._setTitleFromPopupRenderer(a)}),a.watch(this,["selectedPopupRenderer.viewModel.content","selectedPopupRenderer.viewModel.waitingForContent"],function(){return b._setContentFromPopupRenderer()}),a.watch(this,"featureMenuOpen",function(a){return b._featureMenuOpenChanged(a)}),a.watch(this,"visible",function(a){return b._visibleChanged(a)}),a.on(this,"viewModel","trigger-action",function(a){return b._zoomToAction(a)}))},p.prototype.destroy=function(){this._destroyPopupRenderers();
this._destroySpinner();this._handleRegistry.destroy();this._handleRegistry=null},Object.defineProperty(p.prototype,"currentAlignment",{get:function(){return this._getCurrentAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"currentDockPosition",{get:function(){return this._getCurrentDockPosition()},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dockOptions",{get:function(){return this._get("dockOptions")||M},set:function(a){var b=h({},M),e=this.get("viewModel.view.breakpoints"),
g={};e&&(g.width=e.xsmall,g.height=e.xsmall);a=h({},b,a);b=h({},b.breakpoint,g);g=a.breakpoint;!0===g?a.breakpoint=b:"object"==typeof g&&(a.breakpoint=h({},b,g));this._set("dockOptions",a);this._setCurrentDockPosition();this.reposition()},enumerable:!0,configurable:!0}),p.prototype.blur=function(){this.visible||Q.warn("Popup cannot be blurred while visible is false");this._blurContainer=!0;this.scheduleRender()},p.prototype.clear=function(){},p.prototype.close=function(){this.visible=!1},p.prototype.focus=
function(){this.visible||Q.warn("Popup cannot be focused while visible is false");this._focusContainer=!0;this.scheduleRender()},p.prototype.next=function(){return null},p.prototype.open=function(a){a=h({visible:!0},{featureMenuOpen:!1,updateLocationEnabled:!1,promises:[]},a);a.featureMenuOpen&&this._closeFeatureMenuHandle.pause();this.set(a);this._visibleChanged(!0)},p.prototype.previous=function(){return null},p.prototype.reposition=function(){this.renderNow();this._positionContainer();this._setCurrentAlignment()},
p.prototype.triggerAction=function(a){return null},p.prototype.render=function(){var a=this.collapsed,b=this.collapseEnabled,g=this.dockEnabled,h=this.actions,m=this.featureMenuOpen,r=this.featureNavigationEnabled,q=this.popupRenderers,n=this.visible,w=this.viewModel,C=w.featureCount,d=w.promiseCount,c=w.pendingPromisesCount,f=w.selectedFeatureIndex,k=w.title,w=w.waitingForResult,t=1<C&&r,r=1<C&&m,A=b&&!r&&a,G=h&&h.length,F=t&&this._getPageText(C,f),H=this._renderContent(),X=v.isRtl(),ca=this.get("selectedPopupRenderer")?
this.get("selectedPopupRenderer.viewModel.waitingForContent")||this.get("selectedPopupRenderer.viewModel.content"):H,la=g?D.undock:D.dock,h=this.currentAlignment,a=this.currentDockPosition,c=c?e.tsx("div",{key:K("loading-container"),role:"presentation","class":"esri-popup__loading-container","aria-label":D.loading,title:D.loading},e.tsx("span",{"aria-hidden":"true","class":e.join("esri-popup__icon","esri-icon-loading-indicator","esri-rotating")})):null,u=(p={},p["esri-icon-layer-list"]=!r,p["esri-icon-close"]=
r,p),p=e.tsx("span",{"aria-hidden":"true","class":"esri-popup__icon",classes:u}),u=(B={},B["esri-icon-right-triangle-arrow"]=X,B["esri-popup__pagination-previous-icon--rtl"]=X,B["esri-icon-left-triangle-arrow"]=!X,B["esri-popup__pagination-previous-icon"]=!X,B),B=e.tsx("span",{"aria-hidden":"true","class":"esri-popup__icon",classes:u}),B=e.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,"class":e.join("esri-popup__button","esri-popup__pagination-previous"),
"aria-label":D.previous,title:D.previous},B),X=(x={},x["esri-icon-left-triangle-arrow"]=X,x["esri-popup__pagination-next-icon--rtl"]=X,x["esri-icon-right-triangle-arrow"]=!X,x["esri-popup__pagination-next-icon"]=!X,x),x=e.tsx("span",{"aria-hidden":"true","class":"esri-popup__icon",classes:X}),X=e.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,"class":e.join("esri-popup__button","esri-popup__pagination-next"),"aria-label":D.next,title:D.next},x),x=this.id+"-feature-menu",
m=e.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,"class":e.join("esri-popup__button","esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":x,"aria-expanded":m,"aria-label":D.menu,title:D.menu},p),F=e.tsx("div",{"class":"esri-popup__pagination-page-text"},F),m=t?e.tsx("div",{"class":"esri-popup__navigation-buttons"},B,F,X,m):
null,F=this._wouldDockTo(),F=(z={},z["esri-icon-minimize"]=g,z["esri-popup__icon--dock-icon"]=!g,z["esri-icon-dock-right"]=!g&&("top-right"===F||"bottom-right"===F),z["esri-icon-dock-left"]=!g&&("top-left"===F||"bottom-left"===F),z["esri-icon-maximize"]=!g&&"top-center"===F,z["esri-icon-dock-bottom"]=!g&&"bottom-center"===F,z),z=e.tsx("span",{"aria-hidden":"true",classes:F,"class":"esri-popup__icon"}),z=this.get("dockOptions.buttonEnabled")?e.tsx("div",{role:"button","aria-label":la,title:la,tabIndex:0,
bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,"class":e.join("esri-popup__button","esri-popup__button--dock")},z):null,b=b&&(ca||G||t),la=(E={},E["esri-popup__header-title--button"]=b,E),F=b?A?D.expand:D.collapse:"",E=this.id+"-popup-title",k=k?e.tsx("h1",{"class":"esri-popup__header-title",id:E,role:b?"button":"heading","aria-label":F,title:F,classes:la,bind:this,tabIndex:b?0:-1,onclick:this._toggleCollapsed,
onkeydown:this._toggleCollapsed,innerHTML:k}):null,b=e.tsx("span",{"aria-hidden":"true","class":e.join("esri-popup__icon","esri-icon-close")}),b=e.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,"class":"esri-popup__button","aria-label":D.close,title:D.close},b),b=e.tsx("header",{"class":"esri-popup__header"},k,e.tsx("div",{"class":"esri-popup__header-buttons"},z,b)),z=this.id+"-popup-content",H=ca&&!A?e.tsx("article",{key:K("content-container"),id:z,"class":"esri-popup__content"},
H):null,ca=!A&&("bottom-left"===h||"bottom-center"===h||"bottom-right"===h||"top-left"===a||"top-center"===a||"top-right"===a),A=!A&&("top-left"===h||"top-center"===h||"top-right"===h||"bottom-left"===a||"bottom-center"===a||"bottom-right"===a),la=r?null:e.tsx("div",{key:K("actions"),"class":"esri-popup__actions"},this._renderActions()),c=e.tsx("section",{key:K("navigation"),"class":"esri-popup__navigation"},c,m),t=t||G?e.tsx("div",{key:K("feature-buttons"),"class":"esri-popup__feature-buttons"},
la,c):null;(f=this._renderFeatureMenuNode(q,f,r,x))&&this._closeFeatureMenuHandle.resume();q=l.substitute({total:q.length},D.selectedFeatures);f=e.tsx("section",{key:K("menu"),"class":"esri-popup__feature-menu"},e.tsx("h2",{"class":"esri-popup__feature-menu-header"},q),e.tsx("nav",{"class":"esri-popup__feature-menu-viewport",afterCreate:this._featureMenuViewportNodeUpdated,afterUpdate:this._featureMenuViewportNodeUpdated},f));q=g?null:e.tsx("div",{key:K("pointer"),"class":"esri-popup__pointer",role:"presentation"},
e.tsx("div",{"class":e.join("esri-popup__pointer-direction","esri-popup--shadow")}));r=(J={},J["esri-popup--aligned-top-center"]="top-center"===h,J["esri-popup--aligned-bottom-center"]="bottom-center"===h,J["esri-popup--aligned-top-left"]="top-left"===h,J["esri-popup--aligned-bottom-left"]="bottom-left"===h,J["esri-popup--aligned-top-right"]="top-right"===h,J["esri-popup--aligned-bottom-right"]="bottom-right"===h,J["esri-popup--is-docked"]=g,J["esri-popup--shadow"]=!g,J["esri-popup--feature-updated"]=
n,J["esri-popup--is-docked-top-left"]="top-left"===a,J["esri-popup--is-docked-top-center"]="top-center"===a,J["esri-popup--is-docked-top-right"]="top-right"===a,J["esri-popup--is-docked-bottom-left"]="bottom-left"===a,J["esri-popup--is-docked-bottom-center"]="bottom-center"===a,J["esri-popup--is-docked-bottom-right"]="bottom-right"===a,J["esri-popup--feature-menu-open"]=r,J);J=this.get("selectedFeature.layer.title");h=this.get("selectedFeature.layer.id");g=(I={},I["esri-popup--shadow"]=g,I);I=ca?
f:null;f=A?f:null;a=ca?t:null;t=A?t:null;n=n&&!w&&(d?C:1)?e.tsx("div",{key:K("container"),"class":"esri-popup__position-container",classes:r,"data-layer-title":J,"data-layer-id":h,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},e.tsx("div",{"class":e.join("esri-popup__main-container","esri-widget"),classes:g,tabIndex:-1,"aria-role":"dialog","aria-labelledby":k?E:"","aria-describedby":H?z:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,
afterUpdate:this._mainContainerNodeUpdated},a,I,b,H,t,f),q):null;return e.tsx("div",{key:K("base"),"class":"esri-popup",role:"presentation"},n);var p,B,x,z,E,J,I},p.prototype._visibleChanged=function(a){a&&(this._focusContainer=!0,this.scheduleRender())},p.prototype._featureMenuOpenChanged=function(a){a?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0;this.scheduleRender()},p.prototype._setTitleFromPopupRenderer=function(a){this.viewModel.title=a||""},p.prototype._setContentFromPopupRenderer=
function(){this.viewModel.content=this.selectedPopupRenderer||null;this.scheduleRender()},p.prototype._handleFeatureMenuKeyup=function(a){a.keyCode===J.ESCAPE&&(a.stopPropagation(),this.featureMenuOpen=!1)},p.prototype._handleFeatureMenuItemKeyup=function(a){var b=a.keyCode,e=this._featureMenuNode,g=this.get("features.length"),h=a.currentTarget["data-feature-index"];if(e){e=e.querySelectorAll("li");if(b===J.UP_ARROW)return a.stopPropagation(),void e[(h-1+g)%g].focus();if(b===J.DOWN_ARROW)return a.stopPropagation(),
void e[(h+1+g)%g].focus();if(b===J.HOME)return a.stopPropagation(),void e[0].focus();if(b===J.END)return a.stopPropagation(),void e[e.length-1].focus()}},p.prototype._handleMainKeyup=function(a){var b=a.keyCode;b===J.LEFT_ARROW&&(a.stopPropagation(),this.previous());b===J.RIGHT_ARROW&&(a.stopPropagation(),this.next())},p.prototype._zoomToAction=function(a){a.action&&"zoom-to"===a.action.id&&this.viewModel.zoomToLocation()},p.prototype._spinnerEnabledChange=function(a){if(this._destroySpinner(),a)a=
this.get("viewModel.view"),this._createSpinner(a)},p.prototype._displaySpinner=function(){var a=this._spinner;if(a){var b=this.viewModel,e=b.location;return b.waitingForResult?void a.show({location:e}):void a.hide()}},p.prototype._getIconStyles=function(a){return{"background-image":a?"url("+a+")":""}},p.prototype._renderAction=function(b,g,h,m){var r=this,q=a.watch(b,["id","className","title","image","visible"],function(){return r.scheduleRender()});this._handleRegistry.add(q,m);q=this.get("selectedFeature.attributes");
"zoom-to"===b.id&&(b.title=D.zoom,this._handleRegistry.add(a.init(this,"view.animation.state",function(d){b.className="waiting-for-target"===d?e.join("esri-popup__icon","esri-icon-loading-indicator","esri-rotating"):e.join("esri-popup__icon","esri-icon-zoom-in-magnifying-glass")}),m));m=b.title;var v=b.className,n=b.image||v?b.image:z;m=m&&q?l.substitute(q,m):m;v=v&&q?l.substitute(q,v):v;q=n&&q?l.substitute(q,n):n;n=v||"esri-popup__icon";v=(w={},w["esri-popup__action-image"]=!!q,w);w=(C={},C["esri-disabled"]=
-1!==n.indexOf("esri-icon-loading-indicator"),C);h=h<=this._displayActionTextLimit?e.tsx("span",{key:K("action-text-"+g+"-"+b.uid),"class":"esri-popup__action-text"},m):null;return b.visible?e.tsx("div",{key:K("action-"+g+"-"+b.uid),role:"button",tabIndex:0,title:m,"aria-label":m,classes:w,"class":e.join("esri-popup__button","esri-popup__action"),bind:this,"data-action-index":g,onclick:this._triggerAction,onkeydown:this._triggerAction},e.tsx("span",{key:K("action-icon-"+g+"-"+b.uid+"-"+n),"aria-hidden":"true",
"class":n,classes:v,styles:this._getIconStyles(q)}),h):null;var w,C},p.prototype._renderActions=function(){var a=this;this._handleRegistry.remove("actions");var b=this.actions;if(b){var e=b.length;return b.toArray().map(function(b,g){return a._renderAction(b,g,e,"actions")})}},p.prototype._updatePopupRenderer=function(){var a=this.popupRenderers[this.viewModel.selectedFeatureIndex]||null;a&&!a.contentEnabled&&(a.contentEnabled=!0);this._set("selectedPopupRenderer",a)},p.prototype._destroyPopupRenderers=
function(){this.popupRenderers.forEach(function(a){return a.destroy()});this._set("popupRenderers",[])},p.prototype._createPopupRenderers=function(a){var b=this;this._destroyPopupRenderers();var e=[];a&&a.forEach(function(a){a=new w({contentEnabled:!1,graphic:a,view:b.get("viewModel.view")});e.push(a)});this._set("popupRenderers",e)},p.prototype._isScreenLocationWithinView=function(a,b){return-1<a.x&&-1<a.y&&a.x<=b.width&&a.y<=b.height},p.prototype._isOutsideView=function(a){var b=a.popupHeight,e=
a.popupWidth,g=a.screenLocation,h=a.side;a=a.view;if(isNaN(e)||isNaN(b)||!a||!g)return!1;var l=a.padding;return"right"===h&&g.x+e/2>a.width-l.right?!0:"left"===h&&g.x-e/2<l.left?!0:"top"===h&&g.y-b<l.top?!0:"bottom"===h&&g.y+b>a.height-l.bottom?!0:!1},p.prototype._determineCurrentAlignment=function(){var a=this._pointerOffsetInPx,b=this._containerNode,e=this._mainContainerNode,g=this.viewModel,h=g.screenLocation,g=g.view;if(!h||!g||!b)return"top-center";if(!this._isScreenLocationWithinView(h,g))return this._get("currentAlignment")||
"top-center";var l=e?window.getComputedStyle(e,null):null,e=l?parseInt(l.getPropertyValue("max-height").replace(/[^-\d\.]/g,""),10):0,l=l?parseInt(l.getPropertyValue("height").replace(/[^-\d\.]/g,""),10):0,m=B.getContentBox(b),b=m.w+a,m=Math.max(m.h,e,l)+a,a=this._isOutsideView({popupHeight:m,popupWidth:b,screenLocation:h,side:"right",view:g}),e=this._isOutsideView({popupHeight:m,popupWidth:b,screenLocation:h,side:"left",view:g}),l=this._isOutsideView({popupHeight:m,popupWidth:b,screenLocation:h,
side:"top",view:g}),h=this._isOutsideView({popupHeight:m,popupWidth:b,screenLocation:h,side:"bottom",view:g});return e?l?"bottom-right":"top-right":a?l?"bottom-left":"top-left":l?h?"top-center":"bottom-center":"top-center"},p.prototype._getCurrentAlignment=function(){var a=this.alignment;return this.dockEnabled?null:"auto"===a?this._determineCurrentAlignment():"function"==typeof a?a.call(this):a},p.prototype._setCurrentAlignment=function(){this._set("currentAlignment",this._getCurrentAlignment())},
p.prototype._setCurrentDockPosition=function(){this._set("currentDockPosition",this._getCurrentDockPosition())},p.prototype._getDockPosition=function(){var a=this.get("dockOptions.position");return"auto"===a?this._determineCurrentDockPosition():"function"==typeof a?a.call(this):a},p.prototype._getCurrentDockPosition=function(){return this.dockEnabled?this._getDockPosition():null},p.prototype._wouldDockTo=function(){return this.dockEnabled?null:this._getDockPosition()},p.prototype._renderFeatureMenuItemNode=
function(a,b,g,h){var l=b===g;h=(m={},m["esri-popup__feature-menu-item--selected"]=l,m);a=a.title||D.untitled;l=l?e.tsx("span",{key:K("feature-menu-selected-feature-"+g),title:D.selectedFeature,"aria-label":D.selectedFeature,"class":"esri-icon-check-mark"}):null;return e.tsx("li",{role:"menuitem",tabIndex:-1,key:K("feature-menu-feature-"+g),classes:h,"class":"esri-popup__feature-menu-item",title:a,"aria-label":a,bind:this,"data-feature-index":b,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,
onkeydown:this._selectFeature},e.tsx("span",{"class":"esri-popup__feature-menu-title"},a,l));var m},p.prototype._renderFeatureMenuNode=function(a,b,g,h){var l=this;return 1<a.length?e.tsx("ol",{"class":"esri-popup__feature-menu-list",id:h,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},a.map(function(a,e){return l._renderFeatureMenuItemNode(a,e,b,g)})):null},p.prototype._determineCurrentDockPosition=function(){var a=
this.get("viewModel.view"),b=v.isRtl()?"top-left":"top-right";if(!a)return b;var e=a.padding||{left:0,right:0,top:0,bottom:0},e=a.width-e.left-e.right;return(a=a.get("breakpoints"))&&e<=a.xsmall?"bottom-center":b},p.prototype._renderContent=function(){var a=this.get("viewModel.content");return"string"==typeof a?e.tsx("div",{key:K("content-string"),innerHTML:a}):a&&a.isInstanceOf&&a.isInstanceOf(r)?e.tsx("div",{key:K("content-widget")},a.render()):a instanceof HTMLElement?e.tsx("div",{key:K("content-html-element"),
bind:a,afterUpdate:this._attachToNode,afterCreate:this._attachToNode}):a&&"function"==typeof a.postMixInProperties&&"function"==typeof a.buildRendering&&"function"==typeof a.postCreate&&"function"==typeof a.startup?e.tsx("div",{key:K("content-dijit"),bind:a.domNode,afterUpdate:this._attachToNode,afterCreate:this._attachToNode}):void 0},p.prototype._attachToNode=function(a){a.appendChild(this)},p.prototype._positionContainer=function(a){if(void 0===a&&(a=this._containerNode),a&&(this._containerNode=
a),a){var b=this.viewModel.screenLocation,e=B.getContentBox(a);(b=this._calculatePositionStyle(b,e))&&(a.style.top=b.top,a.style.left=b.left,a.style.bottom=b.bottom,a.style.right=b.right)}},p.prototype._calculateFullWidth=function(a){var b=this.currentAlignment,e=this._pointerOffsetInPx;return"top-left"===b||"bottom-left"===b||"top-right"===b||"bottom-right"===b?a+e:a},p.prototype._calculateAlignmentPosition=function(a,b,e,g){var h=this.currentAlignment,l=this._pointerOffsetInPx;g/=2;var m=e.height-
b;e=e.width-a;return"bottom-center"===h?{top:b+l,left:a-g}:"top-left"===h?{bottom:m+l,right:e+l}:"bottom-left"===h?{top:b+l,right:e+l}:"top-right"===h?{bottom:m+l,left:a+l}:"bottom-right"===h?{top:b+l,left:a+l}:"top-center"===h?{bottom:m+l,left:a-g}:void 0},p.prototype._calculatePositionStyle=function(a,b){var e=this.dockEnabled,g=this.view;if(g){var h=g.padding;if(e)return{left:h.left?h.left+"px":"",top:h.top?h.top+"px":"",right:h.right?h.right+"px":"",bottom:h.bottom?h.bottom+"px":""};if(a&&b&&
(b=this._calculateFullWidth(b.w),a=this._calculateAlignmentPosition(a.x,a.y,g,b)))return{top:void 0!==a.top?a.top+"px":"auto",left:void 0!==a.left?a.left+"px":"auto",bottom:void 0!==a.bottom?a.bottom+"px":"auto",right:void 0!==a.right?a.right+"px":"auto"}}},p.prototype._viewChange=function(a,b){a&&b&&(this.close(),this.clear())},p.prototype._viewReadyChange=function(a,b){if(a)return a=this.get("viewModel.view"),void this._wireUpView(a);b&&(this.close(),this.clear())},p.prototype._wireUpView=function(a){if(this._destroySpinner(),
a)this.spinnerEnabled&&this._createSpinner(a),this._setDockEnabledForViewSize(this.dockOptions)},p.prototype._dockingThresholdCrossed=function(a,b,e){var g=a[0];a=a[1];var h=b[0];b=b[1];var l=e.width;e=e.height;return l>=g&&h>l||g>l&&l>=h||e>=a&&b>e||a>e&&e>=b},p.prototype._updateDockEnabledForViewSize=function(a,b){if(a&&b){var e=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},g=e.left+e.right,h=e.top+e.bottom,e=[],l=[];e[0]=a[0]-g;e[1]=a[1]-h;l[0]=b[0]-g;l[1]=b[1]-h;a=this.dockOptions;
this._dockingThresholdCrossed(e,l,a.breakpoint)&&this._setDockEnabledForViewSize(a);this._setCurrentDockPosition()}},p.prototype._hasFeatureUpdated=function(){var a=this._containerNode,b=this.viewModel.pendingPromisesCount,e=this.get("selectedPopupRenderer.viewModel.waitingForContent");!a||b||e||(a.classList.remove("esri-popup--feature-updated"),a.offsetHeight,a.classList.add("esri-popup--feature-updated"))},p.prototype._focusDockButtonNode=function(a){this._focusDockButton&&(this._focusDockButton=
!1,a.focus())},p.prototype._mainContainerNodeUpdated=function(a){return this._mainContainerNode=a,this._focusContainer?(this._focusContainer=!1,void a.focus()):this._blurContainer?(this._blurContainer=!1,void a.blur()):void 0},p.prototype._featureMenuNodeUpdated=function(a){if(this._featureMenuNode=a,a&&this._focusFirstFeature)this._focusFirstFeature=!1,a=a.querySelectorAll("li"),a.length&&a[0].focus()},p.prototype._focusFeatureMenuButtonNode=function(a){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=
!1,a.focus())},p.prototype._featureMenuViewportNodeUpdated=function(a){a&&(a.scrollTop=0)},p.prototype._toggleScreenLocationEnabled=function(){var a=this.dockEnabled,b=this.visible,e=this.viewModel;e&&(e.screenLocationEnabled=b&&!a)},p.prototype._shouldDockAtCurrentViewSize=function(a){a=a.breakpoint;var b=this.get("viewModel.view.ui"),e=b.width,b=b.height;if(isNaN(e)||isNaN(b))return!1;e=a.hasOwnProperty("width")&&e<=a.width;a=a.hasOwnProperty("height")&&b<=a.height;return e||a},p.prototype._setDockEnabledForViewSize=
function(a){a.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(a))},p.prototype._getPageText=function(a,b){return l.substitute({index:b+1,total:a},D.pageText)},p.prototype._destroySpinner=function(){this._spinner&&(this._spinner.destroy(),this._spinner=null)},p.prototype._createSpinner=function(a){a&&(this._spinner=new E({container:document.createElement("div"),view:a}),a.root.appendChild(this._spinner.container))},p.prototype._closeFeatureMenu=function(){this.featureMenuOpen=!1},p.prototype._toggleCollapsed=
function(){this.collapsed=!this.collapsed},p.prototype._close=function(){this.close();this.view&&this.view.focus()},p.prototype._toggleDockEnabled=function(){this.dockEnabled=!this.dockEnabled;this._focusDockButton=!0;this.scheduleRender()},p.prototype._toggleFeatureMenu=function(){this.featureMenuOpen=!this.featureMenuOpen},p.prototype._triggerAction=function(a){this.viewModel.triggerAction(a.currentTarget["data-action-index"])},p.prototype._selectFeature=function(a){a=a.currentTarget["data-feature-index"];
isNaN(a)||(this.viewModel.selectedFeatureIndex=a);this._closeFeatureMenu()},p.prototype._next=function(){this.next()},p.prototype._previous=function(){this.previous()},m([q.aliasOf("viewModel.actions"),e.renderable()],p.prototype,"actions",void 0),m([q.property()],p.prototype,"alignment",void 0),m([q.aliasOf("viewModel.autoCloseEnabled")],p.prototype,"autoCloseEnabled",void 0),m([q.aliasOf("viewModel.content"),e.renderable()],p.prototype,"content",void 0),m([q.property(),e.renderable()],p.prototype,
"collapsed",void 0),m([q.property(),e.renderable()],p.prototype,"collapseEnabled",void 0),m([q.property({readOnly:!0,dependsOn:["dockEnabled","alignment"]}),e.renderable()],p.prototype,"currentAlignment",null),m([q.property({readOnly:!0,dependsOn:["dockEnabled","dockOptions"]}),e.renderable()],p.prototype,"currentDockPosition",null),m([q.property(),e.renderable()],p.prototype,"dockOptions",null),m([q.property(),e.renderable()],p.prototype,"dockEnabled",void 0),m([q.aliasOf("viewModel.featureCount"),
e.renderable()],p.prototype,"featureCount",void 0),m([q.property(),e.renderable()],p.prototype,"featureMenuOpen",void 0),m([q.aliasOf("viewModel.features"),e.renderable()],p.prototype,"features",void 0),m([q.property(),e.renderable()],p.prototype,"featureNavigationEnabled",void 0),m([q.aliasOf("viewModel.highlightEnabled")],p.prototype,"highlightEnabled",void 0),m([q.aliasOf("viewModel.location"),e.renderable()],p.prototype,"location",void 0),m([q.property({readOnly:!0}),e.renderable()],p.prototype,
"popupRenderers",void 0),m([q.aliasOf("viewModel.promises")],p.prototype,"promises",void 0),m([q.aliasOf("viewModel.selectedFeature"),e.renderable()],p.prototype,"selectedFeature",void 0),m([q.aliasOf("viewModel.selectedFeatureIndex"),e.renderable()],p.prototype,"selectedFeatureIndex",void 0),m([q.property({readOnly:!0}),e.renderable()],p.prototype,"selectedPopupRenderer",void 0),m([q.property()],p.prototype,"spinnerEnabled",void 0),m([q.aliasOf("viewModel.title"),e.renderable()],p.prototype,"title",
void 0),m([q.aliasOf("viewModel.updateLocationEnabled")],p.prototype,"updateLocationEnabled",void 0),m([q.aliasOf("viewModel.view")],p.prototype,"view",void 0),m([q.property({type:x}),e.renderable("viewModel.screenLocation viewModel.screenLocationEnabled viewModel.state viewModel.pendingPromisesCount viewModel.promiseCount viewModel.waitingForResult".split(" ")),e.vmEvent(["triggerAction","trigger-action"])],p.prototype,"viewModel",void 0),m([q.aliasOf("viewModel.visible"),e.renderable()],p.prototype,
"visible",void 0),m([q.aliasOf("viewModel.clear")],p.prototype,"clear",null),m([q.aliasOf("viewModel.next")],p.prototype,"next",null),m([q.aliasOf("viewModel.previous")],p.prototype,"previous",null),m([q.aliasOf("viewModel.triggerAction")],p.prototype,"triggerAction",null),m([e.accessibleHandler()],p.prototype,"_toggleCollapsed",null),m([e.accessibleHandler()],p.prototype,"_close",null),m([e.accessibleHandler()],p.prototype,"_toggleDockEnabled",null),m([e.accessibleHandler()],p.prototype,"_toggleFeatureMenu",
null),m([e.accessibleHandler()],p.prototype,"_triggerAction",null),m([e.accessibleHandler()],p.prototype,"_selectFeature",null),m([e.accessibleHandler()],p.prototype,"_next",null),m([e.accessibleHandler()],p.prototype,"_previous",null),p=m([q.subclass("esri.widgets.Popup")],p)}(q.declared(r))})},"esri/widgets/Widget":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ../core/Accessor ../core/Evented ../core/HandleRegistry ../core/Logger ../core/watchUtils dojo/_base/lang dojo/dom ./libs/maquette/maquette ../core/Collection".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w){var x=b.getLogger("esri.widgets.Widget"),D=0;return function(b){function e(a,e){a=b.call(this)||this;return a._attached=!1,a.className="",a.destroyed=!1,a.domNode=null,a.visible=!0,a._handles=new l,a.render=a.render.bind(a),a}return u(e,b),e.prototype.normalizeCtorArgs=function(b,e){b=a.mixin({},b);return e&&(b.container=e),b},e.prototype.initialize=function(){var a=this;this._handles.add(this._renderableProps.map(function(b){return g.init(a,b,function(a,e){var g=
this;if(w.isCollection(e)&&this._handles.remove(this.declaredClass+":"+b+"-collection-change-event-listener"),w.isCollection(a))a=a.on("change",function(){return g.scheduleRender()}),this._handles.add(a,this.declaredClass+":"+b+"-collection-change-event-listener");this.scheduleRender()})}));this._delegatedEventNames.length&&this._handles.add(g.init(this,"viewModel",function(){a._get("viewModel")&&a._handles.remove("delegated-events");a._delegatedEventNames.map(function(b){return a.viewModel.on(b,
function(e){a.emit(b,e)})})}),"delegated-events");this.postInitialize();this._handles.add(g.whenOnce(this,"container",function(b){return a._attach(b)}))},e.prototype.postInitialize=function(){},e.prototype.destroy=function(){this.destroyed||(this.viewModel&&this.viewModel.destroy(),this._detach(this.container),this._handles.destroy(),this._set("destroyed",!0))},e.prototype.startup=function(){x.warn("Widget.startup() is deprecated and no longer needed")},Object.defineProperty(e.prototype,"container",
{set:function(a){this._get("container")||this._set("container",a)},enumerable:!0,configurable:!0}),e.prototype.castContainer=function(a){return r.byId(a)},Object.defineProperty(e.prototype,"id",{get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+D++},set:function(a){a&&this._set("id",a)},enumerable:!0,configurable:!0}),e.prototype.scheduleRender=function(){this._projector.scheduleRender()},e.prototype.on=function(a,b){var e=this.inherited(arguments);
return this._handles.add(e),e},e.prototype.own=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments));this._handles.add(a)},e.prototype.renderNow=function(){this._projector.renderNow()},e.prototype._attach=function(a){a&&(this._projector.merge(a,this.render),this._attached=!0)},e.prototype._detach=function(a){a&&this._attached&&(this._projector.detach(this.render),a.parentNode&&a.parentNode.removeChild(a),this._attached=!1)},m([h.shared(v.createProjector())],e.prototype,"_projector",
void 0),m([h.shared([])],e.prototype,"_renderableProps",void 0),m([h.shared([])],e.prototype,"_delegatedEventNames",void 0),m([h.property({value:null})],e.prototype,"container",null),m([h.cast("container")],e.prototype,"castContainer",null),m([h.property({readOnly:!0})],e.prototype,"destroyed",void 0),m([h.property({aliasOf:"container"})],e.prototype,"domNode",void 0),m([h.property({dependsOn:["container"]})],e.prototype,"id",null),m([h.property()],e.prototype,"viewModel",void 0),m([h.property()],
e.prototype,"visible",void 0),e=m([h.subclass("esri.widgets.Widget")],e)}(h.declared(e,q))})},"esri/widgets/Popup/PopupRenderer":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../support/widget ../Widget ./PopupRendererViewModel ../../core/requireUtils ../support/uriUtils dojo/i18n!./nls/PopupRenderer ../../core/watchUtils dojo/keys".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,r,v){function w(a,b){return void 0===
b?x+"__"+a:x+"__"+a+"-"+b}var x="esri-popup-renderer";return function(p){function x(a){a=p.call(this)||this;return a._chartMap=new Map,a._activeMediaMap=new Map,a._chartRequirePromise=null,a._refreshTimers=new Map,a._mediaInfo=new Map,a.contentEnabled=null,a.graphic=null,a.title=null,a.view=null,a.viewModel=new l,a}return u(x,p),x.prototype.postInitialize=function(){var a=this;this.own(r.init(this,"viewModel.content",function(){return a._setupMediaRefreshTimers()}))},x.prototype.destroy=function(){this._clearMediaRefreshTimers();
this._activeMediaMap.clear();this._activeMediaMap=null;this._cancelChartModules();this._destroyCharts()},x.prototype.render=function(){var a=e.tsx("div",{key:w("loading-container"),"class":"esri-popup-renderer__loading-container"},e.tsx("span",{"class":e.join("esri-icon-loading-indicator esri-rotating","esri-popup-renderer__loading-spinner")})),a=this.viewModel.waitingForContent?a:this._renderContent();return e.tsx("div",{"class":"esri-popup-renderer"},e.tsx("div",{"class":"esri-popup-renderer__size-container"},
e.tsx("div",{"class":"esri-popup-renderer__main-container"},a)))},x.prototype.goToMedia=function(a,b){this._setContentElementMedia(a,b)},x.prototype.nextMedia=function(a){this._pageContentElementMedia(a,"next")},x.prototype.previousMedia=function(a){this._pageContentElementMedia(a,"previous")},x.prototype._cancelChartModules=function(){this._chartRequirePromise&&this._chartRequirePromise.cancel()},x.prototype._destroyChart=function(a){var b=this._chartMap.get(a);b&&(b.chart.destroy(),b.tooltip.destroy());
this._chartMap["delete"](a)},x.prototype._destroyCharts=function(){this._chartMap.forEach(function(a){a.chart.destroy();a.tooltip.destroy()});this._chartMap.clear()},x.prototype._renderContent=function(){this._destroyCharts();var a=this.viewModel.content;return"string"==typeof a?e.tsx("div",{key:w("content-string"),innerHTML:a}):a&&a.isInstanceOf&&a.isInstanceOf(q)?e.tsx("div",{key:w("content-widget")},a.render()):a instanceof HTMLElement?e.tsx("div",{key:w("content-html-element"),bind:a,afterUpdate:this._attachToNode,
afterCreate:this._attachToNode}):a&&"function"==typeof a.postMixInProperties&&"function"==typeof a.buildRendering&&"function"==typeof a.postCreate&&"function"==typeof a.startup?e.tsx("div",{key:w("content-dijit"),bind:a.domNode,afterUpdate:this._attachToNode,afterCreate:this._attachToNode}):Array.isArray(a)?a.length?e.tsx("div",{key:w("content-content-elements")},a.map(this._renderContentElement,this)):null:void 0},x.prototype._renderContentElement=function(a,b){var e=this.viewModel.contentTypes;
switch(a.type){case e.attachments:return this._renderAttachments(a,b);case e.fields:return this._renderFields(a,b);case e.media:return this._renderMedia(a,b);case e.text:return this._renderText(a,b);default:return null}},x.prototype._renderAttachmentInfo=function(b,g){return e.tsx("li",{"class":"esri-popup-renderer__attachments-item",key:w("attachment",g)},e.tsx("a",{"class":"esri-popup-renderer__attachments-item-link",href:b.url,target:"_blank"},e.tsx("span",{"class":e.join("esri-icon-download",
"esri-popup-renderer__attachments-item-icon")}),e.tsx("span",{"class":"esri-popup-renderer__attachments-item-title"},b.name||a.noTitle)))},x.prototype._renderAttachments=function(b,g){return(b=b.attachmentInfos)&&b.length?e.tsx("div",{key:w("attachments-element"),"class":e.join("esri-popup-renderer__attachments","esri-popup-renderer__content-element")},e.tsx("div",{"class":"esri-popup-renderer__attachments-title"},a.attach),e.tsx("ul",{"class":"esri-popup-renderer__attachments-items"},b.map(this._renderAttachmentInfo))):
null},x.prototype._renderFieldInfo=function(a,b){var h=this.viewModel,l=h.formattedAttributes.content[b]||h.formattedAttributes.global,m=a.fieldName,h=a.label||m;a=!(!a.format||!a.format.dateFormat);l=g.autoLink(null==l[m]?"":l[m]);a=(r={},r["esri-popup-renderer__field-data--date"]=a,r);return e.tsx("tr",{key:w("fields-element-info-row",b)},e.tsx("th",{key:w("fields-element-info-row-header",b),"class":"esri-popup-renderer__field-header",innerHTML:h}),e.tsx("td",{key:w("fields-element-info-row-data",
b),"class":"esri-popup-renderer__field-data",classes:a,innerHTML:l}));var r},x.prototype._renderFields=function(b,g){var h=this;return(b=b.fieldInfos)?e.tsx("div",{key:w("fields-element",g),"class":e.join("esri-popup-renderer__fields","esri-popup-renderer__content-element")},e.tsx("table",{summary:a.fieldsSummary,key:w("fields-element-table",g)},e.tsx("tbody",{key:w("fields-element-table-body",g)},b.map(function(a){return h._renderFieldInfo(a,g)})))):null},x.prototype._shouldOpenInNewTab=function(a){void 0===
a&&(a="");return!/^(?:mailto:|tel:)/.test(a.trim().toLowerCase())},x.prototype._clearMediaRefreshTimers=function(){this._refreshTimers.forEach(function(a){return clearTimeout(a)});this._refreshTimers.clear()},x.prototype._clearMediaRefreshTimer=function(a){var b=this._refreshTimers.get(a);b&&(clearTimeout(b),this._refreshTimers["delete"](a))},x.prototype._getImageSource=function(a,b){var e=-1!==a.indexOf("?")?"\x26":"?";a=a.split("#");var g=a[1],g=void 0===g?"":g;return""+a[0]+e+"timestamp\x3d"+b+
(g?"#":"")+g},x.prototype._setupMediaRefreshTimer=function(a){var b=this.get("viewModel.content");if(Array.isArray(b)&&(b=b[a])&&"media"===b.type){var e=this._activeMediaMap.get(a);isNaN(e)&&(e=0);(b=b.mediaInfos[e])&&"image"===b.type&&b.refreshInterval&&this._setRefreshTimeout(a,b)}},x.prototype._setupMediaRefreshTimers=function(){var a=this;this._clearMediaRefreshTimers();var b=this.get("viewModel.content");Array.isArray(b)&&b.forEach(function(b,e){return a._setupMediaRefreshTimer(e)})},x.prototype._updateMediaInfoTimestamp=
function(a,b){var e=Date.now();this._mediaInfo.set(b,{timestamp:e,sourceURL:this._getImageSource(a,e)});this.scheduleRender()},x.prototype._setRefreshTimeout=function(a,b){var e=this,g=b.refreshInterval,h=b.value;g&&(b=6E4*g,this._updateMediaInfoTimestamp(h.sourceURL,a),b=setInterval(function(){e._updateMediaInfoTimestamp(h.sourceURL,a)},b),this._refreshTimers.set(a,b))},x.prototype._renderMediaInfoType=function(a,b){var g=a.value,h=a.title,h=void 0===h?"":h,l=a.type,m=a.refreshInterval,r=g.sourceURL,
g=g.linkURL;return"image"===l?(a=this._shouldOpenInNewTab(g)?"_self":"_blank",r=(m=m?this._mediaInfo.get(b):null)?m.sourceURL:r,b=e.tsx("img",{alt:h,key:w("media-image-"+(m?m.timestamp:0),b),src:r}),(h=g?e.tsx("a",{title:h,href:g,target:a},b):null)?h:b):-1!==l.indexOf("chart")?e.tsx("div",{key:w("chart",b),bind:this,"data-media-info":a,"data-content-element-index":b,"class":"esri-popup-renderer__media-chart",afterCreate:this._getChartDependencies,afterUpdate:this._getChartDependencies}):void 0},x.prototype._getChartDependencies=
function(a){var e=this,g=a["data-media-info"],h=a["data-content-element-index"],l=g.value,m=l.theme||"Claro",r=g.type,g=["dojox/charting/Chart2D","dojox/charting/action2d/Tooltip"],q=m;"string"==typeof m&&(q=m.replace(/\./g,"/"),-1===q.indexOf("/")&&(q="dojox/charting/themes/"+q));g.push(q);this._cancelChartModules();this._chartRequirePromise=b.when(y,g).then(function(b){e._renderChart(a,h,r,l,b[0],b[1],b[2]);e._chartRequirePromise=null})},x.prototype._renderChart=function(a,b,e,g,h,l,m){a=new h(a,
{margins:{l:4,t:4,r:4,b:4}});switch(m&&a.setTheme(m),e){case "pie-chart":a.addPlot("default",{type:"Pie",labels:!1});a.addSeries("Series A",g.fields);break;case "line-chart":a.addPlot("default",{type:"Markers"});a.addAxis("x",{min:0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1});a.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});g.fields.forEach(function(a,b){a.x=b+1});a.addSeries("Series A",g.fields);break;case "column-chart":a.addPlot("default",{type:"Columns",gap:3});a.addAxis("y",
{includeZero:!0,vertical:!0,fixUpper:"minor"});a.addSeries("Series A",g.fields);break;case "bar-chart":a.addPlot("default",{type:"Bars",gap:3}),a.addAxis("x",{includeZero:!0,fixUpper:"minor",minorLabels:!1}),a.addAxis("y",{vertical:!0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1}),a.addSeries("Series A",g.fields)}e=new l(a);a.render();this._chartMap.set(b,{chart:a,tooltip:e})},x.prototype._renderMediaInfo=function(a,b){this._destroyChart(b);var g=this._renderMediaInfoType(a,b),h=a.title?
e.tsx("div",{key:w("media-title",b),"class":"esri-popup-renderer__media-item-title",innerHTML:a.title}):null;a=a.caption?e.tsx("div",{key:w("media-caption",b),"class":"esri-popup-renderer__media-item-caption",innerHTML:a.caption}):null;return e.tsx("div",{key:w("media-container",b),"class":"esri-popup-renderer__media-item-container"},e.tsx("div",{key:w("media-item-container",b),"class":"esri-popup-renderer__media-item"},g),h,a)},x.prototype._renderMediaStatsItem=function(a,b,g){g="chart"===g?e.join("esri-popup-renderer__media-chart-icon",
"esri-icon-chart"):e.join("esri-popup-renderer__media-image-icon","esri-icon-media");return e.tsx("li",{"class":"esri-popup-renderer__media-image-summary"},e.tsx("span",{"class":"esri-popup-renderer__media-count","aria-label":a},"("+b+")"),e.tsx("span",{"aria-hidden":"true","class":g}))},x.prototype._renderMediaPageButton=function(b,g){var h=(b="previous"===b)?a.previous:a.next,l=b?e.join("esri-popup-renderer__button","esri-popup-renderer__media-previous"):e.join("esri-popup-renderer__button","esri-popup-renderer__media-next"),
m=b?e.join("esri-popup-renderer__icon","esri-popup-renderer__media-previous-icon","esri-icon-left-triangle-arrow"):e.join("esri-popup-renderer__icon","esri-popup-renderer__media-next-icon","esri-icon-right-triangle-arrow"),r=b?e.join("esri-popup-renderer__icon","esri-popup-renderer__media-previous-icon--rtl","esri-icon-right-triangle-arrow"):e.join("esri-popup-renderer__icon","esri-popup-renderer__media-next-icon--rtl","esri-icon-left-triangle-arrow"),q=b?this._previousClick:this._nextClick;return e.tsx("div",
{key:w(b?"previous":"next",g),title:h,tabIndex:0,role:"button","class":l,"data-content-element-index":g,bind:this,onkeydown:q,onclick:q},e.tsx("span",{"aria-hidden":"true","class":m}),e.tsx("span",{"aria-hidden":"true","class":r}),e.tsx("span",{"class":"esri-icon-font-fallback-text"},h))},x.prototype._handleMediaKeyup=function(a){var b=a.currentTarget["data-content-element-index"],e=a.keyCode;e===v.LEFT_ARROW&&(a.stopPropagation(),this.previousMedia(b));e===v.RIGHT_ARROW&&(a.stopPropagation(),this.nextMedia(b))},
x.prototype._renderMedia=function(b,g){b=b.mediaInfos;var h=this._getMediaStats(b),l=h.total,m=(r={},r["esri-popup-renderer--media-pagination-visible"]=1<h.total,r),r=this._renderMediaStatsItem(a.numImages,h.images,"image"),h=this._renderMediaStatsItem(a.numCharts,h.charts,"chart"),q=this._renderMediaPageButton("previous",g),v=this._renderMediaPageButton("next",g),u=this._activeMediaMap.get(g);return isNaN(u)&&(this._activeMediaMap.set(g,0),u=0),l?e.tsx("div",{key:w("media-element",g),"data-content-element-index":g,
bind:this,onkeyup:this._handleMediaKeyup,"class":e.join("esri-popup-renderer__media","esri-popup-renderer__content-element"),classes:m},e.tsx("ul",{"class":"esri-popup-renderer__media-summary"},r,h),e.tsx("div",{key:w("media-element-container",g),"class":"esri-popup-renderer__media-container"},q,this._renderMediaInfo(b[u],g),v)):null;var r},x.prototype._renderText=function(a,b){return a.text?e.tsx("div",{key:w("text-element",b),innerHTML:a.text,"class":e.join("esri-popup-renderer__text","esri-popup-renderer__content-element")}):
null},x.prototype._attachToNode=function(a){a.appendChild(this)},x.prototype._getMediaStats=function(a){var b=0,e=0;return a.forEach(function(a){a=a.type;"image"===a?b++:-1!==a.indexOf("chart")&&e++}),{total:e+b,images:b,charts:e}},x.prototype._setContentElementMedia=function(a,b){this._clearMediaRefreshTimer(a);var e=this.viewModel.content;(e=(e=e&&e[a])&&e.mediaInfos)&&e.length&&(this._activeMediaMap.set(a,(b+e.length)%e.length),this._setupMediaRefreshTimer(a),this.scheduleRender())},x.prototype._pageContentElementMedia=
function(a,b){b="previous"===b?-1:1;b=this._activeMediaMap.get(a)+b;this._setContentElementMedia(a,b)},x.prototype._previousClick=function(a){this.previousMedia(a.currentTarget["data-content-element-index"])},x.prototype._nextClick=function(a){this.nextMedia(a.currentTarget["data-content-element-index"])},m([h.aliasOf("viewModel.contentEnabled")],x.prototype,"contentEnabled",void 0),m([h.aliasOf("viewModel.graphic")],x.prototype,"graphic",void 0),m([h.aliasOf("viewModel.title")],x.prototype,"title",
void 0),m([h.aliasOf("viewModel.view")],x.prototype,"view",void 0),m([h.property({type:l}),e.renderable(["viewModel.waitingForContent","viewModel.content"])],x.prototype,"viewModel",void 0),m([e.accessibleHandler()],x.prototype,"_previousClick",null),m([e.accessibleHandler()],x.prototype,"_nextClick",null),x=m([h.subclass("esri.widgets.Popup.PopupRenderer")],x)}(h.declared(q))})},"esri/widgets/Popup/PopupRendererViewModel":function(){define("../Widget ../../core/Accessor ../../core/date ../../core/Error ../../core/HandleRegistry ../../core/lang ../../core/Logger ../../core/urlUtils ../../core/promiseUtils ../../core/watchUtils ../../request ../../support/arcadeUtils ../../tasks/support/StatisticDefinition ../../tasks/support/Query ../../tasks/QueryTask dojo/promise/all dojo/i18n!dojo/cldr/nls/number dojox/html/entities".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B){var J=/\'/g,K=/href\s*=\s*(?:\"([^\"]+)\"|\'([^\']+)\')/gi,z=/^\s*expression\//i,M=/(\{([^\{\r\n]+)\})/g,I={attachments:"attachments",fields:"fields",media:"media",text:"text"},Q=q.getLogger("esri.widgets.Popup.PopupRendererViewModel");return p.createSubclass({declaredClass:"esri.widgets.Popup.PopupRendererViewModel",properties:{content:{readOnly:!0},contentEnabled:!0,contentTypes:{readOnly:!0},formattedAttributes:{readOnly:!0},graphic:{},title:{readOnly:!0},
view:{},waitingForContent:{readOnly:!0}},constructor:function(){this._handles=new h},initialize:function(){this._handles.add([g.watch(this,["graphic","graphic.popupTemplate.title","graphic.popupTemplate.content","graphic.popupTemplate.fieldInfos","contentEnabled"],function(){this._updateGraphic(this.graphic,this.contentEnabled)}.bind(this))]);this._updateGraphic(this.graphic,this.contentEnabled)},destroy:function(){this._handles.destroy();this._handles=null;this._clearRelatedInfo();this._cancelPromises();
this.graphic=null;this._set("title",null);this._set("content",null);this._set("waitingForContent",null)},content:null,contentEnabled:!0,contentTypes:I,formattedAttributes:null,graphic:null,title:"",view:null,waitingForContent:!1,_handles:null,_contentPromise:null,_contentElementPromises:null,_relatedRecordsPromise:null,_relatedRecordsQueryPromises:[],_relatedLayersInfo:null,_relatedInfo:null,_addValuesToHref:function(a,b,g,h){return b=this._trimString(b),e.substitute((b?"{"!==b[0]:1)?h:g,a)},_cancelPromises:function(){this._contentElementPromises&&
(this._contentElementPromises.forEach(function(a){a.cancel()},this),this._contentElementPromises=null);this._contentPromise&&(this._contentPromise.cancel(),this._contentPromise=null);this._relatedRecordsQueryPromises.forEach(function(a){a.cancel()});this._relatedRecordsQueryPromises.length=0;this._relatedRecordsPromise&&(this._relatedRecordsPromise.cancel(),this._relatedRecordsPromise=null)},_clearRelatedInfo:function(){this._relatedInfo=this._relatedLayersInfo=null},_compileContent:function(a,b){var e=
a.content;if(e&&(e.nodeName||e&&e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup||e&&e.isInstanceOf&&e.isInstanceOf(y)))return e;if("string"==typeof e)return this._compileText(a,{type:I.text,text:e}).text;if(Array.isArray(e))return e.map(function(e,g){g=(g=b&&b[g])&&g.value;switch(e.type){case I.attachments:return this._proxyAttachments(e,g);case I.fields:return this._compileFields(a,e);case I.media:return this._compileMedia(a,
e);case I.text:return this._compileText(a,e)}},this);if(e)try{throw new m(this.declaredClass+"::invalid content type.");}catch(T){Q.warn(T.stack)}},_compileFields:function(a,b){b=e.clone(b);var g=(a=a.template)&&a.expressionInfos;a=a&&e.clone(a.fieldInfos);a=b.fieldInfos||a;var h=[];return a&&a.forEach(function(a){var b=a.fieldName.toLowerCase();if(a.hasOwnProperty("visible")?a.visible:1)b=this._isExpressionField(b)?this._getExpressionInfo(g,b):null,a.label=b?b.title:a.label,h.push(a)},this),b.fieldInfos=
h,b},_compileMedia:function(a,b){var g,h;b=e.clone(b);var l=b.mediaInfos,m=a.attributes,r=a.layer,q=this.formattedAttributes.global,v=a.substOptions;return l&&(g=[],l.forEach(function(b){h=0;var n=b.value;switch(b.type){case "image":var l=n.sourceURL,l=l&&this._trimString(e.substitute(m,this._fixTokens(l,r)));h=!!l;break;case "pie-chart":case "line-chart":case "column-chart":case "bar-chart":var d,l=n.normalizeField;n.fields=n.fields.map(function(c){return d=this._getLayerFieldInfo(r,c),d?d.name:
c},this);l&&(d=this._getLayerFieldInfo(r,l),n.normalizeField=d?d.name:l);h=n.fields.some(function(c){return e.isDefined(m[c])||-1!==c.indexOf("relationships/")&&this._relatedInfo},this);break;default:return}if(h){b=e.clone(b);var n=b.value,l=b.title?this._processFieldsInLinks(this._fixTokens(b.title,r),m):"",c=b.caption?this._processFieldsInLinks(this._fixTokens(b.caption,r),m):"";if(b.title=l?this._trimString(e.substitute(q,l,v)):"",b.caption=c?this._trimString(e.substitute(q,c,v)):"","image"===
b.type)n.sourceURL=e.substitute(m,this._fixTokens(n.sourceURL,r)),n.linkURL&&(n.linkURL=this._trimString(e.substitute(m,this._fixTokens(n.linkURL,r))));else{var f,k=(l=a.template)&&l.fieldInfos;n.fields.forEach(function(c,d){if(-1!==c.indexOf("relationships/"))c=this._getRelatedChartInfos(r,k,c,n,m,v),Array.isArray(c)?n.fields=c:n.fields[d]=c;else{var t=m[c],t=void 0===t?null:t;f=m[n.normalizeField]||0;t&&f&&(t/=f);var a=k&&this._getFieldInfo(k,c);n.fields[d]={y:t,tooltip:(a&&a.label||c)+":"+this._formatValue(t,
{fieldInfos:k,fieldName:c,layer:r,substOptions:v,preventPlacesFormatting:!!f})}}},this)}g.push(b)}},this)),b.mediaInfos=g,b},_compileText:function(a,b){if((b=e.clone(b))&&b.text){var g=a.attributes,h=this.formattedAttributes.global,l=a.substOptions;a=this._processFieldsInLinks(this._fixTokens(b.text,a.layer),g);b.text=this._trimString(e.substitute(h,a,l))}return b},_compileTitle:function(a){var b="",g=a.title,h=a.layer,l=a.attributes,m=a.substOptions,r=this.formattedAttributes.global;g&&("function"==
typeof g&&(g=g.call(null,{graphic:a.graphic})),"string"==typeof g)&&(a=this._processFieldsInLinks(this._fixTokens(g,h),l),b=this._trimString(e.substitute(r,a,m)));return b},_getExpressionInfo:function(a,b){if(this._isExpressionField(b)){b=b.replace(z,"");b=b.toLowerCase();var e;return a.some(function(a){return a.name.toLowerCase()===b&&(e=a),!!e}),e}},_createGraphicInfo:function(a,b){var g=a.popupTemplate,h=g&&g.title,l=g&&g.content,m=a.layer,r=m&&m._getDateOpts&&m._getDateOpts().properties,q=e.clone(a.attributes)||
{},v={dateFormat:{properties:r,formatter:"DateFormat"+u.getFormat("short-date-short-time")}};return{graphic:a,template:g,title:h,content:l,contentEnabled:b,layer:m,attributes:q,properties:r,substOptions:v}},_fixTokens:function(a,b){return a.replace(M,function(a,e,g){return(a=this._getLayerFieldInfo(b,g))?"{"+a.name+"}":e}.bind(this))},_encodeAttributes:function(a){var b=e.clone(a)||{};return Object.keys(b).forEach(function(a){var e=b[a];"string"==typeof e&&(e=encodeURIComponent(e).replace(J,"\x26apos;"),
b[a]=e)}),b},_formatAttributesToFieldInfos:function(a,b,e,g,h){a.forEach(function(l){var m=l.fieldName,r=this._getLayerFieldInfo(b,m);r&&(m=l.fieldName=r.name);if(h[m]=this._formatValue(h[m],{fieldInfos:a,fieldName:m,layer:b,substOptions:e}),g&&l.format&&l.format.dateFormat)l=g.indexOf(m),-1<l&&g.splice(l,1)},this)},_getArcadeViewingMode:function(a){return a&&"local"===a.viewingMode?"localScene":"globalScene"},_formatAttributes:function(a,b,g,h,l,m,q,v){var w=e.clone(l);if(q&&q.forEach(function(a){var b=
"expression/"+a.name;a=v[a.name];var d=this.view,d=d&&r.getViewInfo({viewingMode:"3d"===d.type?this._getArcadeViewingMode(d):"map",scale:d.scale,spatialReference:d.spatialReference});a=r.executeFunction(a&&a.compiledFunc,r.createExecContext(m,d));"string"==typeof a&&(a=B.encode(a));w[b]=a},this),this._relatedInfo&&Object.keys(this._relatedInfo).forEach(function(a){var b=this._relatedInfo[a];a=this._relatedLayersInfo[a];b&&(b.relatedFeatures.forEach(this._relatedFeaturesAttributes.bind(this,a,l,w)),
b.relatedStatsFeatures.forEach(this._relatedStatsAttributes.bind(this,a,l,w)))},this),a&&this._formatAttributesToFieldInfos(a,b,g,h,w),b){var n=b.typeIdField;Object.keys(l).forEach(function(a){if(-1===a.indexOf("relationships/")){var g=l[a];if(e.isDefined(g)){var d=this._getDomainName(b,m,a,g);e.isDefined(d)?w[a]=d:a===n&&(g=this._getTypeName(b,m,g),e.isDefined(g)&&(w[a]=g))}}},this)}return w},_formatValue:function(a,b){var g=b.fieldInfos,h=b.fieldName,l=b.substOptions,g=g&&this._getFieldInfo(g,h),
m=e.clone(g),g=b.preventPlacesFormatting;(b=this._getLayerFieldInfo(b.layer,h))&&"date"===b.type&&(b=m.format||{},b.dateFormat=b.dateFormat||"short-date-short-time",m.format=b);b=m&&m.format;h="number"==typeof a&&l.dateFormat.properties&&-1===l.dateFormat.properties.indexOf(h)&&(!b||!b.dateFormat);if(!e.isDefined(a)||!m||!e.isDefined(b))return h?this._forceLTR(a):a;var r="",q=[],m=b.hasOwnProperty("places")||b.hasOwnProperty("digitSeparator"),v=b.hasOwnProperty("digitSeparator")?b.digitSeparator:
!0;if(m)r="NumberFormat",e.isDefined(b.places)&&(!g||0<b.places)&&(q.push("places: "+Number(b.places)),r+="("+q.join(",")+")");else{if(!b.dateFormat)return h?this._forceLTR(a):a;r="DateFormat"+u.getFormat(b.dateFormat)||u.getFormat("short-date-short-time")}a=e.substitute({myKey:a},"{myKey:"+r+"}",l)||"";return m&&!v&&E.group&&(a=a.replace(new RegExp("\\"+E.group,"g"),"")),h?this._forceLTR(a):a},_forceLTR:function(a){return"\x26lrm;"+a},_getDomainName:function(a,b,e,g){return(a=a.getFieldDomain&&a.getFieldDomain(e,
{feature:b}))&&a.codedValues?a.getName(g):null},_getFieldInfo:function(a,b){var e;b=b.toLowerCase();for(var g=0;g<a.length;g++){var h=a[g];if(h.fieldName&&h.fieldName.toLowerCase()===b){e=h;break}}return e},_getLayerFieldInfo:function(a,b){return b&&a&&a.getField?a.getField(b):null},_getTypeName:function(a,b){return(a=a.getType&&a.getType(b))&&a.name},_processFieldsInLinks:function(a,b){var e=this._encodeAttributes(b);return a&&(a=a.replace(K,function(a,g,h){return this._addValuesToHref(a,g||h,b,
e)}.bind(this))),a},_proxyAttachments:function(a,b){a=e.clone(a);b&&!(b instanceof m)&&b.attachmentInfos&&b.attachmentInfos.length&&(b=b.attachmentInfos.map(function(a){return a.url=l.addProxy(a.url),a},this),a.attachmentInfos=b);return a},_queryAttachments:function(a){var e=a.layer;if(!e)return b.resolve();"scene"===e.type&&e.associatedLayer&&(e=e.associatedLayer);var g=a.attributes;a=e&&e.objectIdField;g=g&&a&&g[a];return a&&e.get("capabilities.data.supportsAttachment")&&g?this._queryAttachmentInfos(e,
g):void 0},_queryAttachmentInfos:function(b,e){var g=b.url+"/"+b.layerId+"/"+e+"/attachments",h=b.token||"";return a(g,{query:{f:"json",token:h},callbackParamName:"callback"}).then(function(a){a=a.data;return a.attachmentInfos.forEach(function(a){a.url=g+"/"+a.id;h&&(a.url+="?token\x3d"+h);a.objectId=e}),a})},_queryContentElements:function(a){var e=a.content;if(!e||!Array.isArray(e))return b.resolve();var g=[],h={};return e.forEach(function(b,e){b.type===I.attachments&&(b=this._queryAttachments(a))&&
(h[e]=b,g.push(b))},this),this._contentElementPromises=g,0===g.length?b.resolve():b.eachAlways(h).always(function(a){return this._contentElementPromises=null,a}.bind(this))},_trimString:function(a){return(a||"").trim()},_getContent:function(a){var e=a.template,e=e&&e.content;return"function"==typeof e&&(e=e.call(null,{graphic:a.graphic})),e&&"function"==typeof e.then?e:b.resolve(e)},_updateContent:function(a){var e;return a.contentEnabled?(e=this._getContent(a).then(function(b){return a.content=b,
this._queryContentElements(a)}.bind(this)).then(function(b){this._set("content",this._compileContent(a,b))}.bind(this)).otherwise(function(a){Q.log("error loading template",a)}.bind(this)).then(function(){this._contentPromise=null}.bind(this)),this._contentPromise=e,e):e=b.resolve()},_isExpressionField:function(a){return z.test(a)},_compileExpressions:function(a){if(a){var b={};return a.forEach(function(a){b[a.name]={compiledFunc:r.createFunction(a.expression)}}),b}},_createFormattedAttributes:function(a){var b=
a.graphic,e=a.attributes,g=a.layer,h=a.template,l=h&&h.fieldInfos,m=h&&h.expressionInfos,r=this._compileExpressions(m),q=a.substOptions,n=a.properties,v={global:this._formatAttributes(l,g,q,n,e,b,m,r),content:[]};a=h&&h.content;return Array.isArray(a)&&a.forEach(function(a,d){a.type===I.fields&&a.fieldInfos&&(v.content[d]=this._formatAttributes(a.fieldInfos,g,q,n,e,b,m,r))},this),v},_queryGraphicInfo:function(a,b){var e=this._createGraphicInfo(a,b);return this._checkForRelatedRecords(e).then(function(){return this._set("formattedAttributes",
this._createFormattedAttributes(e)),this._set("title",this._compileTitle(e)),this._updateContent(e)}.bind(this))},_updateGraphic:function(a,b){this._handles&&(this._clearRelatedInfo(),this._cancelPromises(),this._set("title",""),this._set("content",null),this._set("formattedAttributes",null),this._set("waitingForContent",!1),a)&&(this._set("waitingForContent",!0),this._relatedRecordsPromise=this._queryGraphicInfo(a,b).always(function(){this._relatedRecordsPromise=null;this._relatedRecordsQueryPromises.length=
0;this._set("waitingForContent",!1)}.bind(this)))},_getAllFieldInfos:function(a){var b=[],e=a.template,g=e&&e.fieldInfos;a=a.contentEnabled;if(g&&(b=b.concat(g)),a)e=e&&e.content,Array.isArray(e)&&e.forEach(function(a){b=b.concat(a&&a.fieldInfos)},this);return b},_checkForRelatedRecords:function(a){var e=this._getAllFieldInfos(a).filter(function(a){return a&&a.fieldName&&-1!==a.fieldName.indexOf("relationships/")},this);return a.layer&&e&&0<e.length?this._getRelatedRecords({graphic:a.graphic,fieldsInfo:e}):
b.resolve()},_relatedFeaturesAttributes:function(a,b,e,g){Object.keys(g.attributes).forEach(function(h){if("esriRelCardinalityOneToOne"===a.relation.cardinality){var l=this._toRelatedFieldName([a.relation.id,h]);b[l]=e[l]=g.attributes[h]}},this)},_relatedStatsAttributes:function(a,b,e,g){Object.keys(g.attributes).forEach(function(h){var l=this._toRelatedFieldName([a.relation.id,h]);b[l]=e[l]=g.attributes[h]},this)},_getRelatedChartInfos:function(a,b,e,g,h,l){var m,r,q,n,v,C,d;return m=[],d=this._fromRelatedFieldName(e),
v=d[0],r=this._relatedInfo[v],C=this._relatedLayersInfo[v],r&&r.relatedFeatures.forEach(function(c){var f,k=c.attributes;Object.keys(k).forEach(function(c){c===d[1]&&((f={},n=k[c],g.normalizeField&&(q=-1!==g.normalizeField.indexOf("relationships/")?k[this._fromRelatedFieldName(g.normalizeField)[1]]:h[g.normalizeField]),n&&q&&(n/=q),g.tooltipField)?-1!==g.tooltipField.indexOf("relationships/")?(c=this._fromRelatedFieldName(g.tooltipField)[1],c=k[c],f.tooltip=c+": "+this._formatValue(n,{fieldInfos:b,
fieldName:c,layer:a,substOptions:l,preventPlacesFormatting:!!q})):((c=this._getLayerFieldInfo(a,e))&&(e=c.name),f.tooltip=e+": "+this._formatValue(n,{fieldInfos:b,fieldName:g.tooltipField,layer:a,substOptions:l,preventPlacesFormatting:!!q})):f.tooltip=n,f.y=n,m.push(f))},this)},this),"esriRelCardinalityOneToMany"===C.relation.cardinality||"esriRelCardinalityManyToMany"===C.relation.cardinality?m:m[0]},_getRelatedRecords:function(a){var b=a.graphic;return this._relatedLayersInfo?this._queryRelatedLayers(b).then(function(a){return this._setRelatedRecords(a),
a}.bind(this)):this._getRelatedLayersInfo(a).then(function(a){return Object.keys(a).forEach(function(b){a[b]&&(this._relatedLayersInfo[b].relatedLayerInfo=a[b].data)},this),this._queryRelatedLayers(b).then(function(a){return this._setRelatedRecords(a),a}.bind(this))}.bind(this))},_getRelatedLayersInfo:function(b){var e,g=b.fieldsInfo,h={};return e=b.graphic.layer,this._relatedLayersInfo||(this._relatedLayersInfo={}),g.forEach(function(a){var b,g,h,l,n;if(b=this._fromRelatedFieldName(a.fieldName),
g=b[0],h=b[1],g)this._relatedLayersInfo[g]||((b=e&&e.relationships)&&b.some(function(a){return a.id==g?(n=a,!0):void 0}),n&&(this._relatedLayersInfo[g]={relation:n,relatedFields:[],outStatistics:[]})),this._relatedLayersInfo[g]&&(this._relatedLayersInfo[g].relatedFields.push(h),a.statisticType&&(l=new v({statisticType:a.statisticType,onStatisticField:h,outStatisticFieldName:h}),this._relatedLayersInfo[g].outStatistics.push(l)))},this),Object.keys(this._relatedLayersInfo).forEach(function(b){var g,
l;this._relatedLayersInfo[b]&&(g=this._relatedLayersInfo[b].relation,l=e.url+"/"+g.relatedTableId,this._relatedLayersInfo[b].relatedLayerUrl=l,h[b]=a(l,{query:{f:"json"},callbackParamName:"callback"}))},this),D(h)},_queryRelatedLayers:function(a){var b={};return Object.keys(this._relatedLayersInfo).forEach(function(e){b[e]=this._queryRelatedLayer({graphic:a,relatedInfo:this._relatedLayersInfo[e]})},this),D(b)},_queryRelatedLayer:function(a){var b,e,g,h,l,m,r,q,n,v,C,d,c,f;return b=a.graphic,e=b.layer,
g=e.layerId,d=a.relatedInfo,h=d.relatedLayerInfo,c=d.relatedLayerUrl,f=d.relation,h&&h.relationships&&h.relationships.some(function(c){return c.relatedTableId===parseInt(g,10)?(l=c,!0):void 0}),l&&(h.fields.some(function(c){if(c.name===l.keyField)return m=-1!==["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"].indexOf(c.type)?"number":"string",!0}),v="string"===m?l.keyField+"\x3d'"+b.attributes[f.keyField]+"'":l.keyField+"\x3d"+b.attributes[f.keyField],
r=new w({where:v,outFields:d.relatedFields}),d.outStatistics&&0<d.outStatistics.length&&h.supportsStatistics&&(C=new w({where:r.where,outFields:r.outFields,outStatistics:d.outStatistics})),q=new x({url:c}),n=[q.execute(r)],C&&n.push(q.execute(C))),this._relatedRecordsQueryPromises=this._relatedRecordsQueryPromises.concat(n),D(n)},_setRelatedRecords:function(a){this._relatedInfo=[];Object.keys(a).forEach(function(b){if(a[b]){var g=a[b];this._relatedInfo[b]={relatedFeatures:g[0].features};e.isDefined(g[1])&&
(this._relatedInfo[b].relatedStatsFeatures=g[1].features)}},this)},_fromRelatedFieldName:function(a){return-1!==a.indexOf("relationships/")?a.split("/").slice(1):[]},_toRelatedFieldName:function(a){return a&&0<a.length?"relationships/"+a[0]+"/"+a[1]:""}})})},"esri/tasks/support/StatisticDefinition":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/JSONSupport".split(" "),function(y,p,u,
m,h,e){return function(e){function l(b){b=e.call(this)||this;return b.maxPointCount=void 0,b.maxRecordCount=void 0,b.maxVertexCount=void 0,b.onStatisticField=null,b.outStatisticFieldName=null,b.statisticType=null,b}return u(l,e),b=l,l.prototype.clone=function(){return new b({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType})},
m([h.property({type:Number,json:{write:!0}})],l.prototype,"maxPointCount",void 0),m([h.property({type:Number,json:{write:!0}})],l.prototype,"maxRecordCount",void 0),m([h.property({type:Number,json:{write:!0}})],l.prototype,"maxVertexCount",void 0),m([h.property({type:String,json:{write:!0}})],l.prototype,"onStatisticField",void 0),m([h.property({type:String,json:{write:!0}})],l.prototype,"outStatisticFieldName",void 0),m([h.property({type:String,json:{write:!0}})],l.prototype,"statisticType",void 0),
l=b=m([h.subclass("esri.tasks.support.StatisticDefinition")],l);var b}(h.declared(e))})},"esri/tasks/support/Query":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../TimeExtent ../../core/accessorSupport/decorators ../../core/JSONSupport ../../core/lang ../../core/kebabDictionary ../../geometry/SpatialReference ../../geometry/support/typeUtils ../../geometry/support/jsonUtils ../../symbols/support/typeUtils ../../symbols/support/jsonUtils ./QuantizationParameters ./StatisticDefinition".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D){var E=b({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),B=b({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",
esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return function(b){function q(a){a=b.call(this,a)||this;return a.distance=void 0,a.geometry=null,a.geometryPrecision=void 0,a.groupByFieldsForStatistics=null,a.maxAllowableOffset=void 0,a.multipatchOption=null,a.num=void 0,a.objectIds=null,a.orderByFields=null,a.outFields=null,a.outSpatialReference=null,a.outStatistics=null,a.pixelSize=null,a.quantizationParameters=null,a.relationParameter=null,a.resultType=null,
a.returnDistinctValues=!1,a.returnGeometry=!1,a.returnCentroid=!1,a.returnExceededLimitFeatures=!0,a.returnJSON=!1,a.returnM=!1,a.returnZ=!1,a.spatialRelationship="intersects",a.start=void 0,a.sqlFormat=null,a.text=null,a.timeExtent=null,a.units="meters",a.where=null,a}return u(q,b),p=q,q.prototype.writeStart=function(a,b,e){b.resultOffset=this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"},q.prototype.writeWhere=function(a,b,e){b.where=a||"1\x3d1"},q.prototype.clone=function(){return new p(l.clone({distance:this.distance,
geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,maxAllowableOffset:this.maxAllowableOffset,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,relationParameter:this.relationParameter,resultType:this.resultType,
returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnJSON:this.returnJSON,returnM:this.returnM,returnZ:this.returnZ,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.text,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))},m([e.property({type:Number,json:{write:!0}})],q.prototype,"distance",void 0),m([e.property({types:a.types,
json:{read:r.fromJSON,write:!0}})],q.prototype,"geometry",void 0),m([e.property({type:Number,json:{write:!0}})],q.prototype,"geometryPrecision",void 0),m([e.property({type:[String],json:{write:!0}})],q.prototype,"groupByFieldsForStatistics",void 0),m([e.property({type:Number,json:{write:!0}})],q.prototype,"maxAllowableOffset",void 0),m([e.property({type:String,json:{write:!0}})],q.prototype,"multipatchOption",void 0),m([e.property({type:Number,json:{read:{source:"resultRecordCount"}}})],q.prototype,
"num",void 0),m([e.property({type:[Number],json:{write:!0}})],q.prototype,"objectIds",void 0),m([e.property({type:[String],json:{write:!0}})],q.prototype,"orderByFields",void 0),m([e.property({type:[String],json:{write:!0}})],q.prototype,"outFields",void 0),m([e.property({type:g,json:{read:{source:"outSR"},write:{target:"outSR"}}})],q.prototype,"outSpatialReference",void 0),m([e.property({type:[D],json:{write:!0}})],q.prototype,"outStatistics",void 0),m([e.property({types:v.types,json:{read:w.read,
write:!0}})],q.prototype,"pixelSize",void 0),m([e.property({type:x,json:{write:!0}})],q.prototype,"quantizationParameters",void 0),m([e.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(a){return{enabled:"relation"===this.spatialRelationship}}}}})],q.prototype,"relationParameter",void 0),m([e.property({type:String,json:{write:!0}})],q.prototype,"resultType",void 0),m([e.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],
q.prototype,"returnDistinctValues",void 0),m([e.property({type:Boolean,json:{write:!0}})],q.prototype,"returnGeometry",void 0),m([e.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],q.prototype,"returnCentroid",void 0),m([e.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],q.prototype,"returnExceededLimitFeatures",void 0),m([e.property({type:Boolean,json:{read:!1,write:!1}})],q.prototype,"returnJSON",void 0),m([e.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],q.prototype,"returnM",void 0),m([e.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],q.prototype,"returnZ",void 0),m([e.property({type:String,json:{read:{source:"spatialRel",reader:E.read},write:{target:"spatialRel",writer:E.write}}})],q.prototype,"spatialRelationship",void 0),m([e.property({type:Number})],q.prototype,"start",void 0),m([e.writer("start"),e.writer("num")],q.prototype,"writeStart",null),
m([e.property({type:String,json:{write:!0}})],q.prototype,"sqlFormat",void 0),m([e.property({type:String,json:{write:!0}})],q.prototype,"text",void 0),m([e.property({type:h,json:{write:!0}})],q.prototype,"timeExtent",void 0),m([e.property({type:String,json:{read:B.read,write:{writer:B.write,overridePolicy:function(a){return{enabled:0<this.distance}}}}})],q.prototype,"units",void 0),m([e.property({type:String,json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],q.prototype,
"where",void 0),m([e.writer("where")],q.prototype,"writeWhere",null),q=p=m([e.subclass("esri.tasks.support.Query")],q);var p}(e.declared(q))})},"esri/TimeExtent":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/accessorSupport/decorators ./core/JSONSupport".split(" "),function(y,p,u,m,h,e){var q={milliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},seconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},
minutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},hours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},days:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},weeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},months:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},years:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},decades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},centuries:{getter:"getUTCFullYear",setter:"setUTCFullYear",
multiplier:100}};return function(e){function b(a,b){a=e.call(this)||this;return a.endTime=null,a.startTime=null,a}return u(b,e),g=b,b.prototype.normalizeCtorArgs=function(a,b){return!a||a instanceof Date?{startTime:a,endTime:b}:a},b.prototype.readEndTime=function(a,b){return null!=b.endTime?new Date(b.endTime):null},b.prototype.writeEndTime=function(a,b,e){b.endTime=a?a.getTime():null},b.prototype.readStartTime=function(a,b){return null!=b.startTime?new Date(b.startTime):null},b.prototype.writeStartTime=
function(a,b,e){b.startTime=a?a.getTime():null},b.prototype.clone=function(){return new g({endTime:this.endTime,startTime:this.startTime})},b.prototype.intersection=function(a){if(!a)return null;var b,e,h=this.startTime?this.startTime.getTime():-(1/0),l=this.endTime?this.endTime.getTime():1/0,m=a.startTime?a.startTime.getTime():-(1/0);a=a.endTime?a.endTime.getTime():1/0;if(m>=h&&l>=m?b=m:h>=m&&a>=h&&(b=h),l>=m&&a>=l?e=l:a>=h&&l>=a&&(e=a),isNaN(b)||isNaN(e))return null;h=new g;return h.startTime=b===
-(1/0)?null:new Date(b),h.endTime=e===1/0?null:new Date(e),h},b.prototype.offset=function(a,b){var e=new g,h=this.startTime,l=this.endTime;return h&&(e.startTime=this._offsetDate(h,a,b)),l&&(e.endTime=this._offsetDate(l,a,b)),e},b.prototype._offsetDate=function(a,b,e){a=new Date(a.getTime());b&&e&&(e=q[e],a[e.setter](a[e.getter]()+b*e.multiplier));return a},m([h.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"endTime",void 0),m([h.reader("endTime")],b.prototype,"readEndTime",null),
m([h.writer("endTime")],b.prototype,"writeEndTime",null),m([h.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"startTime",void 0),m([h.reader("startTime")],b.prototype,"readStartTime",null),m([h.writer("startTime")],b.prototype,"writeStartTime",null),b=g=m([h.subclass("esri.TimeExtent")],b);var g}(h.declared(e))})},"esri/tasks/support/QuantizationParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/JSONSupport ../../core/kebabDictionary ../../core/lang ../../geometry/Extent".split(" "),
function(y,p,u,m,h,e,q,l,b){var g=q({upperLeft:"upper-left",lowerLeft:"lower-left"});return function(a){function e(){var b=null!==a&&a.apply(this,arguments)||this;return b.extent=null,b.mode="view",b.originPosition="upper-left",b}return u(e,a),q=e,e.prototype.clone=function(){return new q(l.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))},m([h.property({type:b,json:{write:!0}})],e.prototype,"extent",void 0),m([h.property({type:String,json:{write:!0}})],
e.prototype,"mode",void 0),m([h.property({type:String,json:{read:g.read,write:g.write}})],e.prototype,"originPosition",void 0),m([h.property({type:Number,json:{write:!0}})],e.prototype,"tolerance",void 0),e=q=m([h.subclass("esri.tasks.support.QuantizationParameters")],e);var q}(h.declared(e))})},"esri/tasks/QueryTask":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/accessorSupport/decorators dojo/_base/lang ../request ./Task ./support/FeatureSet ./support/Query ../geometry ../geometry/support/jsonUtils ../geometry/support/normalizeUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w){return function(b){function p(a){a=b.call(this,a)||this;return a.gdbVersion=null,a.source=null,a}return u(p,b),x=p,p.queryToQueryStringParameters=function(a){var b=a.geometry;a=a.toJSON();if(b&&(a.geometry=JSON.stringify(b),a.geometryType=v.getJsonType(b),a.inSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference)),a.groupByFieldsForStatistics&&(a.groupByFieldsForStatistics=a.groupByFieldsForStatistics.join(",")),a.objectIds&&(a.objectIds=a.objectIds.join(",")),
a.orderByFields&&(a.orderByFields=a.orderByFields.join(",")),a.outFields&&(a.outFields=a.outFields.join(",")),a.outSR?a.outSR=a.outSR.wkid||JSON.stringify(a.outSR):b&&(a.returnGeometry||a.returnCentroid)&&(a.outSR=a.inSR),a.returnGeometry&&delete a.returnGeometry,a.outStatistics&&(a.outStatistics=JSON.stringify(a.outStatistics)),a.pixelSize&&(a.pixelSize=JSON.stringify(a.pixelSize)),a.quantizationParameters&&(a.quantizationParameters=JSON.stringify(a.quantizationParameters)),a.timeExtent)b=a.timeExtent,
a.time=[null!=b.startTime?b.startTime:"null",null!=b.endTime?b.endTime:"null"],delete a.timeExtent;return a},p.prototype.execute=function(a,b){var e=this;return this.rawExecute(a,b).then(function(a){return e._handleExecuteResponse(a)})},p.prototype.rawExecute=function(a,b){var e=this;return w.normalizeCentralMeridian(a.geometry?[a.geometry]:[]).then(function(g){g=e._encode(q.mixin({},e.parsedUrl.query,{f:"json"},e._normalizeQuery(a,g&&g[0])));if(e.source){var h={source:e.source.toJSON()};g.layer=
JSON.stringify(h)}e.gdbVersion&&(g.gdbVersion=e.gdbVersion);g={query:g,callbackParamName:"callback"};return(e.requestOptions||b)&&(g=q.mixin({},e.requestOptions,b,g)),l(e.parsedUrl.path+"/query",g)})},p.prototype.executeRelationshipQuery=function(a,b){a=this._encode(q.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()));this.gdbVersion&&(a.gdbVersion=this.gdbVersion);a={query:a,callbackParamName:"callback"};return(this.requestOptions||b)&&(a=q.mixin({},this.requestOptions,b,a)),l(this.parsedUrl.path+
"/queryRelatedRecords",a).then(this._handleExecuteRelationshipQueryResponse)},p.prototype.executeForIds=function(a,b){var e=this;return w.normalizeCentralMeridian(a.geometry?[a.geometry]:[]).then(function(g){g=e._encode(q.mixin({},e.parsedUrl.query,{f:"json",returnIdsOnly:!0},e._normalizeQuery(a,g&&g[0])));if(e.source){var h={source:e.source.toJSON()};g.layer=JSON.stringify(h)}e.gdbVersion&&(g.gdbVersion=e.gdbVersion);g={query:g,callbackParamName:"callback"};return(e.requestOptions||b)&&(g=q.mixin({},
e.requestOptions,b,g)),l(e.parsedUrl.path+"/query",g)}).then(this._handleExecuteForIdsResponse)},p.prototype.executeForCount=function(a,b){var e=this;return w.normalizeCentralMeridian(a.geometry?[a.geometry]:[]).then(function(g){g=e._encode(q.mixin({},e.parsedUrl.query,{f:"json",returnIdsOnly:!0,returnCountOnly:!0},e._normalizeQuery(a,g&&g[0])));if(e.source){var h={source:e.source.toJSON()};g.layer=JSON.stringify(h)}e.gdbVersion&&(g.gdbVersion=e.gdbVersion);g={query:g,callbackParamName:"callback"};
return(e.requestOptions||b)&&(g=q.mixin({},e.requestOptions,b,g)),l(e.parsedUrl.path+"/query",g)}).then(this._handleExecuteForCountResponse)},p.prototype.executeForExtent=function(a,b){var e=this;return w.normalizeCentralMeridian(a.geometry?[a.geometry]:[]).then(function(g){g=e._encode(q.mixin({},e.parsedUrl.query,{f:"json",returnExtentOnly:!0,returnCountOnly:!0},e._normalizeQuery(a,g&&g[0])));if(e.source){var h={source:e.source.toJSON()};g.layer=JSON.stringify(h)}e.gdbVersion&&(g.gdbVersion=e.gdbVersion);
g={query:g,callbackParamName:"callback"};return(e.requestOptions||b)&&(g=q.mixin({},e.requestOptions,b,g)),l(e.parsedUrl.path+"/query",g)}).then(this._handleExecuteForExtentResponse)},p.prototype._handleExecuteResponse=function(a){return g.fromJSON(a.data)},p.prototype._handleExecuteRelationshipQueryResponse=function(a){a=a.data;var b=a.geometryType,e=a.spatialReference,h={};return a.relatedRecordGroups.forEach(function(a){var l=g.fromJSON({geometryType:b,spatialReference:e,features:a.relatedRecords});
if(null!=a.objectId)h[a.objectId]=l;else for(var m in a)a.hasOwnProperty(m)&&"relatedRecords"!==m&&(h[a[m]]=l)}),h},p.prototype._handleExecuteForIdsResponse=function(a){return a.data.objectIds},p.prototype._handleExecuteForCountResponse=function(a){a=a.data;var b=a.features,e=a.objectIds;if(e)a=e.length;else{if(b)throw Error("Unable to perform query. Please check your parameters.");a=a.count}return a},p.prototype._handleExecuteForExtentResponse=function(a){a=a.data;if(a.hasOwnProperty("extent"))a.extent=
r.Extent.fromJSON(a.extent);else{if(a.features)throw Error("Layer does not support extent calculation.");if(a.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");}return a},p.prototype._normalizeQuery=function(a,b){return b&&(a=a.clone(),a.geometry=b),x.queryToQueryStringParameters(a)},m([e.property()],p.prototype,"gdbVersion",void 0),m([e.property()],p.prototype,"source",void 0),m([h(0,e.cast(a))],p.prototype,"execute",null),m([h(0,e.cast(a))],p.prototype,"rawExecute",
null),m([h(0,e.cast(a))],p.prototype,"executeForIds",null),m([h(0,e.cast(a))],p.prototype,"executeForCount",null),m([h(0,e.cast(a))],p.prototype,"executeForExtent",null),p=x=m([e.subclass("esri.tasks.QueryTask")],p);var x}(e.declared(b))})},"esri/tasks/support/FeatureSet":function(){define("../../core/kebabDictionary ../../core/JSONSupport ../../core/lang ../../Graphic ../../layers/support/Field ../../geometry/SpatialReference ../../geometry/support/graphicsUtils ../../geometry/support/jsonUtils dojo/_base/lang".split(" "),
function(y,p,u,m,h,e,q,l,b){y=y({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent"});return p.createSubclass({declaredClass:"esri.tasks.support.FeatureSet",getDefaults:function(){return b.mixin(this.inherited(arguments),{features:[]})},properties:{displayFieldName:null,exceededTransferLimit:null,features:{value:null,json:{read:function(b,a){var g,h=e.fromJSON(a.spatialReference);return g=b.map(function(a){var b=
m.fromJSON(a);a=a.geometry&&a.geometry.spatialReference;return b.geometry&&!a&&(b.geometry.spatialReference=h),b}),a.transform&&this._hydrate(a.transform,a.geometryType,g),g}}},fields:{value:null,type:[h]},geometryType:{value:null,json:{read:y.fromJSON}},spatialReference:{type:e}},toJSON:function(b){var a={hasZ:this.hasZ,hasM:this.hasM};return this.displayFieldName&&(a.displayFieldName=this.displayFieldName),this.fields&&(a.fields=this.fields.map(function(a){return a.toJSON()})),this.spatialReference?
a.spatialReference=this.spatialReference.toJSON():this.features[0]&&this.features[0].geometry&&(a.spatialReference=this.features[0].geometry.spatialReference.toJSON()),this.features[0]&&(this.features[0].geometry&&(a.geometryType=l.getJsonType(this.features[0].geometry)),a.features=q._encodeGraphics(this.features,b)),a.exceededTransferLimit=this.exceededTransferLimit,a.transform=this.transform,u.fixJson(a)},quantize:function(b){var a,e,g=b.translate[0],h=b.translate[1],l=b.scale[0],m=b.scale[1],q=
this.features,p=function(a,b,e){var g,h,l,m,r,q,v,w=[];g=0;for(h=a.length;h>g;g++)l=a[g],0<g?(q=b(l[0]),v=e(l[1]),(q!==m||v!==r)&&(w.push([q-m,v-r]),m=q,r=v)):(m=b(l[0]),r=e(l[1]),w.push([m,r]));return 0<w.length?w:null},u=function(a,b,e){return"point"===a?function(a){return a.x=b(a.x),a.y=e(a.y),a}:"polyline"===a||"polygon"===a?function(a){var g,h,l,m,r;l=a.rings||a.paths;r=[];g=0;for(h=l.length;h>g;g++)m=l[g],(m=p(m,b,e))&&r.push(m);return 0<r.length?(a.rings?a.rings=r:a.paths=r,a):null}:"multipoint"===
a?function(a){var g;return g=p(a.points,b,e),0<g.length?(a.points=g,a):null}:"extent"===a?function(a){return a}:void 0}(this.geometryType,function(a){return Math.round((a-g)/l)},function(a){return Math.round((h-a)/m)});a=0;for(e=q.length;e>a;a++)u(q[a].geometry)||(q.splice(a,1),a--,e--);return this.transform=b,this},_hydrate:function(b,a,e){if(b){var g=b.translate[0],h=b.translate[1],l=b.scale[0],m=b.scale[1],r=function(a,b,e){return"esriGeometryPoint"===a?function(a){a.x=b(a.x);a.y=e(a.y)}:"esriGeometryPolyline"===
a||"esriGeometryPolygon"===a?function(a){var g,h,l,m,r,q,v,w=a.rings||a.paths;a=0;for(g=w.length;g>a;a++)for(m=w[a],h=0,l=m.length;l>h;h++)r=m[h],0<h?(q+=r[0],v+=r[1]):(q=r[0],v=r[1]),r[0]=b(q),r[1]=e(v)}:"esriGeometryEnvelope"===a?function(a){a.xmin=b(a.xmin);a.ymin=e(a.ymin);a.xmax=b(a.xmax);a.ymax=e(a.ymax)}:"esriGeometryMultipoint"===a?function(a){var g,h,l,m,r=a.points;a=0;for(g=r.length;g>a;a++)h=r[a],0<a?(l+=h[0],m+=h[1]):(l=h[0],m=h[1]),h[0]=b(l),h[1]=e(m)}:void 0}(a,function(a){return a*
l+g},function(a){return h-a*m});b=0;for(a=e.length;a>b;b++)e[b].geometry&&r(e[b].geometry)}}})})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/JSONSupport ../../core/kebabDictionary ./domains".split(" "),function(y,p,u,m,h,e,q,l){var b=q({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",
esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});return function(e){function a(a){a=e.call(this)||this;return a.alias=null,a.domain=null,a.editable=!1,a.length=-1,a.name=null,a.nullable=!0,a.type=null,a}return u(a,e),g=a,a.prototype.readDomain=function(a){var b=a&&a.type;return"range"===
b?l.RangeDomain.fromJSON(a):"codedValue"===b?l.CodedValueDomain.fromJSON(a):null},a.prototype.clone=function(){return new g({alias:this.alias,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type})},m([h.property({type:String,json:{write:!0}})],a.prototype,"alias",void 0),m([h.property({types:l.types,json:{write:!0}})],a.prototype,"domain",void 0),m([h.reader("domain")],a.prototype,"readDomain",null),m([h.property({type:Boolean,
json:{write:!0}})],a.prototype,"editable",void 0),m([h.property({type:Number,json:{write:!0}})],a.prototype,"length",void 0),m([h.property({type:String,json:{write:!0}})],a.prototype,"name",void 0),m([h.property({type:Boolean,json:{write:!0}})],a.prototype,"nullable",void 0),m([h.property({type:String,json:{read:b.read,write:b.write}})],a.prototype,"type",void 0),a=g=m([h.subclass("esri.layers.support.Field")],a);var g}(h.declared(e))})},"esri/layers/support/domains":function(){define("require exports ./Domain ./RangeDomain ./CodedValueDomain ./InheritedDomain".split(" "),
function(y,p,u,m,h,e){Object.defineProperty(p,"__esModule",{value:!0});p.DomainBase=u;p.RangeDomain=m;p.CodedValueDomain=h;p.InheritedDomain=e;p.types={key:"type",base:p.DomainBase,typeMap:{range:p.RangeDomain,"coded-value":p.CodedValueDomain}}})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/JSONSupport ../../core/kebabDictionary".split(" "),function(y,
p,u,m,h,e,q){var l=q({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(b){function e(a){a=b.call(this,a)||this;return a.name=null,a.type=null,a}return u(e,b),m([h.property({json:{write:!0}})],e.prototype,"name",void 0),m([h.property({json:{read:l.read,write:l.write}})],e.prototype,"type",void 0),e=m([h.subclass("esri.layers.support.Domain")],e)}(h.declared(e))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(y,p,u,m,h,e){return function(e){function l(b){b=e.call(this,b)||this;return b.maxValue=null,b.minValue=null,b.type="range",b}return u(l,e),b=l,l.prototype.clone=function(){return new b({maxValue:this.maxValue,minValue:this.minValue,name:this.name})},m([h.property({json:{read:{source:"range",reader:function(b,a){return a.range&&a.range[1]}},write:{target:"range",writer:function(b,a,e){a[e]=[this.minValue,b]}}}})],l.prototype,"maxValue",void 0),m([h.property({json:{read:{source:"range",reader:function(b,
a){return a.range&&a.range[0]}},write:{target:"range",writer:function(b,a,e){a[e]=[b,this.maxValue]}}}})],l.prototype,"minValue",void 0),m([h.property()],l.prototype,"type",void 0),l=b=m([h.subclass("esri.layers.support.RangeDomain")],l);var b}(h.declared(e))})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain ../../core/lang".split(" "),function(y,
p,u,m,h,e,q){return function(e){function b(a){a=e.call(this,a)||this;return a.codedValues=null,a.type="coded-value",a}return u(b,e),g=b,b.prototype.writeCodedValues=function(a,b){var e=null;a&&(e=a.map(function(a){return q.fixJson(q.clone(a))}));b.codedValues=e},b.prototype.getName=function(a){var b=null;if(this.codedValues){var e=String(a);this.codedValues.some(function(a){return String(a.code)===e&&(b=a.name),!!b})}return b},b.prototype.clone=function(){return new g({codedValues:q.clone(this.codedValues),
name:this.name})},m([h.property({json:{write:!0}})],b.prototype,"codedValues",void 0),m([h.writer("codedValues")],b.prototype,"writeCodedValues",null),m([h.property()],b.prototype,"type",void 0),b=g=m([h.subclass("esri.layers.support.CodedValueDomain")],b);var g}(h.declared(e))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),function(y,
p,u,m,h,e){return function(e){function l(b){b=e.call(this,b)||this;return b.type="inherited",b}return u(l,e),b=l,l.prototype.clone=function(){return new b},m([h.property()],l.prototype,"type",void 0),l=b=m([h.subclass("esri.layers.support.InheritedDomain")],l);var b}(h.declared(e))})},"esri/geometry/support/graphicsUtils":function(){define(["require","exports","dojo/_base/array","../Extent","../../core/Collection"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});p.graphicsExtent=
function(e){if(!e||!e.length)return null;var q=h.isCollection(e)?e.getItemAt(0).geometry:e[0].geometry,l=q.extent,b=q;null===l&&(l=new m(b.x,b.y,b.x,b.y,q.spatialReference));for(var g=1;g<e.length;g++){var b=q=h.isCollection(e)?e.getItemAt(g).geometry:e[g].geometry,a=q.extent;null===a&&(a=new m(b.x,b.y,b.x,b.y,q.spatialReference));l=l.clone().union(a)}return 0>l.width&&0>l.height?null:l};p.getGeometries=function(e){return u.map(e,function(e){return e.geometry})};p._encodeGraphics=function(e,h){var l=
[];return u.forEach(e,function(b,e){b=b.toJSON();var a={};if(b.geometry){var g=h&&h[e];a.geometry=g&&g.toJSON()||b.geometry}b.attributes&&(a.attributes=b.attributes);l[e]=a}),l}})},"esri/geometry/support/normalizeUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../core/promiseUtils ../../config ../../tasks/GeometryService ../Polygon ../Polyline ../SpatialReference ./webMercatorUtils ./spatialReferenceUtils".split(" "),function(y,p,u,m,h,e,q,l,b,g,a,r){function v(a){return"polygon"===
a.type?a.rings:a.paths}function w(a,b){return Math.ceil((a-b)/(2*b))}function x(a,b){for(var e=v(a),g=0;g<e.length;g++)for(var h=e[g],l=0;l<h.length;l++){var m=a.getPoint(g,l);a.setPoint(g,l,m.clone().offset(b,0))}return a}function D(a){for(var b=[],e=0,g=0,h=0;h<a.length;h++){for(var l=a[h],m=null,r=0;r<l.length;r++)m=l[r],b.push(m),0===r?(e=m[0],g=e):(e=Math.min(e,m[0]),g=Math.max(g,m[0]));m&&b.push([(e+g)/2,0])}return b}function E(a,e){if(!(a instanceof b||a instanceof l))throw z.error("straightLineDensify: the input geometry is neither polyline nor polygon"),
new u("straightLineDensify: the input geometry is neither polyline nor polygon");for(var g=[],h=0,m=v(a);h<m.length;h++){var r=m[h],q=[];g.push(q);q.push([r[0][0],r[0][1]]);for(var w=0;w<r.length-1;w++){var p=r[w][0],x=r[w][1],B=r[w+1][0],n=r[w+1][1],D=Math.sqrt((B-p)*(B-p)+(n-x)*(n-x)),C=(n-x)/D,d=(B-p)/D,c=D/e;if(1<c){for(var f=1;c-1>=f;f++){var k=f*e;q.push([d*k+p,C*k+x])}D=(D+Math.floor(c-1)*e)/2;q.push([d*D+p,C*D+x])}q.push([B,n])}}return"polygon"===a.type?new l({rings:g,spatialReference:a.spatialReference}):
new b({paths:g,spatialReference:a.spatialReference})}function B(b,e,g){e&&(b=E(b,1E6),b=a.webMercatorToGeographic(b,!0));return g&&(b=x(b,g)),b}function J(a,b,e){if(Array.isArray(a)){var g=a[0];if(g>b){var h=w(g,b);a[0]=g+-2*h*b}else e>g&&(h=w(g,e),a[0]=g+-2*h*e)}else g=a.x,g>b?(h=w(g,b),a=a.clone().offset(-2*h*b,0)):e>g&&(h=w(g,e),a=a.clone().offset(-2*h*e,0));return a}function K(a,b){var e=-1;return b.cutIndexes.forEach(function(g,h){var l=b.geometries[h];if(v(l).forEach(function(a,b){a.some(function(e){if(180>
e[0])return!0;for(var g=e=0;g<a.length;g++){var n=a[g][0];e=n>e?n:e}e=Number(e.toFixed(9));e=-360*w(e,180);for(g=0;g<a.length;g++)n=l.getPoint(b,g),l.setPoint(b,g,n.clone().offset(e,0));return!0})}),g===e)if("polygon"===a[0].type){h=0;for(var m=v(l);h<m.length;h++)a[g]=a[g].addRing(m[h])}else{if("polyline"===a[0].type)for(h=0,m=v(l);h<m.length;h++)a[g]=a[g].addPath(m[h])}else e=g,a[g]=l}),a}Object.defineProperty(p,"__esModule",{value:!0});var z=m.getLogger("esri.geometry.support.normalizeUtils");
p.straightLineDensify=E;var M;p.normalizeCentralMeridian=function(m,v){v||(v=(M||(M=new q({url:e.geometryServiceUrl})),M));for(var p,u,z,D,E,I,y,Q,aa=0,n=[],U=m.map(function(c){if(!c||(p||(p=c.spatialReference,u=r.getInfo(p),z=p.isWebMercator,D=z?2.0037508342788905E7:180,E=z?-2.0037508342788905E7:-180,I=z?102100:4326,y=new b({paths:[[[D,E],[D,D]]],spatialReference:new g({wkid:I})}),Q=new b({paths:[[[E,E],[E,D]]],spatialReference:new g({wkid:I})})),!u))return c;if("point"===c.type)return J(c.clone(),
D,E);if("multipoint"===c.type){var f=c.clone();return f.points=f.points.map(function(c){return J(c,D,E)}),f}if("extent"===c.type)return f=c.clone(),f=f._normalize(!1,!1,u),f.rings?new l(f):f;if(c.extent){var f=c.extent,d=2*w(f.xmin,E)*D;c=0===d?c.clone():x(c.clone(),d);return f.offset(d,0),f.intersects(y)&&f.xmax!==D?(aa=f.xmax>aa?f.xmax:aa,c=B(c,z),n.push(c),"cut"):f.intersects(Q)&&f.xmin!==E?(aa=2*f.xmax*D>aa?2*f.xmax*D:aa,c=B(c,z,360),n.push(c),"cut"):c}return c.clone()}),C=w(aa,D),d=-90,c=C,f=
new b;0<C;){var k=-180+360*C;f.addPath([[k,d],[k,-1*d]]);d*=-1;C--}return 0<n.length&&0<c?v.cut(n,f).then(function(c){return K(n,c)}).then(function(c){var f=[],d=U.map(function(d,k){if("cut"!==d)return d;d=c.shift();k=m[k];return"polygon"===k.type&&k.rings&&1<k.rings.length&&d.rings.length>=k.rings.length?(f.push(d),"simplify"):z?a.geographicToWebMercator(d):d});return f.length?v.simplify(f).then(function(c){return d.map(function(f){return"simplify"!==f?f:z?a.geographicToWebMercator(c.shift()):c.shift()})}):
U}):h.resolve(U.map(function(c){if("cut"!==c)return c;c=n.shift();return!0===z?a.geographicToWebMercator(c):c}))};p.getDenormalizedExtent=function(a){if(!a)return null;var b=a.extent;if(!b)return null;var e=a.spatialReference&&r.getInfo(a.spatialReference);if(!e)return b;var e=e.valid,g=e[0],e=e[1],h=b.width,l=b.xmin,m=b.xmax;if(v=[m,l],l=v[0],m=v[1],"extent"===a.type||0===h||e>=h||h>2*e||g>l||m>e)return b;var q;switch(a.type){case "polygon":if(!(1<a.rings.length))return b;q=D(a.rings);break;case "polyline":if(!(1<
a.paths.length))return b;q=D(a.paths);break;case "multipoint":q=a.points}a=b.clone();for(v=0;v<q.length;v++)g=q[v][0],0>g?(g+=e,m=Math.max(g,m)):(g-=e,l=Math.min(g,l));return a.xmin=l,a.xmax=m,a.width<h?(a.xmin-=e,a.xmax-=e,a):b;var v}})},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(y){var p=y.getObject("dojox.html.entities",!0),u=function(h,e){var m,l;if(e._encCache&&e._encCache.regexp&&e._encCache.mapper&&e.length==e._encCache.length)m=e._encCache.mapper,l=e._encCache.regexp;
else{m={};l=["["];var b;for(b=0;b<e.length;b++)m[e[b][0]]="\x26"+e[b][1]+";",l.push(e[b][0]);l.push("]");l=new RegExp(l.join(""),"g");e._encCache={mapper:m,regexp:l,length:e.length}}return h=h.replace(l,function(b){return m[b]})},m=function(h,e){var m,l;if(e._decCache&&e._decCache.regexp&&e._decCache.mapper&&e.length==e._decCache.length)m=e._decCache.mapper,l=e._decCache.regexp;else{m={};l=["("];var b;for(b=0;b<e.length;b++){var g="\x26"+e[b][1]+";";b&&l.push("|");m[g]=e[b][0];l.push(g)}l.push(")");
l=new RegExp(l.join(""),"g");e._decCache={mapper:m,regexp:l,length:e.length}}return h=h.replace(l,function(a){return m[a]})};p.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];p.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],
["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca",
"Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4",
"auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe",
"thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2",
"beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],
["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],
["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295",
"oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e",
"lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];p.encode=function(h,e){h&&(e?h=u(h,e):(h=u(h,p.html),h=u(h,p.latin)));return h};p.decode=function(h,e){h&&(e?h=m(h,e):(h=m(h,p.html),h=m(h,p.latin)));return h};return p})},"esri/widgets/support/uriUtils":function(){define(["require",
"exports","../../core/lang","dojo/i18n!./nls/uriUtils"],function(y,p,u,m){function h(h){var l=null;return e.some(function(b){return b.pattern.test(h)&&(l=b),!!l}),l}Object.defineProperty(p,"__esModule",{value:!0});var e=[{id:"http",pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:m.view},{id:"tel",pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{id:"mailto",pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{id:"arcgis-appstudio-player",pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,
label:m.openInApp,appName:"App Studio Player"},{id:"arcgis-collector",pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"Collector"},{id:"arcgis-explorer",pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"Explorer"},{id:"arcgis-navigator",pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"Navigator"},{id:"arcgis-survey123",pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"Survey123"},{id:"arcgis-trek2there",
pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"Trek2There"},{id:"arcgis-workforce",pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:m.workforce},{id:"iform",pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"iForm"},{id:"flow",pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"FlowFinity"},{id:"lfmobile",pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:m.openInApp,appName:"Laserfische"},{id:"mspbi",pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,
label:m.openInApp,appName:"Microsoft Power Bi"}];p.autoLink=function(e){if("string"!=typeof e||!e)return e;var l=h(e);if(!l)return e;var b=e.match(l.pattern),b=u.substitute({appName:l.appName,hierPart:b&&b[2]},l.label);return e.replace(l.pattern,"\x3ca "+(l.target?'target\x3d"'+l.target+'"':"")+'" href\x3d"$1"\x3e'+b+"\x3c/a\x3e")}})},"esri/widgets/Popup/PopupViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Collection ../../core/Error ../../core/HandleRegistry ../../core/promiseUtils ../../core/watchUtils ../../geometry/geometryEngine ../../geometry/support/webMercatorUtils ../../support/Action ../support/AnchorElementViewModel ../../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x){function D(a,b){return b.allLayerViews.find(function(b){return b.layer===a})}y=new v({id:"zoom-to"});var E=new (e.ofType(v))([y]);return function(h){function p(a){a=h.call(this)||this;return a._handles=new l,a._originalActions=null,a.actions=E,a.goToOptions=null,a.autoCloseEnabled=!1,a.content=null,a.highlightEnabled=!0,a.title=null,a.updateLocationEnabled=!0,a.view=null,a.visible=!1,a.zoomFactor=4,a}return u(p,h),p.prototype.initialize=function(){this._handles.add([this.on("view-change",
this._autoClose),g.watch(this,["highlightEnabled","selectedFeature","visible","view"],this._highlightFeature),g.watch(this,"selectedFeature.popupTemplate.actions",this._getSelectedFeatureActions),g.watch(this,"selectedFeature.popupTemplate.overwriteActions",this._getSelectedFeatureActions)])},p.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null},Object.defineProperty(p.prototype,"featureCount",{get:function(){return this.features.length},enumerable:!0,configurable:!0}),
Object.defineProperty(p.prototype,"features",{get:function(){return this._get("features")||[]},set:function(a){a=a||[];this._set("features",a);var b=this.pendingPromisesCount,e=this.selectedFeatureIndex,g=this.promiseCount&&a.length;return g&&b&&-1===e?void(this.selectedFeatureIndex=0):void(g&&-1!==e||(this.selectedFeatureIndex=a.length?0:-1))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"location",{get:function(){return this._get("location")||null},set:function(a){var b=this.get("location"),
e=this.get("view.spatialReference.isWebMercator");a&&a.get("spatialReference.isWGS84")&&e&&(a=r.geographicToWebMercator(a));this._set("location",a);a!==b&&this._centerAtLocation()},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"pendingPromisesCount",{get:function(){return this.promises.filter(function(a){return a&&!a.isFulfilled()}).length},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"waitingForResult",{get:function(){return 0<this.pendingPromisesCount&&0===
this.featureCount},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"promiseCount",{get:function(){return this.promises.length},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"promises",{get:function(){return this._get("promises")||[]},set:function(a){var e=this;this._get("promises").forEach(function(a){a.cancel()});this.features=[];this._set("promises",a);a.length&&(a=a.slice(0),a.forEach(function(a){a.always(function(b){e.notifyChange("pendingPromisesCount");
e._updateFeatures(a,b)})}),b.eachAlways(a).then(function(){e.featureCount||(e.visible=!1)}))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"selectedFeature",{get:function(){var a=this.selectedFeatureIndex,b=this.updateLocationEnabled;return-1===a?null:(a=this.features[a])?(b&&(this.location=this._getPointFromGeometry(a.geometry)),a):null},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"selectedFeatureIndex",{get:function(){var a=this._get("selectedFeatureIndex");
return"number"==typeof a?a:-1},set:function(a){var b=this.featureCount;a=isNaN(a)||-1>a||!b?-1:(a+b)%b;this._set("selectedFeatureIndex",a)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"state",{get:function(){return this.get("view.ready")?"ready":"disabled"},enumerable:!0,configurable:!0}),p.prototype.centerAtLocation=function(){var a=this.location,e=this.view;return a&&e?e.goTo({target:a,scale:e.scale},this.goToOptions):b.reject(new q(this.declaredClass+"::Cannot center at location without a location and view."))},
p.prototype.clear=function(){this.set({promises:[],features:[],content:null,title:null,location:null})},p.prototype.triggerAction=function(a){(a=this.actions.getItemAt(a))&&this.emit("trigger-action",{action:a})},p.prototype.next=function(){return this.selectedFeatureIndex+=1,this},p.prototype.previous=function(){return--this.selectedFeatureIndex,this},p.prototype.zoomToLocation=function(){var a=this,e=this.location,g=this.selectedFeature,h=this.view,l=this.zoomFactor;if(!e||!h)return b.reject(new q(this.declaredClass+
"::Cannot zoom to location without a location and view."));var l=h.scale/l,m=this.get("selectedFeature.geometry"),r=g&&"3d"===h.type,e=(r=m||r)?g:e,v=r&&m&&"point"===m.type&&this._isScreenSize(g);return h.goTo({target:e,scale:v?l:void 0},this.goToOptions).then(function(){v&&"point"===m.type&&(a.location=m)})},p.prototype._autoClose=function(){this.autoCloseEnabled&&(this.visible=!1)},p.prototype._isScreenSize=function(a){var b=this.view;return"3d"!==b.type||"esri.Graphic"!==a.declaredClass?!0:(b=
b.getViewForGraphic(a))&&b.whenGraphicBounds?b.whenGraphicBounds(a).then(function(a){return!a||a[0]===a[3]&&a[1]===a[4]&&a[2]===a[5]}):!0},p.prototype._getSelectedFeatureActions=function(){this._originalActions&&(this.actions=this._originalActions,this._originalActions=null);var a=this.actions.filter(function(a){return!a.temporary}),b=this.get("selectedFeature.popupTemplate");b&&b.overwriteActions&&(this._originalActions=a);this.actions=this._getNewActions(b,a)},p.prototype._getNewActions=function(a,
b){if(!a||!a.actions)return b;var e=a.actions;return e.forEach(function(a){a.temporary=!0}),a.overwriteActions?e:b.concat(e)},p.prototype._getPointFromGeometry=function(a){return a?"point"===a.type?a:"extent"===a.type?a.center:"polygon"===a.type?a.centroid:"multipoint"===a.type?a.extent.center:"polyline"===a.type?a.extent.center:null:null},p.prototype._centerAtLocation=function(){var b=this.location,e=this.updateLocationEnabled,g=this.get("view.extent");e&&g&&b&&!a.contains(g,b)&&this.centerAtLocation()},
p.prototype._highlightFeature=function(){this._handles.remove("highlight");var a=this.selectedFeature,b=this.highlightEnabled,e=this.view,g=this.visible;a&&e&&b&&g&&(b=a.layer)&&(e=D(b,e))&&"function"==typeof e.highlight&&(b=b.objectIdField,g=a.attributes,a=e.highlight(g&&g[b]||a,{}),this._handles.add(a,"highlight"))},p.prototype._updateFeatures=function(a,b){var e=this.features;if(a&&b&&b.length&&!(!this._validatePromise(a)||b instanceof q||b instanceof Error)){if(!e.length)return void(this.features=
b);a=b.filter(function(a){return-1===e.indexOf(a)});this.features=e.concat(a)}},p.prototype._validatePromise=function(a){return!a.isCanceled()&&-1<this.promises.indexOf(a)},m([x.property({type:e.ofType(v)})],p.prototype,"actions",void 0),m([x.property()],p.prototype,"goToOptions",void 0),m([x.property()],p.prototype,"autoCloseEnabled",void 0),m([x.property()],p.prototype,"content",void 0),m([x.property({readOnly:!0,dependsOn:["features"]})],p.prototype,"featureCount",null),m([x.property()],p.prototype,
"features",null),m([x.property()],p.prototype,"highlightEnabled",void 0),m([x.property()],p.prototype,"location",null),m([x.property({readOnly:!0,dependsOn:["promises"]})],p.prototype,"pendingPromisesCount",null),m([x.property({readOnly:!0,dependsOn:["featureCount","pendingPromisesCount"]})],p.prototype,"waitingForResult",null),m([x.property({readOnly:!0,dependsOn:["promises"]})],p.prototype,"promiseCount",null),m([x.property()],p.prototype,"promises",null),m([x.property({value:null,readOnly:!0,dependsOn:["features",
"selectedFeatureIndex","updateLocationEnabled"]})],p.prototype,"selectedFeature",null),m([x.property({value:-1})],p.prototype,"selectedFeatureIndex",null),m([x.property({readOnly:!0,dependsOn:["view.ready"]})],p.prototype,"state",null),m([x.property()],p.prototype,"title",void 0),m([x.property()],p.prototype,"updateLocationEnabled",void 0),m([x.property()],p.prototype,"view",void 0),m([x.property()],p.prototype,"visible",void 0),m([x.property()],p.prototype,"zoomFactor",void 0),m([x.property()],p.prototype,
"centerAtLocation",null),m([x.property()],p.prototype,"clear",null),m([x.property()],p.prototype,"triggerAction",null),m([x.property()],p.prototype,"next",null),m([x.property()],p.prototype,"previous",null),m([x.property()],p.prototype,"zoomToLocation",null),p=m([x.subclass("esri.widgets.Popup.PopupViewModel")],p)}(x.declared(w))})},"esri/geometry/geometryEngine":function(){define("require exports ../kernel ./Geometry ./Polygon ./Polyline ./Point ./Extent ./Multipoint dojo/_base/lang".split(" "),
function(y,p,u,m,h,e,q,l,b,g){function a(a){if(void 0===q.fromJson){if(void 0!==a.x&&void 0!==a.y)return new q(a);if(void 0!==a.paths)return new e(a);if(void 0!==a.rings)return new h(a);if(void 0!==a.points)return new b(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return new l(a)}else{if(void 0!==a.x&&void 0!==a.y)return q.fromJson(a);if(void 0!==a.paths)return e.fromJson(a);if(void 0!==a.rings)return h.fromJson(a);if(void 0!==a.points)return b.fromJson(a);if(void 0!==
a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return l.fromJson(a)}}function r(a){if(void 0===q.fromJson){if(void 0!==a.x&&void 0!==a.y)return new q(a);if(void 0!==a.paths)return new e(a);if(void 0!==a.rings)return new h(a);if(void 0!==a.points)return new b(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return new l(a)}else{if(void 0!==a.x&&void 0!==a.y)return q.fromJSON(a);if(void 0!==a.paths)return e.fromJSON(a);if(void 0!==a.rings)return h.fromJSON(a);if(void 0!==
a.points)return b.fromJSON(a);if(void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax)return l.fromJSON(a)}}function v(a,b){var n;if(null==a||void 0===a||"number"===typeof a)return a;var d=a.toString();if(""===d)return null;if(2==b){if(n=Z[d],void 0!==n)return n}else if(0==b){n=da[d];if(void 0!==n)return n;n=fa[a];if(void 0!==n)return n}else if(3==b&&(n=da[d],void 0!==n))return n;if(1==b&&(n=fa[a],void 0!==n))return n;if(!0===/^\d+$/.test(d))return parseInt(d);throw Error("Unrecognised Unit Type");
}function w(a){if(void 0!==a&&null!==a)switch(a){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function x(a,g){if(null===a||void 0===a||a.s())return null;switch(a.D()){case z.Xn.Point:var n=new q(a.lk(),a.mk(),g);if(N){var d=a.hasAttribute(z.xf.M);a.hasAttribute(z.xf.Z)&&n.set("z",a.lO());d&&n.set("m",a.NN())}return n;case z.Xn.Polygon:var n=a.hasAttribute(z.xf.Z),d=a.hasAttribute(z.xf.M),c=D(a,n,d),n=new h({rings:c,
hasZ:n,hasM:d});N?n.set("spatialReference",g):n.setSpatialReference(g);n.setCacheValue("_geVersion",a);return n;case z.Xn.Polyline:return n=a.hasAttribute(z.xf.Z),d=a.hasAttribute(z.xf.M),c=D(a,n,d),n=new e({paths:c,hasZ:n,hasM:d}),N?n.set("spatialReference",g):n.setSpatialReference(g),n.setCacheValue("_geVersion",a),n;case z.Xn.MultiPoint:var n=a.hasAttribute(z.xf.Z),d=a.hasAttribute(z.xf.M),f=c=null;n&&(c=a.mc(z.xf.Z));d&&(f=a.mc(z.xf.M));var k=new z.b,t=a.F();g=new b(g);N&&(g.set("hasZ",n),g.set("hasM",
d));for(var A=0;A<t;A++){a.w(A,k);var G=[k.x,k.y];n&&G.push(c.get(A));d&&G.push(f.get(A));g.addPoint(G)}g.setCacheValue("_geVersion",a);return g;case z.Xn.Envelope:return c=a.hasAttribute(z.xf.Z),n=a.hasAttribute(z.xf.M),d=new l(a.R.v,a.R.C,a.R.B,a.R.G,g),N&&(c&&(c=a.Ah(z.xf.Z,0),d.set("zmin",c.qa),d.set("zmax",c.va)),n&&(c=a.Ah(z.xf.M,0),d.set("mmin",c.qa),d.set("mmax",c.va))),d.setCacheValue("_geVersion",a),d}return null}function D(a,b,e){var d=[],c=a.ea(),f=null,k=null;b&&(f=a.mc(z.xf.Z));e&&(k=
a.mc(z.xf.M));for(var t=new z.b,A=0;A<c;A++){for(var n=a.Ea(A),g=a.Ha(A),H=0,h=0,l=NaN,C=NaN,m=NaN,r=NaN,q=a.vc(A),v=[],p=n;p<n+g;p++){a.w(p,t);var r=m=NaN,w=[t.x,t.y];b&&(m=f.get(p),w.push(m));e&&(r=k.get(p),w.push(r));p==n&&q&&(H=t.x,h=t.y,l=m,C=r);v.push(w)}!q||H==t.x&&h==t.y&&(!b||isNaN(l)&&isNaN(m)||l==m)&&(!e||isNaN(C)&&isNaN(r)||C==r)||v.push(v[0].slice(0));d.push(v)}return d}function E(a){var b=a._geVersion;if(null==b||void 0==b){if(Object.freeze&&Object.isFrozen(a))return 102100===a.wkid?
aa:4326===a.wkid?P:b=z.Nf.create(a.wkid);-1!=a.wkid&&null!==a.wkid&&void 0!==a.wkid?(b=z.Nf.create(a.wkid),a._geVersion=b):""!==a.wkt&&void 0!==a.wkt&&null!==a.wkt&&(b=z.Nf.NL(a.wkt),a._geVersion=b)}return b}function B(a){if(null==a)return null;var b=a.getCacheValue("_geVersion");if(null==b||void 0==b)b=z.Pb.IL(a),a.setCacheValue("_geVersion",b);return b}function J(a){return null===a.spatialReference?null:E(a.spatialReference)}var K=this&&this.__extends||function(a,b){function n(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)},z;(function(a){var b=function(){function d(){}d.Sk=!1;d.it=!1;d.$v="";return d}();a.ah=b;if("undefined"!==typeof window)a.ah.$v="browser","Float64Array"in window&&(a.ah.it=!0),"ArrayBuffer"in window&&(a.ah.Sk=!0);else if("undefined"!==typeof process)b.$v="node",a.ah.Sk=!0,a.ah.it=!0;else{b.$v="browser";try{var n=new ArrayBuffer(0);new Uint8Array(n);a.ah.Sk=!0;a.ah.it=!0}catch(d){a.ah.Sk=
!1}}})(z||(z={}));(function(a){(function(a){a[a.Unknown=0]="Unknown";a[a.Point=33]="Point";a[a.Line=322]="Line";a[a.Envelope=197]="Envelope";a[a.MultiPoint=550]="MultiPoint";a[a.Polyline=1607]="Polyline";a[a.Polygon=1736]="Polygon"})(a.Xn||(a.Xn={}));(function(a){a[a.enumMild=0]="enumMild";a[a.enumMedium=1]="enumMedium";a[a.enumHot=2]="enumHot"})(a.rH||(a.rH={}));var b=function(){function b(){this.description=null;this.Ux=0}b.prototype.D=function(){return 0};b.prototype.fb=function(){return-1};b.prototype.Qf=
function(d){this.qc();d!=this.description&&this.nm(d)};b.prototype.nm=function(){};b.prototype.Ik=function(d){this.qc();d!=this.description&&(d=a.Od.QN(this.description,d),d!=this.description&&this.nm(d))};b.prototype.hasAttribute=function(d){return this.description.hasAttribute(d)};b.prototype.Ne=function(d){this.qc();this.description.hasAttribute(d)||(d=a.Od.PN(this.description,d),this.nm(d))};b.prototype.Ah=function(){return null};b.prototype.Fp=function(){};b.prototype.o=function(){};b.prototype.Cn=
function(){};b.prototype.dd=function(d){this.o(d)};b.prototype.s=function(){return!0};b.prototype.Ja=function(){};b.prototype.Oe=function(){};b.prototype.Pa=function(){return null};b.prototype.copyTo=function(){};b.prototype.Mh=function(){return 0};b.prototype.$b=function(){return 0};b.prototype.WC=function(){return this.hasAttribute(1)};b.ve=function(d){return((d&192)>>6)+1>>1};b.Km=function(d){return 0!=(d&32)};b.qT=function(d){return 0!=(d&64)};b.SO=function(d){return 0!=(d&128)};b.Lc=function(d){return 0!=
(d&256)};b.Th=function(d){return 0!=(d&512)};b.Kc=function(d){return 0!=(d&1024)};b.prototype.vm=function(){var d=this.Pa();this.copyTo(d);return d};b.prototype.Rf=function(){return null};b.Yj=function(d){var c=d.Pa();d.copyTo(c);return c};b.prototype.qc=function(){0<=this.Ux&&(this.Ux+=2147483649)};b.Vu=function(d){var c=d.D();if(b.Th(c))return d.F();if(d.s())return 0;if(197==c)return 4;if(33==c)return 1;if(b.Lc(c))return 2;throw a.g.ra("missing type");};return b}();a.T=b})(z||(z={}));(function(a){var b=
function(){function b(){this.y=this.x=0}b.Oa=function(d,c){var f=new b;f.x=d;f.y=c;return f};b.prototype.ma=function(d,c){this.x=d;this.y=c};b.prototype.J=function(d){this.x=d.x;this.y=d.y};b.prototype.Cq=function(d,c){return this.x===d&&this.y===c};b.prototype.Ww=function(d){return 2.220446049250313E-16>=Math.abs(this.x-d.x)&&2.220446049250313E-16>=Math.abs(this.y-d.y)};b.prototype.ub=function(d){return this.x===d.x&&this.y===d.y};b.prototype.lc=function(d){return d==this?!0:d instanceof b?this.x==
d.x&&this.y==d.y:!1};b.prototype.sub=function(d){this.x-=d.x;this.y-=d.y};b.prototype.pc=function(d,c){this.x=d.x-c.x;this.y=d.y-c.y};b.prototype.add=function(d,c){void 0!==c?(this.x=d.x+c.x,this.y=d.y+c.y):(this.x+=d.x,this.y+=d.y)};b.prototype.Bp=function(){this.x=-this.x;this.y=-this.y};b.prototype.qr=function(d){this.x=-d.x;this.y=-d.y};b.prototype.OO=function(d,c,f){this.x=d.x*(1-f)+c.x*f;this.y=d.y*(1-f)+c.y*f};b.prototype.Fr=function(d,c){this.x=this.x*d+c.x;this.y=this.y*d+c.y};b.prototype.DR=
function(d,c,f){this.x=c.x*d+f.x;this.y=c.y*d+f.y};b.prototype.scale=function(d){this.x*=d;this.y*=d};b.prototype.compare=function(d){return this.y<d.y?-1:this.y>d.y?1:this.x<d.x?-1:this.x>d.x?1:0};b.prototype.normalize=function(){var d=this.length();0==d&&(this.x=1,this.y=0);this.x/=d;this.y/=d};b.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.prototype.Up=function(){return this.x*this.x+this.y*this.y};b.Fb=function(d,c){return Math.sqrt(this.Zb(d,c))};b.Yv=function(d,
c,f,k){d-=f;c-=k;return Math.sqrt(d*d+c*c)};b.prototype.ml=function(d){return this.x*d.x+this.y*d.y};b.prototype.uA=function(d){return Math.abs(this.x*d.x)+Math.abs(this.y*d.y)};b.prototype.Ai=function(d){return this.x*d.y-this.y*d.x};b.prototype.Er=function(d,c){var f=-this.x*c+this.y*d;this.x=this.x*d+this.y*c;this.y=f};b.prototype.tt=function(){var d=this.x;this.x=-this.y;this.y=d};b.prototype.zD=function(d){this.x=-d.y;this.y=d.x};b.prototype.Kp=function(){var d=this.x;this.x=this.y;this.y=-d};
b.prototype.FA=function(){this.y=this.x=NaN};b.prototype.pv=function(){return isNaN(this.x)};b.prototype.ps=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};b.cq=function(d,c){var f=d.ps(),k=c.ps();return k==f?(f=d.Ai(c),0>f?1:0<f?-1:0):f<k?-1:1};b.HT=function(d,c){return b.cq(d,c)};b.Zb=function(d,c){var f=d.x-c.x;d=d.y-c.y;return f*f+d*d};b.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};b.prototype.Eh=function(){this.y=this.x=NaN};b.prototype.yJ=function(){return this.pv()?
NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};b.prototype.offset=function(d,c){var f=b.Fb(d,c),k=b.Oa(this.x,this.y);if(0==f)return b.Fb(k,d);var a=new b;a.J(c);a.sub(d);k.sub(d);return k.Ai(a)/f};b.yn=function(d,c,f){var k=new a.$k;k.set(c.x);k.sub(d.x);var t=new a.$k;t.set(f.y);t.sub(d.y);var b=new a.$k;b.set(c.y);b.sub(d.y);var n=new a.$k;n.set(f.x);n.sub(d.x);k.Ap(t);b.Ap(n);k.sub(b);if(!k.Dq())return f=k.value(),0>f?-1:0<f?1:0;k=new a.Tn(c.x);t=new a.Tn(d.x);b=new a.Tn(d.y);
k=k.nr(t);d=new a.Tn(f.y);d=d.nr(b);c=new a.Tn(c.y);c=c.nr(b);f=new a.Tn(f.x);f=f.nr(t);k=k.Wp(d);c=c.Wp(f);k=k.Wp(c);return k.vP()?-1:k.nO()?1:0};b.prototype.hc=function(){return a.I.Rh(a.I.Rh())};return b}();a.b=b})(z||(z={}));(function(a){var b=function(){function a(d){this.Ov=this.Or=0;this.ES=d}a.prototype.reset=function(){this.Ov=this.Or=0};a.prototype.add=function(d){d-=this.Ov;var c=this.Or+d;this.Ov=c-this.Or-d;this.Or=c};a.prototype.sub=function(d){this.add(-d)};a.prototype.rl=function(){return this.ES+
this.Or};return a}();a.av=b;b=function(){function a(){}a.LT=function(d,c){return 0<=c?Math.abs(d):-Math.abs(d)};a.sign=function(d){return 0>d?-1:0<d?1:0};a.gH=function(d){return d-360*Math.floor(d/360)};a.round=function(d){return Math.floor(d+.5)};a.Ty=function(d){return d*d};a.ut=function(d,c,f){var k;.5>=f?k=d+(c-d)*f:k=c-(c-d)*(1-f);return k};a.BD=function(d,c,f,k){.5>=f?(k.x=d.x+(c.x-d.x)*f,k.y=d.y+(c.y-d.y)*f):(k.x=c.x-(c.x-d.x)*(1-f),k.y=c.y-(c.y-d.y)*(1-f))};a.tP=function(d,c,f,k,a,b){.5>=
a?(b.x=d+(f-d)*a,b.y=c+(k-c)*a):(b.x=f-(f-d)*(1-a),b.y=k-(k-c)*(1-a))};return a}();a.vi=b})(z||(z={}));(function(a){var b=function(b){function d(){b.call(this);this.ha=this.la=this.ja=this.na=0;this.fa=null}K(d,b);d.prototype.Mb=function(){return a.b.Oa(this.na,this.ja)};d.prototype.ht=function(c){c.x=this.na;c.y=this.ja};d.prototype.ed=function(c){this.gl(0,c)};d.prototype.Ny=function(c,f){this.gl(0,a.b.Oa(c,f))};d.prototype.En=function(c){this.wA(0,c)};d.prototype.setStart=function(c){this.CA(0,
c)};d.prototype.gt=function(c,f){return this.yd(0,c,f)};d.prototype.My=function(c,f,d){this.om(0,c,f,d)};d.prototype.oc=function(){return a.b.Oa(this.la,this.ha)};d.prototype.uw=function(c){c.x=this.la;c.y=this.ha};d.prototype.vd=function(c){this.gl(1,c)};d.prototype.Ok=function(c,f){this.gl(1,a.b.Oa(c,f))};d.prototype.Bn=function(c){this.wA(1,c)};d.prototype.setEnd=function(c){this.CA(1,c)};d.prototype.Ws=function(c,f){return this.yd(1,c,f)};d.prototype.Cy=function(c,f,d){this.om(1,c,f,d)};d.prototype.fb=
function(){return 1};d.prototype.s=function(){return this.sc()};d.prototype.Ja=function(){};d.prototype.Mh=function(){return 0};d.prototype.Ga=function(c,f,d,a,b){return this.wJ(c,f,d,a,b)};d.prototype.jc=function(c,f){return 0!=this.fq(c,f,!1)};d.prototype.Eq=function(c,f){return this.qs(c,f,!1)};d.prototype.qs=function(){return null};d.prototype.sc=function(){return!1};d.prototype.rv=function(c){this.qc();if(null==this.fa&&0<c)this.fa=a.I.Lh(2*c);else if(null!=this.fa&&this.fa.length<2*c){for(var f=
this.fa.slice(0),d=this.fa.length;d<2*c;d++)f[d]=0;this.fa=f}};d.KI=function(c,f,d){if(0<d)var k=0;for(var a=0;a<d;a++)f[0+k]=c[0],k++};d.prototype.gl=function(c,f){0!=c?(this.la=f.x,this.ha=f.y):(this.na=f.x,this.ja=f.y)};d.prototype.nm=function(c){if(null!=this.fa){for(var f=a.Od.iu(c,this.description),k=[],t=d.Xk(this.description,0),b=d.Xk(this.description,1),n=d.Xk(c,0),e=d.Xk(c,1),g=0,h=1,l=c.Aa;h<l;h++){var m=c.Hd(h),C=a.pa.Wa(m);if(-1==f[h])for(var r=a.pa.ue(m),m=0;m<C;m++)k[n+g]=r,k[e+g]=
r,g++;else for(r=this.description.fj(f[h])-2,m=0;m<C;m++)k[n+g]=this.fa[t+r],k[e+g]=this.fa[b+r],g++,r++}this.fa=k}this.description=c};d.prototype.wA=function(c,f){if(this.sc())throw a.g.ra("empty geometry");f.Qf(this.description);f.sc()&&f.ko();for(var d=0;d<this.description.Aa;d++)for(var t=this.description.Fd(d),b=0,n=a.pa.Wa(t);b<n;b++){var e=this.yd(c,t,b);f.setAttribute(t,b,e)}};d.prototype.CA=function(c,f){this.qc();if(f.sc())throw a.g.ra("empty geometry");for(var d=f.description,t=0,b=d.Aa;t<
b;t++)for(var n=d.Fd(t),e=a.pa.Wa(n),g=0;g<e;g++){var h=f.ld(n,g);this.om(c,n,g,h)}};d.prototype.yd=function(c,f,k){if(this.sc())throw a.g.ra("This operation was performed on an Empty Geometry.");if(0==f)return 0!=c?0!=k?this.ha:this.la:0!=k?this.ja:this.na;if(k>=a.pa.Wa(f))throw a.g.Uc();var t=this.description.zf(f);return 0<=t?(null!=this.fa&&this.rv(this.description.le.length-2),this.fa[d.Xk(this.description,c)+this.description.fj(t)-2+k]):a.pa.ue(f)};d.prototype.om=function(c,f,k,t){this.qc();
if(k>=a.pa.Wa(f))throw a.g.Uc();var b=this.description.zf(f);0>b&&(this.Ne(f),b=this.description.zf(f));0==f?0!=c?0!=k?this.ha=t:this.la=t:0!=k?this.ja=t:this.na=t:(null==this.fa&&this.rv(this.description.le.length-2),this.fa[d.Xk(this.description,c)+this.description.fj(b)-2+k]=t)};d.prototype.copyTo=function(c){if(c.D()!=this.D())throw a.g.N();c.description=this.description;c.rv(this.description.le.length-2);d.KI(this.fa,c.fa,2*(this.description.le.length-2));c.na=this.na;c.ja=this.ja;c.la=this.la;
c.ha=this.ha;c.qc();this.eo(c)};d.prototype.Ah=function(c,f){var d=new a.Nd;if(this.sc())return d.Ja(),d;d.qa=this.yd(0,c,f);d.va=d.qa;d.Oj(this.yd(1,c,f));return d};d.prototype.XE=function(c){this.sc()?c.Ja():(c.qa=this.yd(0,0,0),c.va=c.qa,c.Oj(this.yd(1,0,0)))};d.prototype.uu=function(c,f){f.Qf(this.description);f.ic(this.Kb(c));for(var d=1,t=this.description.Aa;d<t;d++)for(var b=this.description.Fd(d),n=a.pa.Wa(b),e=0;e<n;e++){var g=this.ld(c,b,e);f.setAttribute(b,e,g)}};d.prototype.sJ=function(c){if(this.description!=
c.description||this.na!=c.na||this.la!=c.la||this.ja!=c.ja||this.ha!=c.ha)return!1;for(var f=0;f<2*(this.description.le.length-2);f++)if(this.fa[f]!=c.fa[f])return!1;return!0};d.prototype.kD=function(){return this.na==this.la&&this.ja==this.ha};d.prototype.reverse=function(){var c=this.na;this.na=this.la;this.la=c;c=this.ja;this.ja=this.ha;this.ha=c;for(var c=1,f=this.description.Aa;c<f;c++)for(var d=this.description.Hd(c),t=0,b=a.pa.Wa(d);t<b;t++){var n=this.yd(0,d,t),e=this.yd(1,d,t);this.om(0,
d,t,e);this.om(1,d,t,n)}};d.prototype.fq=function(c,f,d){var k=c.D();switch(this.D()){case 322:if(322==k)return a.yb.xJ(this,c,f,d);throw a.g.wa();default:throw a.g.wa();}};d.prototype.wJ=function(c,f,d,t,b){var k=c.D();switch(this.D()){case 322:if(322==k)return a.yb.ov(this,c,f,d,t,b);throw a.g.wa();default:throw a.g.wa();}};d.prototype.kv=function(){return null};d.Xk=function(c,f){return f*(c.le.length-2)};d.prototype.Kb=function(c,f){if(void 0===f)return f=new a.b,this.Kb(c,f),f;a.vi.tP(this.na,
this.ja,this.la,this.ha,c,f)};d.prototype.Gd=function(){return null};d.prototype.TC=function(){return null};d.prototype.nt=function(){return null};d.prototype.mg=function(){return null};d.prototype.mD=function(){return null};d.prototype.Pf=function(){return null};d.prototype.rA=function(c,f){return void 0!==f?this.Ru(f)-this.Ru(c):this.Ru(c)};d.prototype.eo=function(){};d.prototype.xm=function(){return null};d.prototype.Bi=function(){};d.prototype.ld=function(){return null};d.prototype.xe=function(){return null};
d.prototype.Ru=function(){return null};d.prototype.AD=function(){return null};d.prototype.Fb=function(c,f){if(!f&&0!=this.fq(c,0,!1))return 0;f=1.7976931348623157E308;var d,a;d=this.Mb();a=c.Gd(d,!1);d.sub(c.Kb(a));d=d.length();d<f&&(f=d);d=this.oc();a=c.Gd(d,!1);d.sub(c.Kb(a));d=d.length();d<f&&(f=d);d=c.Mb();a=this.Gd(d,!1);d.sub(this.Kb(a));d=d.length();d<f&&(f=d);d=c.oc();a=this.Gd(d,!1);d.sub(this.Kb(a));d=d.length();d<f&&(f=d);return f};d.prototype.Rf=function(){return a.Hh.il(this,null)};return d}(a.T);
a.fA=b})(z||(z={}));new z.b;(function(a){(function(a){a[a.Unknown=-1]="Unknown";a[a.Not=0]="Not";a[a.Weak=1]="Weak";a[a.Strong=2]="Strong"})(a.tH||(a.tH={}));(function(a){a[a.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";a[a.IsWeakSimple=2]="IsWeakSimple";a[a.IsStrongSimple=4]="IsStrongSimple";a[a.DirtyOGCFlags=8]="DirtyOGCFlags";a[a.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";a[a.DirtyExactIntervals=64]="DirtyExactIntervals";a[a.DirtyLooseIntervals=128]="DirtyLooseIntervals";a[a.DirtyIntervals=
192]="DirtyIntervals";a[a.DirtyIsEnvelope=256]="DirtyIsEnvelope";a[a.DirtyLength2D=512]="DirtyLength2D";a[a.DirtyRingAreas2D=1024]="DirtyRingAreas2D";a[a.DirtyCoordinates=1993]="DirtyCoordinates";a[a.DirtyAllInternal=65535]="DirtyAllInternal";a[a.DirtyAll=16777215]="DirtyAll"})(a.cH||(a.cH={}));var b=function(b){function d(){b.call(this);this.El=65535;this.ta=0;this.rg=-1;this.pb=null}K(d,b);d.prototype.eo=function(){};d.prototype.qv=function(){};d.prototype.xv=function(){};d.prototype.F=function(){return this.ta};
d.prototype.s=function(){return this.sc()};d.prototype.sc=function(){return 0==this.ta};d.prototype.gj=function(c){return 0!=(this.El&c)};d.prototype.yf=function(c,f){this.El=f?this.El|c:this.El&~c};d.prototype.kc=function(){this.gj(32)&&this.FJ()};d.prototype.Su=function(){if(this.sc())throw a.g.ra("This operation was performed on an Empty Geometry.");};d.prototype.Sd=function(c,f){if(0>c||c>=this.ta)throw a.g.ra("index out of bounds");this.kc();f.Qf(this.description);f.s()&&f.ko();for(var d=0;d<
this.description.Aa;d++)for(var t=this.description.Fd(d),b=0,n=a.pa.Wa(t);b<n;b++){var e=this.Ba[d].Bh(n*c+b);f.setAttribute(t,b,e)}};d.prototype.Iu=function(c,f){this.kc();for(var d=f.description,t=0;t<d.Aa;t++)for(var b=d.Fd(t),n=a.pa.Wa(b),e=0;e<n;e++){var g=f.ld(b,e);this.setAttribute(b,c,e,g)}};d.prototype.w=function(c,f){if(0>c||c>=this.F())throw a.g.Uc();this.kc();this.Ba[0].ec(2*c,f)};d.prototype.Fa=function(c){var f=new a.b;this.w(c,f);return f};d.prototype.uc=function(c,f){this.Ba[0].ec(2*
c,f)};d.prototype.ic=function(c,f,d){if(0>c||c>=this.ta)throw a.g.Uc();this.kc();var k=this.Ba[0];void 0!==d?(k.write(2*c,f),k.write(2*c+1,d)):k.Rn(2*c,f);this.ce(1993)};d.prototype.Lw=function(c){if(0>c||c>=this.F())throw a.g.Uc();this.kc();var f=this.Ba[0],d=new a.ee;d.x=f.read(2*c);d.y=f.read(2*c+1);d.z=this.hasAttribute(1)?this.Ba[1].Bh(c):a.pa.ue(1);return d};d.prototype.Py=function(c,f){if(0>c||c>=this.F())throw a.g.Uc();this.Ne(1);this.kc();this.ce(1993);var d=this.Ba[0];d.write(2*c,f.x);d.write(2*
c+1,f.y);this.Ba[1].Uk(c,f.z)};d.prototype.ld=function(c,f,d){if(0>f||f>=this.ta)throw a.g.Uc();var k=a.pa.Wa(c);if(d>=k)throw a.g.Uc();this.kc();var b=this.description.zf(c);return 0<=b?this.Ba[b].Bh(f*k+d):a.pa.ue(c)};d.prototype.nC=function(c,f,d){return this.ld(c,f,d)};d.prototype.setAttribute=function(c,f,d,t){if(0>f||f>=this.ta)throw a.g.Uc();var k=a.pa.Wa(c);if(d>=k)throw a.g.Uc();this.Ne(c);this.kc();c=this.description.zf(c);this.ce(1993);this.Ba[c].Uk(f*k+d,t)};d.prototype.mc=function(c){this.Su();
this.Ne(c);this.kc();return this.Ba[this.description.zf(c)]};d.prototype.bm=function(c,f){if(null!=f&&a.pa.Qh(c)!=f.Qh())throw a.g.N();this.Ne(c);c=this.description.zf(c);null==this.Ba&&(this.Ba=a.Ac.ay(this.description.Aa));this.Ba[c]=f;this.ce(16777215)};d.prototype.nm=function(c){var f=null;if(null!=this.Ba)for(var d=a.Od.iu(c,this.description),f=[],t=0,b=c.Aa;t<b;t++)-1!=d[t]&&(f[t]=this.Ba[d[t]]);this.description=c;this.Ba=f;this.rg=-1;this.ce(16777215)};d.prototype.IA=function(c){this.ss(!0);
c instanceof a.i?this.R.o(c):this.R.Cn(c)};d.prototype.EJ=function(c){this.ss(!1);c instanceof a.i?this.R.o(c):this.R.Cn(c)};d.prototype.Fp=function(c){this.ss(!0);this.R.copyTo(c)};d.prototype.o=function(c){this.IA(c)};d.prototype.Cn=function(c){this.IA(c)};d.prototype.dd=function(c){this.EJ(c)};d.prototype.Ah=function(c,f){var d=new a.Nd;if(this.sc())return d.Ja(),d;this.ss(!0);return this.R.Ah(c,f)};d.prototype.hc=function(){var c=this.description.hc();if(!this.sc())for(var f=this.F(),d=0,t=this.description.Aa;d<
t;d++)c=this.Ba[d].jj(c,0,f*a.pa.Wa(this.description.Fd(d)));return c};d.prototype.lc=function(c){if(c==this)return!0;if(!(c instanceof d&&this.description.lc(c.description))||this.sc()!=c.sc())return!1;if(this.sc())return!0;var f=this.F();if(f!=c.F())return!1;for(var k=0;k<this.description.Aa;k++){var t=this.description.Hd(k),b=this.mc(t),n=c.mc(t);if(!b.lc(n,0,f*a.pa.Wa(t)))return!1}return!0};d.prototype.copyTo=function(c){if(c.D()!=this.D())throw a.g.N();this.tA(c)};d.prototype.tA=function(c){this.kc();
c.description=this.description;c.Ba=null;var f=this.description.Aa,d=null;if(null!=this.Ba)for(var d=[],t=0;t<f;t++)null!=this.Ba[t]&&(d[t]=this.Ba[t].Ip(this.F()*a.pa.Wa(this.description.Fd(t))));null!=this.R?(c.R=this.R.Pa(),this.R.copyTo(c.R)):c.R=null;c.ta=this.ta;c.El=this.El;c.Ba=d;try{this.eo(c)}catch(A){throw c.Ja(),a.g.BI();}};d.prototype.EA=function(){this.ta=0;this.rg=-1;this.Ba=null;this.ce(16777215)};d.prototype.ce=function(c){16777215==c&&(this.rg=-1,this.qv());this.El|=c;this.kJ();
this.qc()};d.prototype.ss=function(c){this.kc();if(this.gj(192))if(null==this.R?this.R=new a.Vj(this.description):this.R.Qf(this.description),this.s())this.R.Ja();else{this.wv(c);for(var f=1;f<this.description.Aa;f++)for(var d=this.description.Fd(f),t=a.pa.Wa(d),b=this.Ba[f],n=0;n<t;n++){var e=new a.Nd;e.Ja();for(var g=0;g<this.ta;g++){var h=b.Bh(g*t+n);e.Db(h)}this.R.setInterval(d,n,e)}c&&this.yf(192,!1)}};d.prototype.wv=function(){this.R.Ja();for(var c=this.Ba[0],f=new a.b,d=0;d<this.ta;d++)c.ec(2*
d,f),this.R.Db(f)};d.prototype.tm=function(c){c.Ja();for(var f=this.Ba[0],d=new a.b,t=0;t<this.ta;t++)f.ec(2*t,d),c.Db(d)};d.prototype.FJ=function(){if(this.rg<this.ta){null==this.Ba&&(this.Ba=a.Ac.ay(this.description.Aa));this.rg=2147483647;for(var c=0;c<this.description.Aa;c++){var f=this.description.Fd(c);if(null!=this.Ba[c]){var d=a.pa.Wa(f),t=a.I.truncate(this.Ba[c].size/d);t<this.ta&&(t=a.I.truncate(this.rg>this.ta+5?(5*this.ta+3)/4:this.ta),this.Ba[c].resize(t*d,a.pa.ue(f)));t<this.rg&&(this.rg=
t)}else this.Ba[c]=a.Ac.Tv(f,this.ta),this.rg=this.ta}}this.xv();this.yf(32,!1)};d.prototype.jo=function(c){if(0>c)throw a.g.N();c!=this.ta&&(this.ta=c,this.ce(65535))};d.prototype.rj=function(c){if(!this.gj(1)){if(!this.gj(2))return 0;if(this.TP>=c)return this.gj(8)?1:2}return-1};d.prototype.hg=function(c,f){this.TP=f;if(-1==c)this.yf(1,!0),this.yf(8,!0);else if(this.yf(1,!1),this.yf(8,!0),0==c)this.yf(2,!1),this.yf(4,!1);else if(1==c)this.yf(2,!0),this.yf(4,!1);else if(2==c)this.yf(2,!0),this.yf(4,
!0);else throw a.g.ra("internal error.");};d.prototype.kJ=function(){null!=this.pb&&(this.pb=null)};d.prototype.vJ=function(c,f,d,t){if(0>c||c>=this.ta)throw a.g.ra("index out of bounds");if(0>f||f>=this.ta)throw a.g.ra("index out of bounds");this.kc();t.Qf(this.description);t.s()&&t.ko();for(var k=0;k<this.description.Aa;k++)for(var b=this.description.Fd(k),n=0,e=a.pa.Wa(b);n<e;n++){var g=this.Ba[k].Bh(e*c+n),h=this.Ba[k].Bh(e*f+n);t.setAttribute(b,n,a.vi.ut(g,h,d))}};d.prototype.mv=function(c,f){var d=
this.Ba[0].f,a=d[2*c]-d[2*f],d=d[2*c+1]-d[2*f+1];return Math.sqrt(a*a+d*d)};d.prototype.bh=function(c,f){if(0>c||c>=this.ta)throw a.g.Uc();if(f.s())throw a.g.N();this.kc();for(var d=f.description,t=0;t<d.Aa;t++)for(var b=d.Hd(t),n=a.pa.Wa(b),e=0;e<n;e++){var g=f.ld(b,e);this.setAttribute(b,c,e,g)}};d.prototype.jv=function(){return null};d.prototype.dj=function(){return null};return d}(a.T);a.Wr=b})(z||(z={}));(function(a){var b=function(){function b(){this.cb=this.Qm=null;this.Ol=124234251;this.Ct=
!0;this.Ae=-1;this.cb=new a.Fc(7);this.Qm=null}b.prototype.Hn=function(d){this.Qm=d};b.prototype.lM=function(){this.Ct=!1};b.prototype.de=function(d){this.cb.de(d)};b.prototype.nq=function(d){var c=this.cb.be();this.mS(c);this.oS(d,c);return c};b.prototype.fM=function(d){this.cb.Jc(d)};b.prototype.addElement=function(d,c){var f;-1==c?(-1==this.Ae&&(this.Ae=this.nq(-1)),f=this.Ae):f=c;return this.MA(d,0,f)};b.prototype.PA=function(d){-1==this.Ae&&(this.Ae=this.nq(-1));return this.MA(d,1,this.Ae)};
b.prototype.qm=function(d){var c;-1==this.Ae&&(this.Ae=this.nq(-1));c=this.Ae;var f=this.cb.f;if(-1==c||-1==f[7*c])return d=this.cb.Pj([-1,-1,-1,d,this.ck(),-1,-1]),f=this.cb.f,f[7*c]=d,this.mo(-1,d,c,f),d;var k=-1==c?-1:f[7*c+2];d=this.cb.Pj([-1,-1,k,d,this.ck(),-1,-1]);f=this.cb.f;f[7*k+1]=d;this.Fv(d,f);-1===f[7*d+2]&&(f[7*c]=d);this.mo(-1,d,c,f);return d};b.prototype.vs=function(d,c,f,k){var t=-1;-1==t&&(-1==this.Ae&&(this.Ae=this.nq(-1)),t=this.Ae);var b=this.cb.f;if(-1==t||-1==b[7*t])return f=
this.cb.Pj([-1,-1,-1,f,this.ck(),-1,-1]),b=this.cb.f,b[7*t]=f,this.mo(-1,f,t,b),f;var n;k?(k=-1!=c?this.Qm.compare(this,f,c):-1,n=-1!=d?this.Qm.compare(this,f,d):1):(k=-1,n=1);if(0==k||0==n)return b[7*t+3]=0==k?c:d,-1;(-1!=c&&-1!=d?this.Ol>a.I.$x(this.Ol)>>1:-1!=c)?d=c:k=n;for(c=!0;;){if(0>k)if(n=b[7*d],-1!=n)d=n;else{k=d;f=this.cb.Pj([-1,-1,d,f,this.ck(),-1,-1]);b=this.cb.f;b[7*d]=f;break}else if(n=b[7*d+1],-1!=n)d=n;else{k=b[7*d+6];f=this.cb.Pj([-1,-1,d,f,this.ck(),-1,-1]);b=this.cb.f;b[7*d+1]=
f;break}c&&(k*=-1,c=!1)}this.Fv(f,b);-1===b[7*f+2]&&(b[7*t]=f);this.mo(k,f,t,b);return f};b.prototype.tC=function(){return this.xN(this.Ae)};b.prototype.kd=function(d,c){c=-1==c?this.Ae:c;this.Ct?this.eM(d,c):this.$S(d,c)};b.prototype.search=function(d,c){for(c=this.dt(c);-1!=c;){var f=this.Qm.compare(this,d,c);if(0==f)return c;c=0>f?this.ik(c):this.Jo(c)}return-1};b.prototype.GR=function(d){for(var c=this.dt(-1),f=-1;-1!=c;){var k=d.compare(this,c);if(0==k)return c;0>k?c=this.ik(c):(f=c,c=this.Jo(c))}return f};
b.prototype.sF=function(d){for(var c=this.dt(-1),f=-1;-1!=c;){var k=d.compare(this,c);if(0==k)return c;0>k?(f=c,c=this.ik(c)):c=this.Jo(c)}return f};b.prototype.da=function(d){return this.cb.O(d,3)};b.prototype.ik=function(d){return this.cb.O(d,0)};b.prototype.Jo=function(d){return this.cb.O(d,1)};b.prototype.getParent=function(d){return this.cb.O(d,2)};b.prototype.bb=function(d){return this.cb.O(d,6)};b.prototype.ge=function(d){return this.cb.O(d,5)};b.prototype.gc=function(d){return-1==d?this.gk(this.Ae):
this.gk(d)};b.prototype.tc=function(d){return-1==d?this.uq(this.Ae):this.uq(d)};b.prototype.hO=function(d){return-1==d?this.QC(this.Ae):this.QC(d)};b.prototype.Vi=function(d,c){this.By(d,c)};b.prototype.dt=function(d){return-1==d?this.MC(this.Ae):this.MC(d)};b.prototype.clear=function(){this.cb.Nh(!1);this.Ae=-1};b.prototype.size=function(d){return-1==d?this.OC(this.Ae):this.OC(d)};b.prototype.pK=function(d,c){for(var f=c[7*d],k=c[7*d+1],a=c[7*d+4];-1!=f||-1!=k;){var b=-1!=f?c[7*f+4]:2147483647,k=
-1!=k?c[7*k+4]:2147483647;if(a<=Math.min(b,k))break;b<=k?this.oF(f,c):this.nF(d,c);f=c[7*d];k=c[7*d+1]}};b.prototype.Fv=function(d,c){if(this.Ct)for(var f=c[7*d+4],k=c[7*d+2];-1!=k&&c[7*k+4]>f;)c[7*k]==d?this.oF(d,c):this.nF(k,c),k=c[7*d+2]};b.prototype.nF=function(d,c){var f=c[7*d+1],k;c[7*f+2]=c[7*d+2];c[7*d+2]=f;k=c[7*f];c[7*d+1]=k;-1!=k&&(c[7*k+2]=d);c[7*f]=d;k=c[7*f+2];-1!=k&&(c[7*k]==d?c[7*k]=f:c[7*k+1]=f)};b.prototype.oF=function(d,c){var f=c[7*d+2],k;c[7*d+2]=c[7*f+2];c[7*f+2]=d;k=c[7*d+1];
c[7*f]=k;-1!=k&&(c[7*k+2]=f);c[7*d+1]=f;k=c[7*d+2];-1!=k&&(c[7*k]===f?c[7*k]=d:c[7*k+1]=d)};b.prototype.Tj=function(d,c){this.cb.L(d,2,c)};b.prototype.Gy=function(d,c){this.cb.L(d,0,c)};b.prototype.Ky=function(d,c){this.cb.L(d,1,c)};b.prototype.Jy=function(d,c){this.cb.L(d,5,c)};b.prototype.Gu=function(d,c){this.cb.L(d,6,c)};b.prototype.VF=function(d,c){this.cb.L(c,0,d)};b.prototype.mS=function(d){this.cb.L(d,4,0)};b.prototype.oS=function(d,c){this.cb.L(c,5,d)};b.prototype.MC=function(d){return-1==
d?-1:this.cb.O(d,0)};b.prototype.gk=function(d){return-1==d?-1:this.cb.O(d,1)};b.prototype.uq=function(d){return-1==d?-1:this.cb.O(d,2)};b.prototype.xN=function(d){return-1==d?-1:this.cb.O(d,3)};b.prototype.OC=function(d){return-1==d?0:this.cb.O(d,4)};b.prototype.QC=function(d){return this.cb.O(d,5)};b.prototype.ou=function(d){return this.cb.Pj([-1,-1,-1,d,this.ck(),-1,-1])};b.prototype.bk=function(d){-1!=d&&this.cb.Jc(d)};b.prototype.ck=function(){this.Ol=a.I.$x(this.Ol);return this.Ol&1073741823};
b.prototype.MA=function(d,c,f){var k=this.cb.f;if(-1==f||-1==k[7*f])return d=this.cb.Pj([-1,-1,-1,d,this.ck(),-1,-1]),k=this.cb.f,k[7*f]=d,this.mo(-1,d,f,k),d;for(var a=-1==f?-1:k[7*f];;){var b=-1==c?1:this.Qm.compare(this,d,a);if(0>b)if(b=this.ik(a),-1!=b)a=b;else{c=a;d=this.cb.Pj([-1,-1,a,d,this.ck(),-1,-1]);k=this.cb.f;k[7*a]=d;break}else{if(1==c&&0==b)return k[7*f+3]=a,-1;b=k[7*a+1];if(-1!=b)a=b;else{c=k[7*a+6];d=this.cb.Pj([-1,-1,a,d,this.ck(),-1,-1]);k=this.cb.f;k[7*a+1]=d;break}}}this.Fv(d,
k);-1===k[7*d+2]&&(k[7*f]=d);this.mo(c,d,f,k);return d};b.prototype.mo=function(d,c,f,k){var a;-1!=d?(a=k[7*d+5],k[7*d+5]=c):a=-1==f?-1:k[7*f+2];k[7*c+5]=a;-1!=a&&(k[7*a+6]=c);k[7*c+6]=d;d==(-1==f?-1:k[7*f+1])&&(k[7*f+1]=c);-1==d&&(k[7*f+2]=c);k[7*f+4]=(-1==f?0:k[7*f+4])+1};b.prototype.ry=function(d,c){var f=this.cb.f,k=f[7*d+5];d=f[7*d+6];-1!=k?f[7*k+6]=d:f[7*c+1]=d;-1!=d?f[7*d+5]=k:f[7*c+2]=k;f[7*c+4]=-1===c?-1:f[7*c+4]-1};b.prototype.$S=function(d,c){this.ry(d,c);var f=this.ik(d),k=this.Jo(d),
t=this.getParent(d),b=d;if(-1!=f&&-1!=k){this.Ol=a.I.$x(this.Ol);var n;n=1073741823<this.Ol?this.bb(d):this.ge(d);var e=this.getParent(n)==d;this.cb.Pu(d,n,0);this.cb.Pu(d,n,1);this.cb.Pu(d,n,2);-1!=t?this.ik(t)==d?this.Gy(t,n):this.Ky(t,n):this.VF(n,c);e?(f==n?(this.Gy(n,d),this.Tj(k,n)):k==n&&(this.Ky(n,d),this.Tj(f,n)),this.Tj(d,n),t=n):(this.Tj(f,n),this.Tj(k,n),t=this.getParent(d),b=n);f=this.ik(d);k=this.Jo(d);-1!=f&&this.Tj(f,d);-1!=k&&this.Tj(k,d)}f=-1!=f?f:k;-1==t?this.VF(f,c):this.ik(t)==
b?this.Gy(t,f):this.Ky(t,f);-1!=f&&this.Tj(f,t);this.bk(d,c)};b.prototype.eM=function(d,c){var f=this.cb.f;f[7*d+4]=2147483647;var k=-1,a=-1,b=-1===c?-1:f[7*c],n=b==d;n&&(k=f[7*b],a=f[7*b+1],-1==k&&-1==a)?(this.ry(b,c),this.bk(b,c),f[7*c]=-1):(this.pK(d,f),b=f[7*d+2],-1!=b&&(f[7*b]==d?f[7*b]=-1:f[7*b+1]=-1),this.ry(d,c),this.bk(d,c),n&&(f[7*c]=-1==k||-1!=f[7*k+2]?a:k))};b.prototype.By=function(d,c){this.cb.L(d,3,c)};return b}();a.bj=b})(z||(z={}));(function(a){var b=function(){function b(d,c){void 0!==
d&&this.K(d,c)}b.prototype.K=function(d,c){this.qa=d;this.va=c;this.normalize()};b.prototype.normalize=function(){if(!isNaN(this.qa)){if(this.qa>this.va){var d=this.qa;this.qa=this.va;this.va=d}isNaN(this.va)&&this.Ja()}};b.prototype.Ja=function(){this.va=this.qa=NaN};b.prototype.s=function(){return isNaN(this.qa)};b.prototype.Db=function(d){"number"===typeof d?this.s()?this.va=this.qa=d:this.Oj(d):d.s()||(this.s()?(this.qa=d.qa,this.va=d.va):(this.qa>d.qa&&(this.qa=d.qa),this.va<d.va&&(this.va=d.va),
this.qa>this.va&&this.Ja()))};b.prototype.Oj=function(d){d<this.qa?this.qa=d:d>this.va&&(this.va=d)};b.prototype.contains=function(d){return"number"===typeof d?d>=this.qa&&d<=this.va:d.qa>=this.qa&&d.va<=this.va};b.prototype.Ga=function(d){this.s()||d.s()?this.Ja():(this.qa<d.qa&&(this.qa=d.qa),this.va>d.va&&(this.va=d.va),this.qa>this.va&&this.Ja())};b.prototype.P=function(d){this.s()||(this.qa-=d,this.va+=d,this.va<this.qa&&this.Ja())};b.prototype.lv=function(){return this.s()?2.220446049250313E-14:
2.220446049250313E-14*(Math.abs(this.qa)+Math.abs(this.va)+1)};b.prototype.yy=function(d,c){d>c?(this.qa=c,this.va=d):(this.qa=d,this.va=c)};b.prototype.Sy=function(d){return a.I.Kr(d,this.qa,this.va)};b.prototype.aa=function(){return this.va-this.qa};b.prototype.Af=function(){return.5*(this.qa+this.va)};b.prototype.lc=function(d){return d==this?!0:d instanceof b?this.s()&&d.s()?!0:this.qa!=d.qa||this.va!=d.va?!1:!0:!1};b.prototype.hc=function(){return a.I.Rh(a.I.Rh())};return b}();a.Nd=b})(z||(z=
{}));(function(a){var b=new a.Nd,n=new a.Nd,d=function(){return function(){this.Zd=null;this.Lf=-1;this.ib=new a.yb;this.ux=55555555;this.Et=this.Ft=!1;this.$h=new a.Nd;this.$h.yy(0,0)}}();a.XT=d;var c=function(){function c(c,f,b){this.a=c;this.Mj=NaN;this.mE=this.sp=0;this.nE=NaN;this.ka=f;this.tp=10*f;this.oE=this.pE=NaN;this.Zf=!1;this.Cl=this.mr=this.un=this.gr=this.fr=-1;this.lx=b;this.Rx=new d;this.vE=new d;a.I.truncate(3*c.pd/2)}c.prototype.$C=function(c,f,d,a){c.Zd=null===a?null:a[d[5*f]];
c.Et=null!=c.Zd;c.Et||(a=d[5*f+2],-1!==a&&this.a.gR(d[5*f],d[5*a],c.ib),c.Zd=c.ib,c.$h.yy(c.ib.na,c.ib.la),c.$h.va+=this.ka,c.ib.KE(),c.Ft=c.ib.ha==c.ib.ja,c.Ft||(c.ux=(c.ib.la-c.ib.na)/(c.ib.ha-c.ib.ja)))};c.prototype.tL=function(c,f){var d=c.fq(f,this.ka,!0);if(0!=d)return 2==d?this.aw():this.Oh();c.ht(I);c.uw(Q);f.ht(O);f.uw(Y);M.ma(this.sp,this.Mj);I.ub(O)&&this.Mj==I.y?0>Q.compare(Y)?M.J(Q):M.J(Y):I.ub(Y)&&this.Mj==I.y?0>Q.compare(O)?M.J(Q):M.J(O):O.ub(Q)&&this.Mj==O.y?0>I.compare(Y)?M.J(I):
M.J(Y):Q.ub(Y)&&this.Mj==Q.y&&(0>I.compare(O)?M.J(I):M.J(O));return c.xe(M.y,M.x)<f.xe(M.y,M.x)?-1:1};c.prototype.rL=function(c,f){if(c.ib.ja==f.ib.ja&&c.ib.na==f.ib.na)return c.ib.ha==f.ib.ha&&c.ib.la==f.ib.la?this.lx?this.aw():0:this.HB(c,f);if(c.ib.ha==f.ib.ha&&c.ib.la==f.ib.la)return this.GB(c,f);var d=this.GB(c,f);c=this.HB(c,f);return 0>d&&0>c?-1:0<d&&0<c?1:this.Oh()};c.prototype.mL=function(c,f){if(c.la>f.la){if(f.la>f.na&&f.ha-f.ja<2*this.ka&&c.Kh(f.la,f.ha,this.ka))return this.Oh()}else if((f.ha-
f.ja)/(f.la-f.na)*(c.la-c.na)<this.tp&&f.Kh(c.la,c.ha,this.ka))return this.Oh();return 1};c.prototype.nL=function(c,f){if(c.na<f.na){if(f.la>f.na&&f.ha-f.ja<2*this.ka&&c.Kh(f.la,f.ha,this.ka))return this.Oh()}else if((f.ha-f.ja)/(f.la-f.na)*(c.na-c.la)<this.tp&&f.Kh(c.na,c.ja,this.ka))return this.Oh();return-1};c.prototype.oL=function(c,f){var d=new a.b;d.pc(f.oc(),f.Mb());d.Kp();d.normalize();var k=new a.b;k.pc(c.Mb(),f.Mb());var t=new a.b;t.pc(c.oc(),f.Mb());var k=k.ml(d),d=t.ml(d),t=Math.abs(k),
b=Math.abs(d);if(t<b){if(t<this.tp&&f.Kh(c.na,c.ja,this.ka))return this.Oh()}else if(b<this.tp&&f.Kh(c.la,c.ha,this.ka))return this.Oh();return 0>k&&0>d?-1:0<k&&0<d?1:this.Oh()};c.prototype.FB=function(c,f){return c.ja==f.ja&&c.na==f.na?this.mL(c,f):c.ha==f.ha&&c.la==f.la?this.nL(c,f):this.oL(c,f)};c.prototype.qL=function(c,f){return c.ha==f.ha&&c.la==f.la&&c.ja==f.ja&&c.na==f.na?this.lx?this.aw():0:this.Oh()};c.prototype.GB=function(c,f){var d=1;if(c.ib.ja<f.ib.ja){var d=-1,k=c;c=f;f=k}k=c.ib;c=
f.ib;var a=k.na-c.na;f=f.ux*(k.ja-c.ja);var t=this.tp;return a<f-t?-d:a>f+t?d:c.Kh(k.na,k.ja,this.ka)?this.Oh():a<f?-d:d};c.prototype.HB=function(c,f){var d=1;if(f.ib.ha<c.ib.ha){var d=-1,k=c;c=f;f=k}k=c.ib;c=f.ib;var a=k.la-c.na;f=f.ux*(k.ha-c.ja);var t=this.tp;return a<f-t?-d:a>f+t?d:c.Kh(k.la,k.ha,this.ka)?this.Oh():a<f?-d:d};c.prototype.aw=function(){this.Zf=!0;this.ei=new a.wd(5,this.un,this.mr);return-1};c.prototype.Oh=function(){this.Zf=!0;this.lx?this.ei=new a.wd(4,this.un,this.mr):this.mr=
this.un=this.gr=this.fr=-1;return-1};c.prototype.sL=function(c,f,d,a){if(this.Zf)return-1;var k=this.nE==this.Mj&&this.mE==this.sp,t;k&&c==this.fr?t=this.oE:(t=NaN,this.fr=-1);k&&f==this.gr?k=this.pE:(k=NaN,this.gr=-1);d.Zd.XE(b);a.Zd.XE(n);if(b.va<n.qa)return-1;if(n.va<b.qa)return 1;this.nE=this.Mj;this.mE=this.sp;isNaN(t)&&(this.fr=c,this.oE=t=c=d.Zd.xe(this.Mj,this.sp));isNaN(k)&&(this.gr=f,this.pE=k=c=a.Zd.xe(this.Mj,this.sp));return Math.abs(t-k)<=this.ka?this.tL(d.Zd,a.Zd):t<k?-1:t>k?1:0};c.prototype.lq=
function(){this.Zf=!1};c.prototype.rl=function(){return this.ei};c.prototype.XF=function(c,f){this.Mj=c;this.sp=f;this.mr=this.un=this.gr=this.fr=-1};c.prototype.compare=function(c,f,d){if(this.Zf)return-1;c=c.da(d);this.Cl=d;return this.JB(f,f,c,c)};c.prototype.JB=function(c,f,d,a){var k;this.un==f?k=this.Rx:(this.un=f,k=this.Rx,this.Rx.Lf=c,this.$C(k,f,this.a.cd.f,this.a.Ge));var t;null==t&&(this.mr=a,t=this.vE,this.vE.Lf=d,this.$C(t,a,this.a.cd.f,this.a.Ge));if(k.Et||t.Et)return this.sL(f,a,k,
t);if(k.$h.va<t.$h.qa)return-1;if(t.$h.va<k.$h.qa)return 1;c=k.Ft?1:0;c|=t.Ft?2:0;return 0==c?this.rL(k,t):1==c?this.FB(k.ib,t.ib):2==c?-1*this.FB(t.ib,k.ib):this.qL(k.ib,t.ib)};return c}();a.hA=c})(z||(z={}));(function(a){var b=function(){function b(d,c){this.a=d;this.ka=c;this.Zf=!1;this.un=-1;this.$h=new a.Nd;this.pp=new a.b;this.pp.Eh();this.Vd=new a.yb;this.Cl=-1;this.Cx=1.7976931348623157E308}b.prototype.lq=function(){this.Zf=!1;this.Cx=1.7976931348623157E308};b.prototype.bh=function(d){this.pp.J(d)};
b.prototype.compare=function(d,c){return this.KB(c,d.da(c))};b.prototype.KB=function(d,c){var f=null!=this.a.cc(c);f||(this.a.Oc(c,this.Vd),this.$h.yy(this.Vd.na,this.Vd.la));if(f)throw a.g.ra("not implemented");if(this.pp.x+this.ka<this.$h.qa)return-1;if(this.pp.x-this.ka>this.$h.va)return 1;if(this.Vd.ja==this.Vd.ha)return this.Cl=d,this.Zf=!0,0;this.Vd.KE();c=this.Vd.Mb();f=new a.b;f.pc(this.Vd.oc(),c);f.Kp();var k=new a.b;k.pc(this.pp,c);c=f.ml(k);c/=f.length();return c<10*-this.ka?-1:c>10*this.ka?
1:this.Vd.Eq(this.pp,this.ka)&&(f=Math.abs(c),f<this.Cx&&(this.Cl=d,this.Cx=f),this.Zf=!0,f<.25*this.ka)?0:0>c?-1:1};return b}();a.JI=b})(z||(z={}));(function(a){function b(d,c,f,k){f=new Float64Array(d.subarray(f,k));d.set(f,c)}var e=function(){function d(c){this.Sa=this.Xf=!1;this.f=[];var f=c;2>f&&(f=2);this.f=a.I.Lh(f,d.ob);this.size=c}d.Yc=function(c,f){d.ob=f;c=new d(c);d.ob=0;return c};d.lj=function(c){var f=new d(0);f.f=c.f.slice(0);f.size=c.size;return f};d.V=function(c,f){var k=new d(0);
k.size=c.size;k.size>f&&(k.size=f);k.f=c.f.slice(0,k.size);return k};d.prototype.xb=function(){};d.prototype.read=function(c){return this.f[c]};d.prototype.ec=function(c,f){f.x=this.f[c];f.y=this.f[c+1]};d.prototype.get=function(c){return this.f[c]};d.prototype.write=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.set=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.Rn=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.add=function(c){this.resize(this.size+
1);this.f[this.size-1]=c};d.prototype.Ip=function(c){return d.V(this,c)};d.prototype.Bh=function(c){return this.read(c)};d.prototype.resize=function(c,f){void 0===f&&(f=0);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");if(c<=this.size){if(a.I.truncate(5*c/4)<this.f.length){var d=this.f.slice(0,c);this.f=d}}else if(c>this.f.length){a.I.truncate(64>c?Math.max(2*c,4):5*c/4);for(var d=this.f.slice(0),t=this.f.length;t<c;t++)d[t]=f;this.f=d}this.size=c};d.prototype.cf=
function(c){(null==this.f||c>this.f.length)&&this.resize(c);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");this.size=c};d.prototype.Uk=function(c,f){this.write(c,f)};d.prototype.jj=function(c,f,d){for(var k=this.size;f<k&&f<d;f++)c=a.I.Rh(this.read(f));return c};d.prototype.lc=function(c,f,k){if(null==c||!(c instanceof d))return!1;var a=this.size,b=c.size;if(k>a||k>b&&a!=b)return!1;for(k>a&&(k=a);f<k;f++)if(this.read(f)!=c.read(f))return!1;return!0};d.prototype.nk=
function(c,f,d,t,b,e,n){if(this.Sa)throw a.g.xa();if(!b&&(1>e||0!=t%e))throw a.g.N();var k=this.size-n;k<t&&this.resize(this.size+t-k);for(k=0;k<n-c;k++)this.f[c+t+k]=this.f[c+k];this.f==f.f&&c<d&&(d+=t);if(b)for(k=0;k<t;k++)this.f[k+c]=f.f[d+k];else for(b=t,n=0;n<t;n+=e)for(b-=e,k=0;k<e;k++)this.f[c+n+k]=f.f[d+b+k]};d.prototype.ul=function(c,f,d,t){if(this.Sa)throw a.g.xa();t-=c;for(var k=this.f.slice(c,c+t),b=0;b<t;b++)this.f[c+d+b]=k[b];for(t=0;t<d;t++)this.f[c+t]=f};d.prototype.lg=function(c,
f,d){if(this.Sa)throw a.g.xa();for(var k=this.f.slice(c,c+(d-c)),b=0;b<d-c;b++)this.f[b+c+2]=k[b];this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.km=function(c,f,d,t,b,e){if(0>c||0>f||0>t)throw a.g.N();if(!b&&(0>=e||0!=f%e))throw a.g.N();if(d.size<t+f)throw a.g.N();if(0!=f)if(this.size<f+c&&this.resize(f+c),d==this)this.xi(c,f,t,b,e);else if(b)for(b=0;b<f;b++)this.f[c]=d.f[t],c++,t++;else if(t=t+f-e,1==e)for(b=0;b<f;b++)this.f[c]=d.f[t],c++,t--;else for(b=0,f=a.I.truncate(f/e);b<f;b++){for(var k=0;k<e;k++)this.f[c+
k]=d.f[t+k];c+=e;t-=e}};d.prototype.oj=function(c,f,d){if(this.Sa)throw a.g.xa();if(c+f>this.size)throw a.g.xa();if(0<d-(c+f)){d-=c+f;for(var k=this.f.slice(c+f,c+d+f),b=0;b<d;b++)this.f[c+b]=k[b]}this.size-=f};d.prototype.Jp=function(c,f,d){if(this.Sa)throw a.g.xa();if(1>d||0!=f%d)throw a.g.xa();for(var k=f>>1,b=0;b<k;b+=d){f-=d;for(var e=0;e<d;e++){var n=this.f[c+b+e];this.f[c+b+e]=this.f[c+f+e];this.f[c+f+e]=n}}};d.prototype.dh=function(c,f,d){if(0>f||0>d||0>f||d+f>this.size)throw a.g.N();for(var k=
f;k<f+d;k++)this.f[k]=c};d.prototype.xi=function(c,f,d,t,b){if(!t||c!=d){for(var k=0;k<f;k++)this.f[c+k]=this.f[d+k];if(!t)for(d=c,c=c+f-b,t=0,f=a.I.truncate(f/2);t<f;t++){for(k=0;k<b;k++){var A=this.f[d+k];this.f[d+k]=this.f[c+k];this.f[c+k]=A}d+=b;c-=b}}};d.prototype.$p=function(c,f,d,t,b){if(0>c||0>f||0>t)throw a.g.N();if(0!=f)for(this.size<(f<<1)+c&&this.resize((f<<1)+c),b||(c+=f-1<<1),b=b?2:-2,f+=t;t<f;t++)this.f[c]=d[t].x,this.f[c+1]=d[t].y,c+=b};d.prototype.Hp=function(c,f,d,t,b){if(0>c||0>
f||0>t||this.size<f+c)throw a.g.N();if(b)for(b=0;b<f;b++)d[t+b]=this.f[c+b];else for(t=t+f-1;c<f;c++)d[t]=this.f[c],t--};d.prototype.clear=function(c){c?this.resize(0):this.cf(0)};d.prototype.xd=function(c,f,d){var k=this.f.slice(0,c),a=this.f.slice(f);c=this.f.slice(c,f).sort(d);this.f.length=0;this.f.push.apply(this.f,k.concat(c).concat(a))};d.prototype.Qh=function(){return 1};d.ob=0;return d}();a.qd=e;e=function(){function d(c){this.Sa=this.Xf=!1;this.f=null;var f=c;2>f&&(f=2);this.f=new Float64Array(f);
this.size=c}d.Yc=function(c,f){var k=new d(c),a=k.f;2>c&&(c=2);if(0!==f)for(var b=0;b<c;b++)a[b]=f;return k};d.lj=function(c){var f=new d(0);f.f=new Float64Array(c.f);f.size=c.size;return f};d.V=function(c,f){var k=new d(0);k.size=c.size;k.size>f&&(k.size=f);f=k.size;2>f&&(f=2);k.f=new Float64Array(f);k.f.set(c.f.length<=f?c.f:c.f.subarray(0,f),0);return k};d.prototype.xb=function(c){0>=c||(null==this.f?this.f=new Float64Array(c):c<=this.f.length||(0<this.f.length?(c=new Float64Array(c),c.set(this.f),
this.f=c):this.f=new Float64Array(c)))};d.prototype.read=function(c){return this.f[c]};d.prototype.ec=function(c,f){f.x=this.f[c];f.y=this.f[c+1]};d.prototype.get=function(c){return this.f[c]};d.prototype.write=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.set=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.Rn=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.add=function(c){this.resize(this.size+1);this.f[this.size-1]=c};d.prototype.Ip=
function(c){return d.V(this,c)};d.prototype.Bh=function(c){return this.read(c)};d.prototype.resize=function(c,f){void 0===f&&(f=0);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");if(c<=this.size){if(30<this.f.length&&5*c/4<this.f.length){var d=new Float64Array(this.f,0,c);this.f=d}}else{c>this.f.length&&(d=a.I.truncate(64>c?Math.max(2*c,4):5*c/4),d=new Float64Array(d),d.set(this.f),this.f=d);for(var d=this.f,t=this.size;t<c;t++)d[t]=f}this.size=c};d.prototype.cf=
function(c){(null==this.f||c>this.f.length)&&this.resize(c);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");this.size=c};d.prototype.Uk=function(c,f){this.write(c,f)};d.prototype.jj=function(c,f,d){for(var k=this.size;f<k&&f<d;f++)c=a.I.Rh(this.read(f));return c};d.prototype.lc=function(c,f,k){if(null==c||!(c instanceof d))return!1;var a=this.size,b=c.size;if(k>a||k>b&&a!=b)return!1;for(k>a&&(k=a);f<k;f++)if(this.read(f)!=c.read(f))return!1;return!0};d.prototype.nk=
function(c,f,d,t,A,e,n){if(this.Sa)throw a.g.xa();if(!A&&(1>e||0!=t%e))throw a.g.N();var k=this.size-n;k<t&&this.resize(this.size+t-k);b(this.f,c+t,c,c+(n-c));this.f==f.f&&c<d&&(d+=t);if(A)this.f.set(f.f.subarray(d,d+t),c);else for(A=t,n=0;n<t;n+=e)for(A-=e,k=0;k<e;k++)this.f[c+n+k]=f.f[d+A+k]};d.prototype.ul=function(c,f,d,t){if(this.Sa)throw a.g.xa();t-=c;b(this.f,c+t,c,c+t);for(t=0;t<d;t++)this.f[c+t]=f};d.prototype.lg=function(c,f,d){if(this.Sa)throw a.g.xa();b(this.f,c+2,c,c+(d-c));this.f[c]=
f.x;this.f[c+1]=f.y};d.prototype.km=function(c,f,d,t,b,e){if(0>c||0>f||0>t)throw a.g.N();if(!b&&(0>=e||0!=f%e))throw a.g.N();if(d.size<t+f)throw a.g.N();if(0!=f)if(this.size<f+c&&this.resize(f+c),d==this)this.xi(c,f,t,b,e);else if(b)for(b=0;b<f;b++)this.f[c]=d.f[t],c++,t++;else if(t=t+f-e,1==e)for(b=0;b<f;b++)this.f[c]=d.f[t],c++,t--;else for(b=0,f=a.I.truncate(f/e);b<f;b++){for(var k=0;k<e;k++)this.f[c+k]=d.f[t+k];c+=e;t-=e}};d.prototype.oj=function(c,f,d){if(this.Sa)throw a.g.xa();if(c+f>this.size)throw a.g.xa();
0<d-(c+f)&&b(this.f,c,c+f,c+(d-(c+f))+f);this.size-=f};d.prototype.Jp=function(c,f,d){if(this.Sa)throw a.g.xa();if(1>d||0!=f%d)throw a.g.xa();for(var k=f>>1,b=0;b<k;b+=d){f-=d;for(var e=0;e<d;e++){var n=this.f[c+b+e];this.f[c+b+e]=this.f[c+f+e];this.f[c+f+e]=n}}};d.prototype.dh=function(c,f,d){if(0>f||0>d||0>f||d+f>this.size)throw a.g.N();for(var k=f;k<f+d;k++)this.f[k]=c};d.prototype.xi=function(c,f,d,t,b){if(!t||c!=d)if(this.f.set(this.f.subarray(d,d+f),c),!t)for(d=c,c=c+f-b,t=0,f=a.I.truncate(f/
2);t<f;t++){for(var k=0;k<b;k++){var A=this.f[d+k];this.f[d+k]=this.f[c+k];this.f[c+k]=A}d+=b;c-=b}};d.prototype.$p=function(c,f,d,t,b){if(0>c||0>f||0>t)throw a.g.N();if(0!=f)for(this.size<(f<<1)+c&&this.resize((f<<1)+c),b||(c+=f-1<<1),b=b?2:-2,f+=t;t<f;t++)this.f[c]=d[t].x,this.f[c+1]=d[t].y,c+=b};d.prototype.Hp=function(c,f,d,t,b){if(0>c||0>f||0>t||this.size<f+c)throw a.g.N();if(b)for(b=0;b<f;b++)d[t+b]=this.f[c+b];else for(t=t+f-1;c<f;c++)d[t]=this.f[c],t--};d.prototype.clear=function(c){c?this.resize(0):
this.cf(0)};d.prototype.xd=function(c,f,d){Array.prototype.sort.call(this.f.subarray(c,f),d)};d.prototype.Qh=function(){return 1};return d}();a.QG=e})(z||(z={}));!0===z.ah.Sk&&!0===z.ah.it&&(z.qd=z.QG);(function(a){function b(d,c,f,k){f=new Int32Array(d.subarray(f,k));d.set(f,c)}a.tT=function(){return function(){this.random=1973}}();var e=function(){function d(c){this.Sa=this.Xf=!1;this.f=[];var f=c;2>f&&(f=2);this.f=this.f=a.I.Lh(f,d.ob);this.size=c}d.Yc=function(c,f){d.ob=f;c=new d(c);d.ob=0;return c};
d.lj=function(c){var f=new d(0);f.f=c.f.slice(0);f.size=c.size;return f};d.V=function(c,f){var k=new d(0);k.size=c.size;k.size>f&&(k.size=f);k.f=c.f.slice(0,k.size);return k};d.prototype.xb=function(){};d.prototype.read=function(c){return this.f[c]};d.prototype.ec=function(c,f){f.x=this.f[c];f.y=this.f[c+1]};d.prototype.get=function(c){return this.f[c]};d.prototype.write=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.set=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.Rn=
function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.add=function(c){this.resize(this.size+1);this.f[this.size-1]=c};d.prototype.Ip=function(c){return d.V(this,c)};d.prototype.Bh=function(c){return this.read(c)};d.prototype.resize=function(c,f){void 0===f&&(f=0);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");if(c<=this.size){if(a.I.truncate(5*c/4)<this.f.length){var d=this.f.slice(0,c);this.f=d}}else if(c>this.f.length){a.I.truncate(64>
c?Math.max(2*c,4):5*c/4);for(var d=this.f.slice(0),t=this.f.length;t<c;t++)d[t]=f;this.f=d}this.size=c};d.prototype.cf=function(c){(null==this.f||c>this.f.length)&&this.resize(c);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");this.size=c};d.prototype.Uk=function(c,f){this.write(c,f)};d.prototype.jj=function(c,f,d){for(var k=this.size;f<k&&f<d;f++)c=a.I.kg(this.read(f),c);return c};d.prototype.lc=function(c,f,k){if(null==c||!(c instanceof d))return!1;var a=
this.size,b=c.size;if(k>a||k>b&&a!=b)return!1;for(k>a&&(k=a);f<k;f++)if(this.read(f)!=c.read(f))return!1;return!0};d.prototype.nk=function(c,f,d,t,b,e,n){if(this.Sa)throw a.g.xa();if(!b&&(1>e||0!=t%e))throw a.g.N();for(var k=0;k<n-c;k++)this.f[c+t+k]=this.f[c+k];this.f==f.f&&c<d&&(d+=t);if(b)for(k=0;k<t;k++)this.f[k+c]=f.f[d+k];else for(b=t,n=0;n<t;n+=e)for(b-=e,k=0;k<e;k++)this.f[c+n+k]=f.f[d+b+k]};d.prototype.ul=function(c,f,d,t){if(this.Sa)throw a.g.xa();t-=c;for(var k=this.f.slice(c,c+t),b=0;b<
t;b++)this.f[c+d+b]=k[b];for(t=0;t<d;t++)this.f[c+t]=f};d.prototype.lg=function(c,f,d){if(this.Sa)throw a.g.xa();for(var k=this.f.slice(c,c+(d-c)),b=0;b<d-c;b++)this.f[b+c+2]=k[b];this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.km=function(c,f,d,t,b,e){if(0>c||0>f||0>t)throw a.g.N();if(!b&&(0>=e||0!=f%e))throw a.g.N();if(d.size<t+f)throw a.g.N();if(0!=f)if(this.size<f+c&&this.resize(f+c),d==this)this.xi(c,f,t,b,e);else if(b)for(b=0;b<f;b++)this.f[c]=d.f[t],c++,t++;else if(t=t+f-e,1==e)for(b=0;b<f;b++)this.f[c]=
d.f[t],c++,t--;else for(b=0,f=a.I.truncate(f/e);b<f;b++){for(var k=0;k<e;k++)this.f[c+k]=d.f[t+k];c+=e;t-=e}};d.prototype.oj=function(c,f,d){if(this.Sa)throw a.g.xa();if(c+f>this.size)throw a.g.xa();if(0<d-(c+f)){d-=c+f;for(var k=this.f.slice(c+f,c+d+f),b=0;b<d;b++)this.f[c+b]=k[b]}this.size-=f};d.prototype.Jp=function(c,f,d){if(this.Sa)throw a.g.xa();if(1>d||0!=f%d)throw a.g.xa();for(var k=f>>1,b=0;b<k;b+=d){f-=d;for(var e=0;e<d;e++){var n=this.f[c+b+e];this.f[c+b+e]=this.f[c+f+e];this.f[c+f+e]=
n}}};d.prototype.dh=function(c,f,d){if(0>f||0>d||0>f||d+f>this.size)throw a.g.N();for(var k=f;k<f+d;k++)this.f[k]=c};d.prototype.xi=function(c,f,d,t,b){if(!t||c!=d){for(var k=0;k<f;k++)this.f[c+k]=this.f[d+k];if(!t)for(d=c,c=c+f-b,t=0,f=a.I.truncate(f/2);t<f;t++){for(k=0;k<b;k++){var A=this.f[d+k];this.f[d+k]=this.f[c+k];this.f[c+k]=A}d+=b;c-=b}}};d.prototype.$p=function(c,f,d,t,b){if(0>c||0>f||0>t)throw a.g.N();if(0!=f)for(this.size<(f<<1)+c&&this.resize((f<<1)+c),b||(c+=f-1<<1),b=b?2:-2,f+=t;t<
f;t++)this.f[c]=d[t].x,this.f[c+1]=d[t].y,c+=b};d.prototype.Hp=function(c,f,d,t,b){if(0>c||0>f||0>t||this.size<f+c)throw a.g.N();if(b)for(b=0;b<f;b++)d[t+b]=this.f[c+b];else for(t=t+f-1;c<f;c++)d[t]=this.f[c],t--};d.prototype.clear=function(c){c?this.resize(0):this.cf(0)};d.prototype.xd=function(c,f,d){var k=this.f.slice(0,c),a=this.f.slice(f);c=this.f.slice(c,f).sort(d);this.f.length=0;this.f.push.apply(this.f,k.concat(c).concat(a))};d.prototype.Qh=function(){return 2};d.prototype.tc=function(){return this.f[this.size-
1]};d.prototype.af=function(){this.resize(this.size-1)};d.prototype.JF=function(c){this.f[this.size-1]=c};d.prototype.QE=function(c){c<this.size-1&&(this.f[c]=this.f[this.size-1]);this.resize(this.size-1)};d.prototype.Qs=function(c){for(var f=0,d=this.size;f<d;f++)if(this.f[f]==c)return f;return-1};d.prototype.Nw=function(c){return 0<=this.Qs(c)};d.ob=0;return d}();a.ga=e;e=function(){function d(c){this.Sa=this.Xf=!1;this.f=null;var f=c;2>f&&(f=2);this.f=new Int32Array(f);this.size=c}d.Yc=function(c,
f){var k=new d(c),a=k.f;2>c&&(c=2);if(0!==f)for(var b=0;b<c;b++)a[b]=f;return k};d.lj=function(c){var f=new d(0);f.f=new Int32Array(c.f);f.size=c.size;return f};d.V=function(c,f){var k=new d(0);k.size=c.size;k.size>f&&(k.size=f);f=k.size;2>f&&(f=2);k.f=new Int32Array(f);k.f.set(c.f.length<=f?c.f:c.f.subarray(0,f),0);return k};d.prototype.xb=function(c){0>=c||(null==this.f?this.f=new Int32Array(c):c<=this.f.length||(0<this.f.length?(c=new Int32Array(c),c.set(this.f),this.f=c):this.f=new Int32Array(c)))};
d.prototype.read=function(c){return this.f[c]};d.prototype.ec=function(c,f){f.x=this.f[c];f.y=this.f[c+1]};d.prototype.get=function(c){return this.f[c]};d.prototype.write=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.set=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.Rn=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.add=function(c){this.resize(this.size+1);this.f[this.size-1]=c};d.prototype.Ip=function(c){return d.V(this,c)};
d.prototype.Bh=function(c){return this.read(c)};d.prototype.resize=function(c,f){void 0===f&&(f=0);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");if(c<=this.size){if(30<this.f.length&&5*c/4<this.f.length){var d=new Int32Array(this.f,0,c);this.f=d}}else{c>this.f.length&&(d=a.I.truncate(64>c?Math.max(2*c,4):5*c/4),d=new Int32Array(d),d.set(this.f),this.f=d);for(var d=this.f,t=this.size;t<c;t++)d[t]=f}this.size=c};d.prototype.cf=function(c){(null==this.f||
c>this.f.length)&&this.resize(c);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");this.size=c};d.prototype.Uk=function(c,f){this.write(c,f)};d.prototype.jj=function(c,f,d){for(var k=this.size;f<k&&f<d;f++)c=a.I.kg(this.read(f),c);return c};d.prototype.lc=function(c,f,k){if(null==c||!(c instanceof d))return!1;var a=this.size,b=c.size;if(k>a||k>b&&a!=b)return!1;for(k>a&&(k=a);f<k;f++)if(this.read(f)!=c.read(f))return!1;return!0};d.prototype.nk=function(c,f,
d,t,A,e,n){if(this.Sa)throw a.g.xa();if(!A&&(1>e||0!=t%e))throw a.g.N();b(this.f,c+t,c,c+(n-c));this.f==f.f&&c<d&&(d+=t);if(A)this.f.set(f.f.subarray(d,d+t),c);else for(A=t,n=0;n<t;n+=e){A-=e;for(var k=0;k<e;k++)this.f[c+n+k]=f.f[d+A+k]}};d.prototype.ul=function(c,f,d,t){if(this.Sa)throw a.g.xa();t-=c;b(this.f,c+t,c,c+t);for(t=0;t<d;t++)this.f[c+t]=f};d.prototype.lg=function(c,f,d){if(this.Sa)throw a.g.xa();b(this.f,c+2,c,c+(d-c));this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.km=function(c,f,d,t,b,e){if(0>
c||0>f||0>t)throw a.g.N();if(!b&&(0>=e||0!=f%e))throw a.g.N();if(d.size<t+f)throw a.g.N();if(0!=f)if(this.size<f+c&&this.resize(f+c),d==this)this.xi(c,f,t,b,e);else if(b)for(b=0;b<f;b++)this.f[c]=d.f[t],c++,t++;else if(t=t+f-e,1==e)for(b=0;b<f;b++)this.f[c]=d.f[t],c++,t--;else for(b=0,f=a.I.truncate(f/e);b<f;b++){for(var k=0;k<e;k++)this.f[c+k]=d.f[t+k];c+=e;t-=e}};d.prototype.oj=function(c,f,d){if(this.Sa)throw a.g.xa();if(c+f>this.size)throw a.g.xa();0<d-(c+f)&&b(this.f,c,c+f,c+(d-(c+f))+f);this.size-=
f};d.prototype.Jp=function(c,f,d){if(this.Sa)throw a.g.xa();if(1>d||0!=f%d)throw a.g.xa();for(var k=f>>1,b=0;b<k;b+=d){f-=d;for(var e=0;e<d;e++){var n=this.f[c+b+e];this.f[c+b+e]=this.f[c+f+e];this.f[c+f+e]=n}}};d.prototype.dh=function(c,f,d){if(0>f||0>d||0>f||d+f>this.size)throw a.g.N();for(var k=f;k<f+d;k++)this.f[k]=c};d.prototype.xi=function(c,f,d,t,b){if(!t||c!=d)if(this.f.set(this.f.subarray(d,d+f),c),!t)for(d=c,c=c+f-b,t=0,f=a.I.truncate(f/2);t<f;t++){for(var k=0;k<b;k++){var e=this.f[d+k];
this.f[d+k]=this.f[c+k];this.f[c+k]=e}d+=b;c-=b}};d.prototype.$p=function(c,f,d,t,b){if(0>c||0>f||0>t)throw a.g.N();if(0!=f)for(this.size<(f<<1)+c&&this.resize((f<<1)+c),b||(c+=f-1<<1),b=b?2:-2,f+=t;t<f;t++)this.f[c]=d[t].x,this.f[c+1]=d[t].y,c+=b};d.prototype.Hp=function(c,f,d,t,b){if(0>c||0>f||0>t||this.size<f+c)throw a.g.N();if(b)for(b=0;b<f;b++)d[t+b]=this.f[c+b];else for(t=t+f-1;c<f;c++)d[t]=this.f[c],t--};d.prototype.clear=function(c){c?this.resize(0):this.cf(0)};d.prototype.xd=function(c,f,
k){10>f-c?d.$i(this.f,c,f,k):d.$g(this.f,c,f-1,k)};d.prototype.Qh=function(){return 2};d.prototype.tc=function(){return this.f[this.size-1]};d.prototype.af=function(){this.resize(this.size-1)};d.prototype.JF=function(c){this.f[this.size-1]=c};d.prototype.QE=function(c){c<this.size-1&&(this.f[c]=this.f[this.size-1]);this.resize(this.size-1)};d.prototype.Qs=function(c){for(var f=0,d=this.size;f<d;f++)if(this.f[f]==c)return f;return-1};d.prototype.Nw=function(c){return 0<=this.Qs(c)};d.$i=function(c,
f,d,a){for(var k=f;k<d;k++){for(var t=c[k],b=k-1;b>=f&&0<a(c[b],t);)c[b+1]=c[b],b--;c[b+1]=t}};d.Wf=function(c,f,d){var k=c[d];c[d]=c[f];c[f]=k};d.$g=function(c,f,k,a){if(!(f>=k))for(;;){if(9>k-f){d.$i(c,f,k+1,a);break}var b=c[f];d.Wf(c,f,k);for(var t=f,e=f;e<k;e++)0>=a(c[e],b)&&(d.Wf(c,t,e),t+=1);d.Wf(c,t,k);t-f<k-t?(d.$g(c,f,t-1,a),f=t+1):(d.$g(c,t+1,k,a),k=t-1)}};return d}();a.Xu=e})(z||(z={}));!0===z.ah.Sk&&(z.ga=z.Xu);(function(a){function b(d,c,f,k){f=new Int8Array(d.subarray(f,k));d.set(f,
c)}var e=function(){function d(c){this.Sa=this.Xf=!1;this.f=[];var f=c;2>f&&(f=2);this.f=a.I.Lh(f,d.ob);this.size=c}d.Yc=function(c,f){d.ob=f;c=new d(c);d.ob=0;return c};d.lj=function(c){var f=new d(0);f.f=c.f.slice(0);f.size=c.size;return f};d.V=function(c,f){var k=new d(0);k.size=c.size;k.size>f&&(k.size=f);k.f=c.f.slice(0,k.size);return k};d.prototype.xb=function(){};d.prototype.read=function(c){return this.f[c]};d.prototype.ec=function(c,f){f.x=this.f[c];f.y=this.f[c+1]};d.prototype.get=function(c){return this.f[c]};
d.prototype.write=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.set=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.Rn=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.add=function(c){this.resize(this.size+1);this.f[this.size-1]=c};d.prototype.Ip=function(c){return d.V(this,c)};d.prototype.Bh=function(c){return this.read(c)};d.prototype.resize=function(c,f){void 0===f&&(f=0);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");
if(c<=this.size){if(a.I.truncate(5*c/4)<this.f.length){var d=this.f.slice(0,c);this.f=d}}else if(c>this.f.length){a.I.truncate(64>c?Math.max(2*c,4):5*c/4);for(var d=this.f.slice(0),b=this.f.length;b<c;b++)d[b]=f;this.f=d}this.size=c};d.prototype.cf=function(c){(null==this.f||c>this.f.length)&&this.resize(c);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");this.size=c};d.prototype.Uk=function(c,f){this.write(c,f)};d.prototype.jj=function(c,f,d){for(var k=this.size;f<
k&&f<d;f++)c=a.I.kg(this.read(f),c);return c};d.prototype.lc=function(c,f,k){if(null==c||!(c instanceof d))return!1;var a=this.size,b=c.size;if(k>a||k>b&&a!=b)return!1;for(k>a&&(k=a);f<k;f++)if(this.read(f)!=c.read(f))return!1;return!0};d.prototype.nk=function(c,f,d,b,e,n,g){if(this.Sa)throw a.g.xa();if(!e&&(1>n||0!=b%n))throw a.g.N();for(var k=0;k<g-c;k++)this.f[c+b+k]=this.f[c+k];this.f==f.f&&c<d&&(d+=b);if(e)for(k=0;k<b;k++)this.f[k+c]=f.f[d+k];else for(e=b,g=0;g<b;g+=n)for(e-=n,k=0;k<n;k++)this.f[c+
g+k]=f.f[d+e+k]};d.prototype.ul=function(c,f,d,b){if(this.Sa)throw a.g.xa();b-=c;for(var k=this.f.slice(c,c+b),t=0;t<b;t++)this.f[c+d+t]=k[t];for(b=0;b<d;b++)this.f[c+b]=f};d.prototype.lg=function(c,f,d){if(this.Sa)throw a.g.xa();for(var k=this.f.slice(c,c+(d-c)),b=0;b<d-c;b++)this.f[b+c+2]=k[b];this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.km=function(c,f,d,b,e,n){if(0>c||0>f||0>b)throw a.g.N();if(!e&&(0>=n||0!=f%n))throw a.g.N();if(d.size<b+f)throw a.g.N();if(0!=f)if(this.size<f+c&&this.resize(f+c),
d==this)this.xi(c,f,b,e,n);else if(e)for(e=0;e<f;e++)this.f[c]=d.f[b],c++,b++;else if(b=b+f-n,1==n)for(e=0;e<f;e++)this.f[c]=d.f[b],c++,b--;else for(e=0,f=a.I.truncate(f/n);e<f;e++){for(var k=0;k<n;k++)this.f[c+k]=d.f[b+k];c+=n;b-=n}};d.prototype.oj=function(c,f,d){if(this.Sa)throw a.g.xa();if(c+f>this.size)throw a.g.xa();if(0<d-(c+f)){d-=c+f;for(var k=this.f.slice(c+f,c+d+f),b=0;b<d;b++)this.f[c+b]=k[b]}this.size-=f};d.prototype.Jp=function(c,f,d){if(this.Sa)throw a.g.xa();if(1>d||0!=f%d)throw a.g.xa();
for(var k=f>>1,b=0;b<k;b+=d){f-=d;for(var e=0;e<d;e++){var n=this.f[c+b+e];this.f[c+b+e]=this.f[c+f+e];this.f[c+f+e]=n}}};d.prototype.dh=function(c,f,d){if(0>f||0>d||0>f||d+f>this.size)throw a.g.N();for(var k=f;k<f+d;k++)this.f[k]=c};d.prototype.xi=function(c,f,d,b,e){if(!b||c!=d){for(var k=0;k<f;k++)this.f[c+k]=this.f[d+k];if(!b)for(d=c,c=c+f-e,b=0,f=a.I.truncate(f/2);b<f;b++){for(k=0;k<e;k++){var t=this.f[d+k];this.f[d+k]=this.f[c+k];this.f[c+k]=t}d+=e;c-=e}}};d.prototype.$p=function(c,f,d,b,e){if(0>
c||0>f||0>b)throw a.g.N();if(0!=f)for(this.size<(f<<1)+c&&this.resize((f<<1)+c),e||(c+=f-1<<1),e=e?2:-2,f+=b;b<f;b++)this.f[c]=d[b].x,this.f[c+1]=d[b].y,c+=e};d.prototype.Hp=function(c,f,d,b,e){if(0>c||0>f||0>b||this.size<f+c)throw a.g.N();if(e)for(e=0;e<f;e++)d[b+e]=this.f[c+e];else for(b=b+f-1;c<f;c++)d[b]=this.f[c],b--};d.prototype.clear=function(c){c?this.resize(0):this.cf(0)};d.prototype.xd=function(c,f,d){var k=this.f.slice(0,c),a=this.f.slice(f);c=this.f.slice(c,f).sort(d);this.f.length=0;
this.f.push.apply(this.f,k.concat(c).concat(a))};d.prototype.Qh=function(){return 1};d.prototype.xy=function(c,f){if(this.Sa)throw a.g.ra("invalid call. Attribute Stream is read only.");this.f[c]|=f};d.prototype.BB=function(c,f){if(this.Sa)throw a.g.ra("invalid call. Attribute Stream is read only.");this.f[c]&=~f};d.ob=0;return d}();a.Wk=e;e=function(){function d(c){this.f=null;var f=c;2>f&&(f=2);this.f=new Int8Array(f);this.size=c}d.Yc=function(c,f){var k=new d(c),a=k.f;2>c&&(c=2);if(0!==f)for(var b=
0;b<c;b++)a[b]=f;return k};d.lj=function(c){var f=new d(0);f.f=new Int8Array(c.f);f.size=c.size;return f};d.V=function(c,f){var k=new d(0);k.size=c.size;k.size>f&&(k.size=f);f=k.size;2>f&&(f=2);k.f=new Int8Array(f);k.f.set(c.f.length<=f?c.f:c.f.subarray(0,f),0);return k};d.prototype.xb=function(c){0>=c||(null==this.f?this.f=new Int8Array(c):c<=this.f.length||(0<this.f.length?(c=new Int8Array(c),c.set(this.f),this.f=c):this.f=new Int8Array(c)))};d.prototype.read=function(c){return this.f[c]};d.prototype.ec=
function(c,f){f.x=this.f[c];f.y=this.f[c+1]};d.prototype.get=function(c){return this.f[c]};d.prototype.write=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.set=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f};d.prototype.Rn=function(c,f){if(this.Sa)throw a.g.xa();this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.add=function(c){this.resize(this.size+1);this.f[this.size-1]=c};d.prototype.Ip=function(c){return d.V(this,c)};d.prototype.Bh=function(c){return this.read(c)};d.prototype.resize=
function(c,f){void 0===f&&(f=0);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");if(c<=this.size){if(30<this.f.length&&5*c/4<this.f.length){var d=new Int8Array(this.f,0,c);this.f=d}}else{c>this.f.length&&(d=a.I.truncate(64>c?Math.max(2*c,4):5*c/4),d=new Int8Array(d),d.set(this.f),this.f=d);for(var d=this.f,b=this.size;b<c;b++)d[b]=f}this.size=c};d.prototype.cf=function(c){(null==this.f||c>this.f.length)&&this.resize(c);if(this.Xf)throw a.g.ra("invalid call. Attribute Stream is locked and cannot be resized.");
this.size=c};d.prototype.Uk=function(c,f){this.write(c,f)};d.prototype.jj=function(c,f,d){for(var k=this.size;f<k&&f<d;f++)c=a.I.kg(this.read(f),c);return c};d.prototype.lc=function(c,f,k){if(null==c||!(c instanceof d))return!1;var a=this.size,b=c.size;if(k>a||k>b&&a!=b)return!1;for(k>a&&(k=a);f<k;f++)if(this.read(f)!=c.read(f))return!1;return!0};d.prototype.nk=function(c,f,d,t,e,n,g){if(this.Sa)throw a.g.xa();if(!e&&(1>n||0!=t%n))throw a.g.N();b(this.f,c+t,c,c+(g-c));this.f==f.f&&c<d&&(d+=t);if(e)this.f.set(f.f.subarray(d,
d+t),c);else for(e=t,g=0;g<t;g+=n){e-=n;for(var k=0;k<n;k++)this.f[c+g+k]=f.f[d+e+k]}};d.prototype.ul=function(c,f,d,t){if(this.Sa)throw a.g.xa();t-=c;b(this.f,c+t,c,c+t);for(t=0;t<d;t++)this.f[c+t]=f};d.prototype.lg=function(c,f,d){if(this.Sa)throw a.g.xa();b(this.f,c+2,c,c+(d-c));this.f[c]=f.x;this.f[c+1]=f.y};d.prototype.km=function(c,f,d,b,e,n){if(0>c||0>f||0>b)throw a.g.N();if(!e&&(0>=n||0!=f%n))throw a.g.N();if(d.size<b+f)throw a.g.N();if(0!=f)if(this.size<f+c&&this.resize(f+c),d==this)this.xi(c,
f,b,e,n);else if(e)for(e=0;e<f;e++)this.f[c]=d.f[b],c++,b++;else if(b=b+f-n,1==n)for(e=0;e<f;e++)this.f[c]=d.f[b],c++,b--;else for(e=0,f=a.I.truncate(f/n);e<f;e++){for(var k=0;k<n;k++)this.f[c+k]=d.f[b+k];c+=n;b-=n}};d.prototype.oj=function(c,f,d){if(this.Sa)throw a.g.xa();if(c+f>this.size)throw a.g.xa();0<d-(c+f)&&b(this.f,c,c+f,c+(d-(c+f))+f);this.size-=f};d.prototype.Jp=function(c,f,d){if(this.Sa)throw a.g.xa();if(1>d||0!=f%d)throw a.g.xa();for(var k=f>>1,b=0;b<k;b+=d){f-=d;for(var e=0;e<d;e++){var n=
this.f[c+b+e];this.f[c+b+e]=this.f[c+f+e];this.f[c+f+e]=n}}};d.prototype.dh=function(c,f,d){if(0>f||0>d||0>f||d+f>this.size)throw a.g.N();for(var k=f;k<f+d;k++)this.f[k]=c};d.prototype.xi=function(c,f,d,b,e){if(!b||c!=d)if(this.f.set(this.f.subarray(d,d+f),c),!b)for(d=c,c=c+f-e,b=0,f=a.I.truncate(f/2);b<f;b++){for(var k=0;k<e;k++){var t=this.f[d+k];this.f[d+k]=this.f[c+k];this.f[c+k]=t}d+=e;c-=e}};d.prototype.$p=function(c,f,d,b,e){if(0>c||0>f||0>b)throw a.g.N();if(0!=f)for(this.size<(f<<1)+c&&this.resize((f<<
1)+c),e||(c+=f-1<<1),e=e?2:-2,f+=b;b<f;b++)this.f[c]=d[b].x,this.f[c+1]=d[b].y,c+=e};d.prototype.Hp=function(c,f,d,b,e){if(0>c||0>f||0>b||this.size<f+c)throw a.g.N();if(e)for(e=0;e<f;e++)d[b+e]=this.f[c+e];else for(b=b+f-1;c<f;c++)d[b]=this.f[c],b--};d.prototype.clear=function(c){c?this.resize(0):this.cf(0)};d.prototype.xd=function(c,f,d){f=this.f.subarray(c,f);Array.prototype.sort.call(f,d);this.f.set(f,c)};d.prototype.xy=function(c,f){if(this.Sa)throw a.g.ra("invalid call. Attribute Stream is read only.");
this.f[c]|=f};d.prototype.BB=function(c,f){if(this.Sa)throw a.g.ra("invalid call. Attribute Stream is read only.");this.f[c]&=~f};d.prototype.Qh=function(){return 1};return d}();a.Yu=e})(z||(z={}));!0===z.ah.Sk&&(z.Wk=z.Yu);(function(a){var b=function(){function b(){}b.to=function(d,c){return a.Wk.Yc(d,c)};b.kl=function(d,c){return a.qd.Yc(d,c)};b.Sv=function(d,c,f){switch(d){case 1:d=a.qd.Yc(c,f);break;case 2:d=a.ga.Yc(c,f);break;case 4:d=a.Wk.Yc(c,f);break;default:throw a.g.wa();}return d};b.Tv=
function(d,c){return b.Sv(a.pa.Qh(d),c*a.pa.Wa(d),a.pa.ue(d))};b.Dg=function(d,c){return a.ga.Yc(d,c)};b.ay=function(d){var c,f=[];for(c=0;c<d;c++)f.push(null);return f};return b}();a.Ac=b})(z||(z={}));(function(a){var b=function(){function b(){}b.to=function(d,c){return a.Yu.Yc(d,c)};b.kl=function(d,c){return a.qd.Yc(d,c)};b.Sv=function(d,c,f){switch(d){case 1:d=a.qd.Yc(c,f);break;case 2:d=a.Xu.Yc(c,f);break;case 4:d=a.Yu.Yc(c,f);break;default:throw a.g.wa();}return d};b.Tv=function(d,c){return a.Ac.Sv(a.pa.Qh(d),
c*a.pa.Wa(d),a.pa.ue(d))};b.Dg=function(d,c){return a.Xu.Yc(d,c)};b.ay=function(d){var c,f=[];for(c=0;c<d;c++)f.push(null);return f};return b}();a.RG=b})(z||(z={}));!0===z.ah.Sk&&(z.Ac=z.RG);(function(a){a.ca=function(){return function(a){void 0===a&&(a=0);this.l=a}}()})(z||(z={}));(function(a){var b=function(){function d(){}d.nb=function(c,f){return 0<=f?d.H(c):-d.H(c)};d.H=function(c){return 0>c?-c:c};d.Ih=function(c){return 3.552713678800501E-15>c};d.Xz=function(c,f,a){return d.H(c-f)<=a*(1+(d.H(c)+
d.H(f))/2)};d.S=function(c,f){return d.Xz(c,f,3.552713678800501E-15)};d.wI=function(c){return 3.552713678800501E-15>=d.H(c)};d.Vc=function(c){return d.wI(c)};return d}();a.j=b;var e=function(){function d(){}d.Sn=function(c,f){c=b.H(c);f=b.H(f);var d=0;0!=c+f&&(c>f?(d=f/c,d=c*Math.sqrt(1+d*d)):(d=c/f,d=f*Math.sqrt(1+d*d)));return d};d.Ep=function(c,f,a,t,e){for(var k=[0,0,0],A=[0,0,0],n=0;2>=n;n++)f[n]-=c[n],a[n]-=f[n];a=k[1]*A[2]-k[2]*A[1];f=k[2]*A[0]-k[0]*A[2];k=k[0]*A[1]-k[1]*A[0];c=-1*(a*c[0]+
f*c[1]+k*c[2]);t[0]=a;t[1]=f;t[2]=k;t[3]=c;A=d.jm(t);t[0]/=A;t[1]/=A;t[2]/=A;t[3]/=A;0!=e&&(A=b.Vc(k)?b.Vc(c)?b.nb(1,f):-b.nb(1,c):b.nb(1,k),A*=b.nb(1,e),t[0]*=A,t[1]*=A,t[2]*=A,t[3]*=A)};d.Uu=function(c,f,d){d[0]=c[1]*f[2]-f[1]*c[2];d[1]=c[2]*f[0]-f[2]*c[0];d[2]=c[0]*f[1]-f[0]*c[1]};d.Qr=function(c,f){return c[0]*f[0]+c[1]*f[1]+c[2]*f[2]};d.jm=function(c){return d.Sn(d.Sn(c[0],c[1]),c[2])};d.wm=function(c,f,a,b,e,n){var k=d.n(1,c,f),t=Math.cos(f);b.l=(k+0)*t*Math.cos(a);e.l=(k+0)*t*Math.sin(a);n.l=
(k*(1-c)+0)*Math.sin(f)};d.JK=function(c,f,a,t,e,n,g){var k=d.Sn(f,a),A=1*Math.sqrt(1-c),G=A/1;if(b.S(k,0))n.l=0,e.l=b.nb(1.570796326794897,t),g.l=b.H(t)-A;else{n.l=Math.atan2(a,f);a=Math.atan2(1*t,A*k);n=Math.cos(a);var F=Math.sin(a);f=A*c/(1-c);c*=1;a=Math.atan2(t+f*F*F*F,k-c*n*n*n);3.141592653589793<b.H(a)&&(a=b.nb(3.141592653589793,a)-a);a=Math.atan(G*Math.tan(a));F=Math.sin(a);n=Math.cos(a);e.l=Math.atan2(t+f*F*F*F,k-c*n*n*n);1.570796326794897<b.H(e.l)&&(e.l=b.nb(3.141592653589793,e.l)-e.l);
a=Math.atan(G*Math.tan(e.l));F=Math.sin(a);n=Math.cos(a);g.l=(t-A*F)*Math.sin(e.l)+(k-1*n)*Math.cos(e.l)}};d.n=function(c,f,d){d=Math.sin(d);return c/Math.sqrt(1-f*d*d)};d.sr=function(c,f){return Math.atan2(Math.sin(f)*(1-c),Math.cos(f))};d.Si=function(c,f){return Math.atan2(Math.sin(f),Math.cos(f)*(1-c))};d.xn=function(c,f){if(b.Ih(c)||0==f||b.S(b.H(f),1.570796326794897))return f;var a,t,e,n,g,H,h,l,m;if(.006884661117170036>c){n=Math.sqrt(1-c);g=(1-n)/(1+n);H=g*g;h=g*H;l=g*h;a=g*l;m=g*a;t=g*m;e=
1.572916666666667*h-3.2578125*a+4.295068359375*t;n=2.142578125*l-6.071484375*m;c=3.129296875*a-11.249837239583334*t;var r=4.775276692708333*m,C=7.958636765252976*t,q=Math.cos(2*f);return f+Math.sin(2*f)*(1.5*g-.84375*h+.525390625*a-.2688395182291667*t-e+c-C+q*(2*(1.3125*H-1.71875*l+1.650146484375*m)-4*n+6*r+q*(4*e-12*c+24*C+q*(8*n-32*r+q*(16*c-80*C+q*(32*r+64*q*C))))))}n=1-c;g=c/2;H=b.H(f);h=H*d.Yr(c)/(1.570796326794897*n);l=9999;m=H;for(H=0;1E-16<l&&50>H;H++)t=d.Tk(c,m),a=(d.Lz(m,c)-g*Math.sin(2*
m)/t)/n-h,t=1/(t*t*t),e=a/t,a=m-e,l=b.H(e),m=a;return 0<=f?m:-m};d.nR=function(c,f){return b.Ih(f)?c:c*d.Yr(f)/1.570796326794897};d.W=function(c){c=d.Hz(c,6.283185307179586);return 0>c?c+6.283185307179586:3.141592653589793>b.H(c)||b.S(b.H(c),3.141592653589793)?c:c-6.283185307179586};d.Hz=function(c,f){return c-Math.floor(c/f)*f};d.gg=function(c,f){if(.006884661117170036>f){f=Math.sqrt(1-f);f=(1-f)/(1+f);var a=f*f,b=a*a;return c/(1+f)*(1+.25*a+.015625*b+.00390625*a*b)*1.570796326794897}return c*d.Yr(f)};
d.Dp=function(c,f){var a=b.nb(1,Math.sin(f));f=b.H(d.Hz(f,3.141592653589793));f=1.570796326794897>=f?f:3.141592653589793-f;var t;b.S(f,1.570796326794897)?t=f:t=Math.atan(Math.sqrt(1-c)*Math.tan(f));return t*a};d.q=function(c,f,a){if(.006884661117170036>f){f=Math.sqrt(1-f);f=(1-f)/(1+f);var k=f*f,b=f*k,e=f*b,n=f*e,g=f*n,h=f*g,l=-.7291666666666666*b+.2278645833333333*n+.03987630208333334*h,m=.615234375*e-.21533203125*g,r=-.54140625*n+.20302734375*h,C=.48876953125*g,q=-.4488699776785715*h,v=Math.cos(2*
a);return c/(1+f)*((1+.25*k+.015625*e+.00390625*g)*a+Math.sin(2*a)*(-1.5*f+.1875*b+.0234375*n+.00732421875*h-l+r-q+v*(2*(.9375*k-.234375*e-.03662109375*g)-4*m+6*C+v*(4*l-12*r+24*q+v*(8*m-32*C+v*(16*r-80*q+v*(32*C+64*v*q)))))))}return c*(d.Lz(a,f)-.5*f*Math.sin(2*a)/d.Tk(f,a))};d.Tk=function(c,f){f=Math.sin(f);return Math.sqrt(1-c*f*f)};d.Yr=function(c){return b.Xz(c,1,2.220446049250313E-16)?1:1>c?d.js(0,1-c)-c/3*d.hs(0,1-c):NaN};d.Lz=function(c,f){var k=b.nb(1,c);c=b.H(c);var t=Math.floor(c/1.570796326794897),
e;if(1<f)e=0==c?0:NaN;else if(b.Vc(t))e=d.sin(c),e=e*d.js(1-e*e,1-f*e*e)-f/3*e*e*e*d.hs(1-e*e,1-f*e*e);else{e=a.I.truncate(t%2);var n=d.Yr(f);0<e?(e=Math.sin(1.570796326794897*(t+1)-c),e=e*d.js(1-e*e,1-f*e*e)-f/3*e*e*e*d.hs(1-e*e,1-f*e*e),e=n*(t+1)-e):(e=Math.sin(c-1.570796326794897*t),e=e*d.js(1-e*e,1-f*e*e)-f/3*e*e*e*d.hs(1-e*e,1-f*e*e),e=n*t+e)}return e*k};d.sin=function(c){c=d.W(c);var f=b.nb(1,c);c=b.H(c);return b.S(c,3.141592653589793)?0:b.S(c,1.570796326794897)?1*f:Math.sin(c)*f};d.hs=function(c,
f){for(var d=1,a=0,e=1,n,g,H,h;;){n=.2*(c+f+3*d);g=(n-c)/n;H=(n-f)/n;h=(n-d)/n;if(1E-4>b.H(g)&&1E-4>b.H(H)&&1E-4>b.H(h))break;h=Math.sqrt(f);n=Math.sqrt(d);h=Math.sqrt(c)*(h+n)+h*n;a+=e/(n*(d+h));e*=.25;c=.25*(c+h);f=.25*(f+h);d=.25*(d+h)}c=g*H;d=h*h;f=c-d;d=c-6*d;g=d+f+f;return 3*a+e*(1+d*(-.2142857142857143+.10227272727272728*d-.1730769230769231*h*g)+h*(.1666666666666667*g+h*(-.4090909090909091*f+.1153846153846154*h*c)))/(n*Math.sqrt(n))};d.js=function(c,f){for(var d,a,e,n,g=1;;g=.25*(g+d)){d=(c+
f+g)/3;a=2-(d+c)/d;e=2-(d+f)/d;n=2-(d+g)/d;if(1E-4>b.H(a)&&1E-4>b.H(e)&&1E-4>b.H(n))break;d=Math.sqrt(f);a=Math.sqrt(g);d=Math.sqrt(c)*(d+a)+d*a;c=.25*(c+d);f=.25*(f+d)}c=a*e-n*n;f=a*e*n;return(1+(.04166666666666666*c-.1-.06818181818181818*f)*c+.07142857142857142*f)/Math.sqrt(d)};d.qu=function(c,f){if(b.Ih(c)||0==f||b.S(b.H(f),1.570796326794897))return f;var d,a,e;if(.006884661117170036>c){d=c*c;a=c*d;e=c*a;var n=c*e,g=c*n,H=c*g,h=-(.02708333333333333*a+.03430059523809524*e+.03149181547619048*n+.02634359154541446*
g+.02156896735835538*H),l=.007669890873015873*e+.01299603174603175*n+.0148051353064374*g+.01454454953803912*H,m=-(.002275545634920635*n+.004830845032667949*g+.006558395368616723*H),r=6.957236677288761E-4*g+.001775193002406544*H,C=-(2.17324089394402E-4*H),q=Math.cos(2*f);return f+Math.sin(2*f)*(-(.5*c+.2083333333333333*d+.09375*a+.04878472222222222*e+.02916666666666667*n+.01938905423280423*g+.01388255931712963*H)-h+m-C+q*(2*(.1041666666666667*d+.0875*a+.06050347222222222*e+.04151785714285714*n+.02958958540013228*
g+.02203667534722222*H)-4*l+6*r+q*(4*h-12*m+24*C+q*(8*l-32*r+q*(16*m-80*C+q*(32*r+64*q*C))))))}0==f||b.S(b.H(f),1.570796326794897)?d=f:(a=Math.sqrt(c),e=a*Math.sin(f),d=Math.tan(.7853981633974483+f/2)*Math.pow((1-e)/(1+e),a/2),d=2*Math.atan(d)-1.570796326794897);return d};d.$K=function(c,f){if(b.Ih(c)||0==f||b.S(b.H(f),1.570796326794897))return f;var d,a;if(.006884661117170036>c){q=c*c;m=c*q;r=c*m;d=c*r;C=c*d;a=c*C;var e=.05833333333333333*m+.07232142857142858*r+.05634300595238095*d+.0355325796406526*
C+.020235546186067*a,n=.02653149801587302*r+.04379960317460317*d+.0429211791776896*C+.03255384637546096*a,g=.01294022817460318*d+.02668104344536636*C+.03155651254609588*a,H=.00659454790965208*C+.0163075268674227*a,h=.003463473736911237*a,l=Math.cos(2*f);return f+Math.sin(2*f)*(.5*c+.2083333333333333*q+.08333333333333333*m+.03611111111111111*r+.01875*d+.01195601851851852*C+.008863673941798942*a-e+g-h+l*(2*(.1458333333333333*q+.1208333333333333*m+.07039930555555556*r+.03616071428571429*d+.01839451058201058*
C+.01017113095238095*a)-4*n+6*H+l*(4*e-12*g+24*h+l*(8*n-32*H+l*(16*g-80*h+l*(32*H+64*l*h))))))}for(var m=Math.sqrt(c),r=m/2,C=Math.tan(.7853981633974483+f/2),e=0,n=1,q=f;0!=n;q=a)if(d=m*Math.sin(q),a=C*Math.pow((1+d)/(1-d),r),a=2*Math.atan(a)-1.570796326794897,e++,b.S(a,q)||3E4<e)n=0;return q};return d}();a.u=e})(z||(z={}));(function(a){var b=function(){function b(){}b.Fb=function(d,c,f,k,b,e,n,g){if(null!=e||null!=n||null!=g){k=a.u.W(k);c=a.u.W(c);f=a.u.W(f);b=a.u.W(b);1.570796326794897<a.j.H(f)&&
(f=a.j.nb(3.141592653589793,f)-f,c=a.u.W(c+3.141592653589793));1.570796326794897<a.j.H(b)&&(b=a.j.nb(3.141592653589793,b)-b,k=a.u.W(k+3.141592653589793));var t=a.u.W(k-c);if(a.j.S(f,b)&&(a.j.S(c,k)||a.j.S(a.j.H(f),1.570796326794897)))null!=e&&(e.l=0),null!=n&&(n.l=0),null!=g&&(g.l=0);else{if(a.j.S(f,-b)){if(a.j.S(a.j.H(f),1.570796326794897)){null!=e&&(e.l=3.141592653589793*d);null!=n&&(n.l=0<f?a.u.W(3.141592653589793-a.u.W(k)):a.u.W(k));null!=g&&(g.l=0<f?a.u.W(k):a.u.W(3.141592653589793-a.u.W(k)));
return}if(a.j.S(a.j.H(t),3.141592653589793)){null!=e&&(e.l=3.141592653589793*d);null!=n&&(n.l=0);null!=g&&(g.l=0);return}}var A=1.570796326794897==a.j.H(f)?0:Math.cos(f),G=Math.sin(f),F=1.570796326794897==a.j.H(b)?0:Math.cos(b),h=Math.sin(b),l=1.570796326794897==a.j.H(t)?0:Math.cos(t),m=3.141592653589793==a.j.H(t)?0:Math.sin(t);if(null!=e){var r=Math.sin((b-f)/2),t=Math.sin(t/2);e.l=2*Math.asin(Math.sqrt(r*r+A*F*t*t))*d}null!=n&&(a.j.S(a.j.H(f),1.570796326794897)?n.l=0>f?k:a.u.W(3.141592653589793-
k):n.l=Math.atan2(F*m,A*h-G*F*l));null!=g&&(a.j.S(a.j.H(b),1.570796326794897)?g.l=0>b?c:a.u.W(3.141592653589793-c):(g.l=Math.atan2(A*m,h*A*l-F*G),g.l=a.u.W(g.l+3.141592653589793)))}}};b.gf=function(d,c,f,k,b,e,n){if(null!=e||null!=n){c=a.u.W(c);f=a.u.W(f);1.570796326794897<a.j.H(f)&&(f=a.j.nb(3.141592653589793,f)-f,c=a.u.W(c+3.141592653589793));a.j.S(a.j.H(f),1.570796326794897)&&(c=0);b=a.u.W(b);var t=a.j.S(a.j.H(b),1.570796326794897)?0:Math.cos(b),A=a.j.S(a.j.H(b),3.141592653589793)?0:Math.sin(b),
G=a.j.S(a.j.H(f),1.570796326794897)?0:Math.cos(f),g=Math.sin(f);d=k/d;k=a.j.S(a.j.H(d),1.570796326794897)?0:Math.cos(d);var h=a.j.S(a.j.H(d),3.141592653589793)?0:Math.sin(d),l=Math.asin(g*k+G*h*t);null!=n&&(n.l=l);null!=e&&(e.l=a.j.S(a.j.H(l),1.570796326794897)?a.j.S(f,-l)?0>l?b:a.u.W(3.141592653589793-b):c:a.j.S(a.j.H(f),1.570796326794897)&&a.j.S(d,3.141592653589793)?0>f?b:a.u.W(3.141592653589793-b):a.u.W(c+Math.atan2(h*A,G*k-g*h*t)))}};return b}();a.zg=b})(z||(z={}));(function(a){var b=function(){function b(){}
b.Fb=function(d,c,f,k,b,e,n,g,H){var t=new a.ca(0),A=new a.ca(0),G=[0,0,0],F=[0,0,0],h=[0,0,0],l=new a.ca(0),m=new a.ca(0),r=new a.ca(0),C=new a.ca(0),q=new a.ca(0);if(null!=n||null!=g||null!=H)if(a.j.Ih(c))a.zg.Fb(d,f,k,b,e,n,g,H);else{b=a.u.W(b);f=a.u.W(f);var v=a.u.W(b-f);if(a.j.S(k,e)&&(a.j.S(f,b)||a.j.S(a.j.H(k),1.570796326794897)))null!=n&&(n.l=0),null!=g&&(g.l=0),null!=H&&(H.l=0);else{if(a.j.S(k,-e)){if(a.j.S(a.j.H(k),1.570796326794897)){null!=n&&(n.l=2*a.u.gg(d,c));null!=g&&(g.l=0<k?a.u.W(3.141592653589793-
a.u.W(b)):a.u.W(b));null!=H&&(H.l=0<k?a.u.W(b):a.u.W(3.141592653589793-a.u.W(b)));return}a.j.S(a.j.H(v),3.141592653589793)&&(null!=n&&(n.l=2*a.u.gg(d,c)),null!=g&&(g.l=0),null!=H&&(H.l=0))}else if(a.j.S(a.j.H(k),1.570796326794897)||a.j.S(a.j.H(e),1.570796326794897))a.j.S(a.j.H(k),1.570796326794897)?f=b:b=f;var p=0,w;0>v&&(p=1,w=f,f=b,b=w,w=k,k=e,e=w);var v=a.u.sr(c,k),u=a.u.sr(c,e);if(null!=g||null!=H)a.zg.Fb(d,f,v,b,u,null,t,A),t=Math.atan2(Math.sin(t.l)*Math.cos(k-v),Math.cos(t.l)),A=Math.atan2(Math.sin(A.l)*
Math.cos(e-u),Math.cos(A.l)),0!=p&&(w=t,t=A,A=w),null!=g&&(g.l=t),null!=H&&(H.l=A);null!=n&&(a.u.wm(c,k,f,r,C,q),G[0]=r.l,G[1]=C.l,G[2]=q.l,a.u.wm(c,e,b,r,C,q),F[0]=r.l,F[1]=C.l,F[2]=q.l,h[0]=G[1]*F[2]-F[1]*G[2],h[1]=-(G[0]*F[2]-F[0]*G[2]),h[2]=G[0]*F[1]-F[0]*G[1],c=1-a.u.Tk(c,a.u.Dp(c,a.u.Si(c,Math.acos(h[2]/Math.sqrt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]))))),c*=2-c,g=Math.atan2(-h[1],-h[0]),h=a.u.W(g-1.570796326794897),g=a.u.W(g+1.570796326794897),h=a.j.H(a.u.W(f-h))<=a.j.H(a.u.W(f-g))?h:g,a.zg.Fb(1,h,
0,f,v,l,null,null),a.zg.Fb(1,h,0,b,u,m,null,null),3.141592653589793<l.l+m.l&&(h=a.u.W(h+3.141592653589793),a.zg.Fb(1,h,0,f,v,l,null,null),a.zg.Fb(1,h,0,b,u,m,null,null)),l.l*=a.j.nb(1,k),m.l*=a.j.nb(1,e),l.l=a.u.Si(c,l.l),m.l=a.u.Si(c,m.l),f=a.u.q(d,c,l.l),d=a.u.q(d,c,m.l),n.l=a.j.H(d-f))}}};b.gf=function(d,c,f,k,b,e,n,g){var t=0,A=new a.ca(0),G=new a.ca(0),F=[0,0,0],h=[0,0,0],l=new a.ca(0),m=new a.ca(0),r=new a.ca(0);if(null!=n||null!=g)if(a.j.Ih(c))a.zg.gf(d,f,k,b,e,n,g);else if(a.j.Vc(b))null!=
n&&(n.l=f),null!=g&&(g.l=k);else{e=a.u.W(e);0>b&&(b=a.j.H(b),e=a.u.W(e+3.141592653589793));f=a.u.W(f);k=a.u.W(k);1.570796326794897<a.j.H(k)&&(f=a.u.W(f+3.141592653589793),k=a.j.nb(3.141592653589793,k)-k);a.j.S(a.j.H(k),1.570796326794897)&&(f=0);var C;if(a.j.Vc(k))C=a.j.H(1.570796326794897-a.j.H(e)),C=a.u.Si(c,C),C=1-a.u.Tk(c,a.u.Dp(c,C)),C*=2-C,d=b/a.u.gg(d,C)*1.570796326794897,d=a.u.xn(C,d),d=a.u.sr(C,d),a.zg.gf(1,f,k,d,e,n,A),null!=g&&(t=A.l),null!=g&&(g.l=a.u.Si(c,t));else if(a.j.S(a.j.H(k),1.570796326794897))t=
a.u.gg(d,c),A=2*t,d=a.j.nb(1.570796326794897,k),e=0<d?a.u.W(3.141592653589793-e):e,k=t-b,a.j.H(k)<=t?null!=n&&(n.l=e):(k=Math.floor(b/A),0==a.I.truncate(k%2)?(null!=n&&(n.l=e),k=t-(b-k*A)):(null!=n&&(n.l=a.u.W(e+3.141592653589793)),k=t-((k+1)*A-b))),null!=g&&(g.l=a.u.xn(c,k/t*d));else{C=a.u.sr(c,k);e=Math.atan2(Math.sin(e),Math.cos(e)*Math.cos(k-C));var q=a.I.truncate(a.j.nb(1,C))*(1.570796326794897>=a.j.H(e)?1:-1);e=a.u.W(f+Math.atan(Math.tan(e)*-Math.sin(C)));a.zg.Fb(d,e,0,f,C,null,G,null);C=a.j.H(1.570796326794897-
a.j.H(G.l));C=a.u.Si(c,C);C=1-a.u.Tk(c,a.u.Dp(c,C));C*=2-C;a.u.wm(c,0,e,l,m,r);F[0]=l.l;F[1]=m.l;F[2]=r.l;a.u.wm(c,k,f,l,m,r);h[0]=l.l;h[1]=m.l;h[2]=r.l;k=Math.acos((F[0]*h[0]+F[1]*h[1]+F[2]*h[2])/Math.sqrt(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]));k=a.u.Si(C,k);k=a.u.q(d,C,k)+b*q;b=0<k?G.l:a.u.W(G.l+3.141592653589793);d=a.j.H(k)/a.u.gg(d,C)*1.570796326794897;d=a.u.xn(C,d);d=a.u.sr(C,d);a.zg.gf(1,e,0,d,b,n,A);null!=g&&(t=A.l);null!=g&&(g.l=a.u.Si(c,t))}}};return b}();a.Xj=b})(z||(z={}));(function(a){var b=
function(){function b(){}b.Fb=function(d,c,f,k,b,e,n,g,H){var t=0,A=0,G=0;if(null!=n||null!=g||null!=H)if(a.j.Ih(c))a.zg.Fb(d,f,k,b,e,n,g,H);else{var F=a.u.W(b-f);if(a.j.S(k,e)&&(a.j.Vc(F)||a.j.S(a.j.H(k),1.570796326794897)))null!=n&&(n.l=0),null!=g&&(g.l=0),null!=H&&(H.l=0);else{if(a.j.S(k,-e)){if(a.j.S(a.j.H(k),1.570796326794897)){null!=n&&(n.l=2*a.u.gg(d,c));null!=g&&(g.l=0<k?a.u.W(3.141592653589793-a.u.W(b)):a.u.W(b));null!=H&&(H.l=0<k?a.u.W(b):a.u.W(3.141592653589793-a.u.W(b)));return}a.j.S(a.j.H(F),
3.141592653589793)&&(null!=n&&(n.l=2*a.u.gg(d,c)),null!=g&&(g.l=0),null!=H&&(H.l=0))}else{if(a.j.S(a.j.H(k),1.570796326794897)||a.j.S(a.j.H(e),1.570796326794897)){a.Xj.Fb(d,c,f,k,b,e,n,g,H);return}if(a.j.Vc(F)||a.j.S(a.j.H(F),3.141592653589793)){a.Xj.Fb(d,c,f,k,b,e,n,g,H);return}}var h=1-Math.sqrt(1-c),l=c/(1-c),m=d*(1-h);d=a.u.Dp(c,k);var r=a.u.Dp(c,e);c=1.570796326794897==a.j.H(d)?0:Math.cos(d);var C=Math.sin(d),q=1.570796326794897==a.j.H(r)?0:Math.cos(r),v=Math.sin(r),p=F,w=Math.cos(p),u=Math.sin(p),
x=1,B=0,D,z,E,I,y;do{D=p;z=Math.sqrt(Math.pow(q*u,2)+Math.pow(c*v-C*q*w,2));E=C*v+c*q*w;I=Math.atan2(z,E);if(0==z){x=0;break}y=c*q*u/z;t=Math.cos(Math.asin(y));t*=t;A=E-2*C*v/t;1<a.j.H(A)&&(A=a.j.nb(1,A));G=A*A;p=h/16*t*(4+h*(4-3*t));p=F+(1-p)*h*y*(I+p*z*(A+p*E*(2*G-1)));w=Math.cos(p);u=Math.sin(p);B++;if(3.141592653589793<a.j.H(p)&&30<B){x=0;break}}while(5E3>=B&&!a.j.S(D,p));if(0!=x)l*=t,h=l*(256+l*(-128+l*(74-47*l)))/1024,null!=n&&(n.l=m*(1+l*(4096+l*(-768+l*(320-175*l)))/16384)*(I-h*z*(A+h/4*(E*
(2*G-1)-h/6*A*(4*z*z-3)*(4*G-3))))),null!=g&&(a.j.S(a.j.H(k),1.570796326794897)?g.l=0>k?b:a.u.W(3.141592653589793-b):g.l=Math.atan2(q*u,c*v-C*q*w)),null!=H&&(a.j.S(a.j.H(e),1.570796326794897)?H.l=0>e?f:a.u.W(3.141592653589793-f):(H.l=Math.atan2(c*u,c*v*w-C*q),H.l=a.u.W(H.l+3.141592653589793)));else{p=a.j.nb(3.141592653589793,F);E=C*v-c*q;I=Math.acos(E);z=Math.sin(I);t=1;B=y=0;do G=y,t*=t,w=t*t,y=h*t*(1+h+h*h),A=h*h*w*(1+2.25*h),x=h*h*h*w*t,w=1-.25*y+.1875*A-.1953125*x,y=.25*y-.25*A+.29296875*x,u=
.03125*A-.05859375*x,x*=.00651041666666667,A=E-2*C*v/t,1<a.j.H(A)&&(A=a.j.nb(1,A)),t=Math.acos(A),E=Math.cos(2*t),D=Math.cos(3*t),y=a.j.S(k,-e)?a.u.W(3.141592653589793-F)/(3.141592653589793*h*w):a.u.W(p-F)/(h*(w*I+y*z*A+u*Math.sin(2*I)*E+x*Math.sin(3*I)*D)),u=y*z/(c*q),p=1.570796326794897<a.j.H(F)?a.j.nb(3.141592653589793,u)-Math.asin(u):Math.asin(u),w=Math.cos(p),z=Math.sqrt(Math.pow(q*u,2)+Math.pow(c*v-C*q*w,2)),I=3.141592653589793-Math.asin(a.j.H(z)),E=Math.cos(I),t=Math.cos(Math.asin(y)),B++;
while(70>=B&&!a.j.S(G,y));null!=n&&(t*=t,l*=t,w=1+l*(4096+l*(-768+l*(320-175*l)))/16384,a.j.S(k,-e)?n.l=3.141592653589793*m*w:(A=E-2*C*v/t,t=Math.acos(A),E=Math.cos(2*t),D=Math.cos(3*t),n.l=m*(w*I+l*(-512+l*(128+l*(-60+35*l)))/2048*z*A+l*(-4+5*l)/6144*l*l*Math.sin(2*I)*E+x*Math.sin(3*I)*D+-7.62939453125E-5*l*l*l*l*Math.sin(4*I)*Math.cos(4*t))));null!=g&&(a.j.Vc(k)&&a.j.Vc(e)?(t=Math.sqrt(1-y*y),g.l=Math.acos(t),0>F&&(g.l*=-1)):a.j.S(a.j.H(k),1.570796326794897)?g.l=0>k?b:a.u.W(3.141592653589793-b):
(n=y/c,m=Math.sqrt(1-n*n),0>c*v-C*q*Math.cos(p)&&(m*=-1),g.l=Math.atan2(n,m),a.j.S(k,-e)&&a.j.H(a.u.W(f-b))>3.141592653589793*(1-h*Math.cos(k))&&(0<k&&1.570796326794897>a.j.H(g.l)||0>k&&1.570796326794897<a.j.H(g.l))&&(g.l=a.j.nb(3.141592653589793,g.l)-g.l)));if(null!=H)if(a.j.Vc(k)&&a.j.Vc(e))t=Math.sqrt(1-y*y),H.l=Math.acos(t),0<=F&&(H.l*=-1);else if(a.j.S(a.j.H(e),1.570796326794897))H.l=0>e?f:a.u.W(3.141592653589793-f);else if(F=y/q,n=Math.sqrt(1-F*F),m=Math.sin(p/2),0>Math.sin(r-d)-2*c*v*m*m&&
(n*=-1),H.l=Math.atan2(F,n),H.l=a.u.W(H.l+3.141592653589793),a.j.S(k,-e)&&!a.j.Vc(k)&&!a.j.S(a.j.H(k),1.570796326794897)&&a.j.H(a.u.W(f-b))>3.141592653589793*(1-h*Math.cos(k))&&(null!=g?m=g.l:(n=y/c,m=Math.sqrt(1-n*n),0>c*v-C*q*Math.cos(p)&&(m*=-1),m=Math.atan2(n,m),a.j.S(k,-e)&&a.j.H(a.u.W(f-b))>3.141592653589793*(1-h*Math.cos(k))&&(0<k&&1.570796326794897>a.j.H(m)||0>k&&1.570796326794897<a.j.H(m))&&(m=a.j.nb(3.141592653589793,m)-m)),1.570796326794897>=a.j.H(m)&&1.570796326794897<a.j.H(H.l)||1.570796326794897<=
a.j.H(m)&&1.570796326794897>a.j.H(H.l)))H.l=-1*a.u.W(H.l+3.141592653589793)}}}};b.gf=function(d,c,f,k,b,e,n,g){if(null!=n||null!=g)if(a.j.Ih(c))a.zg.gf(d,f,k,b,e,n,g);else if(e=a.u.W(e),a.j.S(a.j.H(k),1.570796326794897)||a.j.Vc(e)||a.j.S(a.j.H(e),3.141592653589793))a.Xj.gf(d,c,f,k,b,e,n,g);else{var t=1.570796326794897==a.j.H(e)?0:Math.cos(e),A=3.141592653589793==a.j.H(e)?0:Math.sin(e);a.j.S(a.j.H(k),1.570796326794897)&&(f=0);e=1-Math.sqrt(1-c);var G=a.u.Dp(c,k);k=1.570796326794897==a.j.H(G)?0:Math.cos(G);
var F=Math.sin(G),G=Math.atan2(Math.tan(G),t),h=k*A,l=h*h,m=1-l,r=c/(1-c)*m;c=r*(256+r*(-128+r*(74-47*r)))/1024;var C=c/4,q=c/6,v=b/(d*(1-e)*(1+r*(4096+r*(-768+r*(320-175*r)))/16384)),p=v,w;do{w=p;b=1.570796326794897==a.j.H(p)?0:Math.cos(p);var r=3.141592653589793==a.j.H(p)?0:Math.sin(p),u=r*r;d=Math.cos(2*G+p);p=d*d;p=c*r*(d+C*(b*(2*p-1)-q*d*(4*u-3)*(4*p-3)))+v}while(!a.j.S(w,p));b=1.570796326794897==a.j.H(p)?0:Math.cos(p);r=3.141592653589793==a.j.H(p)?0:Math.sin(p);null!=n&&(A=Math.atan2(r*A,k*
b-F*r*t),m=e/16*m*(4+e*(4-3*m)),d=Math.cos(2*G+p),n.l=a.u.W(f+(A-(1-m)*e*h*(p+m*r*(d+m*b*(2*d*d-1))))));null!=g&&(m=F*r-k*b*t,m=(1-e)*Math.sqrt(l+m*m),g.l=Math.atan2(F*b+k*r*t,m))}};return b}();a.cs=b})(z||(z={}));(function(a){var b=function(){function b(){}b.Fb=function(d,c,f,k,b,e,n,g,H){var t=a.u.W(b-f),A=a.j.S(a.j.H(k),1.570796326794897),G=a.j.S(a.j.H(e),1.570796326794897);if(a.j.S(k,e)&&(a.j.Vc(t)||A))null!=n&&(n.l=0),null!=g&&(g.l=0),null!=H&&(H.l=0);else{var F,h;a.j.Ih(c)?(F=Math.sin(k),h=
Math.sin(e),F=Math.sqrt((1+F)/(1-F)),h=Math.sqrt((1+h)/(1-h)),F=Math.log(h)-Math.log(F),F=Math.atan2(t,F),null!=n&&(n.l=a.j.S(k,e)?a.j.H(d*Math.cos(k)*t):a.j.H((d*e-d*k)/Math.cos(F)))):(h=a.u.qu(c,e),F=Math.sin(a.u.qu(c,k)),h=Math.sin(h),F=Math.sqrt((1+F)/(1-F)),h=Math.sqrt((1+h)/(1-h)),F=Math.log(h)-Math.log(F),F=Math.atan2(t,F),null!=n&&(a.j.S(k,e)?n.l=a.j.H(d*t*Math.cos(k)/a.u.Tk(c,k)):(t=a.u.q(d,c,k),d=a.u.q(d,c,e),n.l=a.j.H((d-t)/Math.cos(F)))));if(null!=g||null!=H)n=a.u.W(F+3.141592653589793),
A&&G||!A&&!G||(A?F=0>k?b:a.u.W(3.141592653589793-b):G&&(n=0>e?f:a.u.W(3.141592653589793-f))),null!=g&&(g.l=F),null!=H&&(H.l=n)}};b.gf=function(d,c,f,k,b,e,n,g){e=a.u.W(e);0>b&&(b=a.j.H(b),e=a.u.W(e+3.141592653589793));a.j.Ih(c)?a.j.S(a.j.H(k),1.570796326794897)?(f=0>k?e:a.u.W(3.141592653589793-e),e=b/d%6.283185307179586,3.141592653589793>=e?d=k-a.j.nb(e,k):(f=a.u.W(f+3.141592653589793),d=-k+a.j.nb(e-3.141592653589793,k))):a.j.S(a.j.H(e),1.570796326794897)?(f=a.u.W(f+a.j.nb(b,e)/(d*Math.cos(k))),d=
k):(d=k+b*Math.cos(e)/d,1.570796326794897<a.j.H(d)&&(d=1.570796326794897),a.j.S(a.j.H(d),1.570796326794897)&&(a.j.Vc(e)||a.j.S(a.j.H(e),3.141592653589793))||(1.570796316258184<a.j.H(d)&&(d=a.j.nb(1.570796316258184,d)),c=Math.sin(k),k=Math.sin(d),c=Math.sqrt((1+c)/(1-c)),k=Math.sqrt((1+k)/(1-k)),c=Math.log(k)-Math.log(c),f=a.u.W(f+Math.tan(e)*c))):a.j.S(a.j.H(k),1.570796326794897)?(f=0>k?e:a.u.W(3.141592653589793-e),e=b/a.u.nR(d,c),e%=6.283185307179586,3.141592653589793>=e?(d=k-a.j.nb(e,k),d=a.u.xn(c,
d)):(f=a.u.W(f+3.141592653589793),d=-k+a.j.nb(e-3.141592653589793,k),d=a.u.xn(c,d))):a.j.S(a.j.H(e),1.570796326794897)?(f=a.u.W(f+a.j.nb(b,e)*a.u.Tk(c,k)/(d*Math.cos(k))),d=k):(d=1.570796326794897*(b*Math.cos(e)+a.u.q(d,c,k))/a.u.gg(d,c),1.570796326794897<a.j.H(d)&&(d=a.j.nb(1.570796326794897,d)),d=a.u.xn(c,d),a.j.S(a.j.H(d),1.570796326794897)&&(a.j.Vc(e)||a.j.S(a.j.H(e),3.141592653589793))||(b=a.u.qu(c,k),k=a.u.qu(c,d),1.570796316258184<a.j.H(k)&&(k=a.j.nb(1.570796316258184,d),d=a.u.$K(c,k)),c=Math.sin(b),
k=Math.sin(k),c=Math.sqrt((1+c)/(1-c)),k=Math.sqrt((1+k)/(1-k)),c=Math.log(k)-Math.log(c),f=a.u.W(f+Math.tan(e)*c)));null!=n&&(n.l=f);null!=g&&(g.l=d)};return b}();a.Zz=b})(z||(z={}));(function(a){var b=function(){function b(){}b.gw=function(d,c,f,k,b,e,n){a.cs.Fb(d,c,f,k,b,e,null,n,null)};b.Ph=function(d,c,f,k,b,e,n,g){a.cs.gf(d,c,f,k,b,e,n,g)};b.Rd=function(d,c,f,k,b,e,n,g,H,h){switch(h){case 2:a.Xj.Fb(d,c,f,k,b,e,n,g,H);break;case 3:a.$z.Fb(d,c,f,k,b,e,n,g,H);break;case 1:a.Zz.Fb(d,c,f,k,b,e,n,
g,H);break;default:a.cs.Fb(d,c,f,k,b,e,n,g,H)}};b.dk=function(d,c,f,k,b,e,n,g,H){switch(H){case 2:a.Xj.gf(d,c,f,k,b,e,n,g);break;case 3:a.$z.gf(d,c,f,k,b,e,n,g);break;case 1:a.Zz.gf(d,c,f,k,b,e,n,g);break;default:a.cs.gf(d,c,f,k,b,e,n,g)}};return b}();a.zb=b})(z||(z={}));(function(a){var b=function(){function b(){}b.QS=function(d,c){var f=8;0>f&&(f=8);var k=[0,0,0,0],t=new a.b;t.J(c);t.scale(9102==a.Ya.Em(d).Se().Qc()?1:a.Ya.Em(d).Se().Dj/3.141592653589793*180);-180>t.x?(t.x-=t.x%360,-180>t.x&&(t.x+=
360)):180<t.x&&(t.x-=t.x%360,180<t.x&&(t.x-=360));90<t.y&&(t.y=90);-90>t.y&&(t.y=-90);d=5*f;c=(d+31)/32;for(var e=-180,n=180,g=d-1,H=c-1;0<=H;H--)for(var h=g-32*H,l=Math.min(32,d-32*H),m=1;m<l;m+=2){var r=.5*(n+e);t.x>=r?(k[H]|=1<<h,e=r):n=r;h-=2;g-=2}e=-90;n=90;g=d-2;for(H=c-1;0<=H;H--)for(h=g-32*H,l=Math.min(32,d-32*H),m=0;m<l;m+=2)r=.5*(n+e),t.y>=r?(k[H]|=1<<h,e=r):n=r,h-=2,g-=2;return b.XS(k,f,f)};b.XS=function(d,c,f){for(var a=[],b=0;b<c;b++)a[b]="";for(var e=b=0,n=0;n<c;n++){var g=d[b]>>e&31,
e=e+5;if(31<e){var H=37-e,g=g&(1<<H)-1,e=e-32;b++;g|=(d[b]&(1<<e)-1)<<H}a[c-1-n]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[g]}if(f>c)for(n=0;n<f-c;n++)a.push("0");else f<c&&(a.length=f);return a.join("")};return b}();a.qH=b})(z||(z={}));(function(a){var b={gcstol:[0,1E-8,1,1.11111E-8,2,1.68845E-8,3,2.17661E-8,4,2.22508E-8,5,2.34848E-8,6,2.37811E-8,7,2.88455E-8,8,3.1456E-8,9,3.29779E-8,10,3.66789E-8,11,4.23597E-8,12,4.79463E-8,13,6.45223E-8,14,7.26274E-8,15,7.49945E-8,16,7.52506E-8,17,7.97991E-8,
18,9.66202E-8,19,9.79918E-8,20,9.89735E-8,21,1.02314E-7,22,1.08146E-7,23,2.29734E-7,24,2.42985E-7,25,2.7546E-7,26,3.37034E-7,27,4.30795E-7,28,5.20871E-7,29,5.50921E-7,30,6.74068E-7,31,6.86177E-7,32,7.25263E-7,33,7.44101E-7,34,7.74267E-7,35,9.62954E-7,36,1.06103E-6,37,1.14363E-6,38,1.16219E-6,39,1.36419E-6,40,1.36744E-6,41,1.43239E-6,42,1.73624E-6,43,1.84825E-6,44,1.90986E-6,45,1.97572E-6,46,2.12207E-6,47,2.72837E-6,48,3.1831E-6,49,3.58099E-6,50,3.81972E-6,51,4.09256E-6,52,4.40737E-6,53,4.77465E-6,
54,5.16178E-6,55,5.20871E-6,56,5.72958E-6,57,6.03113E-6,58,6.98729E-6,59,9.24125E-6,60,1.14592E-5],pcstol:[0,6.66667E-9,1,2E-8,2,4.97098E-5,3,.001,4,.00109362,5,.00328087,6,.00497101],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,
2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,
2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,
2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,
2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,
102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,
102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,
3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,
104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,
37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,
5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,
29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077],pcsid:[2066,6,2136,5,2155,5,2157,3,2158,3,2159,5,2160,5,2219,3,2220,3,2244,5,2245,5,2256,5,2265,5,2266,5,2269,5,2270,5,2273,5,2290,3,2291,3,2294,3,2295,3,2313,3,2314,5,2964,5,2967,5,
2968,5,2991,3,2992,5,2993,3,2994,5,3073,3,3076,3,3079,3,3091,5,3106,3,3108,3,3109,3,3141,3,3142,3,3167,2,3337,3,3347,3,3348,3,3359,5,3360,3,3361,5,3362,3,3363,5,3364,3,3365,5,3366,5,3402,3,3403,3,3405,3,3406,3,3439,3,3440,3,3447,3,3449,3,3450,3,3453,5,3454,5,3460,3,3479,5,3480,3,3481,5,3482,3,3483,5,3484,3,3485,5,3486,3,3487,5,3488,3,3489,3,3490,5,3491,3,3492,5,3493,3,3494,5,3495,3,3496,5,3497,3,3498,5,3499,3,3500,5,3501,3,3502,5,3503,3,3504,5,3505,3,3506,5,3507,3,3508,5,3509,3,3510,5,3511,3,3512,
5,3513,3,3514,3,3515,5,3516,3,3517,5,3518,3,3519,5,3520,3,3521,5,3522,3,3523,5,3524,3,3525,5,3526,3,3527,5,3528,3,3529,5,3530,3,3531,5,3532,3,3533,5,3534,3,3535,5,3536,3,3537,5,3538,3,3539,5,3540,3,3541,5,3542,3,3543,5,3544,3,3545,5,3546,3,3547,5,3548,3,3549,5,3550,3,3551,5,3552,3,3553,5,3582,5,3583,3,3584,5,3585,3,3586,5,3587,3,3588,5,3589,3,3590,5,3591,3,3592,3,3593,5,3598,5,3599,3,3600,5,3605,5,3606,3,3607,3,3608,5,3609,3,3610,5,3611,3,3612,5,3613,3,3614,5,3615,3,3616,5,3617,3,3618,5,3619,3,3620,
5,3621,3,3622,5,3623,3,3624,5,3625,3,3626,5,3627,3,3628,5,3629,3,3630,5,3631,3,3632,5,3633,3,3634,5,3635,3,3636,5,3640,5,3641,3,3642,5,3643,3,3644,5,3645,3,3646,5,3647,3,3648,5,3649,3,3650,5,3651,3,3652,5,3653,3,3654,5,3655,3,3656,5,3657,3,3658,5,3659,3,3660,5,3661,3,3662,5,3663,3,3664,5,3668,5,3669,3,3670,5,3671,3,3672,5,3673,3,3674,5,3675,3,3676,5,3677,5,3678,3,3679,5,3680,5,3681,3,3682,5,3683,5,3684,3,3685,3,3686,5,3687,3,3688,5,3689,3,3690,5,3691,3,3692,5,3696,5,3697,3,3698,5,3699,3,3700,5,3740,
3,3749,3,3783,3,3784,3,3793,3,3794,3,3802,3,3816,3,3829,3,3854,3,3920,3,3978,3,3979,3,3991,5,3992,5,4026,3,4037,3,4038,3,4217,5,4438,5,4439,5,4467,3,4471,3,4474,3,4559,3,4839,3,5018,3,5048,3,5167,3,5168,3,5223,3,5234,3,5235,3,5243,3,5266,3,5316,3,5320,3,5321,3,5330,3,5331,3,5337,3,5361,3,5362,3,5382,3,5383,3,5396,3,5456,3,5457,3,5469,3,5472,4,5490,3,5518,3,5523,3,5559,3,5588,5,5589,5,5596,3,5627,3,5629,3,5641,3,5643,3,5644,3,5654,5,5655,5,5659,3,5700,3,5825,3,5836,3,5837,3,5842,3,5844,3,5880,3,5887,
3,5890,3,20499,3,20538,3,20539,3,20790,3,20791,3,21291,3,21292,3,21500,3,21817,3,21818,3,22032,3,22033,3,22091,3,22092,3,22332,3,22391,3,22392,3,22700,3,22770,3,22780,3,22832,3,23090,3,23095,3,23239,3,23240,3,23433,3,23700,3,24047,3,24048,3,24100,5,24200,3,24305,3,24306,3,24382,4,24383,3,24500,3,24547,3,24548,3,24571,2,24600,3,25E3,3,25231,3,25884,3,25932,3,26237,3,26331,3,26332,3,26591,3,26592,3,26632,3,26692,3,26855,5,26856,5,27120,3,27200,3,27291,4,27292,4,27429,3,27492,3,27500,3,27700,3,28232,
3,28600,3,28991,3,28992,3,29100,3,29220,3,29221,3,29333,3,29635,3,29636,3,29701,3,29738,3,29739,3,29849,3,29850,3,29871,2,29872,5,29873,3,29900,3,29901,3,29903,3,30200,6,30339,3,30340,3,30591,3,30592,3,30791,3,30792,3,31028,3,31121,3,31154,3,31170,3,31171,3,31370,3,31528,3,31529,3,31600,3,31700,3,31838,3,31839,3,31901,3,32061,3,32062,3,32098,3,32099,5,32100,3,32104,3,32161,3,32766,3,53034,3,53048,3,53049,3,54034,3,65061,5,65062,5,65161,3,65163,3,102041,5,102064,4,102068,1,102069,0,102217,5,102218,
3,102219,5,102220,5,102378,5,102379,5,102380,3,102381,5,102589,5,102599,5,102600,5,102604,5,102605,3,102606,3,102647,3,102704,5,102705,5,102733,5,102761,5,102762,3,102763,5,102764,3,102765,3,102766,5,102970,5,102974,5,102993,3,102994,3,102995,5,102996,5,103015,3,103016,5,103017,3,103018,5,103025,3,103026,3,103027,5,103028,5,103035,3,103036,3,103037,5,103038,5,103039,3,103040,3,103041,5,103042,5,103043,3,103044,3,103045,5,103046,5,103047,3,103048,3,103049,5,103050,5,103051,3,103052,5,103053,3,103054,
5,103055,3,103056,5,103057,3,103058,3,103059,5,103060,5,103061,3,103062,3,103063,5,103064,5,103069,5,103070,3,103071,3,103072,5,103073,5,103086,3,103087,3,103088,5,103089,5,103094,5,103095,3,103096,5,103103,3,103104,5,103105,3,103106,5,103121,3,103122,5,103123,3,103124,3,103125,5,103126,5,103127,3,103128,3,103129,5,103130,5,103131,3,103132,3,103133,5,103134,5,103135,3,103136,3,103137,5,103138,5,103139,3,103140,5,103141,3,103142,5,103143,3,103144,5,103145,3,103146,5,103147,3,103148,3,103149,5,103150,
5,103151,3,103152,5,103172,3,103173,5,103174,3,103175,3,103176,5,103177,5,103178,3,103179,3,103180,5,103181,5,103182,3,103183,3,103184,5,103185,5,103228,3,103229,3,103230,5,103231,5,103250,3,103251,5,103252,3,103253,5,103260,3,103261,3,103262,5,103263,5,103270,3,103271,3,103272,5,103273,5,103274,3,103275,3,103276,5,103277,5,103278,3,103279,3,103280,5,103281,5,103282,3,103283,3,103284,5,103285,5,103286,3,103287,5,103288,3,103289,5,103290,3,103291,5,103292,3,103293,3,103294,5,103295,5,103296,3,103297,
3,103298,5,103299,5,103376,5,103377,3,103378,3,103379,5,103380,5,103393,3,103394,3,103395,5,103396,5,103472,3,103473,5,103474,3,103475,5,103482,3,103483,5,103484,3,103485,5,103500,3,103501,5,103502,3,103503,3,103504,5,103505,5,103506,3,103507,3,103508,5,103509,5,103510,3,103511,3,103512,5,103513,5,103514,3,103515,5,103516,3,103517,5,103518,3,103519,5,103520,3,103521,5,103522,3,103523,3,103524,5,103525,5,103526,3,103527,5,103561,5,103562,5,103563,3,103564,3,103565,5,103566,5,103567,3,103568,3,103569,
5,103570,5,103585,5,103695,5],pcsidc:[[2E3,2045,3],[2056,2065,3],[2067,2135,3],[2137,2153,3],[2161,2170,3],[2172,2193,3],[2196,2198,3],[2200,2203,3],[2206,2217,3],[2222,2224,5],[2251,2253,5],[2280,2282,5],[2308,2311,3],[2315,2325,3],[2327,2394,3],[2400,2462,3],[2523,2576,3],[2578,2693,3],[2695,2758,3],[2867,2888,5],[2891,2930,5],[2931,2941,3],[2969,2973,3],[2975,2982,3],[2984,2988,3],[2995,3002,3],[3006,3051,3],[3054,3059,3],[3061,3066,3],[3068,3071,3],[3084,3087,3],[3112,3118,3],[3120,3138,3],[3146,
3151,3],[3153,3157,3],[3161,3166,3],[3168,3172,3],[3174,3203,3],[3294,3313,3],[3315,3335,3],[3339,3345,3],[3350,3358,3],[3367,3369,3],[3374,3399,3],[3408,3416,3],[3425,3432,5],[3441,3446,5],[3456,3459,5],[3465,3478,3],[3554,3559,3],[3561,3565,5],[3568,3570,5],[3571,3581,3],[3594,3597,3],[3601,3604,3],[3637,3639,3],[3665,3667,3],[3693,3695,3],[3701,3727,3],[3728,3733,5],[3744,3747,3],[3753,3758,5],[3761,3763,3],[3765,3769,3],[3779,3781,3],[3788,3791,3],[3797,3799,3],[3832,3841,3],[3844,3852,3],[3873,
3885,3],[3890,3893,3],[3907,3912,3],[3942,3950,3],[3968,3970,3],[3973,3976,3],[3986,3989,3],[3994,3997,3],[4399,4413,5],[4418,4433,5],[4491,4554,3],[5069,5072,3],[5105,5130,3],[5180,5184,3],[5253,5259,3],[5269,5275,3],[5292,5311,3],[5343,5349,3],[5355,5357,3],[5387,5389,3],[5459,5463,3],[5479,5482,3],[5530,5539,3],[5550,5552,3],[5562,5583,3],[5623,5625,5],[5631,5639,3],[5649,5653,3],[5663,5680,3],[5682,5685,3],[5875,5877,3],[20002,20032,3],[20062,20092,3],[20135,20138,3],[20248,20258,3],[20348,20358,
3],[20436,20440,3],[20822,20824,3],[20934,20936,3],[21035,21037,3],[21095,21097,3],[21148,21150,3],[21413,21423,3],[21473,21483,3],[21780,21782,3],[21891,21894,3],[22171,22177,3],[22181,22187,3],[22191,22197,3],[22234,22236,3],[22521,22525,3],[22991,22994,3],[23028,23038,3],[23830,23853,3],[23866,23872,3],[23877,23884,3],[23886,23894,3],[23946,23948,3],[24311,24313,3],[24342,24347,3],[24370,24374,4],[24375,24381,3],[24718,24721,3],[24817,24821,3],[24877,24882,3],[24891,24893,3],[25391,25395,3],[25828,
25838,3],[26191,26195,3],[26391,26393,3],[26703,26722,3],[26729,26760,5],[26766,26798,5],[26860,26870,5],[26891,26899,3],[26903,26923,3],[26929,26946,3],[26948,26998,3],[27037,27040,3],[27205,27232,3],[27258,27260,3],[27391,27398,3],[27561,27564,3],[27571,27574,3],[27581,27584,3],[27591,27594,3],[28191,28193,3],[28348,28358,3],[28402,28432,3],[28462,28492,3],[29118,29122,3],[29177,29185,3],[30161,30179,3],[30491,30494,3],[30729,30732,3],[31251,31259,3],[31265,31268,3],[31275,31278,3],[31288,31297,
3],[31461,31465,3],[31491,31495,3],[31917,31922,3],[31965,31985,3],[31992,32E3,3],[32001,32003,5],[32005,32031,5],[32033,32060,5],[32074,32077,5],[32081,32086,3],[32107,32130,3],[32133,32158,3],[32164,32167,5],[32180,32199,3],[32201,32260,3],[32301,32360,3],[32601,32662,3],[32664,32667,5],[32701,32761,3],[53001,53004,3],[53008,53019,3],[53021,53032,3],[53042,53046,3],[54001,54004,3],[54008,54019,3],[54021,54032,3],[54042,54046,3],[54048,54053,3],[102001,102040,3],[102042,102063,3],[102065,102067,
3],[102070,102112,3],[102114,102117,3],[102118,102121,5],[102122,102208,3],[102210,102216,3],[102221,102300,3],[102304,102377,3],[102382,102388,3],[102389,102391,5],[102401,102444,3],[102450,102452,3],[102461,102468,5],[102469,102492,3],[102500,102519,5],[102530,102549,3],[102570,102588,3],[102590,102598,3],[102601,102603,3],[102608,102628,3],[102629,102646,5],[102648,102672,5],[102675,102700,5],[102701,102703,3],[102707,102730,5],[102735,102758,5],[102767,102798,3],[102962,102969,3],[102971,102973,
3],[102975,102989,3],[102990,102992,5],[102997,103002,3],[103003,103008,5],[103009,103011,3],[103012,103014,5],[103019,103021,3],[103022,103024,5],[103029,103031,3],[103032,103034,5],[103065,103068,3],[103074,103076,3],[103077,103079,5],[103080,103082,3],[103083,103085,5],[103090,103093,3],[103097,103099,3],[103100,103102,5],[103107,103109,3],[103110,103112,5],[103113,103116,3],[103117,103120,5],[103153,103157,3],[103158,103162,5],[103163,103165,3],[103166,103171,5],[103186,103188,3],[103189,103191,
5],[103192,103195,3],[103196,103199,5],[103200,103224,3],[103225,103227,5],[103232,103237,3],[103238,103243,5],[103244,103246,3],[103247,103249,5],[103254,103256,3],[103257,103259,5],[103264,103266,3],[103267,103269,5],[103300,103375,3],[103381,103383,3],[103384,103386,5],[103387,103389,3],[103390,103392,5],[103397,103399,3],[103400,103471,5],[103476,103478,3],[103479,103481,5],[103486,103488,3],[103489,103491,5],[103492,103495,3],[103496,103499,5],[103539,103543,3],[103544,103548,5],[103549,103551,
3],[103552,103557,5],[103558,103560,3],[103571,103573,3],[103574,103576,5],[103577,103580,3],[103581,103583,5],[103600,103694,3],[103700,103793,5],[103794,103799,3]],gcsid:[4042,0,4075,0,4081,0,4168,0,4170,0,4188,0,4261,1,4262,0,4263,0,4288,0,4289,0,4305,1,4322,0,4324,0,4326,0,4466,0,4469,0,4475,0,4483,0,4490,0,4555,0,4558,0,4614,0,4619,0,4657,0,4670,0,4671,0,4674,0,4682,0,4683,0,4718,0,4720,0,4721,0,4723,0,4726,0,4737,0,4738,0,4759,0,4761,0,4807,1,4808,0,4809,0,4816,1,4817,0,4818,0,4819,1,4820,0,
4821,1,4823,0,4824,0,4901,1,4902,1,4903,0,4904,0,5228,0,5229,0,5233,0,5252,0,5264,0,5340,0,5354,0,5360,0,5371,0,5373,0,5381,0,5393,0,5464,0,5467,0,5489,0,5524,0,5527,0,5546,0,5561,0,5593,0,5681,0,5886,0,37225,1,37235,0,37257,0,37259,0,37260,0,104020,0,104139,1,104140,1,104223,0,104286,0,104287,0,104304,0,104305,0,104896,0,104900,5,104901,0,104902,0,104903,9,104904,2,104905,2,104906,59,104907,54,104908,0,104909,58,104910,31,104911,56,104912,6,104913,50,104914,41,104915,10,104916,3,104917,30,104918,
8,104919,60,104920,53,104921,44,104922,48,104923,51,104924,38,104925,0,104926,49,104927,57,104928,21,104929,23,104930,35,104931,49,104932,27,104933,17,104934,13,104935,7,104936,56,104937,40,104938,28,104939,37,104940,15,104941,55,104942,22,104943,4,104944,0,104945,20,104946,42,104947,47,104948,52,104949,43,104950,46,104951,39,104952,24,104953,16,104954,50,104955,36,104956,33,104957,46,104958,14,104959,19,104960,0,104961,34,104962,32,104963,29,104964,45,104965,26,104966,25,104967,41,104968,11,104969,
12,104970,18],gcsidc:[[4001,4016,0],[4018,4025,0],[4027,4029,0],[4031,4036,0],[4044,4047,0],[4052,4054,0],[4120,4166,0],[4172,4176,0],[4178,4185,0],[4190,4196,0],[4198,4216,0],[4218,4222,0],[4224,4232,0],[4234,4260,0],[4265,4267,0],[4269,4286,0],[4291,4303,0],[4306,4319,0],[4600,4610,0],[4621,4625,0],[4627,4633,0],[4636,4639,0],[4641,4646,0],[4659,4667,0],[4676,4680,0],[4686,4697,0],[4699,4706,0],[4740,4757,0],[4763,4765,0],[4801,4806,0],[4810,4812,1],[4813,4815,0],[37001,37008,0],[37201,37208,0],
[37211,37224,0],[37226,37233,0],[37237,37243,0],[37245,37247,0],[37249,37255,0],[104100,104138,0],[104141,104145,0],[104256,104261,0],[104700,104786,0],[104990,104992,0]]},e={c:[[2E3,2045,9001],[2056,2065,9001],[2067,2135,9001],[2137,2153,9001],[2161,2170,9001],[2172,2193,9001],[2196,2198,9001],[2200,2203,9001],[2206,2217,9001],[2222,2224,9002],[2251,2253,9002],[2280,2282,9002],[2308,2311,9001],[2315,2325,9001],[2327,2394,9001],[2400,2462,9001],[2523,2576,9001],[2578,2693,9001],[2695,2758,9001],[2867,
2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2941,9001],[2969,2973,9001],[2975,2982,9001],[2984,2988,9001],[2995,3002,9001],[3006,3051,9001],[3054,3059,9001],[3061,3066,9001],[3068,3071,9001],[3084,3087,9001],[3112,3118,9001],[3120,3138,9001],[3146,3151,9001],[3153,3157,9001],[3161,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3335,9001],[3339,3345,9001],[3350,3358,9001],[3367,3369,9001],
[3374,3399,9001],[3408,3416,9001],[3425,3432,9003],[3441,3446,9003],[3456,3459,9003],[3465,3478,9001],[3554,3559,9001],[3561,3565,9003],[3568,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3733,9003],[3744,3747,9001],[3753,3758,9003],[3761,3763,9001],[3765,3769,9001],[3779,3781,9001],[3788,3791,9001],[3797,3799,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3907,3912,9001],[3942,3950,
9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4052,4054,9102],[4120,4166,9102],[4172,4176,9102],[4178,4185,9102],[4190,4196,9102],[4198,4216,9102],[4218,4222,9102],[4224,4232,9102],[4234,4260,9102],[4265,4267,9102],[4269,4286,9102],[4291,4303,9102],[4306,4319,9102],[4399,4413,9003],[4418,4433,9003],[4491,4554,9001],[4600,4610,9102],[4621,4625,9102],[4627,4633,9102],[4636,4639,9102],[4641,
4646,9102],[4659,4667,9102],[4676,4680,9102],[4686,4697,9102],[4699,4706,9102],[4740,4757,9102],[4763,4765,9102],[4801,4806,9102],[4810,4812,9105],[4813,4815,9102],[5069,5072,9001],[5105,5130,9001],[5180,5184,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5343,5349,9001],[5355,5357,9001],[5387,5389,9001],[5459,5463,9001],[5479,5482,9001],[5530,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],
[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21891,21894,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,
23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26703,26722,9001],[26729,26760,9003],[26766,26798,9003],[26860,26870,9003],[26891,26899,9001],[26903,26923,9001],[26929,26946,9001],[26948,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],
[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29118,29122,9001],[29177,29185,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31278,9001],[31288,31297,9001],[31461,31465,9001],[31491,31495,9001],[31917,31922,9001],[31965,31985,9001],[31992,32E3,9001],[32001,32003,9003],[32005,32031,9003],[32033,32060,9003],[32074,32077,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,
9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37001,37008,9102],[37201,37208,9102],[37211,37224,9102],[37226,37233,9102],[37237,37243,9102],[37245,37247,9102],[37249,37255,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53042,53046,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[102001,102040,9001],[102042,102063,9001],[102065,102067,9001],
[102070,102112,9001],[102114,102117,9001],[102122,102208,9001],[102210,102216,9001],[102221,102300,9001],[102304,102377,9001],[102382,102388,9001],[102389,102391,9003],[102401,102444,9001],[102450,102452,9001],[102461,102468,9003],[102469,102492,9001],[102500,102519,9002],[102530,102549,9001],[102570,102588,9001],[102590,102598,9001],[102601,102603,9001],[102608,102628,9001],[102629,102646,9003],[102648,102672,9003],[102675,102700,9003],[102701,102703,9001],[102707,102730,9003],[102735,102758,9003],
[102767,102798,9001],[102962,102969,9001],[102971,102973,9001],[102975,102989,9001],[102990,102992,9002],[102997,103002,9001],[103003,103008,9003],[103009,103011,9001],[103012,103014,9003],[103019,103021,9001],[103022,103024,9003],[103029,103031,9001],[103032,103034,9003],[103065,103068,9001],[103074,103076,9001],[103077,103079,9002],[103080,103082,9001],[103083,103085,9003],[103090,103093,9001],[103097,103099,9001],[103100,103102,9003],[103107,103109,9001],[103110,103112,9003],[103113,103116,9001],
[103117,103120,9003],[103153,103157,9001],[103158,103162,9003],[103163,103165,9001],[103166,103168,9002],[103169,103171,9003],[103186,103188,9001],[103189,103191,9003],[103192,103195,9001],[103196,103199,9003],[103200,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103300,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],
[103390,103392,9003],[103397,103399,9001],[103400,103471,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103600,103694,9001],[103700,103793,9003],[103794,103799,9001],[104100,104138,9102],[104141,104145,9102],
[104256,104261,9102],[104700,104786,9102],[104900,104970,9102],[104990,104992,9102]],nc:[2066,9039,2136,9094,2155,9003,2157,9001,2158,9001,2159,9094,2160,9094,2219,9001,2220,9001,2244,9003,2245,9003,2256,9002,2265,9002,2266,9002,2269,9002,2270,9002,2273,9002,2290,9001,2291,9001,2294,9001,2295,9001,2313,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2964,9003,2967,9003,2968,9003,2991,9001,2992,9002,2993,9001,2994,9002,3073,9001,3076,9001,3079,
9001,3091,9003,3106,9001,3108,9001,3109,9001,3141,9001,3142,9001,3167,9301,3337,9001,3347,9001,3348,9001,3359,9003,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3366,9005,3402,9001,3403,9001,3405,9001,3406,9001,3439,9001,3440,9001,3447,9001,3449,9001,3450,9001,3453,9003,3454,9003,3460,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,
3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,
9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,
3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,
9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3740,9001,3749,9001,3783,9001,3784,9001,3793,9001,3794,9001,3802,9001,3816,9001,3829,9001,3854,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4075,9102,4081,9102,4168,9102,4170,9102,4188,9102,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4305,9105,4322,9102,4324,9102,4326,9102,4438,9003,4439,9003,4466,9102,4467,9001,4469,9102,4471,9001,4474,9001,4475,9102,4483,9102,4490,9102,4555,9102,
4558,9102,4559,9001,4614,9102,4619,9102,4657,9102,4670,9102,4671,9102,4674,9102,4682,9102,4683,9102,4718,9102,4720,9102,4721,9102,4723,9102,4726,9102,4737,9102,4738,9102,4759,9102,4761,9102,4807,9105,4808,9102,4809,9102,4816,9105,4817,9102,4818,9102,4819,9105,4820,9102,4821,9105,4823,9102,4824,9102,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5018,9001,5048,9001,5167,9001,5168,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,
9001,5321,9001,5330,9001,5331,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5393,9102,5396,9001,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5518,9001,5523,9001,5524,9102,5527,9102,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5842,9001,5844,9001,
5880,9001,5886,9102,5887,9001,5890,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23433,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,
25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,26855,9003,26856,9003,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27492,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29100,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,29900,9001,29901,9001,29903,9001,30200,9039,30339,9001,30340,9001,30591,9001,30592,9001,30791,
9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37225,9105,37235,9102,37257,9102,37259,9102,37260,9102,53034,9001,53048,9001,53049,9001,54034,9001,65061,9003,65062,9003,65161,9001,65163,9001,102041,9003,102064,9085,102068,109030,102069,109031,102118,9003,102119,9002,102120,9003,102121,9003,102217,9003,
102218,9001,102219,9003,102220,9003,102378,9002,102379,9002,102380,9001,102381,9002,102589,9003,102599,9003,102600,9003,102604,9003,102605,9001,102606,9001,102647,9001,102704,9003,102705,9003,102733,9003,102761,9003,102762,9001,102763,9003,102764,9001,102765,9001,102766,9003,102970,9002,102974,9003,102993,9001,102994,9001,102995,9003,102996,9003,103015,9001,103016,9003,103017,9001,103018,9003,103025,9001,103026,9001,103027,9003,103028,9003,103035,9001,103036,9001,103037,9003,103038,9003,103039,9001,
103040,9001,103041,9003,103042,9003,103043,9001,103044,9001,103045,9003,103046,9003,103047,9001,103048,9001,103049,9003,103050,9003,103051,9001,103052,9003,103053,9001,103054,9003,103055,9001,103056,9003,103057,9001,103058,9001,103059,9003,103060,9003,103061,9001,103062,9001,103063,9003,103064,9003,103069,9003,103070,9001,103071,9001,103072,9003,103073,9003,103086,9001,103087,9001,103088,9003,103089,9003,103094,9002,103095,9001,103096,9003,103103,9001,103104,9003,103105,9001,103106,9003,103121,9001,
103122,9003,103123,9001,103124,9001,103125,9002,103126,9002,103127,9001,103128,9001,103129,9003,103130,9003,103131,9001,103132,9001,103133,9003,103134,9003,103135,9001,103136,9001,103137,9002,103138,9002,103139,9001,103140,9003,103141,9001,103142,9003,103143,9001,103144,9003,103145,9001,103146,9002,103147,9001,103148,9001,103149,9003,103150,9003,103151,9001,103152,9003,103172,9001,103173,9003,103174,9001,103175,9001,103176,9003,103177,9003,103178,9001,103179,9001,103180,9003,103181,9003,103182,9001,
103183,9001,103184,9003,103185,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,
103297,9001,103298,9003,103299,9003,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,
103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103695,9003,104020,9102,104139,9105,104140,9105,104223,9102,104286,9102,104287,9102,104304,9102,104305,9102,104896,9102]},d=function(){function c(){}c.cC=function(f){!1===c.ti&&c.bo();var d=c.NG(f);if(-1==d){var a=c.ks(f);a!=f&&(d=c.cC(a))}return d};c.NG=function(f){return void 0!==c.ds[f]?c.ds[f]:
-1};c.SM=function(f){!1===c.ti&&c.bo();var d=c.Fz(f);if(1E38==d){var a=c.ks(f);a!=f&&(d=c.Fz(a));if(1E38==d)return 1E-10}return d};c.WO=function(f){if(void 0!==c.Un[f])return!0;var d=c.ks(f);return d!=f&&void 0!==c.Un[d]?!0:!1};c.ZO=function(f){if(void 0!==c.Gh[f])return!0;var d=c.ks(f);return d!=f&&void 0!==c.Gh[d]?!0:!1};c.Fz=function(f){!1===c.ti&&c.bo();return void 0!==c.Un[f]?c.Un[f]:void 0!==c.Gh[f]?c.Gh[f]:1E38};c.oU=function(f){!1===c.ti&&c.bo();return void 0!==c.ew[f]?c.ew[f]:f};c.ks=function(f){!1===
c.ti&&c.bo();return void 0!==c.Mw[f]?c.Mw[f]:f};c.bo=function(){for(var f=b,d,a=0;a<f.pcsid.length;a+=2)c.Gh[f.pcsid[a]]=f.pcstol[2*f.pcsid[a+1]+1];for(a=0;a<f.pcsidc.length;a+=1){d=f.pcsidc[a];for(var A=d[0];A<=d[1];A++)c.Gh[A]=f.pcstol[2*d[2]+1]}for(a=0;a<f.gcsid.length;a+=2)c.Un[f.gcsid[a]]=f.gcstol[2*f.gcsid[a+1]+1];for(a=0;a<f.gcsidc.length;a+=1)for(d=f.gcsidc[a],A=d[0];A<=d[1];A++)c.Gh[A]=f.gcstol[2*d[2]+1];for(a=0;a<e.c.length;a+=1)for(d=e.c[a],A=d[0];A<=d[1];A++)c.ds[A]=d[2];for(a=0;a<e.nc.length;a+=
2)c.ds[e.nc[a]]=e.nc[a+1];e=null;for(a=0;a<f.newtoold.length;a+=2)c.ew[f.newtoold[a+1]]=f.newtoold[a],c.Mw[f.newtoold[a]]=f.newtoold[a+1];b=null;c.ti=!0};c.ti=!1;c.Un=[];c.Gh=[];c.ew=[];c.Mw=[];c.ds=[];return c}();a.ls=d})(z||(z={}));(function(a){function b(c){return 0===c.length?'""':'"'==c[0]||"."==c[0]||"0"<=c[0]&&"9">=c[0]?c:'"'+c.trim()+'"'}var e=[],d=function(){function c(){}c.UM=function(f){try{for(var d=0;d<e.length;d++)if(e[d].wkttext===f)return e[d].unit;for(var t,A=d="",n=!1,g=0;g<f.length;g++){var H=
f[g];!0===n?'"'==H?'"'==f[g+1]?d+=H:n=!1:d+=H:/[\s]/.test(H)||(","==H?(A=""!==d?A+(b(d)+","):A+",",d=""):")"==H||"]"==H?(A=""!==d?A+(b(d)+"]}"):A+"]}",d=""):"("==H||"["==H?(A+='{ "entity": "'+d.toUpperCase().trim()+'", "values":[',d=""):'"'==H?(n=!0,d=""):d+=H)}t=JSON.parse(A);var h=c.Dz(t);if(null===h)return null;t=null;for(H=0;H<h.values.length;H++)if("object"===typeof h.values[H]&&"UNIT"===h.values[H].entity){t=h.values[H];break}if(null===t)return null;var l=a.Tb.EL("GEOGCS"===h.entity?1:0,t.values[1],
t.values[2]);e.push({wkttext:f,unit:l});10<e.length&&e.shift();return l}catch(la){return null}};c.Dz=function(f){if(null===f)return null;if("GEOGCS"===f.entity||"PROJCS"===f.entity)return f;for(var d=[],a=0;a<f.values.length;a++)if("object"===typeof f.values[a]&&void 0!==f.values[a].entity){if("GEOGCS"===f.values[a].entity||"PROJCS"==f.values[a].entity)return f.values[a];d.push(f.values[a])}for(f=0;f<d.length;f++)if(a=c.Dz(d[f]),null!==a)return a;return null};c.TM=function(c){var f=-1;if(null!=c&&
0<c.length){var d,a;d=c.indexOf("PROJCS");if(0<=d){var b=0;d=c.lastIndexOf("UNIT");if(0<=d&&(d=c.indexOf(",",d+4),0<d&&(d++,a=c.indexOf("]",d+1),0<a)))try{b=parseFloat(c.substring(d,a))}catch(H){b=0}0<b&&(f=.001/b)}else if(d=c.indexOf("GEOGCS"),0<=d){var e=0,b=0;d=c.indexOf("SPHEROID",d+6);if(0<d&&(d=c.indexOf(",",d+8),0<d)){d++;a=c.indexOf(",",d+1);if(0<a)try{e=parseFloat(c.substring(d,a))}catch(H){e=0}if(0<e&&(d=c.indexOf("UNIT",a+1),0<=d&&(d=c.indexOf(",",d+4),0<d&&(d++,a=c.indexOf("]",d+1),0<
a))))try{b=parseFloat(c.substring(d,a))}catch(H){b=0}}0<e&&0<b&&(f=.001/(e*b))}}return f};return c}();a.mA=d})(z||(z={}));(function(a){(function(a){a[a.NONE=0]="NONE";a[a.LINEAR=1]="LINEAR";a[a.ANGULAR=2]="ANGULAR"})(a.BH||(a.BH={}));(function(a){a[a.enumFloat=0]="enumFloat";a[a.enumDouble=1]="enumDouble";a[a.enumInt32=2]="enumInt32";a[a.enumInt64=3]="enumInt64";a[a.enumInt8=4]="enumInt8";a[a.enumInt16=5]="enumInt16"})(a.oI||(a.oI={}));(function(a){a[a.POSITION=0]="POSITION";a[a.Z=1]="Z";a[a.M=2]=
"M";a[a.ID=3]="ID";a[a.NORMAL=4]="NORMAL";a[a.TEXTURE1D=5]="TEXTURE1D";a[a.TEXTURE2D=6]="TEXTURE2D";a[a.TEXTURE3D=7]="TEXTURE3D";a[a.ID2=8]="ID2";a[a.MAXSEMANTICS=10]="MAXSEMANTICS"})(a.xf||(a.xf={}));var b=function(){function b(d,c){this.er=this.le=null;this.up=this.Aa=0;this.Wg=this.Jf=null;this.tk=0;if(void 0!==c){this.Aa=c.Aa;this.up=c.up;this.Jf=c.Jf.slice(0);this.Wg=c.Wg.slice(0);this.tk=c.tk;this.er=[];for(c=d=0;c<this.Aa;c++)this.er[c]=d,d+=b.Wa(this.Jf[c]);this.up=d;this.le=[];for(c=0;c<
this.Aa;c++){d=b.Wa(this.Hd(c));for(var f=b.ue(this.Hd(c)),a=0;a<d;a++)this.le[this.er[c]+a]=f}}else this.up=this.Aa=0}b.prototype.Hd=function(d){if(0>d||d>this.Aa)throw a.g.N();return this.Jf[d]};b.prototype.zf=function(d){return this.Wg[d]};b.JN=function(d){return b.ac[d]};b.Qh=function(d){return b.Cc[d]};b.ye=function(d){return b.Bd[d]};b.Gh=function(d){return b.ye(b.Qh(d))*b.Wa(d)};b.Wa=function(d){return b.ob[d]};b.Wf=function(d){return 2>d};b.ti=function(d){return b.Wf(b.Qh(d))};b.prototype.hasAttribute=
function(d){return 0<=this.Wg[d]};b.prototype.WC=function(){return this.hasAttribute(1)};b.ue=function(d){return b.V[d]};b.prototype.XN=function(d){return this.er[d]};b.nD=function(d,c){return b.V[d]===c};b.$g=function(d){if(4==d)return 2;if(8==d)return 3;throw a.g.N();};b.prototype.lc=function(d){return this===d};b.prototype.jj=function(){for(var d=a.I.kg(this.Jf[0]),c=1;c<this.Aa;c++)d=a.I.kg(this.Jf[c],d);return d};b.prototype.fj=function(d){return this.er[d]};b.prototype.hc=function(){return this.tk};
b.prototype.Fd=function(d){return this.Jf[d]};b.V=[0,0,NaN,0,0,0,0,0,0];b.ac=[1,1,1,0,2,1,1,1,0];b.Cc=[1,1,1,2,0,0,0,0,2];b.Bd=[4,8,4,8,1,2];b.ob=[2,1,1,1,3,1,2,3,2];return b}();a.pa=b})(z||(z={}));(function(a){function b(c,d,a,b){var f=c.jd,k=c.e+d+1;1===a?b=5<=f[k]:2===a?b=5<f[k]||5==f[k]&&(b||0>k||void 0!==f[k+1]||f[k-1]&1):3===a?b=b||void 0!==f[k]||0>k:(b=!1,0!==a&&e("!Big.RM!"));if(1>k||!f[0])b?(c.e=-d,c.jd=[1]):c.jd=[c.e=0];else{f.length=k--;if(b)for(;9<++f[k];)f[k]=0,k--||(++c.e,f.unshift(1));
for(k=f.length;!f[--k];f.pop());}}function e(c){c=Error(c);c.name="BigError";throw c;}var d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,c=function(){function c(f){if(f instanceof c)this.Dd=f.Dd,this.e=f.e,this.jd=f.jd.slice();else{var a,k,b;0===f&&0>1/f?f="-0":d.test(f+="")||e(NaN);this.Dd="-"==f.charAt(0)?(f=f.slice(1),-1):1;-1<(a=f.indexOf("."))&&(f=f.replace(".",""));0<(k=f.search(/e/i))?(0>a&&(a=k),a+=+f.slice(k+1),f=f.substring(0,k)):0>a&&(a=f.length);for(k=0;"0"==f.charAt(k);k++);if(k==(b=f.length))this.jd=
[this.e=0];else{for(;"0"==f.charAt(--b););this.e=a-k-1;this.jd=[];for(a=0;k<=b;this.jd[a++]=+f.charAt(k++));}}}c.prototype.abs=function(){var f=new c(this);f.Dd=1;return f};c.prototype.DB=function(){var f=0,d=this.jd,a=(f=new c(f)).jd,b=this.Dd,e=f.Dd,n=this.e,g=f.e;if(!d[0]||!a[0])return d[0]?b:a[0]?-e:0;if(b!=e)return b;f=0>b;if(n!=g)return n>(g^f)?1:-1;b=-1;for(e=(n=d.length)<(g=a.length)?n:g;++b<e;)if(d[b]!=a[b])return d[b]>(a[b]^f)?1:-1;return n==g?0:n>(g^f)?1:-1};c.prototype.VB=function(f){var d=
this.jd,a=(f=new c(f)).jd,k=this.Dd==f.Dd?1:-1,n=c.Cc;(n!==~~n||0>n||1E6<n)&&e("!Big.DP!");if(!d[0]||!a[0])return d[0]==a[0]&&e(NaN),a[0]||e(k/0),new c(0*k);var g,h,l,m,r=a.slice(),q=g=a.length,C=d.length,v=d.slice(0,g),p=v.length,w=f,u=w.jd=[],x=0,B=n+(w.e=this.e-f.e)+1;w.Dd=k;k=0>B?0:B;for(r.unshift(0);p++<g;v.push(0));do{for(h=0;10>h;h++){if(g!=(p=v.length))l=g>p?1:-1;else for(m=-1,l=0;++m<g;)if(a[m]!=v[m]){l=a[m]>v[m]?1:-1;break}if(0>l){for(f=p==g?a:r;p;){if(v[--p]<f[p]){for(m=p;m&&!v[--m];v[m]=
9);--v[m];v[p]+=10}v[p]-=f[p]}for(;!v[0];v.shift());}else break}u[x++]=l?h:++h;v[0]&&l?v[p]=d[q]||0:v=[d[q]]}while((q++<C||void 0!==v[0])&&k--);u[0]||1==x||(u.shift(),w.e--);x>B&&b(w,n,c.ye,void 0!==v[0]);return w};c.prototype.nO=function(){return 0<this.DB()};c.prototype.vP=function(){return 0>this.DB()};c.prototype.nr=function(f){var d,a,k=this.Dd,b=(f=new c(f)).Dd;if(k!=b)return f.Dd=-b,this.NE(f);var e=this.jd.slice();a=this.e;var n=f.jd,g=f.e;if(!e[0]||!n[0])return n[0]?(f.Dd=-b,f):new c(e[0]?
this:0);if(k=a-g){(d=0>k)?(k=-k,a=e):(g=a,a=n);a.reverse();for(b=k;b--;a.push(0));a.reverse()}else for(a=((d=e.length<n.length)?e:n).length,k=b=0;b<a;b++)if(e[b]!=n[b]){d=e[b]<n[b];break}d&&(a=e,e=n,n=a,f.Dd=-f.Dd);if(0<(b=(a=n.length)-(d=e.length)))for(;b--;e[d++]=0);for(b=d;a>k;){if(e[--a]<n[a]){for(d=a;d&&!e[--d];e[d]=9);--e[d];e[a]+=10}e[a]-=n[a]}for(;0==e[--b];e.pop());for(;0==e[0];)e.shift(),--g;e[0]||(f.Dd=1,e=[g=0]);f.jd=e;f.e=g;return f};c.prototype.NE=function(f){var d,a=this.Dd;d=(f=new c(f)).Dd;
if(a!=d)return f.Dd=-d,this.nr(f);d=this.e;var k=this.jd,b=f.e,e=f.jd;if(!k[0]||!e[0])return e[0]?f:new c(k[0]?this:0*a);k=k.slice();if(a=d-b){0<a?(b=d,d=e):(a=-a,d=k);for(d.reverse();a--;d.push(0));d.reverse()}0>k.length-e.length&&(d=e,e=k,k=d);a=e.length;for(d=0;a;)d=(k[--a]=k[a]+e[a]+d)/10|0,k[a]%=10;d&&(k.unshift(d),++b);for(a=k.length;0==k[--a];k.pop());f.jd=k;f.e=b;return f};c.prototype.pow=function(f){var d=this,a=new c(1),k=a,b=0>f;(f!==~~f||-1E6>f||1E6<f)&&e("!pow!");for(f=b?-f:f;;){f&1&&
(k=k.Wp(d));f>>=1;if(!f)break;d=d.Wp(d)}return b?a.VB(k):k};c.prototype.round=function(f,d){var a=this;null==f?f=0:(f!==~~f||0>f||1E6<f)&&e("!round!");b(a=new c(a),f,null==d?c.ye:d);return a};c.prototype.sqrt=function(){var f,d,a;d=this.jd;f=this.Dd;a=this.e;var n=new c("0.5");if(!d[0])return new c(this);0>f&&e(NaN);f=Math.sqrt(this.toString());0==f||f==1/0?(f=d.join(""),f.length+a&1||(f+="0"),d=new c(Math.sqrt(f).toString()),d.e=((a+1)/2|0)-(0>a||a&1)):d=new c(f.toString());f=d.e+(c.Cc+=4);do a=
d,d=n.Wp(a.NE(this.VB(a)));while(a.jd.slice(0,f).join("")!==d.jd.slice(0,f).join(""));b(d,c.Cc-=4,c.ye);return d};c.prototype.Wp=function(f){var d,a=this.jd,k=(f=new c(f)).jd,b=a.length,e=k.length,n=this.e,g=f.e;f.Dd=this.Dd==f.Dd?1:-1;if(!a[0]||!k[0])return new c(0*f.Dd);f.e=n+g;b<e&&(d=a,a=k,k=d,g=b,b=e,e=g);for(d=Array(g=b+e);g--;d[g]=0);for(n=e;n--;){e=0;for(g=b+n;g>n;)e=d[g]+k[n]*a[g-n-1]+e,d[g--]=e%10,e=e/10|0;d[g]=(d[g]+e)%10}e&&++f.e;d[0]||d.shift();for(n=d.length;!d[--n];d.pop());f.jd=d;
return f};c.prototype.toString=function(){var c=this.e,f=this.jd.join(""),d=f.length;if(-7>=c||21<=c)f=f.charAt(0)+(1<d?"."+f.slice(1):"")+(0>c?"e":"e+")+c;else if(0>c){for(;++c;f="0"+f);f="0."+f}else if(0<c)if(++c>d)for(c-=d;c--;f+="0");else c<d&&(f=f.slice(0,c)+"."+f.slice(c));else 1<d&&(f=f.charAt(0)+"."+f.slice(1));return 0>this.Dd&&this.jd[0]?"-"+f:f};c.Cc=20;c.ye=1;return c}();a.Tn=c})(z||(z={}));(function(a){var b=function(){function d(c){this.$e=c}d.prototype.Zp=function(c,f,d){var k=new a.b,
b=new a.b,e=this.$e;d.xd(c,f,function(c,f){e.ec(2*c,k);e.ec(2*f,b);return k.compare(b)})};d.prototype.Mo=function(c){return this.$e.read(2*c+1)};return d}(),e=function(){function d(){}d.No=function(c){if(c.s())return!1;var f=c.D();return 1736==f?0==c.Mh()?!1:!0:1607==f?(f=[!1],d.qz(c,!0,f),f[0]):197==f||a.T.Lc(f)&&!c.kD()?!0:!1};d.il=function(c){var f=c.D();if(1736==f)return f=new a.Xa(c.description),c.s()||c.tA(f),f;if(1607==f)return d.qz(c,!1,null);if(197==f)return f=new a.Xa(c.description),c.s()||
f.Wc(c,!1),f;if(a.T.Lc(f)){f=new a.pe(c.description);if(!c.s()&&!c.kD()){var k=new a.Va;c.En(k);f.add(k);c.Bn(k);f.add(k)}return f}if(a.T.Km(f))return null;throw a.g.N();};d.qz=function(c,f,d){null!=d&&(d[0]=!1);var k=null;f||(k=new a.pe(c.description));if(!c.s()){var e=new a.ga(0);e.xb(2*c.ea());for(var n=0,g=c.ea();n<g;n++)if(0<c.Ha(n)&&!c.Oo(n)){var h=c.Ea(n);e.add(h);h=c.Dc(n)-1;e.add(h)}if(0<e.size){g=new a.Rr;n=c.mc(0);g.sort(e,0,e.size,new b(n));g=new a.b;n.ec(2*e.get(0),g);for(var h=0,l=1,
m=new a.Va,r=new a.b,q=1,C=e.size;q<C;q++)if(n.ec(2*e.get(q),r),r.ub(g))e.get(h)>e.get(q)?(e.set(h,2147483647),h=q):e.set(q,2147483647),l++;else{if(0==(l&1))e.set(h,2147483647);else if(f)return null!=d&&(d[0]=!0),null;g.J(r);h=q;l=1}if(0==(l&1))e.set(h,2147483647);else if(f)return null!=d&&(d[0]=!0),null;if(!f)for(e.xd(0,e.size,function(c,f){return c-f}),q=0,C=e.size;q<C&&2147483647!=e.get(q);q++)c.Sd(e.get(q),m),k.add(m)}}return f?null:k};return d}();a.Hh=e})(z||(z={}));(function(a){var b=function(){function b(){this.lf=
new a.ga(0);this.Lq=new a.ga(0);this.gE=1;this.Qq=NaN}b.prototype.sort=function(d,c,f,a){if(32>f-c)a.Zp(c,f,d);else{var k=!0;try{for(var b=Infinity,e=-Infinity,n=c;n<f;n++){var g=a.Mo(d.get(n));g<b&&(b=g);g>e&&(e=g)}if(this.reset(f-c,b,e,f-c)){for(n=c;n<f;n++){var h=d.get(n),g=a.Mo(h),l=this.oC(g);this.lf.set(l,this.lf.get(l)+1);this.Lq.write(n-c,h)}var m=this.lf.get(0);this.lf.set(0,0);for(var n=1,r=this.lf.size;n<r;n++){var q=this.lf.get(n);this.lf.set(n,m);m+=q}for(n=c;n<f;n++){var h=this.Lq.read(n-
c),g=a.Mo(h),l=this.oC(g),C=this.lf.get(l);d.set(C+c,h);this.lf.set(l,C+1)}k=!1}}catch(Aa){this.lf.resize(0),this.Lq.resize(0)}if(k)a.Zp(c,f,d);else{n=f=0;for(r=this.lf.size;n<r;n++)k=f,f=this.lf.get(n),f>k&&a.Zp(c+k,c+f,d);100<this.lf.size&&(this.lf.resize(0),this.Lq.resize(0))}}};b.prototype.reset=function(d,c,f,a){if(2>d||f==c)return!1;d=Math.min(b.tI,d);this.lf.xb(d);this.lf.resize(d);this.lf.dh(0,0,this.lf.size);this.gE=c;this.Lq.resize(a);this.Qq=(f-c)/(d-1);return!0};b.prototype.oC=function(d){return a.I.truncate((d-
this.gE)/this.Qq)};b.tI=65536;return b}();a.Rr=b})(z||(z={}));(function(a){var b;(function(c){c[c.enum_line=1]="enum_line";c[c.enum_arc=2]="enum_arc";c[c.enum_dummy=4]="enum_dummy";c[c.enum_concave_dip=8]="enum_concave_dip";c[c.enum_connection=3]="enum_connection"})(b||(b={}));var e=function(){function c(){}c.Ks=function(f,d,k,b,t,e){var n=new c;n.Fl=new a.b;n.Ql=new a.b;n.Lt=new a.b;n.Fl.J(f);n.Ql.J(d);n.Lt.J(k);n.qn=b;n.Rg=t;n.Ug=e;return n};c.Oa=function(f,d,k,b){var t=new c;t.Fl=new a.b;t.Ql=
new a.b;t.Lt=new a.b;t.Fl.J(f);t.Ql.J(d);t.Lt.Eh();t.qn=4;t.Rg=k;t.Ug=b;return t};return c}(),d=function(){function c(c,f,d,a,k,b){this.It=null;this.ua=0;this.Ex=c;this.yE=this.wE=0;this.Da=f;this.Pi=d;this.Cj=a;this.mp=k;this.Yb=b}c.prototype.next=function(){for(var c=new a.Va;;){if(this.ua==this.Ex.F())return null;this.Ex.Sd(this.ua,c);this.ua++;if(!c.s())break}var f=!1;null==this.It&&(this.wE=c.lk(),this.yE=c.mk(),this.It=k.buffer(c,this.Da,this.Pi,this.Cj,this.mp,this.Yb),f=!0);var d;this.ua<
this.Ex.F()?(d=new a.Ka,this.It.copyTo(d)):d=this.It;if(!f){var f=new a.Bg,b=c.lk()-this.wE,c=c.mk()-this.yE;f.Nn(b,c);d.Oe(f)}return d};c.prototype.ya=function(){return 0};return c}(),c=function(){function c(c,f){this.Ma=c;this.ua=0;this.Yo=f}c.prototype.next=function(){var c=this.Ma.U;if(this.ua<c.ea()){var f=this.ua;this.ua++;if(!c.Oo(f))for(var d=c.Fa(c.Dc(f)-1);this.ua<c.ea();){var k=c.Fa(c.Ea(this.ua));if(c.Oo(this.ua))break;if(k!=d)break;d=c.Fa(c.Dc(this.ua)-1);this.ua++}if(1==this.ua-f)return this.Ma.kB(this.Ma.U,
f,this.Yo);d=new a.Xa(this.Ma.U.description);d.Zj(this.Ma.U,f,!0);for(f+=1;f<this.ua;f++)d.ys(this.Ma.U,f,0,c.ct(f),!1);return this.Ma.kB(d,0,this.Yo)}return null};c.prototype.ya=function(){return 0};return c}(),f=function(){function c(c){this.Ma=c;this.ua=0}c.prototype.next=function(){var c=this.Ma.U;if(this.ua<c.ea()){var f=this.ua;c.oo(this.ua);for(this.ua++;this.ua<c.ea()&&!(0<c.oo(this.ua));)this.ua++;return 0==f&&this.ua==c.ea()?this.Ma.Gv(c,0,c.ea()):this.Ma.Gv(c,f,this.ua)}return null};c.prototype.ya=
function(){return 0};return c}(),k=function(){function k(c){this.Vq=this.Tt=this.Wq=this.sd=null;this.Jd=[];this.Yb=c;this.hb=this.wt=this.OP=this.Da=this.vx=this.jr=this.ka=0;this.sx=this.Cj=-1;this.Yo=!0}k.buffer=function(c,f,d,b,t,e){if(null==c)throw a.g.N();if(0>b)throw a.g.N();if(c.s())return new a.Ka(c.description);var n=new a.i;c.dd(n);0<f&&n.P(f,f);e=new k(e);e.Pi=d;e.U=c;e.ka=a.Ia.zd(d,n,!0);e.jr=a.Ia.zd(null,n,!0);e.Da=f;e.OP=c.D();0>=t&&(t=96);e.hb=Math.abs(e.Da);e.wt=0!=e.hb?1/e.hb:0;
isNaN(b)||0==b?b=1E-5*e.hb:b>.5*e.hb&&(b=.5*e.hb);12>t&&(t=12);c=Math.abs(f)*(1-Math.cos(Math.PI/t));c>b?b=c:(c=Math.PI/Math.acos(1-b/Math.abs(f)),c<t-1&&(t=a.I.truncate(c),12>t&&(t=12,b=Math.abs(f)*(1-Math.cos(Math.PI/t)))));e.Cj=b;e.mp=t;e.vx=Math.min(e.jr,.25*b);return e.lB()};k.prototype.Ss=function(){if(null==this.sd)this.sd=[];else if(0!==this.sd.length)return;var c=this.pB(),c=a.I.truncate((c+3)/4),f=.5*Math.PI/c;this.sx=f;for(var d=0;d<4*c;d++)this.sd.push(null);for(var k=Math.cos(f),f=Math.sin(f),
b=a.b.Oa(0,1),d=0;d<c;d++)this.sd[d+0*c]=a.b.Oa(b.y,-b.x),this.sd[d+1*c]=a.b.Oa(-b.x,-b.y),this.sd[d+2*c]=a.b.Oa(-b.y,b.x),this.sd[d+3*c]=b,b=a.b.Oa(b.x,b.y),b.Er(k,f)};k.prototype.lB=function(){var c=this.U.D();if(a.T.Lc(c))return c=new a.Xa(this.U.description),c.Bc(this.U,!0),this.U=c,this.lB();if(this.Da<=this.ka)if(a.T.SO(c)){if(0>=this.Da&&(c=new a.i,this.U.o(c),c.aa()<=2*-this.Da||c.ba()<=2*this.Da))return new a.Ka(this.U.description)}else return new a.Ka(this.U.description);switch(this.U.D()){case 33:return this.tK();
case 550:return this.sK();case 1607:return this.vK();case 1736:return this.uK();case 197:return this.qK();default:throw a.g.wa();}};k.prototype.vK=function(){if(this.oD(this.U)){var f=new a.Va;this.U.Sd(0,f);var d=new a.i;this.U.o(d);f.ic(d.Af());return this.Es(f)}this.U=this.SQ(this.U);f=new c(this,this.Yo);return a.wi.local().$(f,this.Pi,this.Yb).next()};k.prototype.uK=function(){if(0==this.Da)return this.U;var c=a.as.local();this.Ss();this.U=c.$(this.U,null,!1,this.Yb);if(0>this.Da){var d=this.U,
d=this.Gv(d,0,d.ea());return c.$(d,this.Pi,!1,this.Yb)}if(this.oD(this.U))return c=new a.Va,this.U.Sd(0,c),d=new a.i,this.U.o(d),c.ic(d.Af()),this.Es(c);c=new f(this);return a.wi.local().$(c,this.Pi,this.Yb).next()};k.prototype.Gv=function(c,f,d){for(var b=new a.Ka(c.description);f<d;f++)if(!(1>c.Ha(f))){var t=c.oo(f),e=new a.i;c.Ti(f,e);if(0<this.Da)if(0<t)if(this.pD(c,f))t=new a.Va,c.Sd(c.Ea(f),t),t.ic(e.Af()),this.us(b,t);else{var n=t=new a.Xa(c.description),n=a.Tr.sD(this.U,f)||2==this.sm(this.U,
f,n,!0,1)?this.jB(c,f):this.rm(t);b.add(n,!1)}else{if(!(e.aa()+this.ka<=2*this.hb||e.ba()+this.ka<=2*this.hb||(n=t=new a.Xa(c.description),this.sm(this.U,f,n,!0,1),t.s()))){var A=new a.i;A.K(e);A.P(this.hb,this.hb);n.ws(A);n=this.rm(t);e=1;for(t=n.ea();e<t;e++)b.Zj(n,e,!0)}}else if(0<t){if(!(e.aa()+this.ka<=2*this.hb||e.ba()+this.ka<=2*this.hb||(n=t=new a.Xa(c.description),this.sm(this.U,f,n,!0,-1),t.s())))for(A=new a.i,n.dd(A),A.P(this.hb,this.hb),n.ws(A),n=this.rm(t),e=1,t=n.ea();e<t;e++)b.Zj(n,
e,!0)}else for(n=t=new a.Xa(c.description),this.sm(this.U,f,n,!0,-1),n=this.rm(t),e=0,t=n.ea();e<t;e++)b.Zj(n,e,!0)}if(0<this.Da)return 1<b.ea()?b=this.rm(b):k.Id(b);c=new a.i;b.dd(c);if(b.s())return k.Id(b);c.P(this.hb,this.hb);b.ws(c);b=this.rm(b);c=new a.Ka(b.description);e=1;for(t=b.ea();e<t;e++)c.Zj(b,e,!1);return k.Id(c)};k.prototype.tK=function(){return this.Es(this.U)};k.prototype.Es=function(c){var f=new a.Ka(this.U.description);this.us(f,c);return this.nS(f)};k.prototype.sK=function(){var c=
new d(this.U,this.Da,this.Pi,this.Cj,this.mp,this.Yb);return a.wi.local().$(c,this.Pi,this.Yb).next()};k.prototype.qK=function(){var c=new a.Ka(this.U.description);if(0>=this.Da){if(0==this.Da)c.Wc(this.U,!1);else{var f=new a.Vj;this.U.Fp(f);f.P(this.Da,this.Da);c.Wc(f,!1)}return c}c.Wc(this.U,!1);this.U=c;return this.jB(c,0)};k.prototype.jB=function(c,f){this.Ss();var d=new a.Ka(c.description),b=new a.b,t=new a.b,e=new a.b,n=new a.b,A=new a.b,g=new a.b,G=new a.b,h=new a.b,l=c.Ha(f),m=c.Ea(f),r=0;
for(f=c.Ha(f);r<f;r++){c.w(m+r,t);c.w(m+(r+1)%l,n);c.w(m+(r+2)%l,g);G.pc(n,t);if(0==G.length())throw a.g.wa();G.tt();G.normalize();G.scale(this.hb);b.add(G,t);e.add(G,n);0==r?d.Nr(b):d.Lm(b);d.Lm(e);h.pc(g,n);if(0==h.length())throw a.g.wa();h.tt();h.normalize();h.scale(this.hb);A.add(h,n);this.NA(d,n,e,A,!1)}return k.Id(d)};k.prototype.kB=function(c,f,d){this.Ss();if(1>c.Ha(f))return null;if(this.pD(c,f)&&0<this.Da){d=new a.Va;c.Sd(c.Ea(f),d);var k=new a.i;c.Ti(f,k);d.ic(k.Af());return this.Es(d)}k=
new a.Xa(c.description);if(c.Oo(f))this.sm(c,f,k,d,1),this.sm(c,f,k,d,-1);else{var b=new a.Xa(c.description);b.Zj(c,f,!1);b.ys(c,f,0,c.ct(f),!1);this.sm(b,0,k,d,1)}return this.rm(k)};k.prototype.rm=function(c){return a.Of.Qj(c,this.jr,!0,!0,this.Yb)};k.prototype.pB=function(){if(0==this.Cj)return this.mp;var c=1-this.Cj*Math.abs(this.wt),f;-1>c?f=4:f=2*Math.PI/Math.acos(c)+.5;4>f?f=4:f>this.mp&&(f=this.mp);return a.I.truncate(f)};k.prototype.NA=function(c,f,d,k,b){this.Ss();var t=new a.b;t.pc(d,f);
t.scale(this.wt);var e=new a.b;e.pc(k,f);e.scale(this.wt);t=Math.atan2(t.y,t.x)/this.sx;0>t&&(t=this.sd.length+t);t=this.sd.length-t;e=Math.atan2(e.y,e.x)/this.sx;0>e&&(e=this.sd.length+e);e=this.sd.length-e;e<t&&(e+=this.sd.length);var n=a.I.truncate(e),e=a.I.truncate(Math.ceil(t)),t=new a.b;t.J(this.sd[e%this.sd.length]);t.Fr(this.hb,f);var A=10*this.ka;t.sub(d);t.length()<A&&(e+=1);t.J(this.sd[n%this.sd.length]);t.Fr(this.hb,f);t.sub(k);t.length()<A&&--n;d=n-e;d++;n=0;for(e%=this.sd.length;n<d;n++,
e=(e+1)%this.sd.length)t.J(this.sd[e]),t.Fr(this.hb,f),c.Lm(t);b&&c.Lm(k)};k.prototype.sm=function(c,f,d,k,b){var t=new a.fd,n=t.QJ(c,f);t.xo(this.vx,!1,!1);if(2>t.F(n)){if(0>b)return 1;b=c;t=new a.Va;b.Sd(b.Ea(f),t);this.us(d,t);return 1}var A=t.Fa(t.Cb(t.Vb(n))),g=new a.Bg;g.Nn(-A.x,-A.y);t.Oe(g);if(k&&(this.MM(t,n,b),2>t.F(n))){if(0>b)return 1;b=c;t=new a.Va;b.Sd(b.Ea(f),t);this.us(d,t);return 1}this.Jd.length=0;var G=t.Vb(n);f=t.Cb(G);var h=1==b?t.Ua(f):t.X(f);c=1==b?t.X(f):t.Ua(f);var F=!0;k=
new a.b;for(var n=new a.b,H=new a.b,l=new a.b,m=new a.b,r=new a.b,q=new a.b,C=new a.b,X=new a.b,v=new a.b,p=this.hb,G=t.Ha(G),w=0;w<G;w++)t.w(c,n),F&&(t.w(f,k),t.w(h,H),C.pc(k,H),C.normalize(),v.zD(C),v.scale(p),l.add(v,k)),q.pc(n,k),q.normalize(),X.zD(q),X.scale(p),m.add(k,X),h=C.Ai(q),F=C.ml(q),0>h||0>F&&0==h?this.Jd.push(e.Ks(l,m,k,2,this.Jd.length+1,this.Jd.length-1)):l.ub(m)||(this.Jd.push(e.Oa(l,k,this.Jd.length+1,this.Jd.length-1,"dummy")),this.Jd.push(e.Oa(k,m,this.Jd.length+1,this.Jd.length-
1,"dummy"))),r.add(n,X),this.Jd.push(e.Ks(m,r,k,1,this.Jd.length+1,this.Jd.length-1)),l.J(r),v.J(X),H.J(k),k.J(n),C.J(q),h=f,f=c,F=!1,c=1==b?t.X(f):t.Ua(f);this.Jd[this.Jd.length-1].Rg=0;this.Jd[0].Ug=this.Jd.length-1;this.UQ(d);g.Nn(A.x,A.y);d.ZA(g,d.ea()-1);return 1};k.prototype.UQ=function(c){for(var f=this.aL(),d=!0,a=f+1,k=f;a!=f;k=a){var b=this.Jd[k],a=-1!=b.Rg?b.Rg:(k+1)%this.Jd.length;0!=b.qn&&(d&&c.Nr(b.Fl),2==b.qn?this.NA(c,b.Lt,b.Fl,b.Ql,!0):c.Lm(b.Ql),d=!1)}};k.prototype.aL=function(){null==
this.Vq&&(this.Vq=[null,null,null,null,null,null,null,null,null]);for(var c=0,f=0,d=this.Jd.length;f<d;){var k=this.Jd[f];if(0!=(k.qn&3)){c=f;break}f=k.Rg}d=c+1;for(f=c;d!=c;f=d){for(var k=this.Jd[f],d=k.Rg,b=1,t=null;d!=f;){t=this.Jd[d];if(0!=(t.qn&3))break;d=t.Rg;b++}1!=b&&1==(k.qn&t.qn)&&(null==this.Wq&&(this.Wq=new a.yb,this.Tt=new a.yb),this.Wq.ed(k.Fl),this.Wq.vd(k.Ql),this.Tt.ed(t.Fl),this.Tt.vd(t.Ql),1==this.Wq.Ga(this.Tt,this.Vq,null,null,this.jr)&&(k.Ql.J(this.Vq[0]),t.Fl.J(this.Vq[0]),
k.Rg=d,t.Ug=f))}return c};k.prototype.rt=function(c,f,d){var k=new a.b;k.pc(d,c);d=k.length();d=this.hb*this.hb-d*d*.25;if(0<d){d=Math.sqrt(d);k.normalize();k.Kp();var b=new a.b;b.pc(f,c);if(b.ml(k)+d>=this.hb)return!0}return!1};k.prototype.MM=function(c,f,d){for(var k=0;1>k;k++){var b=!1,t=c.Vb(f),e=c.Ha(t);if(0==e)break;var n=e;if(3>e)break;!c.vc(t)&&(n=e-1);for(var t=c.Cb(t),e=0<d?c.Ua(t):c.X(t),A=0<d?c.X(t):c.Ua(t),g=e,G=!0,h=new a.b,F=new a.b,l=new a.b,m=new a.b,r=new a.b,q=a.b.Oa(0,0),C=new a.b,
v=new a.b,p=new a.b,w=new a.b,u=this.hb,x=0,B=0;B<n;){c.w(A,F);G&&(c.w(t,h),c.w(e,l),g=e);v.pc(h,l);v.normalize();C.pc(F,h);C.normalize();if(g==A)break;var D=v.Ai(C),z=v.ml(C),E=!0;0>D||0>z&&0==D||!this.rt(l,h,F)||(q.J(F),E=!1,++x,b=!0);if(E){if(0<x)for(;;){D=0<d?c.Ua(g):c.X(g);if(D==t)break;c.w(D,m);if(this.rt(m,l,q))l.J(m),g=D,E=!1,++x;else{D!=A&&this.rt(m,l,F)&&this.rt(m,h,F)&&(l.J(m),g=D,E=!1,++x);break}}if(!E)continue;if(0<x){g=0<d?c.Ua(e):c.X(e);for(G=1;G<x;G++)E=0<d?c.Ua(g):c.X(g),c.vf(g,!0),
g=E;p.pc(h,l);x=p.length();x=u*u-x*x*.25;x=Math.sqrt(x);u-x>.5*this.Cj?(r.add(l,h),r.scale(.5),p.normalize(),p.Kp(),w.J(p),w.scale(u-x),r.add(w),c.Yi(e,r)):c.vf(e,!0);x=0}l.J(h);g=t}h.J(F);e=t;t=A;A=0<d?c.X(t):c.Ua(t);B++;G=!1}if(0<x){g=0<d?c.Ua(e):c.X(e);for(G=1;G<x;G++)E=0<d?c.Ua(g):c.X(g),c.vf(g,!0),g=E;r.add(l,h);r.scale(.5);p.pc(h,l);x=p.length();x=u*u-x*x*.25;x=Math.sqrt(x);p.normalize();p.Kp();w.J(p);w.scale(u-x);r.add(w);c.Yi(e,r)}c.xo(this.vx,!1,!1);if(!b)break}};k.prototype.pD=function(c,
f){if(1==c.Ha(f))return!0;var d=new a.i;c.Ti(f,d);return Math.max(d.aa(),d.ba())<.5*this.Cj?!0:!1};k.prototype.oD=function(c){var f=new a.i;c.o(f);return Math.max(f.aa(),f.ba())<.5*this.Cj?!0:!1};k.prototype.SQ=function(c){c=a.Sz.local().$(c,.25*this.Cj,!1,this.Yb);for(var f=0,d=0,k=c.ea();d<k;d++)f=Math.max(c.Ha(d),f);if(32>f)return this.Yo=!1,c;this.Yo=!0;return a.Of.Qj(c,this.jr,!1,!0,this.Yb)};k.prototype.us=function(c,f){f=f.w();if(null!=this.sd&&0!==this.sd.length){var d=new a.b;d.J(this.sd[0]);
d.Fr(this.hb,f);c.Nr(d);for(var k=1,b=this.sd.length;k<b;k++)d.J(this.sd[k]),d.Fr(this.hb,f),c.Lm(d)}else for(var k=this.pB(),d=a.I.truncate((k+3)/4),k=.5*Math.PI/d,b=Math.cos(k),t=Math.sin(k),e=new a.b,n=3;0<=n;n--)switch(e.ma(0,this.hb),n){case 0:for(k=0;k<d;k++)c.wj(e.x+f.x,e.y+f.y),e.Er(b,t);break;case 1:for(k=0;k<d;k++)c.wj(-e.y+f.x,e.x+f.y),e.Er(b,t);break;case 2:for(k=0;k<d;k++)c.wj(-e.x+f.x,-e.y+f.y),e.Er(b,t);break;default:for(c.Uy(e.y+f.x,-e.x+f.y),k=1;k<d;k++)e.Er(b,t),c.wj(e.y+f.x,-e.x+
f.y)}};k.Id=function(c){c.hg(1,0);return c};k.prototype.nS=function(c){c.hg(2,this.ka);c.hl();return c};return k}();a.UG=k})(z||(z={}));(function(a){var b=function(){function b(d){this.Qb=d;this.a=new a.fd;this.vg=new a.ga(0)}b.prototype.po=function(d,c,f){switch(c){case 0:if(d.v<f&&d.B<=f)break;else return d.v>=f?1:-1;case 1:if(d.C<f&&d.G<=f)break;else return d.C>=f?1:-1;case 2:if(d.v>=f&&d.B>f)break;else return d.B<=f?1:-1;case 3:if(!(d.C>=f&&d.G>f))return d.G<=f?1:-1}return 0};b.prototype.cL=function(d,
c){return 1736==d.D()?this.dL(d,c):this.eL(d)};b.prototype.dL=function(d,c){if(0==this.Qb.aa()||0==this.Qb.ba())return d.Pa();var f=new a.i;d.dd(f);this.U=this.a.Eb(d);var k=new a.i,b=new a.i,e=new a.b,n=new a.b,g=[0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0];new a.Ag;var l=new a.yb,m=new a.ga(0);m.xb(Math.min(100,d.F()));for(var r=!1,q=0;!r&&4>q;q++){var C=!1,v=0!=(q&1),p=0;switch(q){case 0:p=this.Qb.v;C=f.v<=p&&f.B>=p;break;case 1:p=this.Qb.C;C=f.C<=p&&f.G>=p;break;case 2:p=this.Qb.B;C=f.v<=p&&f.B>=
p;break;case 3:p=this.Qb.G,C=f.C<=p&&f.G>=p}if(C)for(r=!0,C=this.a.Vb(this.U);-1!=C;){var w=-1,u=-1,x=this.a.Cb(C),B=x;do{var D=this.a.cc(B);null==D&&(D=l,this.a.w(B,e),D.ed(e),this.a.w(this.a.X(B),n),D.vd(n));D.o(k);var z=this.po(k,q,p),E=0,I=-1;if(-1==z){D=D.nt(v,p,g,h);0<D?E=this.a.Mr(B,h,D):E=0;for(var E=E+1,y=B,K=this.a.X(y),D=0;D<E;D++){this.a.w(y,e);this.a.w(K,n);I=this.a.cc(y);null==I&&(I=l,I.ed(e),I.vd(n));I.o(b);I=this.po(b,q,p);if(-1==I){if(v)I=Math.abs(e.y-p),U=Math.abs(n.y-p),I<U?(e.y=
p,this.a.Yi(y,e)):(n.y=p,this.a.Yi(K,n));else{var I=Math.abs(e.x-p),U=Math.abs(n.x-p);I<U?(e.x=p,this.a.Yi(y,e)):(n.x=p,this.a.Yi(K,n))}I=this.a.cc(y);null==I&&(I=l,I.ed(e),I.vd(n));I.o(b);I=this.po(b,q,p)}U=w;w=I;-1==u&&(u=w);if(0!=U||1!=w)1==U&&0==w||0!=U||0!=w||m.add(y);1==w&&(r=!1);I=y=K;K=this.a.X(K)}}if(0==E){U=w;w=z;-1==u&&(u=w);if(0!=U||1!=w)1==U&&0==w||0!=U||0!=w||m.add(B);1==w&&(r=!1);I=this.a.X(B)}B=I}while(B!=x);0==u&&0==w&&m.add(x);D=0;for(w=m.size;D<w;D++)u=m.get(D),this.a.vf(u,!1);
m.clear(!1);C=3>this.a.Ha(C)?this.a.Cr(C):this.a.bc(C)}}if(r)return d.Pa();this.AR();0<c&&this.gM(c);return this.a.hf(this.U)};b.prototype.eL=function(d){var c=new a.i,f=new a.i,k=[0,0,0,0,0,0,0,0,0],b=[0,0,0,0,0,0,0,0,0],e=new a.Ag,n=d,g=new a.i;d.dd(g);for(var h=0;4>h;h++){var l=!1,m=0!=(h&1),r=0;switch(h){case 0:r=this.Qb.v;l=g.v<=r&&g.B>=r;break;case 1:r=this.Qb.C;l=g.C<=r&&g.G>=r;break;case 2:r=this.Qb.B;l=g.v<=r&&g.B>=r;break;case 3:r=this.Qb.G,l=g.C<=r&&g.G>=r}if(l){l=n;n=d.Pa();l=l.Ca();l.Lk();
for(var q,C=new a.b;l.kb();)for(var p,v=!0;l.La();){var w=l.ia();w.o(c);var u=this.po(c,h,r);if(-1==u){if(u=w.nt(m,r,k,b),0<u){var x=0;q=w.Mb();for(var B=0;B<=u;B++)if(p=B<u?b[B]:1,x!=p){w.Bi(x,p,e);var D=e.get();D.ed(q);B<u&&(m?(C.x=k[B],C.y=r):(C.x=r,C.y=k[B]),D.vd(C));D.o(f);var z=this.po(f,h,r);if(-1==z){q=D.Mb();x=D.oc();if(m)z=Math.abs(q.y-r),E=Math.abs(x.y-r),z<E?(q.y=r,D.ed(q)):(x.y=r,D.vd(x));else{var z=Math.abs(q.x-r),E=Math.abs(x.x-r);z<E?(q.x=r,D.ed(q)):(x.x=r,D.vd(x))}D.o(f);z=this.po(f,
h,r)}q=D.oc();x=p;p=z;1==p?(n.Bc(D,v),v=!1):v=!0}}}else p=u,1==p?(n.Bc(w,v),v=!1):v=!0}}}return n};b.prototype.AR=function(){this.vn=-1;this.Nu(!1,this.Qb.v);this.Nu(!1,this.Qb.B);this.Nu(!0,this.Qb.C);this.Nu(!0,this.Qb.G);this.vg.resize(0);this.vg.xb(100);this.vn=this.a.re();for(var d=new a.b,c=this.a.Vb(this.U);-1!=c;c=this.a.bc(c))for(var f=this.a.Cb(c),k=0,b=this.a.Ha(c);k<b;k++,f=this.a.X(f))if(this.a.w(f,d),this.Qb.v==d.x||this.Qb.B==d.x||this.Qb.C==d.y||this.Qb.G==d.y)this.a.lb(f,this.vn,
this.vg.size),this.vg.add(f);this.zu(!1,this.Qb.v);this.zu(!1,this.Qb.B);this.zu(!0,this.Qb.C);this.zu(!0,this.Qb.G);this.WM()};b.prototype.gM=function(d){for(var c=new a.b,f=new a.b,k=a.I.Lh(2048,0),b=this.a.Vb(this.U);-1!=b;b=this.a.bc(b)){var e=this.a.Cb(b),n=e;do{var g=this.a.X(n);this.a.w(n,c);var h=-1;c.x==this.Qb.v?(this.a.w(g,f),f.x==this.Qb.v&&(h=1)):c.x==this.Qb.B&&(this.a.w(g,f),f.x==this.Qb.B&&(h=1));c.y==this.Qb.C?(this.a.w(g,f),f.y==this.Qb.C&&(h=0)):c.y==this.Qb.G&&(this.a.w(g,f),f.y==
this.Qb.G&&(h=0));if(-1!=h&&(h=a.b.Fb(c,f),h=a.I.truncate(Math.min(Math.ceil(h/d),2048)),!(1>=h))){for(var l=1;l<h;l++)k[l-1]=1*l/h;this.a.Mr(n,k,h-1)}n=g}while(n!=e)}};b.prototype.Nu=function(d,c){var f=this.a.re(),k=new a.b,b=new a.ga(0);b.xb(100);for(var e=this.a.Vb(this.U);-1!=e;e=this.a.bc(e))for(var n=this.a.Cb(e),g=0,h=this.a.Ha(e);g<h;g++){var l=this.a.X(n);this.a.w(n,k);if(d?k.y==c:k.x==c)if(this.a.w(l,k),d?k.y==c:k.x==c)1!=this.a.Ra(n,f)&&(b.add(n),this.a.lb(n,f,1)),1!=this.a.Ra(l,f)&&(b.add(l),
this.a.lb(l,f,1));n=l}this.a.bf(f);if(!(3>b.size)){var m=this;b.xd(0,b.size,function(c,f){return m.kj(c,f)});f=new a.b;e=new a.b;n=new a.b;e.Eh();for(var r=-1,g=new a.ga(0),h=new a.ga(0),l=this.a.re(),q=this.a.re(),C=0,p=b.size;C<p;C++){var v=b.get(C);this.a.w(v,k);if(!k.ub(e)){if(-1!=r){for(var w=r;w<C;w++){var r=b.get(w),u=this.a.X(r),v=this.a.Ua(r),x=!1;0>this.kj(r,u)&&(this.a.w(u,f),d?f.y==c:f.x==c)&&(g.add(r),x=!0,this.a.lb(r,q,1));0>this.kj(r,v)&&(this.a.w(v,f),d?f.y==c:f.x==c)&&(x||g.add(r),
this.a.lb(r,l,1))}w=0;for(x=g.size;w<x;w++){r=g.get(w);v=this.a.Ra(r,l);u=this.a.Ra(r,q);if(1==v){v=this.a.Ua(r);this.a.w(v,n);var B=[0];B[0]=0;if(!n.ub(k)){var D=a.b.Fb(e,n);B[0]=a.b.Fb(n,k)/D;0==B[0]?B[0]=2.220446049250313E-16:1==B[0]&&(B[0]=.9999999999999998);this.a.Mr(v,B,1);v=this.a.Ua(r);this.a.Yi(v,k);h.add(v);this.a.lb(v,l,1);this.a.lb(v,q,-1)}}1==u&&(u=this.a.X(r),this.a.w(u,n),B=[0],B[0]=0,n.ub(k)||(D=a.b.Fb(e,n),B[0]=a.b.Fb(e,k)/D,0==B[0]?B[0]=2.220446049250313E-16:1==B[0]&&(B[0]=.9999999999999998),
this.a.Mr(r,B,1),v=this.a.X(r),this.a.Yi(v,k),h.add(v),this.a.lb(v,l,-1),this.a.lb(v,q,1)))}r=g;g=h;h=r;h.clear(!1)}r=C;e.J(k)}}this.a.bf(l);this.a.bf(q)}};b.prototype.zu=function(d,c){var f=new a.b,k=new a.ga(0);k.xb(100);for(var b=this.a.re(),e=0,n=this.vg.size;e<n;e++){var g=this.vg.get(e);if(-1!=g){var h=this.a.X(g);this.a.w(g,f);if(d?f.y==c:f.x==c)if(this.a.w(h,f),d?f.y==c:f.x==c)-2!=this.a.Ra(g,b)&&(k.add(g),this.a.lb(g,b,-2)),-2!=this.a.Ra(h,b)&&(k.add(h),this.a.lb(h,b,-2))}}if(0!=k.size){var l=
this;k.xd(0,k.size,function(c,f){return l.kj(c,f)});e=0;for(n=k.size;e<n;e++){var m=k.get(e);this.a.lb(m,b,e)}g=new a.b;h=new a.b;h.Eh();for(var r=-1,e=0,n=k.size;e<n;e++)if(m=k.get(e),-1!=m&&(this.a.w(m,f),!f.ub(h))){if(-1!=r)for(;;){for(var m=!1,q=1<e-r?e-1:e,C=r;C<q;C++){var v=k.get(C);if(-1!=v){var p=-1,w=this.a.X(v);0>this.kj(v,w)&&(this.a.w(w,g),d?g.y==c:g.x==c)&&(p=w);var w=-1,u=this.a.Ua(v);0>this.kj(v,u)&&(this.a.w(u,g),d?g.y==c:g.x==c)&&(w=u);if(-1!=p&&-1!=w)this.no(v,k,b),this.a.vf(v,!1),
this.no(p,k,b),this.a.vf(p,!1),m=!0;else if(-1!=p||-1!=w){for(u=C+1;u<e;u++){var x=k.get(u);if(-1!=x){var B=this.a.X(x),D=-1;0>this.kj(x,B)&&(this.a.w(B,g),d?g.y==c:g.x==c)&&(D=B);var B=this.a.Ua(x),z=-1;0>this.kj(x,B)&&(this.a.w(B,g),d?g.y==c:g.x==c)&&(z=B);if(-1!=D&&-1!=z){this.no(x,k,b);this.a.vf(x,!1);this.no(D,k,b);this.a.vf(D,!1);m=!0;break}if(-1!=p&&-1!=z){this.dF(k,v,p,x,z,b);m=!0;break}else if(-1!=w&&-1!=D){this.dF(k,x,D,v,w,b);m=!0;break}}}if(m)break}}}if(!m)break}r=e;h.J(f)}}this.a.bf(b)};
b.prototype.no=function(d,c,f){f=this.a.Ra(d,f);c.set(f,-1);f=this.a.Ra(d,this.vn);this.vg.set(f,-1);c=this.a.rd(d);-1!=c&&this.a.Cb(c)==d&&(this.a.Dh(c,-1),this.a.Wi(c,-1))};b.prototype.dF=function(d,c,f,a,b,e){this.a.Sc(c,a);this.a.Tc(a,c);this.a.Tc(f,b);this.a.Sc(b,f);this.no(a,d,e);this.a.Ui(a,!1);this.no(b,d,e);this.a.Ui(b,!0)};b.prototype.WM=function(){for(var d=0,c=this.vg.size;d<c;d++){var f=this.vg.get(d);-1!=f&&this.a.im(f,-1)}for(var a=0,b=0,e=this.a.Vb(this.U);-1!=e;){var n=this.a.Cb(e);
if(-1==n||e!=this.a.rd(n)){var g=e,e=this.a.bc(e);this.a.Dh(g,-1);this.a.yu(g)}else{f=n;g=0;do this.a.im(f,e),g++,f=this.a.X(f);while(f!=n);2>=g?(f=this.a.Ra(n,this.vn),this.vg.set(f,-1),n=this.a.vf(n,!1),2==g&&(f=this.a.Ra(n,this.vn),this.vg.set(f,-1),this.a.vf(n,!1)),g=e,e=this.a.bc(e),this.a.Dh(g,-1),this.a.yu(g)):(this.a.Jr(e,!1),this.a.Wi(e,this.a.Ua(n)),this.a.hm(e,g),b+=g,a++,e=this.a.bc(e))}}d=0;for(c=this.vg.size;d<c;d++)if(f=this.vg.get(d),-1!=f&&(e=this.a.rd(f),-1==e)){e=this.a.Cf(this.U,
-1);g=0;n=f;do this.a.im(f,e),g++,f=this.a.X(f);while(f!=n);2>=g?(f=this.a.Ra(n,this.vn),this.vg.set(f,-1),n=this.a.vf(n,!1),2==g&&(f=this.a.Ra(n,this.vn),0<=f&&this.vg.set(f,-1),this.a.vf(n,!1)),g=e,this.a.Dh(g,-1),this.a.yu(g)):(this.a.Gn(e,!0),this.a.hm(e,g),this.a.Dh(e,n),this.a.Wi(e,this.a.Ua(n)),this.a.Jr(e,!1),b+=g,a++)}this.a.gm(this.U,a);this.a.Pk(this.U,b);d=0;for(c=this.a.$c;-1!=c;c=this.a.we(c))d+=this.a.F(c);this.a.ZF(d)};b.Xk=function(d,c,f){return(new b(c)).cL(d,f)};b.clip=function(d,
c,f,k){if(d.s())return d;if(c.s())return d.Pa();f=d.D();if(33==f)return k=d.w(),c.contains(k)?d:d.Pa();if(197==f)return k=new a.i,d.o(k),k.Ga(c)?(c=new a.Vj,d.copyTo(c),c.Cu(k),c):d.Pa();var t=new a.i;d.dd(t);if(c.contains(t))return d;if(!c.jc(t))return d.Pa();t=d.pb;if(null!=t&&(t=t.hi,null!=t)){t=t.Dn(c);if(1==t){if(1736!=f)throw a.g.wa();d=new a.Ka(d.description);d.ws(c);return d}if(0==t)return d.Pa()}switch(f){case 550:f=null;for(var t=d.F(),e=d.mc(0),n=0,g=0;g<t;g++)k=new a.b,e.ec(2*g,k),c.contains(k)||
(0==n&&(f=d.Pa()),n<g&&f.Pd(d,n,g),n=g+1);0<n&&f.Pd(d,n,t);return 0==n?d:f;case 1736:case 1607:return b.Xk(d,c,k);default:throw a.g.wa();}};b.prototype.kj=function(d,c){var f=new a.b;this.a.w(d,f);d=new a.b;this.a.w(c,d);return f.compare(d)};return b}();a.Ed=b})(z||(z={}));(function(a){var b=new a.b,e=function(){function c(c,d,b,e,n){this.Ml=new a.b;this.ln=new a.b;this.Ck=new a.b;this.a=c;this.Px=b;this.bn=e;this.Ml=d;this.vk=n;this.ln.Eh();this.Ck.Eh()}c.prototype.sB=function(c){this.a.w(c,this.ln);
c=a.I.truncate((this.ln.x-this.Ml.x)*this.bn+.5);var f=a.I.truncate((this.ln.y-this.Ml.y)*this.bn+.5);return d.XC(c,f)};c.prototype.vw=function(c){return this.a.Ra(c,this.vk)};return c}();a.wT=function(){return function(){}}();var d=function(){function c(){this.Ml=new a.b;this.Zo=[0,0,0,0];this.Kq=[0,0,0,0];this.en=this.vk=-1}c.zM=function(f,d){var a=new c;a.a=f;a.ka=d;a.Px=d*d;a.Kt=2*d;a.bn=1/a.Kt;return a.fL()};c.Vw=function(c,d,a,b,e){c-=a;d-=b;return c*c+d*d<=e};c.XC=function(c,d){return a.I.kg(d,
a.I.kg(c))};c.prototype.hL=function(f,d){this.a.uc(f,b);for(var k=(b.y-this.Ml.y)*this.bn,e=a.I.truncate((b.x-this.Ml.x)*this.bn),n=a.I.truncate(k),g=k=0;1>=g;g+=1)for(var h=0;1>=h;h+=1){var l=c.XC(e+g,n+h),m=this.uk.DN(l);-1!=m&&(this.Zo[k]=m,this.Kq[k]=l,k++)}for(e=k-1;1<=e;e--)for(m=this.Zo[e],n=e-1;0<=n;n--)if(m==this.Zo[n]){this.Kq[n]=-1;k--;e!=k&&(this.Kq[e]=this.Kq[k],this.Zo[e]=this.Zo[k]);break}for(n=0;n<k;n++)this.iL(f,this.Kq[n],b,this.Zo[n],d)};c.prototype.iL=function(f,d,b,e,n){for(var k=
new a.b;-1!=e;e=this.uk.SN(e)){var t=this.uk.da(e);f==t||-1!=d&&this.a.Ra(t,this.vk)!=d||(this.a.uc(t,k),c.Vw(b.x,b.y,k.x,k.y,this.Px)&&n.add(e))}};c.prototype.Tl=function(c,d,a){var f=this.a.Ra(c,this.en),b=this.a.Ra(d,this.en);-1==f&&(f=this.nd.jh(),this.nd.addElement(f,c),this.a.lb(c,this.en,f));-1==b?this.nd.addElement(f,d):this.nd.Qv(f,b);this.a.lb(d,this.en,-2);d=this.aQ(c,d);a&&(a=this.St.sB(c),this.a.lb(c,this.vk,a));return d};c.$P=function(f,d,b){f.lc(d);b=f;var k=new a.b;c.HH(f.w(),d.w(),
k);b.ic(k)};c.HH=function(c,d,a){var f=c.x;c.x!=d.x&&(f=(1*c.x+1*d.x)/2);var b=c.y;c.y!=d.y&&(b=(1*c.y+1*d.y)/2);a.ma(f,b)};c.prototype.aQ=function(c,d){var f=new a.b;this.a.w(c,f);var b=new a.b;this.a.w(d,b);var k=this.a.RC(c);d=this.a.RC(d);var e=k+d,n=0,g=f.x;f.x!=b.x&&(g=(f.x*k+b.x*d)/e,n++);var h=f.y;f.y!=b.y&&(h=(f.y*k+b.y*d)/e,n++);0<n&&this.a.ic(c,g,h);this.a.pS(c,e);return 0!=n};c.prototype.fL=function(){var c=this.a.pd,d=this.a.wC();this.Ml=d.yw();d=Math.max(d.ba(),d.aa())/2147483646;this.Kt<
d&&(this.Kt=d,this.bn=1/this.Kt);this.nd=new a.Ur;this.nd.Dr(a.I.truncate(this.a.pd/3+1));this.nd.$l(a.I.truncate(this.a.pd/3+1));this.vk=this.a.re();this.en=this.a.re();this.St=new e(this.a,this.Ml,this.Px,this.bn,this.vk);this.uk=new a.AH(a.I.truncate(4*c/3),this.St);this.uk.wR(this.a.pd);c=!1;for(d=this.a.$c;-1!=d;d=this.a.we(d))for(var b=this.a.Vb(d);-1!=b;b=this.a.bc(b))for(var n=this.a.Cb(b),g=0,h=this.a.Ha(b);g<h;g++){var l=this.St.sB(n);this.a.lb(n,this.vk,l);this.uk.addElement(n,l);n=this.a.X(n)}var m=
new a.ga(0);m.xb(10);for(d=this.a.$c;-1!=d;d=this.a.we(d))for(b=this.a.Vb(d);-1!=b;b=this.a.bc(b))for(n=this.a.Cb(b),g=0,h=this.a.Ha(b);g<h;g++){if(-2!=this.a.Ra(n,this.en))for(l=this.a.Ra(n,this.vk),this.uk.Jc(n,l);;){this.hL(n,m);if(0==m.size)break;for(var l=!1,r=0,q=m.size;r<q;r++){var C=m.get(r),v=this.uk.da(C);this.uk.kd(C);l=this.Tl(n,v,r+1==q)||l}c=c||l;m.clear(!1);if(!l)break}n=this.a.X(n)}c&&this.ZJ();this.St=this.uk=null;this.a.bf(this.vk);this.a.bf(this.en);return c};c.prototype.ZJ=function(){for(var c=
new a.b,d=this.nd.Wd;-1!=d;d=this.nd.Cw(d)){var b=this.nd.gc(d);this.a.w(this.nd.da(b),c);for(b=this.nd.bb(b);-1!=b;b=this.nd.bb(b))this.a.Yi(this.nd.da(b),c)}};return c}();a.Sr=d})(z||(z={}));(function(a){var b=Math.PI,e=2*Math.PI,d=Math.PI/2,c=function(){function c(){}c.yL=function(f,d){var a=new c;a.x=f;a.y=d;a.type=0;a.mh=0;return a};c.um=function(f){var d=new c;d.x=f.x;d.y=f.y;d.type=0;d.mh=0;return d};c.xL=function(f){var d=new c;d.x=f.x;d.y=f.y;d.type=f.type;d.mh=f.mh;return d};c.Ad=function(f,
d,a){var b=new c;b.x=f.x+d*Math.cos(a);b.y=f.y+d*Math.sin(a);b.type=f.type;b.mh=f.mh;return b};c.Js=function(f,d){var a=new c;a.x=.5*(f.x+d.x);a.y=.5*(f.y+d.y);a.type=f.type;a.mh=f.mh;return a};c.LB=function(f,d){var a=new c;a.x=f.x+.001*(d.x-f.x);a.y=f.y+.001*(d.y-f.y);a.type=f.type;a.mh=f.mh;return a};return c}(),f=function(){return function(){}}();(function(c){c[c.Round=0]="Round";c[c.Bevel=1]="Bevel";c[c.Miter=2]="Miter";c[c.Square=3]="Square"})(a.EH||(a.EH={}));var k=function(){function k(c){this.Kx=
this.Ib=this.dg=null;this.oe=c}k.$=function(c,f,d,b,e,t){if(null==c)throw a.g.N();if(1>c.fb())throw a.g.N();if(0==f||c.s())return c;t=new k(t);t.$m=c;t.Da=f;t.ka=e;t.bi=d;t.Dx=b;return t.hv()};k.prototype.hJ=function(){var c=this.$m,f=c.Mb(),d=c.oc(),b=new a.b;b.pc(d,f);b.normalize();b.tt();b.scale(this.Da);f.add(b);d.add(b);b=c.Pa();c.ed(f);c.vd(d);return b};k.prototype.gJ=function(){var c=this.$m;if(0<this.Da&&2!=this.bi){var f=new a.Ka;f.Wc(c,!1);this.$m=f;return this.hv()}c=new a.Vj(c.R);c.P(this.Da,
this.Da);return c};k.prototype.rF=function(c,f,d,a){return(f.x-c.x)*(a.x-d.x)+(f.y-c.y)*(a.y-d.y)};k.prototype.Ub=function(f,a){if(void 0===a)this.Ib.push(f),this.Xe++;else if(0==this.Xe)this.Ub(f);else{var b=this.eu,k,e;k=this.dg[0==a?b-1:a-1];e=this.dg[a];var t=this.rF(k,e,this.Ib[this.Xe-1],f);0<t?this.Ub(f):0>t&&(0<this.rF(k,e,e,this.Ib[this.Xe-1])?(e=this.dg[0==a?b-2:1==a?b-1:a-2],b=c.Ad(k,this.Da,Math.atan2(k.y-e.y,k.x-e.x)-d),this.Ib[this.Xe-1]=b,1==this.bi||2==this.bi?(b=c.Js(b,k),this.Ub(b),
b=c.Ad(k,this.Da,this.vt+d),k=c.Js(b,k),k.type|=256,this.Ub(k)):(b=c.Ad(k,this.Da,this.vt+d),b.type|=256),this.Ub(b),this.Ub(f,a)):(b=c.Ad(e,this.Da,this.vt+d),this.Ub(b),1==this.bi||2==this.bi?(b=c.Js(b,e),this.Ub(b),b=c.Ad(e,this.Da,this.gx-d),k=c.Js(b,e),k.type|=256,this.Ub(k)):(b=c.Ad(e,this.Da,this.gx-d),b.type|=256),this.Ub(b)))}};k.prototype.mB=function(){var f,k,t,n,g,h,l=this.eu;this.Xe=0;var m=.5*this.ka,r=0,q=0;for(f=0;f<l;f++){n=this.dg[f];g=0==f?this.dg[l-1]:this.dg[f-1];h=f==l-1?this.dg[0]:
this.dg[f+1];var C=g.x-n.x,v=g.y-n.y,p=h.x-n.x,w=h.y-n.y;k=Math.atan2(v,C);t=Math.atan2(w,p);this.vt=k;this.gx=t;0==f&&(r=k,q=t);C=C*w-p*v;v=t;t<k&&(t+=e);if(0<C*this.Da)1==this.bi||2==this.bi?(k=c.Ad(n,this.Da,k+d),this.Ub(k),k=c.LB(n,k),this.Ub(k),k=c.Ad(n,this.Da,t-d),n=c.LB(n,k),n.type|=256,this.Ub(n),this.Ub(k)):(C=.5*(t-k),C=this.Da/Math.abs(Math.sin(C)),k=c.Ad(n,C,.5*(k+t)),this.Ub(k,f));else if(0!=(n.type&512)){C=1-m/Math.abs(this.Da);g=1;h=0>this.Da?-b:b;-1<C&&1>C&&(v=2*Math.acos(C),.017453292519943295>
v&&(v=.017453292519943295),g=a.I.truncate(b/v+1.5),1<g&&(h/=g));v=k+d;k=c.Ad(n,this.Da,v);0==f&&(k.type|=1024);this.Ub(k,f);C=this.Da/Math.cos(h/2);v+=h/2;k=c.Ad(n,C,v);k.type|=1024;for(this.Ub(k);0<--g;)v+=h,k=c.Ad(n,C,v),k.type|=1024,this.Ub(k);k=c.Ad(n,this.Da,t-d);k.type|=1024;this.Ub(k)}else if(1==this.bi)k=c.Ad(n,this.Da,k+d),this.Ub(k,f),k=c.Ad(n,this.Da,t-d),this.Ub(k);else if(0==this.bi)for(C=1-m/Math.abs(this.Da),g=1,h=t-d-(k+d),-1<C&&1>C&&(v=2*Math.acos(C),.017453292519943295>v&&(v=.017453292519943295),
g=a.I.truncate(Math.abs(h)/v+1.5),1<g&&(h/=g)),C=this.Da/Math.cos(.5*h),v=k+d+.5*h,k=c.Ad(n,C,v),this.Ub(k,f);0<--g;)v+=h,k=c.Ad(n,C,v),this.Ub(k);else 2==this.bi?(C=g.x-n.x,v=g.y-n.y,p=h.x-n.x,w=h.y-n.y,g=(C*p+v*w)/Math.sqrt(C*C+v*v)/Math.sqrt(p*p+w*w),.99999999<g?(k=c.Ad(n,1.4142135623730951*this.Da,t-.25*b),this.Ub(k,f),k=c.Ad(n,1.4142135623730951*this.Da,t+.25*b),this.Ub(k)):(g=Math.abs(this.Da/Math.sin(.5*Math.acos(g))),h=Math.abs(this.Dx*this.Da),g>h?(C=.5*(t-k),C=this.Da/Math.abs(Math.sin(C)),
k=c.Ad(n,C,.5*(k+t)),t=a.b.Oa(k.x,k.y),k=a.b.Oa(n.x,n.y),n=new a.b,n.pc(t,k),t=new a.b,t.DR(h/n.length(),n,k),k=(g-h)*Math.abs(this.Da)/Math.sqrt(g*g-this.Da*this.Da),0<this.Da?n.tt():n.Kp(),n.scale(k/n.length()),k=new a.b,k.add(t,n),g=new a.b,g.pc(t,n),k=c.um(k),this.Ub(k,f),k=c.um(g),this.Ub(k)):(C=.5*(t-k),C=this.Da/Math.abs(Math.sin(C)),k=c.Ad(n,C,.5*(k+t)),this.Ub(k,f)))):(t=v,0<this.Da?(t>k&&(t-=e),g=k-t<d):(t<k&&(t+=e),g=t-k<d),g?(C=1.4142135623730951*this.Da,v=0>C?k+.25*b:k+.75*b,k=c.Ad(n,
C,v),this.Ub(k,f),v=0>C?t-.25*b:t-.75*b,k=c.Ad(n,C,v),this.Ub(k)):(C=.5*(t-k),C=this.Da/Math.abs(Math.sin(C)),t<k&&(t+=e),k=c.Ad(n,C,(k+t)/2),this.Ub(k,f)))}this.vt=r;this.gx=q;this.Ub(this.Ib[0],0);n=c.xL(this.Ib[this.Xe-1]);this.Ib[0]=n;return this.sR()};k.prototype.xs=function(c,f){if(!(2>f))for(var d=0;d<f;d++){var k=this.Ib[c+d];0!=d?this.Kx.Lm(a.b.Oa(k.x,k.y)):this.Kx.Nr(a.b.Oa(k.x,k.y))}};k.prototype.iJ=function(f,d,a){var k=f.Ea(d),b=f.Dc(d);this.Ib=[];this.Kx=a;if(f.vc(d)){for(d=f.Fa(k);f.Fa(b-
1).ub(d);)b--;if(2<=b-k){this.eu=b-k;this.dg=[];for(d=k;d<b;d++)this.dg.push(c.um(f.Fa(d)));this.mB()&&this.xs(0,this.Xe-1)}}else{for(d=f.Fa(k);k<b&&f.Fa(k+1).ub(d);)k++;for(d=f.Fa(b-1);k<b&&f.Fa(b-2).ub(d);)b--;if(2<=b-k){this.eu=2*(b-k)-2;this.dg=[];a=c.um(f.Fa(k));a.type|=1536;this.dg.push(a);for(d=k+1;d<b-1;d++)a=c.um(f.Fa(d)),this.dg.push(a);a=c.um(f.Fa(b-1));a.type|=512;this.dg.push(a);for(d=b-2;d>=k+1;d--)a=c.um(f.Fa(d)),a.type|=1024,this.dg.push(a);if(this.mB())if(2<=this.Ib.length){f=-1;
(b=0!=(this.Ib[this.Xe-1].type&1024))||(f=0);for(d=1;d<this.Xe;d++)(k=0!=(this.Ib[d].type&1024))?b||(b=d-1,1<b-f+1&&this.xs(f,b-f+1)):b&&(f=d-1),b=k;b||(b=this.Xe-1,1<b-f+1&&this.xs(f,b-f+1))}else f=0,b=this.Xe-1,0<=f&&1<=b-f&&this.xs(f,b-f+1)}}this.dg=null;this.eu=0;this.Ib=null;this.Xe=0};k.prototype.sR=function(){for(var c=!1,f=0;f<this.Xe;f++){var d=this.Ib[f];d.Rg=f+1;d.Ug=f-1;this.Ib[f]=d}d=this.Ib[0];d.Ug=this.Xe-2;this.Ib[0]=d;d=this.Ib[this.Xe-2];d.Rg=0;this.Ib[this.Xe-2]=d;for(f=d=0;f<this.Xe;f++)if(0!=
(this.Ib[d].type&256)){var a=this.$L(d);if(-1!=a)d=a;else{c=!0;break}}else d=this.Ib[d].Rg;if(c)return!1;this.vL(d);return!0};k.prototype.$L=function(c){for(var f=this.Xe-1,d=c,a,b,k=1;k<=f-2;k++){a=d=this.Ib[d].Rg;b=c;for(var e=1;e<=k;e++){b=this.Ib[b].Ug;if(0==(this.Ib[b].type&256)&&0==(this.Ib[a].type&256)){var t=this.oO(b,a);if(-1!=t)return t}a=this.Ib[a].Ug}}return-1};k.prototype.oO=function(c,d){var b,k,e,t;b=this.Ib[this.Ib[c].Ug];k=this.Ib[c];e=this.Ib[this.Ib[d].Ug];t=this.Ib[d];if(!this.HR(b,
k,e,t))return-1;var n=new f;return this.NM(b,k,e,t,n)&&!n.cB&&a.I.bG((k.x-b.x)*(t.y-e.y)-(k.y-b.y)*(t.x-e.x))!=a.I.bG(this.Da)?(b=this.Ib[c].Ug,n.Xl.type=k.type,n.Xl.Rg=d,n.Xl.Ug=b,this.Ib[c]=n.Xl,n.Xl=this.Ib[d],n.Xl.Ug=c,this.Ib[d]=n.Xl,d):-1};k.prototype.HR=function(c,f,d,a){return Math.max(c.x,f.x)>=Math.min(d.x,a.x)&&Math.max(d.x,a.x)>=Math.min(c.x,f.x)&&Math.max(c.y,f.y)>=Math.min(d.y,a.y)&&Math.max(d.y,a.y)>=Math.min(c.y,f.y)};k.prototype.NM=function(f,d,a,b,k){k.cB=!1;var e,t,n;e=(d.y-f.y)*
(b.x-a.x)-(d.x-f.x)*(b.y-a.y);t=(a.y-f.y)*(d.x-f.x)-(a.x-f.x)*(d.y-f.y);e=0==e?2:t/e;return 0<=e&&1>=e&&(n=e,e=(b.y-a.y)*(d.x-f.x)-(b.x-a.x)*(d.y-f.y),t=(f.y-a.y)*(b.x-a.x)-(f.x-a.x)*(b.y-a.y),e=0==e?2:t/e,0<=e&&1>=e)?(k.Xl=c.yL(f.x+e*(d.x-f.x),f.y+e*(d.y-f.y)),k.Xl.mh=a.mh+n*(b.mh-a.mh),0!=n&&1!=n||0!=e&&1!=e||(k.cB=!0),k.wU=e,k.xU=n,(0==n||1==n)&&0<e&&1>e||(0==e||1==e)&&0<n&&1>n?!1:!0):!1};k.prototype.vL=function(c){for(;this.Ib[c].Ug<c;)c=this.Ib[c].Ug;var f=0,d=c;do d=this.Ib[d],this.Ib[f]=d,
d=d.Rg,f++;while(d!=c);this.Ib[f]=this.Ib[0];this.Xe=f+1};k.prototype.qA=function(c){var f=this.$m,d=f.Ca();if(null!=d){d.Lk();for(var a=-1;d.kb();)a++,this.iJ(f,a,c)}};k.prototype.hv=function(){var c=this.$m.D();return 322==c?this.hJ():197==c?this.gJ():a.T.Lc(c)?(c=new a.Xa,c.Bc(this.$m,!0),this.$m=c,this.hv()):1607==c?(c=new a.Xa,this.qA(c),c):1736==c?(c=new a.Ka,this.qA(c),c):null};return k}();a.XG=k})(z||(z={}));(function(a){var b=function(){function c(c){this.xj=c}c.prototype.w=function(c,f){this.xj.a.w(c,
f)};c.prototype.kd=function(c){var f=this.xj.za.da(c);this.xj.za.kd(c,-1);this.xj.a.vf(f,!1)};return c}(),e=function(){function c(c){this.xj=c}c.prototype.w=function(c,f){this.xj.NP.w(c,f)};c.prototype.kd=function(c){this.xj.za.kd(c,-1)};return c}(),d=function(){function c(c){this.xj=c}c.prototype.w=function(c,f){f.J(this.xj.PP[c])};c.prototype.kd=function(c){this.xj.za.kd(c,-1)};return c}(),c=function(){function c(c){void 0===c?(this.za=new a.bj,this.za.de(20),this.a=new a.fd,this.FP=this.a.jg(550),
this.cr=this.a.Cf(this.FP,-1),this.oh=new b(this)):c instanceof Array?(this.za=new a.bj,this.za.de(20),this.PP=c,this.oh=new d(this)):(this.za=new a.bj,this.za.de(20),this.NP=c,this.oh=new e(this))}c.prototype.Eb=function(c){var f=c.D();if(a.Wr.Th(f))this.OJ(c);else if(a.al.Lc(f))this.SJ(c);else if(197==f)this.LJ(c);else if(33==f)this.RJ(c);else throw a.g.N("invalid shape type");};c.prototype.sN=function(){var c=new a.Va,f=this.za.gc(-1),d=new a.Ka(this.a.wp);this.a.Jk(this.za.da(f),c);d.df(c);for(f=
this.za.bb(f);-1!=f;f=this.za.bb(f))this.a.Jk(this.za.da(f),c),d.lineTo(c);return d};c.wL=function(f){var d=new c(f),b=f.F(),k=1,e=new a.b,n=new a.b,g=new a.b;for(f.w(0,e);;){f.w(k,n);if(!(n.Ww(e)&&k<b-1))break;k++}d.za.addElement(0,-1);d.za.qm(k);for(b=k+1;b<f.F();b++)f.w(b,g),k=d.cz(g),-1!=k&&d.za.Vi(k,b);g=new a.Va;k=d.za.gc(-1);b=new a.Ka(f.description);f.Sd(d.za.da(k),g);b.df(g);for(k=d.za.bb(k);-1!=k;k=d.za.bb(k))f.Sd(d.za.da(k),g),b.lineTo(g);return b};c.Oa=function(f,d,a){for(var b=new c(f),
k=1,e=f[0];f[k].Ww(e)&&k<d-1;)k++;b.za.addElement(0,-1);b.za.qm(k);for(k+=1;k<d;k++)e=b.cz(f[k]),-1!=e&&b.za.Vi(e,k);f=0;for(d=b.za.gc(-1);-1!=d;d=b.za.bb(d))a[f++]=b.za.da(d);return f};c.sD=function(f,d){var b=f.Ea(d),k=f.Dc(d);d=!f.vc(d)&&f.Oo(d);f=f.mc(0);b*=2;k*=2;d&&(k-=2);if(6>k-b)return!0;d=new a.b;var e=new a.b,t=new a.b;f.ec(b,d);f.ec(b+2,e);f.ec(b+4,t);var n=c.Bd(e,t,d);if(n.Dq()||!c.ac(n.value()))return!1;for(var g=a.b.Oa(e.x,e.y),h=new a.b,b=b+6;b<k;b+=2){h.J(e);e.J(t);f.ec(b,t);n=c.Bd(e,
t,d);if(n.Dq()||!c.ac(n.value()))return!1;n=c.Bd(g,t,d);if(n.Dq()||!c.ac(n.value()))return!1;n=c.Bd(e,t,h);if(n.Dq()||!c.ac(n.value()))return!1}return!0};c.prototype.OJ=function(c){for(var f=new a.Va,d=new a.b,b=0;b<c.F();b++){c.w(b,d);var k=this.hq(d);if(-1!=k){c.Sd(b,f);var e=this.a.Ub(this.cr,f);this.za.Vi(k,e)}}};c.prototype.LJ=function(c){for(var f=new a.Va,d=new a.b,b=0;4>b;b++){c.vu(b,d);var k=this.hq(d);if(-1!=k){c.uf(b,f);var e=this.a.Ub(this.cr,f);this.za.Vi(k,e)}}};c.prototype.SJ=function(c){var f=
new a.Va,d=c.Mb(),d=this.hq(d);if(-1!=d){c.En(f);var b=this.a.Ub(this.cr,f);this.za.Vi(d,b)}d=c.oc();d=this.hq(d);-1!=d&&(c.Bn(f),c=this.a.Ub(this.cr,f),this.za.Vi(d,c))};c.prototype.RJ=function(c){var f=c.w(),f=this.hq(f);-1!=f&&(c=this.a.Ub(this.cr,c),this.za.Vi(f,c))};c.prototype.hq=function(c){var f=-1;if(0==this.za.size(-1))return f=this.za.addElement(-4,-1);if(1==this.za.size(-1)){var d=this.a.Fa(this.za.da(this.za.gc(-1)));c.Ww(d)||(f=this.za.qm(-5));return f}return f=this.cz(c)};c.prototype.cz=
function(f){var d=-1,b=this.za.gc(-1),k=this.za.tc(-1),e=this.za.da(b),n=this.za.da(k),g=new a.b,h=new a.b;this.oh.w(e,g);this.oh.w(n,h);e=a.b.yn(h,f,g);if(c.ac(e))d=this.za.qm(-1),g=this.az(f,k,b),g!=b&&this.bz(f,b,this.za.ge(g));else if(c.ti(e)){for(var h=this.za.dt(-1),l=this.za.gc(-1),m=this.za.tc(-1),r,e=new a.b,n=new a.b;l!=this.za.ge(m);)r=this.za.da(h),this.oh.w(r,e),r=a.b.yn(e,f,g),c.ti(r)?(m=h,h=this.za.ik(h)):(l=h,h=this.za.Jo(h));h=m;g=l;r=this.za.da(h);l=this.za.da(g);this.oh.w(r,e);
this.oh.w(l,n);if(g==b||(e=a.b.yn(n,f,e),c.ac(e)))d=this.za.vs(g,h,-2,!1),this.bz(f,h,k),this.az(f,g,b)}else null==this.ib&&(this.ib=new a.yb),this.ib.ed(h),this.ib.vd(g),g=this.ib.Gd(f,!0),0>g?(g=this.za.ge(k),this.za.kd(k,-1),d=this.za.qm(-3),this.az(f,g,b)):1<g&&(g=this.za.bb(b),this.za.kd(b,-1),d=this.za.vs(-1,g,-3,!1),this.bz(f,g,k));return d};c.prototype.bz=function(f,d,b){if(d!=b){var k=this.za.da(d),e=this.za.bb(d),t=new a.b,n=new a.b;for(this.oh.w(k,t);d!=b&&2<this.za.size(-1);){this.oh.w(this.za.da(e),
n);k=a.b.yn(n,f,t);if(c.ac(k))break;k=d;d=e;t.J(n);e=this.za.bb(d);this.oh.kd(k)}}};c.prototype.az=function(f,d,b){if(d==b)return b;var k=this.za.da(d),e=this.za.ge(d),t=new a.b,n=new a.b;for(this.oh.w(k,t);d!=b&&2<this.za.size(-1);){this.oh.w(this.za.da(e),n);k=a.b.yn(t,f,n);if(c.ac(k))break;k=d;d=e;t.J(n);e=this.za.ge(d);this.oh.kd(k)}return d};c.Bd=function(c,f,d){var b=new a.$k;b.set(f.x);b.sub(c.x);var k=new a.$k;k.set(d.y);k.sub(c.y);var e=new a.$k;e.set(f.y);e.sub(c.y);f=new a.$k;f.set(d.x);
f.sub(c.x);b.Ap(k);e.Ap(f);b.sub(e);return b};c.ac=function(c){return 0>c};c.ti=function(c){return 0<c};c.ao=function(c){return 0==c};return c}();a.Tr=c})(z||(z={}));(function(a){var b=function(){function b(d){this.oe=this.a=null;this.WD=!0;this.oe=d}b.HE=function(d,c,f){d=a.Ia.As(d);return a.Sr.Vw(c.lk(),c.mk(),f.lk(),f.mk(),a.vi.Ty(d))};b.gL=function(d,c){var f=new a.Va;a.Sr.$P(d,c,f);return f};b.$=function(d,c,f,a){f=new b(f);f.a=d;f.ka=c;f.WD=a;return f.rJ()};b.prototype.lJ=function(d){return a.Sr.zM(this.a,
d)};b.prototype.oJ=function(d){return a.Zu.$(this.a,d,this.oe)};b.prototype.rJ=function(){for(var d=this.ka,c=a.Ia.As(d),d=a.Ia.UJ(d),f=1.00001*d,d=1.000001*d,b=!1,e=30<this.a.pd+10?1E3:(this.a.pd+10)*(this.a.pd+10),n=0,g=this.a.pO();;n++){if(n>e)throw a.g.ra("Internal Error: max number of iterations exceeded");var h=this.lJ(c),b=b||h;this.WD&&(h=0!=this.a.xo(c,!0,!1),b=b||h);h=!1;if(0==n||g||a.Zu.DE(!0,this.a,d,null,this.oe))h=this.oJ(f),b=b||h;if(!h)break}return b};return b}();a.aj=b})(z||(z={}));
(function(a){var b=function(){function b(d){this.Ld=this.zc=null;this.Yb=d;this.hx=!0}b.prototype.et=function(d,c){var f=this.a.cc(d);if(null==f){if(!this.a.Oc(d,c))return null;f=c}return f};b.prototype.LL=function(){var d=this.a.Gp(!1),c=!1,f=new a.yb,b=new a.yb,e=new a.i;e.Ja();var n=new a.i;n.Ja();for(var g=new a.Va,h=new a.gA,l=d.next();-1!=l;l=d.next()){var m=null,r=!1;if(!a.T.Km(this.a.Lb(d.mj))){m=this.et(l,f);if(null==m)continue;m.o(e);e.P(this.ka,this.ka);if(m.mg(this.ka))if(m.mg(0))r=!0,
m=null;else continue}var q=this.a.Gp(d),C=q.next();for(-1!=C&&(C=q.next());-1!=C;C=q.next()){var v=null,p=!1;if(!a.T.Km(this.a.Lb(q.mj))){v=this.et(C,b);if(null==v)continue;v.o(n);if(v.mg(this.ka))if(v.mg(0))p=!0,v=null;else continue}var w=0,u=0;if(null!=m&&null!=v)e.rD(n)&&(h.zn(m),h.zn(v),h.Ga(this.ka,!1),w=h.kk(0),u=h.kk(1),0<w+u&&(this.a.Tp(l,h,0,!0),this.a.Tp(C,h,1,!0)),h.clear());else if(null!=m){var x=new a.b;this.a.w(C,x);if(e.contains(x)){h.zn(m);this.a.Jk(C,g);h.Tw(this.ka,g,!1);w=h.kk(0);
if(0<w)if(this.a.Tp(l,h,0,!0),p){p=-1;for(x=this.a.X(C);-1!=x&&x!=C&&(v=this.et(x,b),p=x,null!=v&&v.mg(0));x=this.a.X(x));for(x=C;-1!=x&&(this.a.bh(x,h.nf),x!=p);x=this.a.X(x));}else this.a.bh(C,h.nf);h.clear()}}else if(null!=v){if(x=new a.b,this.a.w(l,x),n.P(this.ka,this.ka),n.contains(x)){h.zn(v);this.a.Jk(l,g);h.Tw(this.ka,g,!1);u=h.kk(0);if(0<u)if(this.a.Tp(C,h,0,!0),r){p=-1;for(x=this.a.X(l);-1!=x&&x!=l&&(v=this.et(x,b),p=x,null!=v&&v.mg(0));x=this.a.X(x));for(x=l;-1!=x&&(this.a.bh(x,h.nf),x!=
p);x=this.a.X(x));}else this.a.bh(l,h.nf);h.clear()}}else continue;if(0!=w+u){if(0!=w){m=this.a.cc(l);if(null==m){if(!this.a.Oc(l,f))continue;m=f;f.o(e)}else m.o(e);if(m.mg(this.ka))break}c=!0}}}return c};b.prototype.ML=function(){return this.HQ()};b.prototype.HQ=function(){return(new a.aA).GS(this.a,this.ka)};b.prototype.EE=function(){var d=!1,c,f;null==this.zc&&(this.zc=new a.bj);var b=new a.ga(0);b.xb(this.a.pd+1);for(var e=this.a.Gp(),n=e.next();-1!=n;n=e.next())b.add(n);this.a.Mu(b,b.size);b.add(-1);
e=this.a.re();n=this.a.re();this.Ld=new a.hA(this.a,this.ka,!this.hx);this.zc.Hn(this.Ld);var g=new a.ga(0),h=new a.ga(0),l=0;new a.b;var m=this.a.cd;this.a.wb.kc();for(var r=this.a.wb.Ba[0].f,q,C,v=b.get(l++);-1!=v;){C=m.O(v,0);q=r[2*C];C=r[2*C+1];var p=q,w=C;do{var u=m.O(v,2),x=m.O(v,1);-1!=u&&(c=m.O(u,0),f=r[2*c],c=r[2*c+1],0>(w<c?-1:w>c?1:p<f?-1:p>f?1:0)&&(h.add(v),h.add(u)));-1!=x&&(c=m.O(x,0),f=r[2*c],c=r[2*c+1],0>(w<c?-1:w>c?1:p<f?-1:p>f?1:0)&&(h.add(x),h.add(x)));f=this.a.Ra(v,e);-1!=f&&(g.add(f),
this.a.lb(v,e,-1));f=this.a.Ra(v,n);-1!=f&&(g.add(f),this.a.lb(v,n,-1));v=b.get(l++);-1!==v&&(w=m.O(v,0),p=r[2*w],w=r[2*w+1])}while(-1!=v&&p===q&&w===C);p=1==g.size&&2==h.size;f=w=-1;u=0;for(x=g.size;u<x;u++){c=g.get(u);var B=this.zc.ge(c);-1==B||g.Nw(B)||(w=B);c=this.zc.bb(c);-1==c||g.Nw(c)||(f=c);if(-1!=w&&-1!=f)break}this.Ld.XF(C,q);u=0;for(x=g.size;u<x;u++)c=g.get(u),this.zc.kd(c,-1);g.clear(!1);if(!p&&-1!=w&&-1!=f&&this.SK(w,f)){d=!0;this.ei=this.Ld.rl();break}u=0;for(x=h.size;u<x;u+=2){C=h.get(u);
q=h.get(u+1);p?(C=this.zc.vs(w,f,C,!0),p=!1):C=this.zc.addElement(C,-1);if(this.Ld.Zf){this.ei=this.Ld.rl();d=!0;break}-1==this.a.Ra(q,e)?this.a.lb(q,e,C):this.a.lb(q,n,C)}if(d)break;h.cf(0)}this.a.bf(e);this.a.bf(n);return d};b.prototype.SK=function(d,c){this.Ld.compare(this.zc,this.zc.da(d),c);d=this.Ld.Zf;this.Ld.lq();return d};b.Gh=function(d){for(var c=d.$c;-1!=c;c=d.we(c))if(a.T.Kc(d.Lb(c)))return!0;return!1};b.Yk=function(d,c,f,a){if(!b.Gh(d))return!1;c=new b(a);c.a=d;c.ka=f;if(15>d.pd)d=c.LL();
else return c.ML();return d};b.$=function(d,c,f){return b.Yk(d,d.wC(),c,f)};b.DE=function(d,c,f,k,e){if(!b.Gh(c))return!1;var t=new b(e);t.a=c;t.ka=f;t.hx=d;if(t.EE())return null!=k&&k.aq(t.ei),!0;var n=new a.Bg;n.Oy();c.Oe(n);t=new b(e);t.a=c;t.ka=f;t.hx=d;d=t.EE();n.Oy();c.Oe(n);return d?(null!=k&&k.aq(t.ei),!0):!1};return b}();a.Zu=b})(z||(z={}));(function(a){(function(c){c[c.Left=0]="Left";c[c.Right=1]="Right";c[c.Coincident=2]="Coincident";c[c.Undefined=3]="Undefined";c[c.Uncut=4]="Uncut"})(a.ZG||
(a.ZG={}));var b=function(){return function(c,d,a,b,e,n,g,h,l,m,r){this.U=c;this.cu=d;this.Yq=a;this.ag=b;this.Il=m;this.xk=r}}();a.yT=b;var e=function(){function c(c,f){this.jE=c;this.Zh=f}c.prototype.nJ=function(c,f){var d=new a.b;this.Zh.w(c,d);var b=new a.b;this.Zh.w(f,b);d=d.compare(b);if(0!=d)return d;d=this.Zh.Ra(c,this.jE);b=this.Zh.Ra(f,this.jE);return d<b?-1:d==b?0:1};return c}(),d=function(){return function(c,d,a,b,e,n,g,h,l){this.ag=c;this.Yq=d;this.Lx=a;this.sE=b;this.Wh=e;this.xk=n;
this.Il=g;this.tE=h;this.RP=l}}();a.xT=d;var c=function(){function c(){}c.YG=function(f,d,e,n,g,h){if(d.s())f=new b(d,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),g.push(f);else{var k=new a.fd;k.Eb(d);k.Eb(e);a.aj.$(k,n,h,!0);d=0;e=k.re();for(n=k.$c;-1!=n;n=k.we(n))for(h=k.Vb(n);-1!=h;h=k.bc(h))for(var t=k.Cb(h),A=0,G=k.Ha(h);A<G;t=k.X(t),A++)k.lb(t,e,d++);d=c.qM(e,k);c.CI(f,d,k,g)}};c.qM=function(f,d){for(var b=d.pd,k=new a.ga(0),t=d.$c;-1!=t;t=d.we(t))for(var n=d.Vb(t);-1!=n;n=d.bc(n))for(var g=
d.Cb(n),h=0,l=d.Ha(n);h<l;g=d.X(g),h++)k.add(g);var m=new e(f,d);k.xd(0,b,function(c,f){return m.nJ(c,f)});f=[];var r=[],q=d.re(),C=d.re(),t=d.$c,n=d.we(t),l=new a.b,v=new a.b,p=k.get(0),w=d.rd(p),u=d.Vf(w);d.w(p,l);for(var x=1,g=0;x<b-1;){for(var B=!1,h=x;h<b;h++)if(h!=g){var D=k.get(h),z=d.rd(D),E=d.Vf(z);d.w(D,v);if(l.ub(v))u==t&&E==n&&(B=c.SI(q,C,d,f,r,w,p,z,D));else break}if(B||g==x-1){B&&g==x-1&&x--;if(++g==b)break;p=k.get(g);w=d.rd(p);u=d.Vf(w);d.w(p,l)}B||(x=g+1)}b=[];for(t=d.$c;-1!=t;t=d.we(t))for(n=
d.Vb(t);-1!=n;n=d.bc(n))for(k=d.Cb(n),h=0,l=d.Ha(n);h<l;k=d.X(k),h++){g=d.Ra(k,C);if(0<=g)for(;g<r.length&&r[g].ag==k;)b.push(r[g++]);g=d.Ra(k,q);if(0<=g)for(;g<f.length&&f[g].ag==k;)b.push(f[g++])}d.bf(q);d.bf(C);return b};c.SI=function(f,d,a,b,e,n,g,h,l){var k=a.hk(n),t=a.hk(h),A=a.Cb(n),G=a.Cb(h),m=a.Ua(g),H=a.Ua(l),F=!1,r=!1,q=!1,C=!1;g!=A&&(l!=G&&(F=c.VI(f,a,b,n,m,h,H)),l!=t&&(r=c.YI(f,a,b,n,m,h,l)));g!=k&&(l!=G&&(q=c.aJ(d,a,e,n,g,h,H,A)),l!=t&&(C=c.dJ(d,a,e,n,g,h,l,A)));F&&r&&q?(f=b.length-
1,2==e[C?e.length-2:e.length-1].Wh&&(b[f-1]=b[f],--b.length)):F&&r&&C&&2==e[e.length-1].Wh&&(e=b[b.length-1],--b.length,a.Ra(e.ag,f)==b.length&&a.lb(e.ag,f,-1));return F||r||q||C};c.VI=function(c,f,b,e,n,g,h){var k,t;t=new a.yb;var A=new a.yb,G=[0,0],l=[0,0];k=f.cc(n);null==k&&(f.Oc(n,t),k=t);t=f.cc(h);null==t&&(f.Oc(h,A),t=A);k=k.Ga(t,null,G,l,0);2>k&&(e=new d(n,e,G[0],NaN,k,h,g,l[0],NaN),b.push(e),e=f.Ra(n,c),0>e&&f.lb(n,c,b.length-1));return!0};c.YI=function(c,f,b,e,n,g,h){var k,t;t=new a.yb;var A=
new a.yb,G=[0,0],l=[0,0];k=f.cc(n);null==k&&(f.Oc(n,t),k=t);t=f.cc(h);null==t&&(f.Oc(h,A),t=A);k=k.Ga(t,null,G,l,0);return 2>k?(e=new d(n,e,G[0],NaN,k,h,g,l[0],NaN),b.push(e),e=f.Ra(n,c),0>e&&f.lb(n,c,b.length-1),!0):!1};c.aJ=function(c,f,b,e,n,g,h,l){var k,t;t=new a.yb;var A=new a.yb,G=[0,0],m=[0,0];k=f.cc(n);null==k&&(f.Oc(n,t),k=t);t=f.cc(h);null==t&&(f.Oc(h,A),t=A);k=k.Ga(t,null,G,m,0);if(2==k)return e=new d(n,e,G[0],G[1],k,h,g,m[0],m[1]),b.push(e),e=f.Ra(n,c),0>e&&f.lb(n,c,b.length-1),!0;A=!1;
n==l&&(e=new d(n,e,G[0],NaN,k,h,g,m[0],NaN),b.push(e),e=f.Ra(n,c),0>e&&f.lb(n,c,b.length-1),A=!0);return A};c.dJ=function(c,f,b,e,n,g,h,l){var k,t;t=new a.yb;var A=new a.yb,G=[0,0],m=[0,0];k=f.cc(n);null==k&&(f.Oc(n,t),k=t);t=f.cc(h);null==t&&(f.Oc(h,A),t=A);k=k.Ga(t,null,G,m,0);if(2==k)return e=new d(n,e,G[0],G[1],k,h,g,m[0],m[1]),b.push(e),e=f.Ra(n,c),0>e&&f.lb(n,c,b.length-1),!0;A=!1;n==l&&(e=new d(n,e,G[0],NaN,k,h,g,m[0],NaN),b.push(e),e=f.Ra(n,c),0>e&&f.lb(n,c,b.length-1),A=!0);return A};c.CI=
function(f,d,e,n){var k,t=[];t[0]=new a.b;t[1]=new a.b;t[2]=new a.b;t[3]=new a.b;var g=new a.b,A=new a.b,h=new a.b,l=new a.b,G=null;null!=n&&(G=new a.Ag,G.mq());var m,r=0,q=null,C=new a.yb;new a.yb;for(var v=e.Vb(e.$c);-1!=v;v=e.bc(v)){var p,w=4,u=-1,x,B,D,z=-1,E,I,y,K,J=-1,U=-1,M=NaN;p=!0;var Q=!1,N=!0,Y=!0,O=!0,T=0;D=v;E=0;for(var P=e.Cb(v),fa=e.Ha(v),da=0;da<fa;P=e.X(P),da++){m=e.cc(P);if(null==m){if(!e.Oc(P,C))continue;m=C}-1==z&&(z=P);for(var Z=0;r<d.length&&P==d[r].ag;){u=d[r].Yq;x=d[r].ag;
B=d[r].Lx;I=d[r].Il;y=d[r].xk;K=d[r].tE;if(2==d[r].Wh){if(Q||(D=u,z=x,E=B,J=I,U=y,M=K,w=2,null!=n?q=new a.Xa:T=0,O=!1,Y=!0),B=d[r].sE,K=d[r].RP,null!=n?(m.Bi(Z,d[r].sE,G),q.Bc(G.get(),Y)):T++,Z=B,Q=!0,Y=p=!1,r+1==d.length||2!=d[r+1].Wh||d[r+1].ag==x&&d[r+1].Lx!=Z)null!=n?(k=new b(q,2,u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):null.add(T),D=u,z=x,E=B,J=I,U=y,M=K,w=2,Q=p=!1,Y=O=!0}else{var aa=e.X(x);if(r<d.length-1&&d[r+1].ag==aa&&d[r+1].xk==y&&2==d[r+1].Wh)B!=Z&&(O&&(null!=n?q=new a.Xa:T=0),p=0<r&&d[r-
1].Yq==u?1==w?0:0==w?1:3:3,null!=n?(m.Bi(Z,B,G),q.Bc(G.get(),Y),k=new b(q,p,u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):(T++,null.add(T)),Z=B,D=u,z=x,E=B,J=I,U=y,M=K,w=p,p=N=!1,Y=O=!0);else if(!c.KK(f,e,d,r,g,A)){c.KG(e,d,r,v,P,h,l);var L=!1,aa=!1;k=!0;if(!(g.ub(h)||A.ub(h)||g.ub(l)||A.ub(l))){t[0].J(g);t[1].J(A);t[2].J(h);t[3].J(l);t.sort(a.b.cq);var ga=t[0],ia=t[1],ka=t[2],ba=t[3];ga.ub(g)?ia.ub(A)?f?(aa=L=!0,k=!1):L=!1:ba.ub(A)?f?k=aa=L=!0:L=!1:(L=!0,k=ia.ub(h)):ia.ub(g)?ka.ub(A)?f?(aa=L=!0,k=!1):L=
!1:ga.ub(A)?f?k=aa=L=!0:L=!1:(L=!0,k=ka.ub(h)):ka.ub(g)?ba.ub(A)?f?(aa=L=!0,k=!1):L=!1:ia.ub(A)?f?k=aa=L=!0:L=!1:(L=!0,k=ba.ub(h)):ga.ub(A)?f?(aa=L=!0,k=!1):L=!1:ka.ub(A)?f?k=aa=L=!0:L=!1:(L=!0,k=ga.ub(h))}if(L){L=P==x;if(B!=Z||L&&0==Z)O&&(null!=n?q=new a.Xa:T=0),null!=n?(m.Bi(Z,B,G),q.Bc(G.get(),Y)):T++;if(k)if(1!=w){if(B!=Z||L&&0==Z)null!=n?(k=new b(q,1,u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):null.add(T);if(!aa)w=1;else if(r==d.length-2||d[r+2].Yq!=u)w=0}else{if(B!=Z||L&&0==Z)null!=n?(k=new b(q,3,
u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):null.add(T);w=1}else if(0!=w){if(B!=Z||L&&0==Z)null!=n?(k=new b(q,0,u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):null.add(T);if(!aa)w=0;else if(r==d.length-2||d[r+2].Yq!=u)w=1}else{if(B!=Z||L&&0==Z)null!=n?(k=new b(q,3,u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):null.add(T);w=0}if(B!=Z||L&&0==Z)Z=B,D=u,z=x,E=B,J=I,U=y,M=K,p=N=!1,Y=O=!0}}}r++}1!=Z&&(O&&(null!=n?q=new a.Xa:T=0),null!=n?(m.Bi(Z,1,G),q.Bc(G.get(),Y)):T++,Y=O=!1,N=!0)}N&&(B=1,x=e.hk(v),x=e.Ua(x),y=I=-1,K=NaN,p?
null!=n?(k=new b(q,4,u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):null.add(T):(p=1==w?0:0==w?1:3,null!=n?(k=new b(q,p,u,x,B,w,D,z,E,I,y,K,J,U,M),n.push(k)):null.add(T)))}};c.KK=function(f,d,b,e,n,g){var k=b[e].tE;if(1==k)return c.GJ(f,d,b,e,n,g);if(0==k)return c.dK(f,d,b,e,n,g);throw a.g.wa();};c.GJ=function(c,f,d,b,e,n){var k=new a.yb,t=d[b].ag,g=d[b].Il,A=d[b].xk,h=-1,l=-1,G=-1,m=-1;if(!c&&0<b)var H=d[b-1],h=H.ag,l=H.Il,G=H.xk,m=H.Wh;var r=-1,F=-1,q=-1,C=-1;b<d.length-1&&(H=d[b+1],r=H.ag,F=H.Il,q=H.xk,
C=H.Wh);var v=f.X(t),H=f.X(A);if(!c)return 0<b&&h==t&&l==g&&G==H&&2==m||b<d.length-1&&r==v&&F==g&&q==H&&2==C?(c=f.cc(A),null==c&&(f.Oc(A,k),c=k),n.J(c.Pf(1)),e.qr(n),n.normalize(),e.normalize(),!1):b<d.length-1&&r==t&&F==g&&q==H?(c=f.cc(A),null==c&&(f.Oc(A,k),c=k),e.J(c.Pf(1)),c=f.cc(H),null==c&&(f.Oc(H,k),c=k),n.J(c.Pf(0)),e.Bp(),n.normalize(),e.normalize(),!1):!0;if(b==d.length-1||r!=t||F!=g||q!=H||2==C)return c=f.cc(A),null==c&&(f.Oc(A,k),c=k),n.J(c.Pf(1)),e.qr(n),n.normalize(),e.normalize(),!1;
c=f.cc(A);null==c&&(f.Oc(A,k),c=k);e.J(c.Pf(1));c=f.cc(H);null==c&&(f.Oc(H,k),c=k);n.J(c.Pf(0));e.Bp();n.normalize();e.normalize();return!1};c.dK=function(c,f,d,b,e,n){var k=new a.yb,t=d[b].ag,g=d[b].Il,A=d[b].xk,h=-1,l=-1,G=-1,m=-1;if(!c&&b<d.length-1)var H=d[b+1],h=H.ag,l=H.Il,G=H.xk,m=H.Wh;var r=-1,F=-1,q=-1,H=-1;0<b&&(H=d[b-1],r=H.ag,F=H.Il,q=H.xk,H=H.Wh);var C=f.X(t),v=f.Ua(A);return c?0==b||r!=t||F!=g||q!=v||2==H?(c=f.cc(A),null==c&&(f.Oc(A,k),c=k),n.J(c.Pf(0)),e.qr(n),n.normalize(),e.normalize(),
!1):!0:0<b&&r==t&&F==g&&q==v&&2==H||b<d.length-1&&h==C&&l==g&&G==v&&2==m?(c=f.cc(A),null==c&&(f.Oc(A,k),c=k),n.J(c.Pf(0)),e.qr(n),n.normalize(),e.normalize(),!1):!0};c.KG=function(c,f,d,b,e,n,g){var k=new a.yb,t=c.cc(e);null==t&&(c.Oc(e,k),t=k);d=f[d];f=d.ag;d=d.Lx;e=c.X(f);if(1==d)n.J(t.Pf(1)),-1!=e&&e!=c.hk(b)?(t=c.cc(e),null==t&&(c.Oc(e,k),t=k),g.J(t.Pf(0)),t=c.cc(f),null==t&&c.Oc(f,k)):g.J(n),n.Bp(),g.normalize(),n.normalize();else if(0==d)g.J(t.Pf(d)),n.qr(g),g.normalize(),n.normalize();else throw a.g.wa();
};return c}();a.$G=c})(z||(z={}));(function(a){(function(c){c[c.Linear=0]="Linear";c[c.Angular=1]="Angular";c[c.Area=2]="Area"})(a.RI||(a.RI={}));var b=function(){function c(c,f,d){this.Nc=f;this.Dj=d;this.wx=c}c.PC=function(f){return 0!==f.Nc?null:-1===f.wx?new c(-1,2,f.Dj*f.Dj):c.Qd(k[f.wx])};c.Qd=function(c){c=f[c];return void 0===c?null:c};c.EL=function(f,d,a){var b=null;if(void 0!==a&&null!==a)try{"EPSG"===a.values[0]&&(b=c.Qd(parseInt(a.values[1])))}catch(ca){}null===b&&(b=new c(-1,f,d));return b};
c.prototype.Qc=function(){return this.wx};c.prototype.rC=function(c){if(c.Nc!=this.Nc)throw a.g.xa();return this.Dj/c.Dj};c.ih=function(c,f,d){return f.rC(d)*c};c.OB=function(c,f,d,a,b){d=d.rC(a);for(a=0;a<f;a++)b[a]=c[a]*d};return c}();a.Tb=b;for(var e=[109402,4046.8564224,109403,4046.87260987425,109463,100,109401,1E4,109461,225E8,109460,25E8,109451,1E-4,109444,404.68564224000005,109424,404.6849341289498,109428,404.68493792602754,109416,404.67838076760535,109420,404.68423895571647,109448,404.683871963536,
109411,404.6872609874253,109450,.01,109408,3.34450944,109405,.09290304,109430,.09290354800069446,109423,.0929028774400711,109427,.09290287831176021,109441,.09290349665192114,109407,.09290137299531805,109440,.09290286332673177,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109419,.09290271785025629,109447,.0929026336004445,109406,.09290341161327487,109453,6.4516E-4,109454,6.451625806477421E-4,109414,1E6,109445,.04046856422400001,109425,.04046849341289498,
109429,.04046849379260275,109417,.04046783807676053,109421,.04046842389557164,109449,.0404683871963536,109412,.04046872609874253,109404,1,109410,1.000027193184865,109413,2589998.4703195216,109452,1E-6,109409,3429904,109458,3434290.937856,109457,3434528.1495040003,109464,1.244521604938272E-7,109455,25.292852640000003,109456,25.29295381171408,109459,2.89612324,109439,2589988.110336,109462,.7168473118308245,109442,.83612736,109422,.83612589696064,109426,.836125904805842,109415,.8361123569578626,109435,
.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109418,.8361244606523066,109446,.8361237024040001,109443,.8361307045194736],d=[9103,2.908882086657216E-4,9104,4.84813681109536E-6,9102,.0174532925199433,9106,.01570796326794897,9105,.01570796326794897,9109,1E-6,9114,9.817477042468104E-4,1031,4.84813681109536E-9,9112,1.570796326794897E-4,9101,1,9113,1.570796326794897E-6],c=[109031,15E4,109461,109030,5E4,109460,1033,.01,109451,9097,20.1168,109444,9052,20.1167824,
109424,9062,20.116782494375872,109428,9038,20.1166195164,109416,9042,20.116765121552632,109420,9301,20.116756,109448,9033,20.11684023368047,109411,109005,.1,109450,9014,1.8288,109408,9002,.3048,109405,9070,.3048008333333334,109430,9051,.3047997333333333,109423,9061,.3047997347632708,109427,9095,.3048007491,109441,9005,.3047972654,109407,9094,.3047997101815088,109440,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9041,.304799471538676,109419,9300,.3047993333333334,
109447,9003,.3048006096012192,109406,109008,.0254,109453,109009,.0254000508001016,109454,9036,1E3,109414,9098,.201168,109445,9053,.201167824,109425,9063,.2011678249437587,109429,9039,.201166195164,109417,9043,.2011676512155263,109421,9302,.20116756,109449,9034,.2011684023368047,109412,9001,1,109404,9031,1.0000135965,109410,9035,1609.3472186944375,109413,1025,.001,109452,9030,1852,109409,109013,1853.184,109458,109012,1853.248,109457,109016,3.527777777777778E-4,109464,109010,5.0292,109455,109011,5.029210058420118,
109456,109014,1.7018,109459,9093,1609.344,109439,109015,.8466683600033867,109462,9096,.9144,109442,9050,.9143992,109422,9060,.9143992042898124,109426,9037,.9143917962000001,109415,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9040,.9143984146160287,109418,9099,.914398,109446,109002,.9144018288036576,109443,109001,.9144,109442,109003,20.1168,109444,109004,.201168,109445,109006,.01,109451,109007,.001,109452],f=[],k=[],t=0;t<e.length;t+=2)f[e[t]]=new b(e[t],
2,e[t+1]);e=null;for(t=0;t<d.length;t+=2)f[d[t]]=new b(d[t],1,d[t+1]);d=null;for(t=0;t<c.length;t+=3)f[c[t]]=new b(c[t],0,c[t+1]),k[c[t]]=c[t+2];c=null})(z||(z={}));(function(a){var b=function(){function a(){}a.prototype.set=function(d,c){void 0!==c?(this.Lf=d,this.Og=c):"number"===typeof d?(this.Lf=d,this.Og=0):(this.Lf=d.Lf,this.Og=d.Og)};a.prototype.value=function(){return this.Lf};a.prototype.sub=function(d){if("number"===typeof d){var c=this.Lf-d;d=this.Og+2.220446049250313E-16*Math.abs(c)}else c=
this.Lf-d.Lf,d=this.Og+d.Og+2.220446049250313E-16*Math.abs(c);this.Lf=c;this.Og=d};a.prototype.Ap=function(d){var c=this.Lf*d.Lf;this.Og=this.Og*Math.abs(d.Lf)+d.Og*Math.abs(this.Lf)+this.Og*d.Og+2.220446049250313E-16*Math.abs(c);this.Lf=c};a.prototype.eP=function(){return Math.abs(this.Lf)<=this.Og};a.prototype.Dq=function(){return this.eP()&&0!=this.Og};return a}();a.$k=b})(z||(z={}));var M=new z.b,I=new z.b,Q=new z.b,O=new z.b,Y=new z.b;(function(a){var b;(function(d){d[d.closedPath=1]="closedPath";
d[d.exteriorPath=2]="exteriorPath";d[d.ringAreaValid=4]="ringAreaValid"})(b||(b={}));var e=function(){function d(c,f,d,a,b,e,n){void 0!==f?(this.ab=c,this.mj=f,this.$j=d,this.zh=a,this.ua=e,this.mx=n,this.Pt=b):(this.ab=c.ab,this.mj=c.mj,this.$j=c.$j,this.zh=c.zh,this.ua=c.ua,this.mx=c.mx,this.Pt=c.Pt);this.JD=!0}d.prototype.next=function(){return this.JD?(this.JD=!1,this.zh):-1!=this.zh?(this.zh=this.ab.X(this.zh),this.ua++,-1!=this.zh&&this.zh!=this.Pt?this.zh:this.cQ()):-1};d.prototype.cQ=function(){this.$j=
this.ab.bc(this.$j);for(this.ua=0;-1!=this.mj;){for(;-1!=this.$j;this.$j=this.ab.bc(this.$j))if(this.Pt=this.zh=this.ab.Cb(this.$j),-1!=this.zh)return this.zh;this.mj=this.ab.we(this.mj);if(-1==this.mj)break;if(!this.mx||a.T.Kc(this.ab.Lb(this.mj)))this.$j=this.ab.Vb(this.mj)}return-1};d.UL=function(c,f,a,b,e,n,g){return new d(c,f,a,b,e,n,g)};return d}();a.CT=e;b=function(){function d(){this.Zm=this.Al=this.Ej=this.Mc=this.Jj=this.jn=this.fi=this.Rc=this.sh=this.wg=this.Ge=this.wp=this.zp=this.wb=
this.Hk=null;this.Xt=this.$c=-1;this.pd=0;this.kx=!1;this.wp=this.zp=this.wb=null}d.prototype.Fi=function(c){return null!=this.Ge?this.Ge[c]:null};d.prototype.Fh=function(c,f){if(null==this.Ge){if(null==f)return;this.Ge=[];for(var d=0,a=this.wb.F();d<a;d++)this.Ge.push(null)}this.Ge[c]=f};d.prototype.Mn=function(c,f){this.Rc.L(c,1,f)};d.prototype.Ln=function(c,f){this.Rc.L(c,2,f)};d.prototype.Iy=function(c,f){this.Rc.L(c,6,f)};d.prototype.Ho=function(c){return this.Rc.O(c,6)};d.prototype.Hu=function(c,
f){this.Rc.L(c,7,f)};d.prototype.bt=function(c){return this.Rc.O(c,0)};d.prototype.MF=function(c,f){this.Mc.L(c,1,f)};d.prototype.QF=function(c,f){this.Mc.L(c,0,f)};d.prototype.xC=function(c){return this.Mc.O(c,7)};d.prototype.Jn=function(c,f){this.Mc.L(c,3,f)};d.prototype.Kn=function(c,f){this.Mc.L(c,4,f)};d.prototype.jQ=function(c){null==this.Mc&&(this.Mc=new a.Fc(8));var f=this.Mc.be();this.Mc.L(f,2,c);this.Mc.L(f,5,0);this.Mc.L(f,6,0);this.Mc.L(f,7,f);return f};d.prototype.bN=function(c){this.Mc.Jc(c)};
d.prototype.lQ=function(c){null==this.Rc&&(this.Rc=new a.Fc(8),this.cd=new a.Fc(5),this.fi=new a.qd(0),this.jn=new a.qd(0));var f=this.Rc.be();this.Rc.L(f,0,f);this.Rc.L(f,3,0);this.Rc.L(f,6,0);this.Hu(f,c);f>=this.fi.size&&(c=16>f?16:a.I.truncate(3*f/2),this.fi.resize(c),this.jn.resize(c));this.fi.set(f,0);this.jn.set(f,0);return f};d.prototype.iC=function(c){this.Rc.Jc(c)};d.prototype.dw=function(c){this.cd.Jc(c);this.pd--};d.prototype.mQ=function(c){null==this.Rc&&(this.Rc=new a.Fc(8),this.cd=
new a.Fc(5),this.fi=new a.qd(0),this.jn=new a.qd(0));var f=this.cd.be(),d=0<=c?c:f;this.cd.L(f,0,d);if(0>c){if(d>=this.wb.F()){c=16>d?16:a.I.truncate(3*d/2);this.wb.resize(c);if(null!=this.Ge)for(var b=0;b<c;b++)this.Ge.push(null);null!=this.wg&&this.wg.resize(c);this.zp=this.wb.mc(0)}this.wb.ic(d,-1E38,-1E38);null!=this.Ge&&(this.Ge[d]=null);null!=this.wg&&this.wg.write(d,1)}this.cd.L(f,4,2*d);this.pd++;return f};d.prototype.vl=function(c,f,d){var a=-1!=f?this.Ua(f):this.hk(c),b=-1!=a?this.X(a):
-1,k=this.mQ(null==d?this.pd:-1),e=this.gb(k);null!=d&&this.wb.Iu(e,d);this.im(k,c);this.Sc(k,b);this.Tc(k,a);-1!=b&&this.Tc(b,k);-1!=a&&this.Sc(a,k);d=this.vc(c);a=this.Cb(c);-1==f&&this.Wi(c,k);f==a&&this.Dh(c,k);d&&-1==b&&(this.Sc(k,k),this.Tc(k,k));this.hm(c,this.Ha(c)+1);c=this.Vf(c);this.Pk(c,this.F(c)+1);return k};d.prototype.Fo=function(){null==this.Zm&&(this.Zm=new a.Va(this.wb.description));return this.Zm};d.prototype.Pp=function(c,f){this.Mc.L(c,2,this.Mc.O(c,2)&-134217729||(1==f?134217728:
0))};d.prototype.Cm=function(c){return 0!=(this.Mc.O(c,2)&134217728)?1:0};d.prototype.MJ=function(c){var f=this.jg(c.D(),c.description);1736==c.D()&&this.Pp(f,c.Cm());this.WA(f,c);return f};d.prototype.NJ=function(c){var f=this.jg(c.D(),c.description);this.XA(f,c);return f};d.prototype.TQ=function(c,f){null==this.Rc&&(this.Rc=new a.Fc(8),this.cd=new a.Fc(5),this.fi=new a.qd(0),this.jn=new a.qd(0));this.Rc.de(this.Rc.Xc+c);this.cd.de(this.cd.Xc+f);this.fi.xb(this.fi.size+c);this.jn.xb(this.jn.size+
c)};d.prototype.WA=function(c,f){this.TQ(f.ea(),f.F());this.Hk.Pd(f,0,f.F());this.zp=this.wb.mc(0);for(var d=null!=this.Ge&&null!=f.Fe,b=0,e=f.ea();b<e;b++)if(!(2>f.Ha(b))){var n=this.Cf(c,-1);this.Gn(n,f.vc(b));for(var g=f.Ea(b),h=f.Dc(b);g<h;g++){var l=this.vl(n,-1,null);if(d)if(l=this.gb(l),0!=(f.NC(g)&1))this.Fh(l,null);else{var m=new a.Ag;f.cc(g,m,!0);this.Fh(l,m.get())}}}};d.prototype.XA=function(c,f){this.Hk.Pd(f,0,f.F());this.zp=this.wb.mc(0);c=this.Cf(c,-1);var d=0;for(f=f.F();d<f;d++)this.vl(c,
-1,null)};d.prototype.DS=function(c,f,d){var b=this.X(c);if(-1==b)throw a.g.wa();for(var k=this.Fo(),e=this.rd(c),n=0,g=f.kk(d);n<g;n++){var h=this.gb(c),l=this.X(c),m=f.Io(d,n);0==n&&(m.En(k),this.bh(c,k));322==m.D()?this.Fh(h,null):this.Fh(h,a.T.Yj(m));m.Bn(k);n<g-1?c=this.vl(e,l,k):this.bh(b,k)}};d.prototype.CS=function(c,f,d){var b=this.X(c);if(-1==b)throw a.g.wa();for(var k=this.Fo(),e=this.rd(c),n=0,g=f.kk(d);n<g;n++){var h=this.gb(c),l=this.X(c),m=f.Io(d,g-n-1);0==n&&(m.Bn(k),this.bh(c,k));
322==m.D()?this.Fh(h,null):this.Fh(h,a.T.Yj(m));m.En(k);n<g-1?c=this.vl(e,l,k):this.bh(b,k)}};d.prototype.wC=function(){var c=new a.i;c.Ja();for(var f=this.Gp(),d=new a.b,b=!0,e=f.next();-1!=e;e=f.next())this.w(e,d),b?c.Db(d.x,d.y):c.Oj(d.x,d.y),b=!1;return c};d.prototype.Eb=function(c){var f=c.D();if(a.T.Kc(f))return this.MJ(c);if(550==f)return this.NJ(c);throw a.g.wa();};d.prototype.YJ=function(c,f){var d=f.D();if(a.T.Kc(d))this.WA(c,f);else if(550==d)this.XA(c,f);else throw a.g.wa();};d.prototype.QJ=
function(c,f){var d=this.jg(1736,c.description);if(2>c.Ha(f))return d;this.Hk.Pd(c,c.Ea(f),c.Dc(f));this.zp=this.wb.mc(0);var b=this.Cf(d,-1);this.Gn(b,c.vc(f)||!0);var e=null!=this.Ge&&null!=c.Fe,n=c.Ea(f);for(f=c.Dc(f);n<f;n++){var g=this.vl(b,-1,null);if(e)if(g=this.gb(g),0!=(c.NC(n)&1))this.Fh(g,null);else{var h=new a.Ag;c.cc(n,h,!0);this.Fh(g,h.get())}}return d};d.prototype.hf=function(c){var f=this.Lb(c),d=a.sH.jg(f,this.Hk.description),b=this.F(c);if(0==b)return d;if(a.T.Kc(f)){for(var f=this.ea(c),
e=a.Ac.Dg(f+1),n=a.Ac.to(f+1,0),g=d.description,h=0,l=g.Aa;h<l;h++){for(var m=g.Hd(h),r=a.pa.Wa(m),q=a.Ac.Tv(m,b),C=this.wb.mc(m),v=0,p=0,w=0,u=this.Vb(c);-1!=u;u=this.bc(u)){var x=0;this.vc(u)&&(x|=1);this.VO(u)&&(x|=4);0!=x&&n.xy(p,x);var B=this.Ha(u);e.write(p++,w);w+=B;if(0==m)for(var B=C,D=q,z=new a.b,x=this.Cb(u);v<w;x=this.X(x),v++){var E=this.gb(x);B.ec(2*E,z);D.Rn(2*v,z)}else for(x=this.Cb(u);v<w;x=this.X(x),v++)for(E=this.gb(x),D=0;D<r;D++)z=C.Bh(E*r+D),q.Uk(v*r+D,z)}d.bm(m,q);e.write(f,
b)}d.NF(n);d.OF(e);d.ce(16777215)}else if(550==f){g=d.description;d.resize(b);h=0;for(l=g.Aa;h<l;h++){m=g.Hd(h);r=a.pa.Wa(m);q=d.mc(m);C=this.wb.mc(m);v=0;u=this.Vb(c);B=this.Ha(u);for(x=this.Cb(u);v<B;x=this.X(x),v++)for(E=this.gb(x),D=0;D<r;D++)z=C.Bh(E*r+D),q.Uk(v*r+D,z);d.bm(m,q)}d.ce(16777215)}return d};d.prototype.sy=function(c){for(var f=this.Vb(c);-1!=f;f=this.Cr(f));var f=this.aO(c),d=this.we(c);-1!=f?this.MF(f,d):this.$c=d;-1!=d?this.QF(d,f):this.Xt=f;this.bN(c)};d.prototype.jg=function(c,
f){return void 0===f?this.QB(c,a.Od.Tf()):this.QB(c,f)};d.prototype.QB=function(c,f){c=this.jQ(c);null==this.wb?this.wb=this.Hk=new a.pe(f):this.Hk.Ik(f);this.wp=this.Hk.description;this.kx=1<this.wp.Aa;-1==this.$c?this.$c=c:(this.QF(c,this.Xt),this.MF(this.Xt,c));return this.Xt=c};d.prototype.we=function(c){return this.Mc.O(c,1)};d.prototype.aO=function(c){return this.Mc.O(c,0)};d.prototype.Lb=function(c){return this.Mc.O(c,2)&2147483647};d.prototype.EF=function(c,f,d){f=this.Ej[f];c=this.xC(c);
c>=f.size&&f.resize(Math.max(a.I.truncate(1.25*c),16),-1);f.write(c,d)};d.prototype.yC=function(c,f){c=this.xC(c);f=this.Ej[f];return c<f.size?f.read(c):-1};d.prototype.RB=function(){null==this.Ej&&(this.Ej=[]);for(var c=0;c<this.Ej.length;c++)if(null==this.Ej[c])return this.Ej[c]=a.Ac.Dg(0),c;this.Ej.push(a.Ac.Dg(0));return this.Ej.length-1};d.prototype.tR=function(c){this.Ej[c]=null};d.prototype.Vb=function(c){return this.Mc.O(c,3)};d.prototype.Ys=function(c){return this.Mc.O(c,4)};d.prototype.F=
function(c){return this.Mc.O(c,5)};d.prototype.ea=function(c){return this.Mc.O(c,6)};d.prototype.xo=function(c,f,d){for(var b=0,k=this.$c;-1!=k;k=this.we(k)){var e=this.Lb(k);if(a.T.Kc(e)&&(!d||1736==e))for(var e=1736==this.Lb(k),n=this.Vb(k);-1!=n;){for(var g=0,h=this.Cb(n);g<a.I.truncate(this.Ha(n)/2);){var l=this.X(h);if(-1==l)break;var m=this.gb(h),r=this.Fi(m);null!=r?m=r.$b():(r=this.gb(l),m=this.wb.mv(m,r));m<=c?(0==m?0==b&&(b=-1):b=1,l!=this.hk(n)&&(this.Zy(l,h),this.vf(l,!0))):h=this.X(h);
g++}g=this.Cb(n);for(h=this.vc(n)?g:this.hk(n);0<this.Ha(n);)if(l=this.Ua(h),-1!=l){var q=this.gb(l),r=this.Fi(q);null!=r?m=r.$b():(m=this.gb(h),m=this.wb.mv(m,q));if(m<=c)0==m?0==b&&(b=-1):b=1,this.Zy(l,h),this.vf(l,!1),g==l&&(g=this.Cb(n));else if(h=this.Ua(h),h==g)break}else{this.vf(h,!0);0==b&&(b=-1);break}h=this.Ha(n);f&&(e?3>h:2>h)?(n=this.Cr(n),b=0<h?1:0==b?-1:b):n=this.bc(n)}}return b};d.prototype.Zy=function(c,f){var d=this.gb(c),a=this.gb(f);null!=this.wg&&(d=this.wg.read(d),this.wg.write(a,
d));if(null!=this.sh)for(a=0,d=this.sh.length;a<d;a++)if(null!=this.sh[a]){var b=this.Ra(c,a);-1!=b&&this.lb(f,a,b)}};d.prototype.Mr=function(c,f,d){var b=0,k=this.X(c);if(-1==k)throw a.g.wa();for(var e=this.gb(c),n=this.gb(k),g=this.Fi(e),h=null==g?this.wb.mv(e,n):g.$b(),l=0;l<d;l++){var m=f[l];if(0<m&&1>m){var r=m;null!=g&&(r=0<h?g.rA(m)/h:0);this.wb.vJ(e,n,r,this.Fo());var q=this.vl(this.rd(c),k,this.Fo());b++;if(null!=g){var C=g.xm(0,m),r=this.gb(this.Ua(q));this.Fh(r,C);this.Yi(q,C.oc());if(l==
d-1||1==f[l+1])m=g.xm(m,1),this.Fh(r,m)}}}return b};d.prototype.bh=function(c,f){var d=this.gb(c);this.wb.Iu(d,f);d=this.Fi(d);null!=d&&d.setStart(f);c=this.Ua(c);-1!=c&&(c=this.gb(c),null!=this.Fi(c)&&d.setEnd(f))};d.prototype.Jk=function(c,f){c=this.gb(c);this.wb.Sd(c,f)};d.prototype.Yi=function(c,f){this.ic(c,f.x,f.y)};d.prototype.ic=function(c,f,d){var a=this.gb(c);this.wb.ic(a,f,d);a=this.Fi(a);null!=a&&a.Ny(f,d);c=this.Ua(c);-1!=c&&(c=this.gb(c),null!=this.Fi(c)&&a.Ok(f,d))};d.prototype.w=function(c,
f){this.wb.w(this.cd.O(c,0),f)};d.prototype.uc=function(c,f){this.wb.Ba[0].ec(2*this.cd.O(c,0),f)};d.prototype.Fa=function(c){var f=new a.b;this.wb.w(this.cd.O(c,0),f);return f};d.prototype.SC=function(c,f){this.zp.ec(2*c,f)};d.prototype.ld=function(c,f,d){return this.wb.ld(c,this.gb(f),d)};d.prototype.setAttribute=function(c,f,d,a){this.wb.setAttribute(c,this.gb(f),d,a)};d.prototype.gb=function(c){return this.cd.O(c,0)};d.prototype.mk=function(c){var f=new a.b;this.w(c,f);return f.y};d.prototype.Cq=
function(c,f){c=this.gb(c);f=this.gb(f);var d=this.wb.Ba[0].f;return d[2*c]===d[2*f]&&d[2*c+1]===d[2*f+1]};d.prototype.pt=function(c,f){c=this.gb(c);var d=this.wb.Ba[0].f;return d[2*c]===f.x&&d[2*c+1]===f.y};d.prototype.pS=function(c,f){1>f&&(f=1);if(null==this.wg){if(1==f)return;this.wg=a.Ac.kl(this.wb.F(),1)}c=this.gb(c);c>=this.wg.size&&this.wg.resize(c+1,1);this.wg.write(c,f)};d.prototype.RC=function(c){c=this.gb(c);return null==this.wg||c>=this.wg.size?1:this.wg.read(c)};d.prototype.lb=function(c,
f,d){f=this.sh[f];c=this.gb(c);f.size<this.wb.F()&&f.resize(this.wb.F(),-1);f.write(c,d)};d.prototype.Ra=function(c,f){c=this.gb(c);f=this.sh[f];return c<f.size?f.read(c):-1};d.prototype.re=function(){null==this.sh&&(this.sh=[]);for(var c=0;c<this.sh.length;c++)if(null==this.sh[c])return this.sh[c]=a.Ac.Dg(0,-1),c;this.sh.push(a.Ac.Dg(0,-1));return this.sh.length-1};d.prototype.bf=function(c){this.sh[c]=null};d.prototype.cc=function(c){return null!=this.Ge?(c=this.gb(c),this.Ge[c]):null};d.prototype.Oc=
function(c,f){var d=this.cd.O(c,2);if(-1==d)return!1;if(this.kx){var b=new a.Va;this.Jk(c,b);f.setStart(b);this.Jk(d,b);f.setEnd(b)}else this.wb.uc(this.cd.O(c,0),M),f.gl(0,M),this.wb.uc(this.cd.O(d,0),M),f.gl(1,M);return!0};d.prototype.gR=function(c,f,d){if(this.kx){var b=new a.Va;this.Jk(c,b);d.setStart(b);this.Jk(f,b);d.setEnd(b)}else this.wb.uc(c,M),d.gl(0,M),this.wb.uc(f,M),d.gl(1,M)};d.prototype.Cf=function(c,f){var d;if(-1!=f){if(c!=this.Vf(f))throw a.g.wa();d=this.wq(f)}else d=this.Ys(c);
var b=this.lQ(c);-1!=f&&this.Mn(f,b);this.Ln(b,f);this.Mn(b,d);-1!=d?this.Ln(d,b):this.Jn(c,b);-1==f&&this.Kn(c,b);this.gm(c,this.ea(c)+1);return b};d.prototype.aD=function(c,f,d,a){c=this.Cf(c,-1);for(var b=0,k=f,e=!1;k==d&&(e=!0),this.im(k,c),b++,k=this.X(k),k!=f;);this.Gn(c,!0);this.hm(c,b);e&&(f=d);this.Dh(c,f);this.Wi(c,this.Ua(f));this.Jr(c,!1);null!=a&&(a[0]=e);return c};d.prototype.Cr=function(c){var f=this.wq(c),d=this.bc(c),a=this.Vf(c);-1!=f?this.Ln(f,d):this.Jn(a,d);-1!=d?this.Mn(d,f):
this.Kn(a,f);this.bL(c);this.gm(a,this.ea(a)-1);this.iC(c);return d};d.prototype.bL=function(c){var f=this.Cb(c);if(-1!=f){for(var d=0,a=this.Ha(c);d<a;d++){var b=f,f=this.X(f);this.dw(b)}f=this.Vf(c);this.Pk(f,this.F(f)-this.Ha(c))}this.hm(c,0)};d.prototype.bc=function(c){return this.Rc.O(c,2)};d.prototype.wq=function(c){return this.Rc.O(c,1)};d.prototype.Ha=function(c){return this.Rc.O(c,3)};d.prototype.vc=function(c){return 0!=(this.Ho(c)&1)};d.prototype.Gn=function(c,f){if(this.vc(c)!=f){if(0<
this.Ha(c)){var d=this.Cb(c),a=this.hk(c);f?(this.Sc(a,d),this.Tc(d,a)):(this.Sc(a,-1),this.Tc(d,-1));d=this.gb(a);this.Fh(d,null)}this.Iy(c,(this.Ho(c)|1)-1|(f?1:0))}};d.prototype.Vf=function(c){return this.Rc.O(c,7)};d.prototype.VO=function(c){return 0!=(this.Ho(c)&2)};d.prototype.Dy=function(c,f){this.Iy(c,(this.Ho(c)|2)-2|(f?2:0))};d.prototype.Gw=function(c){if(this.bP(c))return this.fi.get(this.bt(c));var f=new a.yb,d=this.Cb(c);if(-1==d)return 0;var b=new a.b;this.w(d,b);for(var e=0,n=0,g=this.Ha(c);n<
g;n++,d=this.X(d)){var h=this.cc(d);if(null==h){if(!this.Oc(d,f))continue;h=f}e+=h.kv(b.x,b.y)}this.Jr(c,!0);this.fi.set(this.bt(c),e);return e};d.prototype.Rp=function(c,f,d){f=this.Jj[f];c=this.bt(c);f.size<this.fi.size&&f.resize(this.fi.size,-1);f.write(c,d)};d.prototype.Ei=function(c,f){c=this.bt(c);f=this.Jj[f];return c<f.size?f.read(c):-1};d.prototype.Uv=function(){null==this.Jj&&(this.Jj=[]);for(var c=0;c<this.Jj.length;c++)if(null==this.Jj[c])return this.Jj[c]=a.Ac.Dg(0),c;this.Jj.push(a.Ac.Dg(0));
return this.Jj.length-1};d.prototype.ty=function(c){this.Jj[c]=null};d.prototype.bQ=function(c,f,d){if(-1==d)throw a.g.N();if(f!=d){var b=this.bc(d),k=this.wq(d),e=this.Vf(d);-1==k?this.Jn(e,b):this.Ln(k,b);-1==b?this.Kn(e,k):this.Mn(b,k);this.Pk(e,this.F(e)-this.Ha(d));this.gm(e,this.ea(e)-1);k=-1==f?this.Ys(c):this.wq(f);this.Mn(d,k);this.Ln(d,f);-1==f?this.Kn(c,d):this.Mn(f,d);-1==k?this.Jn(c,d):this.Ln(k,d);this.Pk(c,this.F(c)+this.Ha(d));this.gm(c,this.ea(c)+1);this.Hu(d,c)}};d.prototype.zi=
function(c,f){this.wb.Sd(this.gb(f),this.Fo());this.vl(c,-1,this.Fo())};d.prototype.vf=function(c,f){var d=this.rd(c),b=this.Ua(c),e=this.X(c);-1!=b&&this.Sc(b,e);var n=this.Ha(d);c==this.Cb(d)&&this.Dh(d,1<n?e:-1);-1!=e&&this.Tc(e,b);c==this.hk(d)&&this.Wi(d,1<n?b:-1);if(-1!=b&&-1!=e){var b=this.gb(b),g=this.gb(e);f?(f=this.Fi(b),null!=f&&(b=new a.b,this.wb.w(g,b),f.vd(b))):(g=this.gb(c),f=this.Fi(g),this.Fh(b,f),null!=f&&(b=this.wb.Fa(b),f.ed(b)))}this.hm(d,n-1);d=this.Vf(d);this.Pk(d,this.F(d)-
1);this.dw(c);return e};d.prototype.Cb=function(c){return this.Rc.O(c,4)};d.prototype.hk=function(c){return this.Rc.O(c,5)};d.prototype.X=function(c){return this.cd.O(c,2)};d.prototype.Ua=function(c){return this.cd.O(c,1)};d.prototype.rd=function(c){return this.cd.O(c,3)};d.prototype.Ub=function(c,f){return this.vl(c,-1,f)};d.prototype.Gp=function(c){if(void 0===c)return this.Gp(!1);if(c instanceof e)return new e(c);var f,d=-1,b=-1,n=-1,g=0,h=!1;for(f=this.$c;-1!=f;f=this.we(f))if(!c||a.T.Kc(this.Lb(f))){for(d=
this.Vb(f);-1!=d;d=this.bc(d))if(n=b=this.Cb(d),g=0,-1!=b){h=!0;break}if(h)break}return e.UL(this,f,d,b,n,g,c)};d.prototype.Oe=function(c){this.Hk.Oe(c);if(null!=this.Ge)for(var f=0,d=this.Ge.length;f<d;f++)null!=this.Ge[f]&&this.Ge[f].Oe(c)};d.prototype.Tp=function(c,f,d,a){a?this.DS(c,f,d):this.CS(c,f,d)};d.prototype.Tc=function(c,f){this.cd.L(c,1,f)};d.prototype.Sc=function(c,f){this.cd.L(c,2,f)};d.prototype.im=function(c,f){this.cd.L(c,3,f)};d.prototype.hm=function(c,f){this.Rc.L(c,3,f)};d.prototype.Dh=
function(c,f){this.Rc.L(c,4,f)};d.prototype.Wi=function(c,f){this.Rc.L(c,5,f)};d.prototype.gm=function(c,f){this.Mc.L(c,6,f)};d.prototype.Pk=function(c,f){this.Mc.L(c,5,f)};d.prototype.lF=function(c){var f=c;do{var d=this.X(f);this.Sc(f,this.Ua(f));this.Tc(f,d);f=d}while(f!=c)};d.prototype.ZF=function(c){this.pd=c};d.prototype.yu=function(c){var f=this.wq(c),d=this.bc(c),a=this.Vf(c);-1!=f?this.Ln(f,d):this.Jn(a,d);-1!=d?this.Mn(d,f):this.Kn(a,f);this.Dh(c,-1);this.Wi(c,-1);this.iC(c)};d.prototype.Ui=
function(c,f){var d=this.Ua(c),b=this.X(c);-1!=d&&this.Sc(d,b);-1!=b&&this.Tc(b,d);if(-1!=d&&-1!=b)if(d=this.gb(d),b=this.gb(b),f){if(f=this.Fi(d),null!=f){var e=new a.b;this.wb.w(b,e);f.vd(e)}}else b=this.gb(c),f=this.Fi(b),this.Fh(d,f),null!=f&&(e=new a.b,this.wb.w(d,e),f.ed(e));this.dw(c)};d.prototype.bP=function(c){return 0!=(this.Ho(c)&4)};d.prototype.Jr=function(c,f){this.Iy(c,(this.Ho(c)|4)-4|(f?4:0))};d.prototype.Mu=function(c,f){var d=this.cd.f;this.wb.kc();var a=this.wb.Ba[0].f;c.xd(0,f,
function(c,f){c=d[5*c];f=d[5*f];var b=a[2*c];c=a[2*c+1];var k=a[2*f];f=a[2*f+1];return c<f?-1:c>f?1:b<k?-1:b>k?1:0})};d.prototype.pO=function(){for(var c=this.$c;-1!=c;c=this.we(c))if(!a.T.Kc(this.Lb(c)))return!0;return!1};d.prototype.Vy=function(c,f){for(var d=this.Vb(c),a=this.Vb(f),b=this.Ys(c),e=this.Ys(f),n=this.Vb(c);-1!=n;n=this.bc(n))this.Hu(n,f);for(n=this.Vb(f);-1!=n;n=this.bc(n))this.Hu(n,c);this.Jn(c,a);this.Jn(f,d);this.Kn(c,e);this.Kn(f,b);d=this.F(c);a=this.ea(c);b=this.ea(f);this.Pk(c,
this.F(f));this.Pk(f,d);this.gm(c,b);this.gm(f,a);d=this.Mc.O(c,2);this.Mc.L(c,2,this.Mc.O(f,2));this.Mc.L(f,2,d)};return d}();a.fd=b})(z||(z={}));(function(a){var b=function(b){function d(c,f,d,e){b.call(this);this.R=new a.i;void 0===c?this.MB():"number"===typeof c?this.AL(c,f,d,e):c instanceof a.Va?void 0!==f?this.Ks(c,f,d):this.BL(c):c instanceof a.pa?void 0!==f?this.DL(c,f):this.CL(c):c instanceof a.i?this.zL(c):this.MB()}K(d,b);d.prototype.Ks=function(c,f,d){this.description=a.Od.Tf();this.R.Ja();
c.s()||this.sv(c,f,d)};d.prototype.zL=function(c){this.description=a.Od.Tf();this.R.K(c);this.R.normalize()};d.prototype.CL=function(c){if(null==c)throw a.g.N();this.description=c;this.R.Ja()};d.prototype.DL=function(c,f){if(null==c)throw a.g.N();this.description=c;this.R.K(f);this.R.normalize()};d.prototype.MB=function(){this.description=a.Od.Tf();this.R.Ja()};d.prototype.BL=function(c){this.description=a.Od.Tf();this.R.Ja();c.s()||this.sv(c)};d.prototype.AL=function(c,f,d,b){this.description=a.Od.Tf();
this.K(c,f,d,b)};d.prototype.K=function(c,f,d,a){this.qc();if("number"===typeof c)this.R.K(c,f,d,a);else for(this.Ja(),f=0,d=c.length;f<d;f++)this.Db(c[f])};d.prototype.Cu=function(c){this.qc();if(!c.dP())throw a.g.N();this.R.K(c)};d.prototype.Ja=function(){this.qc();this.R.Ja()};d.prototype.s=function(){return this.R.s()};d.prototype.aa=function(){return this.R.aa()};d.prototype.ba=function(){return this.R.ba()};d.prototype.lw=function(){return this.R.lw()};d.prototype.Vs=function(){return this.R.Vs()};
d.prototype.qq=function(){return this.R.Af()};d.prototype.Db=function(c){if(c instanceof a.b)this.qc(),this.R.Db(c);else if(c instanceof a.i)this.qc(),this.R.Db(c);else if(c instanceof a.Va){if(this.qc(),!c.sc()){var f=c.description;this.description!=f&&this.Ik(f);if(this.s())this.sv(c);else{this.R.Db(c.w());for(var b=1,e=f.Aa;b<e;b++)for(var n=f.Fd(b),g=a.pa.Wa(n),h=0;h<g;h++){var l=c.ld(n,h),m=this.Ah(n,h);m.Db(l);setInterval(n,h,m)}}}}else if(c instanceof d&&!c.s())for(f=c.description,f!=this.description&&
this.Ik(f),this.R.Db(c.R),b=1,e=f.Aa;b<e;b++)for(n=f.Hd(b),g=a.pa.Wa(n),h=0;h<g;h++)l=c.Ah(n,h),m=this.Ah(n,h),m.Db(l),setInterval(n,h,m)};d.prototype.sv=function(c,f,d){if(void 0!==f){this.R.K(c.w(),f,d);f=c.description;d=1;for(var b=f.Aa;d<b;d++)for(var k=f.Fd(d),e=a.pa.Wa(k),n=0;n<e;n++){var g=c.ld(k,n);this.setInterval(k,n,g,g)}}else for(this.R.K(c.fa[0],c.fa[1]),f=c.description,d=1,b=f.Aa;d<b;d++)for(k=f.Fd(d),e=a.pa.Wa(k),n=0;n<e;n++)g=c.ld(k,n),this.setInterval(k,n,g,g)};d.prototype.setInterval=
function(c,f,d,b){var k=null;"number"===typeof d?k=new a.Nd(d,b):k=d;this.qc();if(0==c)if(0==f)this.R.v=k.qa,this.R.B=k.va;else if(1==f)this.R.C=k.qa,this.R.G=k.va;else throw a.g.Uc();else this.DA(0,c,f,k.qa),this.DA(1,c,f,k.va)};d.prototype.P=function(c,f){this.qc();this.R.P(c,f)};d.prototype.Oe=function(c){if(c instanceof a.Bg)this.qc(),c.$y(this.R);else if(this.qc(),!this.R.s()){var f=new a.fH;this.Cn(f);f.UO()?f.Ja():c.$y(f)}};d.prototype.copyTo=function(c){if(c.D()!=this.D())throw a.g.N();c.qc();
c.description=this.description;c.R.K(this.R);c.fa=null;if(null!=this.fa){c.ns();for(var f=0;f<2*(this.description.le.length-2);f++)c.fa[f]=this.fa[f]}};d.prototype.Pa=function(){return new d(this.description)};d.prototype.Mh=function(){return this.R.rN()};d.prototype.$b=function(){return this.R.CC()};d.prototype.D=function(){return 197};d.prototype.fb=function(){return 2};d.prototype.Fp=function(c){this.copyTo(c)};d.prototype.o=function(c){c.v=this.R.v;c.C=this.R.C;c.B=this.R.B;c.G=this.R.G};d.prototype.Cn=
function(c){c.v=this.R.v;c.C=this.R.C;c.B=this.R.B;c.G=this.R.G;c.K(this.R.v,this.R.C,this.yd(0,1,0),this.R.B,this.R.G,this.yd(1,1,0))};d.prototype.Ah=function(c,f){var d=new a.Nd;d.K(this.yd(0,c,f),this.yd(1,c,f));return d};d.prototype.uf=function(c,f){f.Qf(this.description);var d=this.description.Aa-1;switch(c){case 0:for(c=0;c<d;c++)for(var b=this.description.Hd(c),e=a.pa.Wa(b),n=0;n<e;n++)f.setAttribute(b,n,this.yd(0,b,n));f.ic(this.R.v,this.R.C);break;case 1:for(c=0;c<d;c++)for(b=this.description.Hd(c),
e=a.pa.Wa(b),n=0;n<e;n++)f.setAttribute(b,n,this.yd(1,b,n));f.ic(this.R.v,this.R.G);break;case 2:for(c=0;c<d;c++)for(b=this.description.Hd(c),e=a.pa.Wa(b),n=0;n<e;n++)f.setAttribute(b,n,this.yd(0,b,n));f.ic(this.R.B,this.R.G);break;case 3:for(c=0;c<d;c++)for(b=this.description.Hd(c),e=a.pa.Wa(b),n=0;n<e;n++)f.setAttribute(b,n,this.yd(1,b,n));f.ic(this.R.B,this.R.C);break;default:throw a.g.Uc();}};d.prototype.vu=function(c,f){c=this.R.vu(c);f.ma(c.x,c.y)};d.prototype.zN=function(c,f){return f*(c.up-
2)};d.prototype.mC=function(c,f,d){if(this.R.s())throw a.g.ra("empty geometry");if(0==f)return 0!=c?0!=d?this.R.G:this.R.B:0!=d?this.R.C:this.R.v;if(d>=a.pa.Wa(f))throw a.g.N();var b=this.description.zf(f);this.ns();return 0<=b?this.fa[this.zN(this.description,c)+this.description.XN(b)-2+d]:a.pa.ue(f)};d.prototype.ns=function(){this.qc();if(null==this.fa&&2<this.description.le.length){this.fa=[];for(var c=d.V(this.description,0),f=d.V(this.description,1),b=0,e=1,n=this.description.Aa;e<n;e++)for(var g=
this.description.Hd(e),h=a.pa.Wa(g),g=a.pa.ue(g),l=0;l<h;l++)this.fa[c+b]=g,this.fa[f+b]=g,b++}};d.prototype.nm=function(c){if(null!=this.fa)if(2<c.le.length){for(var f=a.Od.iu(c,this.description),b=[],e=d.V(this.description,0),n=d.V(this.description,1),g=d.V(c,0),h=d.V(c,1),l=0,m=1,r=c.Aa;m<r;m++){var q=c.Hd(m),C=a.pa.Wa(q);if(-1==f[m])for(var v=a.pa.ue(q),q=0;q<C;q++)b[g+l]=v,b[h+l]=v,l++;else for(v=this.description.fj(f[m])-2,q=0;q<C;q++)b[g+l]=this.fa[e+v],b[h+l]=this.fa[n+v],l++,v++}this.fa=
b}else this.fa=null;this.description=c};d.prototype.yd=function(c,f,b){if(this.R.s())throw a.g.ra("This operation was performed on an Empty Geometry.");if(0==f)return 0!=c?0!=b?this.R.G:this.R.B:0!=b?this.R.C:this.R.v;if(b>=a.pa.Wa(f))throw a.g.Uc();var k=this.description.zf(f);return 0<=k?(this.ns(),this.fa[d.V(this.description,c)+this.description.fj(k)-2+b]):a.pa.ue(f)};d.prototype.DA=function(c,f,b,e){this.qc();if(0==f)0!=c?0!=b?this.R.G=e:this.R.B=e:0!=b?this.R.C=e:this.R.v=e;else{if(b>=a.pa.Wa(f))throw a.g.Uc();
if(!this.hasAttribute(f)){if(a.pa.nD(f,e))return;this.Ne(f)}f=this.description.zf(f);this.ns();this.fa[d.V(this.description,c)+this.description.fj(f)-2+b]=e}};d.V=function(c,f){return f*(c.le.length-2)};d.prototype.Ga=function(c){this.qc();var f=new a.i;c.o(f);return this.R.Ga(f)};d.prototype.jc=function(c){return c instanceof a.i?this.R.jc(c):this.R.jc(c.R)};d.prototype.offset=function(c,f){this.qc();this.R.offset(c,f)};d.prototype.normalize=function(){this.qc();this.R.normalize()};d.prototype.Af=
function(c){if(void 0!==c)if(c.Qf(this.description),this.s())c.Ja();else{for(var f=this.description.Aa,d=1;d<f;d++)for(var b=this.description.Hd(d),e=a.pa.Wa(b),n=0;n<e;n++){var g=.5*(this.mC(0,b,n)+this.mC(1,b,n));c.setAttribute(b,n,g)}c.ic(this.R.Af())}else{c=new a.Va(this.description);if(this.s())return c;f=this.description.Aa;for(d=1;d<f;d++)for(b=this.description.Fd(d),e=a.pa.Wa(b),n=0;n<e;n++)g=.5*(this.yd(0,b,n)+this.yd(1,b,n)),c.setAttribute(b,n,g);c.ic(this.R.lw(),this.R.Vs());return c}};
d.prototype.yw=function(){return new a.Va(this.R.yw())};d.prototype.contains=function(c){return c instanceof a.Va?c.s()?!1:this.R.contains(c.lk(),c.mk()):this.R.contains(c.R)};d.prototype.lc=function(c){if(c==this)return!0;if(!(c instanceof d)||this.description!=c.description)return!1;if(this.s())return c.s()?!0:!1;if(!this.R.lc(c.R))return!1;for(var f=0,a=2*(this.description.le.length-2);f<a;f++)if(this.fa[f]!=c.fa[f])return!1;return!0};d.prototype.hc=function(){var c=this.description.hc(),c=a.I.kg(c,
this.R.hc());if(!this.s()&&null!=this.fa)for(var f=0,d=2*(this.description.le.length-2);f<d;f++)c=a.I.kg(c,this.fa[f]);return c};d.prototype.Rf=function(){return a.Hh.il(this,null)};d.prototype.toString=function(){return this.s()?"Envelope: []":"Envelope: ["+this.R.v+", "+this.R.C+", "+this.R.B+", "+this.R.G+"]"};return d}(a.T);a.Vj=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,a){void 0===d?this.Ja():(this.v=d,this.C=c,this.B=f,this.G=a)}b.Oa=function(d,c,f,a){var k=new b;k.v=d;k.C=
c;k.B=f;k.G=a;return k};b.prototype.K=function(d,c,f,k){"number"===typeof d?void 0!==f?(this.v=d,this.C=c,this.B=f,this.G=k,this.normalize()):(this.v=d,this.C=c,this.B=d,this.G=c):d instanceof a.b?void 0!==c?(this.v=d.x-.5*c,this.B=this.v+c,this.C=d.y-.5*f,this.G=this.C+f,this.normalize()):(this.v=d.x,this.C=d.y,this.B=d.x,this.G=d.y):d instanceof b?this.K(d.v,d.C,d.B,d.G):d instanceof a.Nd&&(d.s()||c.s()?this.Ja():(this.v=d.qa,this.B=d.va,this.C=c.qa,this.G=c.va))};b.prototype.IN=function(d,c){var f=
new b;f.K(this.v,this.C,this.B,this.G);f.P(d,c);return f};b.prototype.Ey=function(d,c){if(void 0!==c)if(0==c)this.Ja();else{this.v=d[0].x;this.C=d[0].y;this.B=this.v;this.G=this.C;for(var f=1;f<c;f++){var a=d[f];a.x<this.v?this.v=a.x:a.x>this.B&&(this.B=a.x);a.y<this.C?this.C=a.y:a.y>this.G&&(this.G=a.y)}}else if(null==d||0==d.length)this.Ja();else for(a=d[0],this.K(a.x,a.y),f=1;f<d.length;f++)a=d[f],this.Oj(a.x,a.y)};b.prototype.Ja=function(){this.G=this.B=this.C=this.v=NaN};b.prototype.s=function(){return isNaN(this.v)};
b.prototype.Db=function(d,c){"number"===typeof d?this.s()?(this.v=d,this.C=c,this.B=d,this.G=c):(this.v>d?this.v=d:this.B<d&&(this.B=d),this.C>c?this.C=c:this.G<c&&(this.G=c)):d instanceof a.b?this.Db(d.x,d.y):d instanceof a.ee?this.Db(d.x,d.y):d instanceof b&&!d.s()&&(this.Db(d.v,d.C),this.Db(d.B,d.G))};b.prototype.Oj=function(d,c){this.v>d?this.v=d:this.B<d&&(this.B=d);this.C>c?this.C=c:this.G<c&&(this.G=c)};b.prototype.P=function(d,c){this.s()||(this.v-=d,this.B+=d,this.C-=c,this.G+=c,(this.v>
this.B||this.C>this.G)&&this.Ja())};b.prototype.scale=function(d){0>d&&this.Ja();this.s()||(this.v*=d,this.B*=d,this.C*=d,this.G*=d)};b.prototype.jc=function(d){return!this.s()&&!d.s()&&(this.v<=d.v?this.B>=d.v:d.B>=this.v)&&(this.C<=d.C?this.G>=d.C:d.G>=this.C)};b.prototype.rD=function(d){return(this.v<=d.v?this.B>=d.v:d.B>=this.v)&&(this.C<=d.C?this.G>=d.C:d.G>=this.C)};b.prototype.Ga=function(d){if(this.s()||d.s())return!1;d.v>this.v&&(this.v=d.v);d.B<this.B&&(this.B=d.B);d.C>this.C&&(this.C=d.C);
d.G<this.G&&(this.G=d.G);(d=this.v<=this.B&&this.C<=this.G)||this.Ja();return d};b.prototype.vu=function(d){switch(d){case 0:return a.b.Oa(this.v,this.C);case 1:return a.b.Oa(this.v,this.G);case 2:return a.b.Oa(this.B,this.G);case 3:return a.b.Oa(this.B,this.C);default:throw a.g.Uc();}};b.prototype.hy=function(d){if(null==d||4>d.length)throw a.g.N();null!=d[0]?d[0].ma(this.v,this.C):d[0]=a.b.Oa(this.v,this.C);null!=d[1]?d[1].ma(this.v,this.G):d[1]=a.b.Oa(this.v,this.G);null!=d[2]?d[2].ma(this.B,this.G):
d[2]=a.b.Oa(this.B,this.G);null!=d[3]?d[3].ma(this.B,this.C):d[3]=a.b.Oa(this.B,this.C)};b.prototype.rN=function(){return this.s()?0:this.aa()*this.ba()};b.prototype.CC=function(){return this.s()?0:2*(this.aa()+this.ba())};b.prototype.lw=function(){return(this.B+this.v)/2};b.prototype.Vs=function(){return(this.G+this.C)/2};b.prototype.aa=function(){return this.B-this.v};b.prototype.ba=function(){return this.G-this.C};b.prototype.move=function(d,c){this.s()||(this.v+=d,this.C+=c,this.B+=d,this.G+=
c)};b.prototype.offset=function(d,c){this.v+=d;this.B+=d;this.C+=c;this.G+=c};b.prototype.normalize=function(){if(!this.s()){var d=Math.min(this.v,this.B),c=Math.max(this.v,this.B);this.v=d;this.B=c;d=Math.min(this.C,this.G);c=Math.max(this.C,this.G);this.C=d;this.G=c}};b.prototype.Yl=function(d){d.ma(this.v,this.C)};b.prototype.YE=function(d){d.ma(this.B,this.C)};b.prototype.aF=function(d){d.ma(this.v,this.G)};b.prototype.Zl=function(d){d.ma(this.B,this.G)};b.prototype.dP=function(){return this.s()||
this.v<=this.B&&this.C<=this.G};b.prototype.Af=function(){return a.b.Oa((this.B+this.v)/2,(this.G+this.C)/2)};b.prototype.yw=function(){return a.b.Oa(this.v,this.C)};b.prototype.contains=function(d,c){if(void 0!==c)return d>=this.v&&d<=this.B&&c>=this.C&&c<=this.G;if(d instanceof a.Va)return this.contains(d.lk(),d.mk());if(d instanceof a.b)return this.contains(d.x,d.y);if(d instanceof b)return d.v>=this.v&&d.B<=this.B&&d.C>=this.C&&d.G<=this.G;throw a.g.N();};b.prototype.jl=function(d,c){if(void 0!==
c)return d>this.v&&d<this.B&&c>this.C&&c<this.G;if(d instanceof a.b)return this.jl(d.x,d.y);if(d instanceof b)return d.v>this.v&&d.B<this.B&&d.C>this.C&&d.G<this.G;throw a.g.N();};b.prototype.lc=function(d){return d==this?!0:d instanceof b?this.s()&&d.s()?!0:this.v!=d.v||this.C!=d.C||this.B!=d.B||this.G!=d.G?!1:!0:!1};b.prototype.hc=function(){var d=this.v,d=a.I.truncate(d^d>>>32),c=a.I.kg(d),d=this.B,d=a.I.truncate(d^d>>>32),c=a.I.kg(d,c),d=this.C,d=a.I.truncate(d^d>>>32),c=a.I.kg(d,c),d=this.G,
d=a.I.truncate(d^d>>>32);return c=a.I.kg(d,c)};b.prototype.vv=function(d){var c=new a.b;c.J(d);if(c.pv())return c;if(this.s())return c.FA(),c;c.x<this.v?c.x=this.v:c.x>this.B&&(c.x=this.B);c.y<this.C?c.y=this.C:c.y>this.G&&(c.y=this.G);if(!c.lc(d))return c;d=this.Af();(c.x<d.x?c.x-this.v:this.B-c.x)<(c.y<d.y?c.y-this.C:this.G-c.y)?c.x=c.x<d.x?this.v:this.B:c.y=c.y<d.y?this.C:this.G;return c};b.prototype.ms=function(d){if(this.s())return NaN;if(d.x==this.v)return d.y-this.C;var c=this.G-this.C,f=this.B-
this.v;return d.y==this.G?c+d.x-this.v:d.x==this.B?c+f+this.G-d.y:d.y==this.C?2*c+f+this.B-d.x:this.ms(this.vv(d))};b.prototype.vA=function(d){if(this.s())return-1;d=this.ms(d);var c=this.G-this.C,f=this.B-this.v;return d<c?0:(d-=c)<f?1:d-f<c?2:3};b.prototype.lv=function(){return this.s()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.v)+Math.abs(this.B)+Math.abs(this.C)+Math.abs(this.G)+1)};b.prototype.Nv=function(d,c){var f=this.ej(d),a=this.ej(c);if(0!=(f&a))return 0;if(0==(f|a))return 4;
var e=(0!=f?1:0)|(0!=a?2:0);do{var n=c.x-d.x,g=c.y-d.y;n>g?0!=(f&b.Cc)?(0!=(f&b.ob)?(d.y+=g*(this.v-d.x)/n,d.x=this.v):(d.y+=g*(this.B-d.x)/n,d.x=this.B),f=this.ej(d)):0!=(a&b.Cc)?(0!=(a&b.ob)?(c.y+=g*(this.v-c.x)/n,c.x=this.v):(c.y+=g*(this.B-c.x)/n,c.x=this.B),a=this.ej(c)):0!=f?(0!=(f&b.ac)?(d.x+=n*(this.C-d.y)/g,d.y=this.C):(d.x+=n*(this.G-d.y)/g,d.y=this.G),f=this.ej(d)):(0!=(a&b.ac)?(c.x+=n*(this.C-c.y)/g,c.y=this.C):(c.x+=n*(this.G-c.y)/g,c.y=this.G),a=this.ej(c)):0!=(f&b.Bd)?(0!=(f&b.ac)?
(d.x+=n*(this.C-d.y)/g,d.y=this.C):(d.x+=n*(this.G-d.y)/g,d.y=this.G),f=this.ej(d)):0!=(a&b.Bd)?(0!=(a&b.ac)?(c.x+=n*(this.C-c.y)/g,c.y=this.C):(c.x+=n*(this.G-c.y)/g,c.y=this.G),a=this.ej(c)):0!=f?(0!=(f&b.ob)?(d.y+=g*(this.v-d.x)/n,d.x=this.v):(d.y+=g*(this.B-d.x)/n,d.x=this.B),f=this.ej(d)):(0!=(a&b.ob)?(c.y+=g*(this.v-c.x)/n,c.x=this.v):(c.y+=g*(this.B-c.x)/n,c.x=this.B),a=this.ej(c));if(0!=(f&a))return 0}while(0!=(f|a));return e};b.prototype.ej=function(d){return(d.x<this.v?1:0)|(d.x>this.B?
1:0)<<1|(d.y<this.C?1:0)<<2|(d.y>this.G?1:0)<<3};b.prototype.mg=function(d){return!this.s()&&(this.aa()<=d||this.ba()<=d)};b.prototype.Fb=function(d){return d instanceof a.b?Math.sqrt(this.gG(d)):Math.sqrt(this.Ou(d))};b.prototype.Ou=function(d){var c=0,f=0,a;a=this.v-d.B;a>c&&(c=a);a=this.C-d.G;a>f&&(f=a);a=d.v-this.B;a>c&&(c=a);a=d.C-this.G;a>f&&(f=a);return c*c+f*f};b.prototype.gG=function(d){var c=0,f=0,a;a=this.v-d.x;a>c&&(c=a);a=this.C-d.y;a>f&&(f=a);a=d.x-this.B;a>c&&(c=a);a=d.y-this.G;a>f&&
(f=a);return c*c+f*f};b.prototype.wu=function(d){this.s()?d.Ja():d.K(this.v,this.B)};b.ob=1;b.ac=4;b.Cc=3;b.Bd=12;return b}();a.i=b})(z||(z={}));(function(a){var b;(function(d){d[d.initialize=0]="initialize";d[d.initializeRed=1]="initializeRed";d[d.initializeBlue=2]="initializeBlue";d[d.initializeRedBlue=3]="initializeRedBlue";d[d.sweep=4]="sweep";d[d.sweepBruteForce=5]="sweepBruteForce";d[d.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";d[d.sweepRedBlue=7]="sweepRedBlue";d[d.sweepRed=8]="sweepRed";
d[d.sweepBlue=9]="sweepBlue";d[d.iterate=10]="iterate";d[d.iterateRed=11]="iterateRed";d[d.iterateBlue=12]="iterateBlue";d[d.iterateBruteForce=13]="iterateBruteForce";d[d.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";d[d.resetRed=15]="resetRed";d[d.resetBlue=16]="resetBlue"})(b||(b={}));var e=function(){function d(c,f){this.th=c;this.KD=f}d.prototype.Zp=function(c,f,d){this.th.BS(d,c,f,this.KD)};d.prototype.Mo=function(c){return this.th.pq(c,this.KD)};return d}();b=function(){function d(){this.Vt=
this.cn=this.Ve=this.ad=null;this.fp=new a.i;this.Al=this.Mi=this.Ni=this.od=this.rf=this.ud=this.Nt=this.Wm=this.Zc=this.vb=null;this.Hb=-1;this.ka=0;this.Rj()}d.prototype.Vp=function(){this.Rj();this.At=!0;null==this.vb?(this.Wm=new a.ga(0),this.vb=[]):(this.Wm.cf(0),this.vb.length=0)};d.prototype.Wc=function(c,f){if(!this.At)throw a.g.xa();var d=new a.i;d.K(f);this.Wm.add(c);this.vb.push(d)};d.prototype.wo=function(){if(!this.At)throw a.g.xa();this.At=!1;null!=this.vb&&0<this.vb.length&&(this.Hb=
0,this.Ec=!1)};d.prototype.jG=function(){this.Rj();this.zt=!0;null==this.vb?(this.Wm=new a.ga(0),this.vb=[]):(this.Wm.cf(0),this.vb.length=0)};d.prototype.OA=function(c,f){if(!this.zt)throw a.g.xa();var d=new a.i;d.K(f);this.Wm.add(c);this.vb.push(d)};d.prototype.$B=function(){if(!this.zt)throw a.g.xa();this.zt=!1;null!=this.vb&&0<this.vb.length&&null!=this.Zc&&0<this.Zc.length&&(-1==this.Hb?this.Hb=3:2==this.Hb?this.Hb=3:3!=this.Hb&&(this.Hb=1),this.Ec=!1)};d.prototype.iG=function(){this.Rj();this.yt=
!0;null==this.Zc?(this.Nt=new a.ga(0),this.Zc=[]):(this.Nt.cf(0),this.Zc.length=0)};d.prototype.LA=function(c,f){if(!this.yt)throw a.g.xa();var d=new a.i;d.K(f);this.Nt.add(c);this.Zc.push(d)};d.prototype.ZB=function(){if(!this.yt)throw a.g.xa();this.yt=!1;null!=this.vb&&0<this.vb.length&&null!=this.Zc&&0<this.Zc.length&&(-1==this.Hb?this.Hb=3:1==this.Hb?this.Hb=3:3!=this.Hb&&(this.Hb=2),this.Ec=!1)};d.prototype.next=function(){if(this.Ec)return!1;for(var c=!0;c;)switch(this.Hb){case 0:c=this.Qw();
break;case 1:c=this.yO();break;case 2:c=this.vO();break;case 3:c=this.xO();break;case 4:c=this.LS();break;case 5:c=this.HS();break;case 6:c=this.IS();break;case 7:c=this.JS();break;case 8:c=this.Qu();break;case 9:c=this.Wy();break;case 10:c=this.$w();break;case 11:c=this.iP();break;case 12:c=this.fP();break;case 13:c=this.gP();break;case 14:c=this.hP();break;case 15:c=this.hF();break;case 16:c=this.gF();break;default:throw a.g.wa();}return this.Ec?!1:!0};d.prototype.YF=function(c){this.ka=c};d.prototype.Fw=
function(c){return this.vb[c]};d.prototype.jw=function(c){return this.Zc[c]};d.prototype.jk=function(c){return this.Wm.read(c)};d.prototype.ek=function(c){return this.Nt.read(c)};d.Cv=function(c){return 1==(c&1)};d.Yk=function(c){return 0==(c&1)};d.prototype.Rj=function(){this.At=this.yt=this.zt=!1;this.pf=this.qf=this.tg=this.ae=-1;this.Ec=!0};d.prototype.Qw=function(){this.mf=this.Ff=-1;if(10>this.vb.length)return this.ae=this.vb.length,this.Hb=5,!0;null==this.ad&&(this.ad=new a.bq(!0),this.cn=
this.ad.Re(),this.ud=new a.ga(0));this.ad.Vp();for(var c=0;c<this.vb.length;c++){var f=this.vb[c];this.ad.gq(f.v,f.B)}this.ad.wo();this.ud.xb(2*this.vb.length);this.ud.resize(0);for(c=0;c<2*this.vb.length;c++)this.ud.add(c);this.Lr(this.ud,2*this.vb.length,!0);this.ae=2*this.vb.length;this.Hb=4;return!0};d.prototype.yO=function(){this.mf=this.Ff=-1;if(10>this.vb.length||10>this.Zc.length)return this.ae=this.vb.length,this.Hb=6,!0;null==this.ad&&(this.ad=new a.bq(!0),this.cn=this.ad.Re(),this.ud=new a.ga(0));
this.ad.Vp();for(var c=0;c<this.vb.length;c++){var f=this.vb[c];this.ad.gq(f.v,f.B)}this.ad.wo();this.ud.xb(2*this.vb.length);this.ud.resize(0);for(c=0;c<2*this.vb.length;c++)this.ud.add(c);this.Lr(this.ud,this.ud.size,!0);this.ae=this.ud.size;-1!=this.qf&&(this.od.Fg(this.qf),this.Ni.resize(0),this.qf=-1);this.Hb=7;return this.gF()};d.prototype.vO=function(){this.mf=this.Ff=-1;if(10>this.vb.length||10>this.Zc.length)return this.ae=this.vb.length,this.Hb=6,!0;null==this.Ve&&(this.Ve=new a.bq(!0),
this.Vt=this.Ve.Re(),this.rf=new a.ga(0));this.Ve.Vp();for(var c=0;c<this.Zc.length;c++){var f=this.Zc[c];this.Ve.gq(f.v,f.B)}this.Ve.wo();this.rf.xb(2*this.Zc.length);this.rf.resize(0);for(c=0;c<2*this.Zc.length;c++)this.rf.add(c);this.Lr(this.rf,this.rf.size,!1);this.tg=this.rf.size;-1!=this.pf&&(this.od.Fg(this.pf),this.Mi.resize(0),this.pf=-1);this.Hb=7;return this.hF()};d.prototype.xO=function(){this.mf=this.Ff=-1;if(10>this.vb.length||10>this.Zc.length)return this.ae=this.vb.length,this.Hb=
6,!0;null==this.ad&&(this.ad=new a.bq(!0),this.cn=this.ad.Re(),this.ud=new a.ga(0));null==this.Ve&&(this.Ve=new a.bq(!0),this.Vt=this.Ve.Re(),this.rf=new a.ga(0));this.ad.Vp();for(var c=0;c<this.vb.length;c++){var f=this.vb[c];this.ad.gq(f.v,f.B)}this.ad.wo();this.Ve.Vp();for(c=0;c<this.Zc.length;c++)f=this.Zc[c],this.Ve.gq(f.v,f.B);this.Ve.wo();this.ud.xb(2*this.vb.length);this.rf.xb(2*this.Zc.length);this.ud.resize(0);this.rf.resize(0);for(c=0;c<2*this.vb.length;c++)this.ud.add(c);for(c=0;c<2*this.Zc.length;c++)this.rf.add(c);
this.Lr(this.ud,this.ud.size,!0);this.Lr(this.rf,this.rf.size,!1);this.ae=this.ud.size;this.tg=this.rf.size;-1!=this.qf&&(this.od.Fg(this.qf),this.Ni.resize(0),this.qf=-1);-1!=this.pf&&(this.od.Fg(this.pf),this.Mi.resize(0),this.pf=-1);this.Hb=7;return!0};d.prototype.LS=function(){var c=this.ud.get(--this.ae),f=c>>1;if(d.Yk(c))return this.ad.remove(f),0==this.ae?(this.mf=this.Ff=-1,this.Ec=!0,!1):!0;this.cn.uy(this.vb[f].v,this.vb[f].B,this.ka);this.Ff=f;this.Hb=10;return!0};d.prototype.HS=function(){if(-1==
--this.ae)return this.mf=this.Ff=-1,this.Ec=!0,!1;this.tg=this.Ff=this.ae;this.Hb=13;return!0};d.prototype.IS=function(){if(-1==--this.ae)return this.mf=this.Ff=-1,this.Ec=!0,!1;this.Ff=this.ae;this.tg=this.Zc.length;this.Hb=14;return!0};d.prototype.JS=function(){var c=this.ud.get(this.ae-1),f=this.rf.get(this.tg-1),a=this.pq(c,!0),b=this.pq(f,!1);return a>b?this.Qu():a<b?this.Wy():d.Cv(c)?this.Qu():d.Cv(f)?this.Wy():this.Qu()};d.prototype.Qu=function(){var c=this.ud.get(--this.ae),f=c>>1;if(d.Yk(c))return-1!=
this.qf&&-1!=this.Ni.get(f)?(this.od.Jc(this.qf,this.Ni.get(f)),this.Ni.set(f,-1)):this.ad.remove(f),0==this.ae?(this.mf=this.Ff=-1,this.Ec=!0,!1):!0;if(-1!=this.pf&&0<this.od.vq(this.pf))for(c=this.od.gc(this.pf);-1!=c;){var b=this.od.getData(c);this.Ve.lg(b);this.Mi.set(b,-1);b=this.od.bb(c);this.od.Jc(this.pf,c);c=b}0<this.Ve.size()?(this.Vt.uy(this.vb[f].v,this.vb[f].B,this.ka),this.Ff=f,this.Hb=12):(-1==this.qf&&(null==this.od&&(this.od=new a.$n),this.Ni=new a.ga(0),this.Ni.resize(this.vb.length,
-1),this.Ni.dh(-1,0,this.vb.length),this.qf=this.od.jh(1)),this.Ni.set(f,this.od.addElement(this.qf,f)),this.Hb=7);return!0};d.prototype.Wy=function(){var c=this.rf.get(--this.tg),f=c>>1;if(d.Yk(c))return-1!=this.pf&&-1!=this.Mi.get(f)?(this.od.Jc(this.pf,this.Mi.get(f)),this.Mi.set(f,-1)):this.Ve.remove(f),0==this.tg?(this.mf=this.Ff=-1,this.Ec=!0,!1):!0;if(-1!=this.qf&&0<this.od.vq(this.qf))for(c=this.od.gc(this.qf);-1!=c;){var b=this.od.getData(c);this.ad.lg(b);this.Ni.set(b,-1);b=this.od.bb(c);
this.od.Jc(this.qf,c);c=b}0<this.ad.size()?(this.cn.uy(this.Zc[f].v,this.Zc[f].B,this.ka),this.mf=f,this.Hb=11):(-1==this.pf&&(null==this.od&&(this.od=new a.$n),this.Mi=new a.ga(0),this.Mi.resize(this.Zc.length,-1),this.Mi.dh(-1,0,this.Zc.length),this.pf=this.od.jh(0)),this.Mi.set(f,this.od.addElement(this.pf,f)),this.Hb=7);return!0};d.prototype.$w=function(){this.mf=this.cn.next();if(-1!=this.mf)return!1;var c=this.ud.get(this.ae)>>1;this.ad.lg(c);this.Hb=4;return!0};d.prototype.iP=function(){this.Ff=
this.cn.next();if(-1!=this.Ff)return!1;this.mf=this.Ff=-1;var c=this.rf.get(this.tg)>>1;this.Ve.lg(c);this.Hb=7;return!0};d.prototype.fP=function(){this.mf=this.Vt.next();if(-1!=this.mf)return!1;var c=this.ud.get(this.ae)>>1;this.ad.lg(c);this.Hb=7;return!0};d.prototype.gP=function(){if(-1==--this.tg)return this.Hb=5,!0;this.fp.K(this.vb[this.ae]);var c=this.vb[this.tg];this.fp.P(this.ka,this.ka);return this.fp.jc(c)?(this.mf=this.tg,!1):!0};d.prototype.hP=function(){if(-1==--this.tg)return this.Hb=
6,!0;this.fp.K(this.vb[this.ae]);var c=this.Zc[this.tg];this.fp.P(this.ka,this.ka);return this.fp.jc(c)?(this.mf=this.tg,!1):!0};d.prototype.hF=function(){if(null==this.ad)return this.Ec=!0,!1;this.ae=this.ud.size;0<this.ad.size()&&this.ad.reset();-1!=this.qf&&(this.od.Fg(this.qf),this.Ni.resize(0),this.qf=-1);this.Ec=!1;return!0};d.prototype.gF=function(){if(null==this.Ve)return this.Ec=!0,!1;this.tg=this.rf.size;0<this.Ve.size()&&this.Ve.reset();-1!=this.pf&&(this.od.Fg(this.pf),this.Mi.resize(0),
this.pf=-1);this.Ec=!1;return!0};d.prototype.Lr=function(c,f,d){null==this.Al&&(this.Al=new a.Rr);d=new e(this,d);this.Al.sort(c,0,f,d)};d.prototype.BS=function(c,f,a,b){var k=this;c.xd(f,a,function(c,f){var a=k.pq(c,b),e=k.pq(f,b);return a<e||a==e&&d.Yk(c)&&d.Cv(f)?-1:1})};d.prototype.pq=function(c,f){var a=.5*this.ka;if(f)return f=this.vb[c>>1],a=d.Yk(c)?f.C-a:f.G+a;f=this.Zc[c>>1];return a=d.Yk(c)?f.C-a:f.G+a};return d}();a.sz=b})(z||(z={}));(function(a){var b=function(){function b(){}b.Oa=function(d,
c,f,a,e,n){var k=new b;k.v=d;k.C=c;k.Je=f;k.B=a;k.G=e;k.ig=n;return k};b.prototype.Ja=function(){this.Je=this.v=NaN};b.prototype.s=function(){return isNaN(this.v)};b.prototype.UO=function(){return isNaN(this.Je)};b.prototype.K=function(d,c,f,a,b,e){void 0!==a?"number"===typeof d?(this.v=d,this.C=c,this.Je=f,this.B=a,this.G=b,this.ig=e):(this.v=d.x-.5*c,this.B=this.v+c,this.C=d.y-.5*f,this.G=this.C+f,this.Je=d.z-.5*a,this.ig=this.Je+a):(this.v=d,this.C=c,this.Je=f,this.B=d,this.G=c,this.ig=f)};b.prototype.move=
function(d){this.v+=d.x;this.C+=d.y;this.Je+=d.z;this.B+=d.x;this.G+=d.y;this.ig+=d.z};b.prototype.copyTo=function(d){d.v=this.v;d.C=this.C;d.B=this.B;d.G=this.G};b.prototype.Oj=function(d,c,f){this.v>d?this.v=d:this.B<d&&(this.B=d);this.C>c?this.C=c:this.G<c&&(this.G=c);0==isNaN(this.Je)?this.Je>f?this.Je=f:this.ig<f&&(this.ig=f):this.ig=this.Je=f};b.prototype.Db=function(d,c,f,k,e,n){if("number"===typeof d)k?(this.Db(d,c,f),this.Db(k,e,n)):this.s()?(this.v=d,this.C=c,this.Je=f,this.B=d,this.G=c,
this.ig=f):this.Oj(d,c,f);else if(d instanceof a.ee)this.Db(d.x,d.y,d.z);else if(d instanceof b)d.s()||(this.Db(d.v,d.C,d.Je),this.Db(d.B,d.G,d.ig));else throw a.g.N();};b.prototype.Oa=function(d,c,f){d.s()||c.s()?this.Ja():(this.v=d.qa,this.B=d.va,this.C=c.qa,this.G=c.va,this.Je=f.qa,this.ig=f.va)};b.prototype.hy=function(d){if(null==d||8>d.length)throw a.g.N();d[0]=new a.ee(this.v,this.C,this.Je);d[1]=new a.ee(this.v,this.G,this.Je);d[2]=new a.ee(this.B,this.G,this.Je);d[3]=new a.ee(this.B,this.C,
this.Je);d[4]=new a.ee(this.v,this.C,this.ig);d[5]=new a.ee(this.v,this.G,this.ig);d[6]=new a.ee(this.B,this.G,this.ig);d[7]=new a.ee(this.B,this.C,this.ig)};b.prototype.Ey=function(d){if(null==d||0==d.length)this.Ja();else{var c=d[0];this.K(c.x,c.y,c.z);for(c=1;c<d.length;c++){var f=d[c];this.Oj(f.x,f.y,f.z)}}};return b}();a.fH=b})(z||(z={}));(function(a){(function(a){a.wa=function(){var a=Error();a.message="Internal Error";return a};a.qe=function(){var a=Error();a.message="Not Implemented";return a};
a.cj=function(){var a=Error();a.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";return a};a.xa=function(){var a=Error();a.message="Invalid Call";return a};a.N=function(a){var d=Error();d.message="Illegal Argument Exception";void 0!==a&&(d.message+=": "+a);return d};a.BI=function(){var a=Error();a.message="Runtime Exception.";return a};a.ra=function(a){var d=Error();d.message="Geometry Exception: "+a;return d};a.PG=function(){var a=Error();
a.message="Assert Failed Exception";return a};a.Uc=function(){var a=Error();a.message="IndexOutOfBoundsException";return a};a.aU=function(a){a.message="UserCancelException";return a}})(a.g||(a.g={}))})(z||(z={}));(function(a){var b=function(){function c(c,d){this.Ma=c;this.hE=d;this.kE=-1;this.rk=!1}c.prototype.next=function(){if(++this.kE==this.hE.F())return null;var c=this.hE.Fa(this.kE);c.scale(this.Ma.Rb);var d=new a.Ka;this.Ma.Iv(c,this.rk,d);return d};c.prototype.ya=function(){return 0};return c}(),
e=function(){function c(c,d,b){this.Ma=c;this.Zt=d;this.Om=!1;this.Um=b;this.Mt=[0];this.zj=[0];this.Qi=[0];this.Sq=[0];this.rk=!1;this.$o=new a.Ka;this.Bj=[]}c.prototype.next=function(){if(this.Om){this.Om=!1;this.bd.ia();var c=a.T.Yj(this.$o);return c=a.Of.Qj(c,this.Ma.jp,!0,!0,this.Ma.Yb)}null==this.bd&&(this.bd=this.Zt.Ca(),this.bd.kb(),null!=this.Um&&this.Um.lo());if(!this.bd.La()){if(!this.bd.kb())return null;null!=this.Um&&this.Um.lo()}c=null;this.zj[0]=0;this.Fx=this.Mt[0]=0;this.uh=NaN;this.Om=
!1;for(var b=this.Bj.length=0,e=new a.b,n=new a.b,g=[0];this.bd.La()&&8>this.Fx;){var h=this.bd.ia();e.J(h.Mb());n.J(h.oc());e.scale(this.Ma.Rb);n.scale(this.Ma.Rb);a.ui.Hs(e,n)?e.x=n.x:a.ui.Fs(e,n)&&(n.x=e.x);this.Bj.length=0;a.ui.kC(this.Ma.Gb,this.Ma.Xb,this.Ma.ke,e,n,this.Ma.Nx,this.Ma.hr,g,this.Qi,this.Sq,this.Bj,this.Mt);null!=this.Um&&(h=this.Bj.slice(0),this.Um.dD(this.Um.ea()-1,h,h.length-1));a.ui.Gs(e,n)?(this.$o.Ja(),this.Ma.Iv(e,this.rk,this.$o),this.Om=!0):(this.$o.Ja(),this.Om=this.Lv(g[0],
this.$o));if(this.Om){this.bd.oi();if(this.bd.Ow()){this.bd.oi();this.bd.ia();break}this.bd.yR();break}null==c&&(c=new a.Ka,c.lo());this.TA(c);b++}this.Mt[0]=0;if(0<b){for(g=this.bd.Jb();0<b;)this.bd.oi(),e.J(this.Zt.Fa(this.bd.Jb())),n.J(this.Zt.Fa(this.bd.Bm())),e.scale(this.Ma.Rb),n.scale(this.Ma.Rb),this.rk&&(a.ui.Hs(e,n)?e.x=n.x:a.ui.Fs(e,n)&&(n.x=e.x)),this.Bj.length=0,a.ui.kC(this.Ma.Gb,this.Ma.Xb,this.Ma.ke,n,e,this.Ma.Nx,this.Ma.hr,null,this.Qi,this.Sq,this.Bj,this.Mt),this.TA(c),b--;e.J(this.Zt.Fa(this.bd.Jb()));
e.scale(this.Ma.Rb);d.kq(this.Ma.Gb,this.Ma.Xb,this.Ma.Rb,this.Ma.hb,e,this.uh+1.570796326794897,this.uh+4.71238898038469,this.Ma.Sm,this.rk,this.zj,c,NaN,NaN);this.bd.Sb(g);this.bd.ia();b=a.Ia.Cg(null,c,!0);return c=a.Of.Qj(c,b,!0,!0,this.Ma.Yb)}this.Om=!1;this.bd.ia();c=a.T.Yj(this.$o);return c=a.Of.Qj(c,this.Ma.jp,!0,!0,this.Ma.Yb)};c.prototype.TA=function(c){var f=this.Bj[0],b,e=this.Qi[0]-1.570796326794897,n=this.Sq[0]+1.570796326794897,g;if(!isNaN(this.uh)){this.uh>=this.Qi[0]?(b=this.uh+1.570796326794897,
e=b+3.141592653589793-(this.uh-this.Qi[0])):(b=this.uh+1.570796326794897,e=b+3.141592653589793-(6.283185307179586-(this.Qi[0]-this.uh)));g=this.uh>=this.Qi[0]&&3.141592653589793>=this.uh-this.Qi[0]?!1:this.uh<this.Qi[0]&&3.141592653589793<=this.Qi[0]-this.uh?!1:!0;var h=!1;if(Math.abs(e-b)<=.5*this.Ma.Sm)if(g){var l=c.Fa(c.F()-2);l.scale(this.Ma.Rb);var m=new a.ca(0);a.zb.gw(this.Ma.Gb,this.Ma.Xb,f.x,f.y,l.x,l.y,m);for(l=m.l;l<=b;)l+=6.283185307179586;for(;l>b;)l-=6.283185307179586;l<e&&(h=!0)}else h=
!0;h?(c.eF(0,c.F()-1),this.rk||(f=new a.b,f.J(c.Fa(c.F()-1)),f.scale(this.Ma.Rb),-3.141592653589793>f.x-this.zj[0]?this.zj[0]-=6.283185307179586:3.141592653589793<f.x-this.zj[0]&&(this.zj[0]+=6.283185307179586)),g||(e=.5*(e+b))):(g?(b=new a.b,b.J(f),b.scale(1/this.Ma.Rb),c.kf(0,-1,b)):d.kq(this.Ma.Gb,this.Ma.Xb,this.Ma.Rb,this.Ma.hb,this.Bj[0],b,e,this.Ma.Sm,this.rk,this.zj,c,NaN,NaN),this.Fx+=1)}d.Hv(this.Ma.Gb,this.Ma.Xb,this.Ma.Rb,this.Ma.hb,this.Ma.ke,this.Bj,e,n,this.rk,this.zj,c);this.uh=this.Sq[0]};
c.prototype.Lv=function(c,d){return this.Ma.Lv(this.Bj,c,this.Qi[0],this.Sq[0],this.rk,d)};c.prototype.ya=function(){return 0};return c}(),d=function(){function c(){}c.buffer=function(f,d,b,e,n,g){if(null==f)throw a.g.N("Geometry::Geodesic_bufferer::buffer");if(f.s())return new a.Ka(f.description);var k=new c;k.sg=d;k.wc=a.Ya.Em(d);var t=a.Ya.ft(k.wc);k.Yb=g;k.Gb=a.Ya.Ts(k.wc);k.Xb=t*(2-t);k.Rb=k.wc.Se().Dj;k.ka=k.sg.xq();k.jp=k.wc.xq();k.hr=k.jp*k.Rb;k.ip=1.570796326794897/k.Rb;k.rU=3.141592653589793/
k.Rb;k.Uq=6.283185307179586/k.Rb;k.sU=k.Uq/6;k.Ix=0;k.qU=1.5707963267948966*k.Gb/k.Ix;4==b?(k.ke=2,k.Gt=!0):(k.ke=b,k.Gt=!1);k.Da=e;k.hb=Math.abs(e);isNaN(n)||.001>n?k.sS():k.Rm=n;b=f.D();a.T.Lc(b)?(b=new a.Xa(f.description),b.Bc(f,!0),f=b,b=1607):197==b&&(b=new a.i,f.o(b),b.aa()<=k.ka||b.ba()<=k.ka?(b=new a.Xa(f.description),b.Wc(f,!1),f=b,b=1607):(b=new a.Ka(f.description),b.Wc(f,!1),f=b,b=1736));k.tS();a.T.Km(b)||k.uS();if(k.hb<=.5*k.Rm)return 1736!=b?new a.Ka(f.description):k.Gt?f:a.ui.oq(f,k.sg,
k.ke,k.Nx,-1,g);if(0>k.Da&&1736!=b)return new a.Ka(f.description);k.Gt&&a.T.Kc(b)?(d=a.ui.oq(f,d,4,NaN,k.Rm,g),f=a.Ya.Wl(d,k.sg,k.wc)):f=a.Ya.Wl(f,k.sg,k.wc);f=a.gh.qo(f,k.wc);if(f.s())return new a.Ka(f.description);!k.Gt&&a.T.Kc(b)&&(f=a.ui.IE(k.Rb,f));f=c.PS(f,k.wc);switch(b){case 1736:d=k.yK(f);break;case 1607:d=k.zK(f);break;case 550:d=k.wK(f);break;case 33:d=k.xK(f);break;default:throw a.g.ra("corrupted_geometry");}k=a.Ya.Wl(d,k.wc,k.sg);k.Ik(f.description);return k};c.prototype.yK=function(c){var f=
new a.Ka;c=new e(this,c,f);c=a.wi.local().$(c,this.wc,this.Yb).next();c=a.Vn.nl(c,this.wc,2);var d=new a.Bg;d.scale(1/this.Rb,1/this.Rb);f.Oe(d);f=a.Vn.nl(f,this.wc,2);return 0<=this.Da?a.wi.local().$(f,c,this.wc,this.Yb):a.Zr.local().$(f,c,this.wc,this.Yb)};c.prototype.zK=function(c){c=new e(this,c,null);c=a.wi.local().$(c,this.wc,this.Yb).next();return c=a.Vn.nl(c,this.wc,2)};c.prototype.wK=function(c){c=new b(this,c);c=a.wi.local().$(c,this.wc,this.Yb).next();return c=a.Vn.nl(c,this.wc,2)};c.prototype.xK=
function(c){c=c.w();c.scale(this.Rb);var f=new a.Ka;this.Iv(c,!1,f);return f=a.Vn.nl(f,this.wc,2)};c.prototype.Lv=function(f,d,b,e,n,g){var k=f[0],t=f[f.length-1],A=k.y>t.y?k.y:t.y,h=a.u.q(this.Gb,this.Xb,k.y<t.y?k.y:t.y),A=a.u.q(this.Gb,this.Xb,A);if(.001<this.Ix-(h+d+this.hb)&&.001<this.Ix+(A-d-this.hb))return!1;d=b-1.570796326794897;b=e+1.570796326794897;var h=d-3.141592653589793,A=d+3.141592653589793,l=b+3.141592653589793,G=[NaN],m=[NaN],r=[NaN],q=[NaN];e=!1;c.wG(this.Gb,this.Xb,this.hb,k,d,h,
t,b,G,m);c.wG(this.Gb,this.Xb,this.hb,t,l,b,k,h,r,q);b<G[0]&&G[0]<l?e=!0:b<m[0]&&m[0]<l&&(e=!0);e||(h<r[0]&&r[0]<d?e=!0:h<q[0]&&q[0]<d&&(e=!0));if(!e&&n)return!1;for(var F=[],C=f.length-1;0<=C;C--)F.push(f[C]);g.Ja();g.lo();C=[0];c.Hv(this.Gb,this.Xb,this.Rb,this.hb,this.ke,f,d,b,n,C,g);c.kq(this.Gb,this.Xb,this.Rb,this.hb,t,b,l,this.Sm,n,C,g,G[0],m[0]);c.Hv(this.Gb,this.Xb,this.Rb,this.hb,this.ke,F,l,A,n,C,g);c.kq(this.Gb,this.Xb,this.Rb,this.hb,k,h,d,this.Sm,n,C,g,r[0],q[0]);f=!1;n||(f=this.zB(this.Rb,
g));return e||f};c.prototype.Iv=function(f,d,a){a.Ja();a.lo();c.kq(this.Gb,this.Xb,this.Rb,this.hb,f,-this.Sm,6.283185307179586,this.Sm,d,[0],a,NaN,NaN);d||this.zB(this.Rb,a)};c.prototype.zB=function(c,d){var f=this.XK(c,d);c=this.YK(c,d);return f||c};c.prototype.XK=function(c,d){var f=d.F(),b=!1,k=new a.i;d.o(k);if(!a.j.S(k.G*c,1.570796326794897)&&!a.j.S(k.C*c,-1.570796326794897))return!1;for(var e=new a.b,f=f-1;0<=f;f--)d.w(f,e),e.y==k.G&&a.j.S(e.y*c,1.570796326794897)?(b=!0,this.RE(e,f,d)):e.y==
k.C&&a.j.S(e.y*c,-1.570796326794897)&&(b=!0,this.RE(e,f,d));return b};c.prototype.YK=function(c,d){var f=d.Fa(0),a=d.Fa(d.F()-1);return 3.141592653589793<Math.abs(f.x-a.x)*c?(this.RQ(d),!0):this.WK(d)};c.prototype.WK=function(c){return 0>c.Mh()?(this.QQ(c),!0):!1};c.prototype.RE=function(c,d,b){var f=b.F(),k=0<d?d-1:f-1,f=b.Fa(d<f-1?d+1:0),k=b.Fa(k);if(!a.j.S(f.y,c.y)&&!a.j.S(f.x,c.x)){var e=new a.b;e.ma(f.x,c.y);b.ic(d,e)}a.j.S(k.y,c.y)||a.j.S(k.x,c.x)||(f=new a.b,f.ma(k.x,c.y),b.kf(0,d,f))};c.prototype.RQ=
function(c){var f=new a.Ka,d=new a.Ka,b=new a.Bg,e=c.Fa(0),n=c.Fa(c.F()-1),g=new a.b;e.x>n.x?(n=this.ip,b.Nn(-this.Uq,0)):(n=-this.ip,b.Nn(this.Uq,0));f.add(c,!1);c.Ja();d.add(f,!1);d.Oe(b);e=new a.i;d.o(e);e.P((this.Uq-e.aa())/2,0);e.C=-this.ip;e.G=this.ip;for(var h=0;h<d.F();h++)d.w(h,g),f.kf(0,-1,g);d.Oe(b);for(h=0;h<d.F();h++)d.w(h,g),f.kf(0,-1,g);d=f.Fa(0);b=f.Fa(f.F()-1);g.ma(b.x,n);f.kf(0,-1,g);g.ma(.5*(b.x+d.x),n);f.kf(0,-1,g);g.ma(d.x,n);f.kf(0,-1,g);f=a.gh.Rw(f,this.wc,2,e.v);f=a.gh.Rw(f,
this.wc,2,e.B);f=a.Ed.clip(f,e,this.jp,NaN);c.add(f,!1)};c.prototype.QQ=function(c){var f=new a.i;c.o(f);f.P((this.Uq-f.aa())/2,0);f.C=-this.ip;f.G=this.ip;c.lo();var d=new a.b;d.ma(f.v,f.C);c.kf(1,-1,d);d.ma(f.v,f.G);c.kf(1,-1,d);d.ma(.5*(f.v+f.B),f.G);c.kf(1,-1,d);d.ma(f.B,f.G);c.kf(1,-1,d);d.ma(f.B,f.C);c.kf(1,-1,d);d.ma(.5*(f.v+f.B),f.C);c.kf(1,-1,d)};c.Hv=function(f,d,b,e,n,g,h,l,m,r,q){var k=null;m||(k=new a.b,k.Eh(),0<q.F()&&(k.J(q.Fa(q.F()-1)),k.scale(b)));var t=new a.ca(0),A=new a.ca(0),
G=new a.ca(0),H=new a.b,F=new a.b,C=g[g.length-1];b=1/b;for(var v=0;v<g.length;v++){var p=g[v],w;0==v?w=h:v==g.length-1?w=l:(a.zb.Rd(f,d,C.x,C.y,p.x,p.y,null,null,t,n),w=t.l-1.570796326794897);a.zb.Ph(f,d,p.x,p.y,e,w,A,G);m?F.ma(A.l,G.l):(H.ma(A.l,G.l),c.Gz(p.x,H.x,k.x,r),F.ma(r[0]+H.x,H.y),k.J(F));F.scale(b);q.kf(0,-1,F)}};c.kq=function(f,d,b,e,n,g,h,l,m,r,q,C,v){if(!(h-g<l)){var k=new a.ca(0),t=new a.ca(0),A=new a.b,G=new a.b,H=null;m||(H=new a.b,H.Eh(),0<q.F()&&(H.J(q.Fa(q.F()-1)),H.scale(b)));
var F=a.I.truncate(Math.ceil(g/l)),p=F++*l;p==g&&(p=F++*l);for(b=1/b;p<h+l;){g<C&&C<p?(p=C,F--):g<v&&v<p&&(p=v,F--);if(p>=h)break;a.zb.Ph(f,d,n.x,n.y,e,p,k,t);m?G.ma(k.l,t.l):(A.ma(k.l,t.l),c.Gz(n.x,A.x,H.x,r),G.ma(r[0]+A.x,A.y),H.J(G));G.scale(b);q.kf(0,-1,G);g=p;p=F++*l}}};c.wG=function(c,d,b,e,n,g,h,l,m,r){var f=new a.b,k=new a.b,t=new a.ca(0),A=new a.ca(0);a.zb.Ph(c,d,e.x,e.y,b,n,t,A);f.ma(t.l,A.l);a.zb.Ph(c,d,e.x,e.y,b,g,t,A);k.ma(t.l,A.l);b=new a.ca(0);a.zb.gw(c,d,h.x,h.y,f.x,f.y,b);m[0]=b.l;
a.zb.gw(c,d,h.x,h.y,k.x,k.y,b);for(r[0]=b.l;m[0]<=r[0];)m[0]+=6.283185307179586;for(;m[0]>r[0];)m[0]-=6.283185307179586;for(;m[0]>=l;)m[0]-=6.283185307179586,r[0]-=6.283185307179586;for(;m[0]<l;)m[0]+=6.283185307179586,r[0]+=6.283185307179586};c.Gz=function(c,d,a,b){if(isNaN(a)){for(;3.141592653589793<b[0]+d-c;)b[0]-=6.283185307179586;for(;3.141592653589793<c-(b[0]+d);)b[0]+=6.283185307179586}else 3.141592653589793<b[0]+d-a?b[0]-=6.283185307179586:3.141592653589793<a-(b[0]+d)&&(b[0]+=6.283185307179586)};
c.PS=function(c,d){var f=c.D(),b;a.T.Kc(f)?b=c.ea():550==f?b=c.F():b=1;if(1==b)return c;var k=new a.ga(0);k.resize(b);for(var e=[],n=new a.i,g=0;g<b;g++){k.write(g,g);var h;a.T.Kc(f)?(c.Ti(g,n),h=n.Af()):h=c.Fa(g);h=a.qH.QS(d,h);e[g]=h}k.xd(0,k.size,function(c,f){return e[c]<e[f]?-1:e[c]>e[f]?1:0});n=c.Pa();for(g=0;g<b;g++)h=k.read(g),a.T.Kc(f)?n.Zj(c,h,!0):n.Pd(c,h,h+1);return n};c.prototype.tS=function(){var c=Math.min(3.141592653589793*this.Gb-this.hb,this.hb),c=Math.min(c,.39269908169872414*this.Gb),
d=new a.b;d.ma(0,10*this.Rb);var b=45*this.Rb,e=new a.ca(0),n=new a.ca(0),g=new a.ca(0),h=new a.ca(0),l=new a.ca(0),m=new a.ca(0),r=new a.ca(0),q=new a.ca(0),C=new a.b,v=new a.b,p=new a.b,w=new a.b;a.zb.Ph(this.Gb,this.Xb,d.x,d.y,c,0,e,n);C.ma(e.l,n.l);a.zb.Ph(this.Gb,this.Xb,d.x,d.y,c,b,g,h);v.ma(g.l,h.l);for(var e=new a.ca(0),n=new a.ca(0),u=new a.ca(0);;){a.zb.Ph(this.Gb,this.Xb,d.x,d.y,c,.5*(0+b),l,m);p.ma(l.l,m.l);a.zb.Rd(this.Gb,this.Xb,C.x,C.y,v.x,v.y,e,n,null,2);a.zb.dk(this.Gb,this.Xb,C.x,
C.y,.5*e.l,n.l,r,q,2);w.ma(r.l,q.l);a.zb.Rd(this.Gb,this.Xb,p.x,p.y,w.x,w.y,u,null,null,2);if(u.l<=this.Rm)break;b*=.9;a.zb.Ph(this.Gb,this.Xb,d.x,d.y,c,b,g,h);v.ma(g.l,h.l)}this.Sm=6.283185307179586/Math.ceil(6.283185307179586/(b-0))};c.prototype.uS=function(){var c=Math.min(3.141592653589793*this.Gb-this.hb,this.hb),c=Math.min(c,.39269908169872414*this.Gb),d=new a.b,b=new a.b;d.ma(0,10*this.Rb);b.ma(10*this.Rb,10*this.Rb);var e=new a.ca(0),n=new a.ca(0),g=new a.ca(0);a.zb.Rd(this.Gb,this.Xb,d.x,
d.y,b.x,b.y,g,e,n,this.ke);var h=new a.ca(0),l=new a.ca(0),m=new a.ca(0),r=new a.ca(0),q=new a.b,C=new a.ca(0),v=new a.ca(0),p=new a.ca(0),w=new a.ca(0),u=new a.ca(0),x=new a.ca(0),B=new a.ca(0),D=new a.ca(0),z=new a.ca(0),E=new a.b,I=new a.b,y=new a.b,K=new a.b,J=1,e=e.l,n=n.l+1.570796326794897,g=g.l;a.zb.Ph(this.Gb,this.Xb,d.x,d.y,c,e-1.570796326794897,v,p);E.ma(v.l,p.l);a.zb.Ph(this.Gb,this.Xb,b.x,b.y,c,n,w,u);I.ma(w.l,u.l);for(var v=new a.ca(0),p=new a.ca(0),n=new a.ca(0),U=new a.ca(0);;){a.zb.dk(this.Gb,
this.Xb,d.x,d.y,.5*(0+J)*g,e,h,l,this.ke);q.ma(h.l,l.l);a.zb.Rd(this.Gb,this.Xb,d.x,d.y,q.x,q.y,null,null,C,this.ke);a.zb.Ph(this.Gb,this.Xb,q.x,q.y,c,C.l+1.570796326794897,x,B);y.ma(x.l,B.l);a.zb.Rd(this.Gb,this.Xb,E.x,E.y,I.x,I.y,v,p,null,2);a.zb.dk(this.Gb,this.Xb,E.x,E.y,.5*v.l,p.l,D,z,2);K.ma(D.l,z.l);a.zb.Rd(this.Gb,this.Xb,y.x,y.y,K.x,K.y,n,null,null,2);if(n.l<=this.Rm)break;J*=.9;a.zb.dk(this.Gb,this.Xb,d.x,d.y,J*g,e,m,r,this.ke);b.ma(m.l,r.l);a.zb.Rd(this.Gb,this.Xb,d.x,d.y,b.x,b.y,null,
null,U,this.ke);a.zb.Ph(this.Gb,this.Xb,b.x,b.y,c,U.l+1.570796326794897,w,u);I.ma(w.l,u.l)}c=J*g;1E5<c&&(c=1E5);this.Nx=c};c.prototype.sS=function(){var c;c=5E4<this.hb?100:1E4<this.hb?10:1;500>this.hb/c&&(c=this.hb/500);.01>c&&(c=.01);this.Rm=c};return c}();a.pH=d})(z||(z={}));(function(a){var b=function(){function b(){}b.ac=function(d,c){var f=new a.b;f.J(c);d.push(f)};b.$i=function(d,c){d.add(c.x);d.add(c.y)};b.cx=function(d){d.cf(d.size-2)};b.cy=function(d,c){c.ma(d.get(d.size-2),d.get(d.size-
1))};b.oq=function(d,c,f,k,e,n){if(null==d)throw a.g.N();var t=d.D();if(d.s()||a.T.Km(t))return d;var g=new b;g.sg=c;g.wc=a.Ya.Em(c);var A=a.Ya.ft(g.wc);g.Yb=n;g.Gb=a.Ya.Ts(g.wc);g.Xb=A*(2-A);g.Rb=g.wc.Se().Dj;g.jp=g.wc.xq();g.hr=g.jp*g.Rb;g.Bx=k;g.Ax=e;g.ke=f;197==t?(f=new a.Ka(d.description),f.Wc(d,!1)):a.T.Lc(t)?(f=new a.Xa(d.description),f.Bc(d,!0)):f=d;if(4!=g.ke){c=0==g.sg.lc(g.wc)?a.Ya.Wl(f,g.sg,g.wc):a.gh.qo(f,g.wc);if(c.s())return c;c=b.IE(g.Rb,c);c=g.hw(c);c=a.Vn.nl(c,g.wc,g.ke);g=a.Ya.Wl(c,
g.wc,g.sg)}else{2==a.Nf.Am(c)?(d=a.Ya.TN(),c=a.$r.local().$(f,d,c,n),c==d&&(c=new a.Ka,d.copyTo(c))):c=a.gh.qo(f,g.wc);if(c.s())return c;g=g.wS(c)}return g};b.IE=function(d,c){var f=new a.i;c.dd(f);if(3.141592653589793>f.aa()*d)return c;for(var k=!1,f=c.Ca(),e=new a.b,g=new a.b;f.kb();)for(;f.La();){var n=f.ia();e.J(n.Mb());g.J(n.oc());e.scale(d);g.scale(d);if(3.141592653589793<Math.abs(e.x-g.x)){var h=b.Gs(e,g);if(!h){k=!0;break}if(6.283185307179586<Math.abs(e.x-g.x)){k=!0;break}}}if(!k)return c;
var k=c.Pa(),l=1<c.description.Aa,m=new a.b,r=new a.b,q=new a.b,C=new a.b,v=new a.Va;for(f.Lk();f.kb();)for(var p=NaN,w=[0];f.La();){n=f.ia();e.J(n.Mb());g.J(n.oc());e.scale(d);g.scale(d);isNaN(p)?(b.Bd(e.x,NaN,w),r.J(e)):r.J(q);p=r.x;if(h=b.Gs(e,g)){if(6.283185307179586<g.x-e.x)for(;6.283185307179586<g.x-e.x;)g.x-=6.283185307179586;if(-6.283185307179586>g.x-e.x)for(;-6.283185307179586>g.x-e.x;)g.x+=6.283185307179586;b.Bd(g.x,NaN,w);q.J(g)}else m.J(g),b.eK(m),b.Bd(m.x,p,w),q.ma(w[0]+m.x,m.y);.5>Math.abs(q.x-
g.x)&&q.J(g);l?(n.uu(0,v),C.J(r),C.scale(1/d),v.ic(C),(h=f.wl())?k.df(v):k.lineTo(v),f.Jm()&&!c.vc(f.Qa)&&(n.uu(1,v),C.J(q),C.scale(1/d),v.ic(C),k.lineTo(v))):((h=f.wl())&&k.Sw(),n=k.ea()-1,C.J(r),C.scale(1/d),k.kf(n,-1,C),f.Jm()&&!c.vc(f.Qa)&&(C.J(q),C.scale(1/d),k.kf(n,-1,C)))}return k};b.kC=function(d,c,f,k,e,g,n,h,l,m,r,q){var t=new a.b,A=new a.b,G=0<k.compare(e);b.Ez(G,k,e,t,A);b.Jz(d,c,f,t,A,g,NaN,n,h,l,m,null,r,q);G&&b.gy(l,m,null,r)};b.prototype.hw=function(d){var c=d.Pa(),f=d.Ca(),k=[],e=
null,g=null,n=1<d.description.Aa;n&&(e=new a.qd(0),g=new a.Ag);for(var h=[0],l=new a.b,m=new a.b,r=new a.b,q=new a.b;f.kb();)for(h[0]=0;f.La();){var C=f.ia();l.J(C.Mb());m.J(C.oc());l.scale(this.Rb);m.scale(this.Rb);var v=0<l.compare(m);b.Ez(v,l,m,r,q);k.length=0;null!=e&&e.cf(0);0<this.Bx?b.Jz(this.Gb,this.Xb,this.ke,r,q,this.Bx,this.Ax,this.hr,null,null,null,n?e:null,k,h):b.dH(this.Gb,this.Xb,this.ke,r,q,this.Ax,this.hr,n?e:null,k,h);v&&b.gy(null,null,n?e:null,k);k[0].J(C.Mb());k[k.length-1].J(C.oc());
for(var p=1;p<k.length-1;p++)k[p].scale(1/this.Rb);n?(v=b.Cz(v,C,g),b.oz(f.wl(),f.Jm()&&!d.vc(f.Qa),C,v,e,k,c)):b.mz(f.wl(),f.Jm()&&!d.vc(f.Qa),k,c)}return c};b.prototype.wS=function(d){var c=d.Pa(),f=d.Ca(),k=[],e=null,g=new a.Ag,n=1<d.description.Aa;for(n&&(e=new a.qd(0));f.kb();)for(;f.La();){var h=f.ia(),l=h.Mb(),m=h.oc(),l=0<l.compare(m),m=b.Cz(l,h,g);k.length=0;null!=e&&e.cf(0);b.FR(this.Gb,this.Xb,this.Rb,m,this.sg,this.Bx,this.Ax,n?e:null,k);l&&b.gy(null,null,n?e:null,k);n?b.oz(f.wl(),f.Jm()&&
!d.vc(f.Qa),h,m,e,k,c):b.mz(f.wl(),f.Jm()&&!d.vc(f.Qa),k,c)}return c};b.mz=function(d,c,f,a){d&&a.Sw();d=a.ea()-1;var b=f.slice(0);a.dD(d,b,b.length-1);c&&a.kf(d,-1,f[f.length-1])};b.oz=function(d,c,f,b,e,g,n){var k=new a.Va;f.En(k);d?n.df(k):n.lineTo(k);if(2<g.length){d=b.$b();for(var t=1;t<g.length-1;t++){var h=b.AD(e.get(t)*d);b.uu(h,k);k.ic(g[t]);n.lineTo(k)}}c&&(f.Bn(k),n.lineTo(k))};b.Jz=function(d,c,f,k,e,g,n,h,l,m,r,q,C,v){var t=new a.ca(0),A=new a.ca(0),G=new a.ca(0);a.zb.Rd(d,c,k.x,k.y,
e.x,e.y,G,t,A,f);var G=G.l,H=t=t.l,A=A.l;0>H&&(H+=6.283185307179586);0>A&&(A+=6.283185307179586);null!=l&&(l[0]=G);null!=m&&(m[0]=H);null!=r&&(r[0]=A);m=l=NaN;null!=q&&(m=a.u.gg(d,c),r=a.u.q(d,c,k.y),l=(m-r)/G,m=(m+r)/G);r=b.Hs(k,e);var A=b.Fs(k,e),H=r||A,F=b.wz(k,e,h),p=new a.ca(0),w=new a.ca(0),u=new a.b,X=new a.b,x=new a.b;b.Bd(k.x,NaN,v);var ca=[v[0]];if(G<=g)b.ac(C,k),b.Bd(e.x,NaN,v),null!=q&&q.add(0),H?(r&&b.by(k,e,q,C),A&&b.Vx(k,e,q,C)):F?b.Xx(k,e,t,l,m,q,C):0<n&&(X.ma(k.x-ca[0],k.y),u.ma(e.x-
v[0],e.y),b.yv(d,c,f,k,G,t,X,u,0,1,n,q,C,ca)),b.ac(C,e);else{g=1+a.I.truncate(Math.ceil(G/g));var B=G/(g-1),D=new a.b,z=0;b.ac(C,k);D.J(k);X.ma(k.x-v[0],k.y);null!=q&&q.add(0);for(var E=1;E<g;E++){var la;E<g-1?(a.zb.dk(d,c,k.x,k.y,E*B,t,p,w,f),u.ma(p.l,w.l),b.Bd(u.x,D.x,v),x.ma(v[0]+u.x,u.y),la=E/(g-1)):(b.Bd(e.x,NaN,v),u.ma(e.x-v[0],e.y),x.J(e),la=1);H?(1==E&&r&&b.by(k,x,q,C),E==g-1&&A&&b.Vx(D,e,q,C)):F?b.uz(D,x,h)&&(k.x<e.x?D.x>x.x&&(v[0]+=6.283185307179586,x.ma(v[0]+u.x,u.y)):D.x<x.x&&(v[0]-=6.283185307179586,
x.ma(v[0]+u.x,u.y)),b.Xx(D,x,t,l,m,q,C)):0<n&&b.yv(d,c,f,k,G,t,X,u,z,la,n,q,C,ca);b.ac(C,x);null!=q&&q.add(la);D.J(x);X.J(u);ca[0]=v[0];z=la}}};b.dH=function(d,c,f,k,e,g,n,h,l,m){var t=new a.ca(0),A=new a.ca(0),G=new a.ca(0);a.zb.Rd(d,c,k.x,k.y,e.x,e.y,G,t,A,f);var A=G.l,t=t.l,r=G=NaN;if(null!=h)var r=a.u.gg(d,c),q=a.u.q(d,c,k.y),G=(r-q)/A,r=(r+q)/A;var q=b.Hs(k,e),H=b.Fs(k,e),F=q||H;n=b.wz(k,e,n);var C=b.Gs(k,e),C=F||n||C;b.Bd(k.x,NaN,m);var v=new a.b;b.ac(l,k);v.J(k);null!=h&&h.add(0);C?(F?(q&&
b.by(k,e,h,l),H&&b.Vx(k,e,h,l)):n&&b.Xx(k,e,t,G,r,h,l),b.Bd(e.x,NaN,m),b.ac(l,e)):A<=g?(b.Bd(e.x,NaN,m),b.ac(l,e)):(G=new a.b,n=new a.b,G.J(k),n.J(e),G.x-=m[0],n.x-=m[0],-3.141592653589793>n.x?n.x+=6.283185307179586:3.141592653589793<n.x&&(n.x-=6.283185307179586),b.yv(d,c,f,k,A,t,G,n,0,1,g,h,l,m),b.ac(l,e),b.Bd(e.x,NaN,m));null!=h&&h.add(1)};b.yv=function(d,c,f,k,e,g,n,h,l,m,r,q,C,v){var t=new a.b,A=new a.b;t.ma(n.x+v[0],n.y);new a.ca(0);new a.ca(0);new a.ca(0);new a.ca(0);var G=new a.ca(0),H=new a.ca(0),
F=new a.ca(0),p=new a.b,w=new a.b,u=new a.b,X=new a.b;p.J(n);w.J(h);n=new a.qd(0);h=new a.qd(0);b.$i(n,w);h.add(m);var x=new a.b,ca=new a.yb,B=[];for(b.Kz(4,B);0<n.size;){for(var D=!1,z,E=NaN,la=0;3>la;la++)if(z=B[la]*m+(1-B[la])*l,a.zb.dk(d,c,k.x,k.y,z*e,g,G,H,f),u.ma(G.l,H.l),0==la&&(E=z,X.J(u)),b.mR(p,u,w,ca),ca.Kb(ca.Gd(u,!0),x),a.zb.Rd(d,c,u.x,u.y,x.x,x.y,F,null,null,2),F.l>r){D=!0;break}D?(w.J(X),m=E,b.$i(n,w),h.add(m)):(b.cx(n),h.oj(h.size-1,1,h.size-1),0<n.size&&(b.Bd(w.x,t.x,v),A.ma(v[0]+
w.x,w.y),b.ac(C,A),t.J(A),null!=q&&q.add(m),p.J(w),l=m,b.cy(n,w),m=h.get(h.size-1)))}};b.FR=function(d,c,f,k,e,n,g,h,l){var t=new a.b,A=new a.b,m=new a.b,G=new a.b,r=new a.b,q=new a.b,H=new a.b,F=new a.b,C=new a.b,v=new a.b,p=new a.ca(0),w=new a.ca(0),u=new a.b,x=[[],[]],B=1==a.Nf.Am(e);e=e.Ko();var D=k.Mb(),z=k.oc();B?(q.ma(D.x*f,D.y*f),H.ma(z.x*f,z.y*f)):(x[0][0]=D.x,x[0][1]=D.y,x[1][0]=z.x,x[1][1]=z.y,a.Ya.tu(),q.x=x[0][0]*f,q.y=x[0][1]*f,H.x=x[1][0]*f,H.y=x[1][1]*f);var E=0,I=0,y=1,K=k.mD();t.J(D);
A.J(z);var z=new a.qd(0),J=new a.qd(0),U=new a.qd(0);b.$i(z,A);b.$i(J,H);U.add(y);b.ac(l,t);null!=h&&h.add(I);var M=[],Q;Q=0<g?K?5:3:K?5:1;b.Kz(Q,M);for(var N=new a.ca(0),Y=new a.ca(0),O=new a.ca(0),T=new a.ca(0),P=new a.ca(0),fa=new a.ca(0),Z=new a.ca(0);0<J.size;){var da=!1,aa,L=NaN;a.zb.Rd(d,c,q.x,q.y,H.x,H.y,N,Y,null,2);for(D=0;D<Q;D++){if(0==D){if(!K&&0>=g&&N.l<=n&&3.141592653589793>Math.abs(q.x-H.x))break;if(k.rA(I,y)<=e)break}aa=M[D]*y+(1-M[D])*I;k.Kb(aa,m);B?F.ma(m.x*f,m.y*f):(x[0][0]=m.x,
x[0][1]=m.y,a.Ya.tu(),F.x=x[0][0]*f,F.y=x[0][1]*f);if(0==D&&(L=aa,r.J(m),v.J(F),0<n&&(N.l>n||3.141592653589793<=Math.abs(q.x-H.x)))){da=!0;break}if(K&&0<n){if(a.zb.Rd(d,c,q.x,q.y,F.x,F.y,O,null,null,2),O.l>n||3.141592653589793<=Math.abs(q.x-F.x)){da=!0;break}}else if(0<g)if(K?(G.OO(t,A,M[D]),B?C.ma(G.x*f,G.y*f):(x[0][0]=G.x,x[0][1]=G.y,a.Ya.tu(),C.x=x[0][0]*f,C.y=x[0][1]*f)):(G.J(m),C.J(F)),a.zb.Rd(d,c,q.x,q.y,C.x,C.y,T,null,null,2),T.l<=N.l){a.zb.dk(d,c,q.x,q.y,T.l,Y.l,p,w,2);u.ma(p.l,w.l);a.zb.Rd(d,
c,u.x,u.y,F.x,F.y,P,null,null,2);if(P.l>g){da=!0;break}if(K){a.zb.Rd(d,c,u.x,u.y,C.x,C.y,fa,null,null,2);if(fa.l>g){da=!0;break}a.zb.Rd(d,c,C.x,C.y,F.x,F.y,Z,null,null,2);if(Z.l>g){da=!0;break}}}else{da=!0;break}}da?(A.J(r),H.J(v),y=L,b.$i(z,A),b.$i(J,H),U.add(y)):(b.cx(z),b.cx(J),U.oj(U.size-1,1,U.size-1),b.ac(l,A),E+=N.l,null!=h&&h.add(E),0<J.size&&(t.J(A),q.J(H),I=y,b.cy(z,A),b.cy(J,H),y=U.get(U.size-1)))}if(null!=h)for(d=1/E,D=0;D<h.size;D++)h.write(D,h.read(D)*d)};b.gy=function(d,c,f,a){a.reverse();
null!=f&&f.Jp(0,f.size,1);f=null!=d?d[0]:NaN;a=null!=c?c[0]:NaN;null!=d&&(d[0]=a);null!=c&&(c[0]=f)};b.Ez=function(d,c,f,a,b){d?(a.J(f),b.J(c)):(a.J(c),b.J(f))};b.Cz=function(d,c,f){if(!d)return c;f.create(c.D());c.copyTo(f.get());f.get().reverse();return f.get()};b.Bd=function(d,c,f){if(isNaN(c)){for(;3.141592653589793<f[0]-d;)f[0]-=6.283185307179586;for(;3.141592653589793<d-f[0];)f[0]+=6.283185307179586}else 3.141592653589793<f[0]+d-c?f[0]-=6.283185307179586:3.141592653589793<c-(f[0]+d)&&(f[0]+=
6.283185307179586)};b.mR=function(d,c,f,a){3.141592653589793>Math.abs(c.x-d.x)?(a.ed(d),3.141592653589793<=f.x-d.x?a.Ok(f.x-6.283185307179586,f.y):3.141592653589793<=d.x-f.x?a.Ok(f.x+6.283185307179586,f.y):a.Ok(f.x,f.y)):(a.ed(f),3.141592653589793<=d.x-f.x?a.Ok(d.x-6.283185307179586,d.y):3.141592653589793<=f.x-d.x?a.Ok(d.x+6.283185307179586,d.y):a.Ok(d.x,d.y))};b.Kz=function(d,c){for(var f=0;f<d;f++){var a=Math.ceil(f/2)/(d+1);0!=f%2&&(a=-a);c[f]=.5+a}};b.Hs=function(d,c){return a.j.S(d.y,1.570796326794897)&&
!a.j.S(c.y,1.570796326794897)||a.j.S(d.y,-1.570796326794897)&&!a.j.S(c.y,-1.570796326794897)?!0:!1};b.Fs=function(d,c){return a.j.S(c.y,1.570796326794897)&&!a.j.S(d.y,1.570796326794897)||a.j.S(c.y,-1.570796326794897)&&!a.j.S(d.y,-1.570796326794897)?!0:!1};b.wz=function(d,c,f){return!b.uz(d,c,f)||a.j.S(d.y,1.570796326794897)||a.j.S(d.y,-1.570796326794897)||a.j.S(c.y,1.570796326794897)||a.j.S(c.y,-1.570796326794897)?!1:!0};b.uz=function(d,c,f){return Math.abs(Math.abs(d.x-c.x)-3.141592653589793)<=f?
!0:!1};b.Gs=function(d,c){return a.j.S(d.y,1.570796326794897)&&a.j.S(c.y,1.570796326794897)||a.j.S(d.y,-1.570796326794897)&&a.j.S(c.y,-1.570796326794897)?!0:!1};b.by=function(d,c,f,k){if(0<d.y){var e=new a.b;e.ma(c.x,1.570796326794897)}else e=new a.b,e.ma(c.x,-1.570796326794897);a.j.S(d.x,e.x)||a.j.S(c.y,e.y)||(b.ac(k,e),null!=f&&f.add(0))};b.Vx=function(d,c,f,k){if(0<c.y){var e=new a.b;e.ma(d.x,1.570796326794897)}else e=new a.b,e.ma(d.x,-1.570796326794897);a.j.S(c.x,e.x)||a.j.S(d.y,e.y)||(b.ac(k,
e),null!=f&&f.add(1))};b.Xx=function(d,c,f,k,e,g,n){a.j.Vc(f)?(0<1.570796326794897-d.y&&(f=new a.b,f.ma(d.x,1.570796326794897),b.ac(n,f),null!=g&&g.add(k)),0<1.570796326794897-c.y&&(f=new a.b,f.ma(c.x,1.570796326794897),b.ac(n,f),null!=g&&g.add(k))):(0<1.570796326794897+d.y&&(f=new a.b,f.ma(d.x,-1.570796326794897),b.ac(n,f),null!=g&&g.add(e)),0<1.570796326794897+c.y&&(f=new a.b,f.ma(c.x,-1.570796326794897),b.ac(n,f),null!=g&&g.add(e)))};b.eK=function(d){if(-3.141592653589793>d.x)for(;-3.141592653589793>
d.x;)d.x+=6.283185307179586;if(3.141592653589793<d.x)for(;3.141592653589793<d.x;)d.x-=6.283185307179586};return b}();a.ui=b})(z||(z={}));(function(a){var b=function(){function b(){}b.nl=function(d,c,f){if(null==d||null==c||!a.Ya.Qo(c))throw a.g.N();if(d.s())return d;var k=d,e=k.D();if(a.T.Kc(e)){k=a.gh.qo(d,c);d=new a.i;k.o(d);for(var e=a.Ia.zd(c,d,!1),g=a.Ya.Fm(c),n=Math.floor((d.v-g.v)/g.aa())*g.aa()+g.v;n<d.B;)n>d.v+e&&n<d.B-e&&(k=a.gh.Rw(k,c,f,n)),n+=g.aa()}else{if(197==e)return d=new a.Ka(k.description),
d.Wc(k,!1),b.nl(d,c,f);if(a.T.Lc(e))return d=new a.Xa(k.description),d.Bc(k,!0),b.nl(d,c,f)}return b.VG(k,c)};b.VG=function(d,c){if(null==d||null==c||!a.Ya.Qo(c))throw a.g.N();if(d.s())return d;var f;f=d.D();197==f?(f=new a.Ka(d.description),f.Wc(d,!1)):a.T.Lc(f)?(f=new a.Xa(d.description),f.Bc(d,!0)):f=d;f=a.gh.qo(f,c);return f.s()?f:1==a.Nf.Am(c)?a.gh.aN(f,c,f!=d):b.SG(f,c,f!=d)};b.SG=function(d,c,f){if(!a.Ya.Qo(c))throw a.g.N();if(d.s())return d;var b=a.Ya.IC(c),e=0-180*b,b=360*b;2==a.Nf.Am(c)&&
(e=a.Ya.Fm(c),b=e.B,e=e.v,b-=e);return a.gh.gC(d,e,b,c,f)};return b}();a.Vn=b})(z||(z={}));(function(a){var b=function(){function b(){}b.OH=function(d,c){var f=Math.abs(d%c);return isNaN(f)||f==d||f<=Math.abs(c)/2?f:0>d?-1*(f-c):0<d?1*(f-c):0*(f-c)};b.H=function(d){return 0>d?-d:d};b.nb=function(d,c){return 0<=c?b.H(d):-b.H(d)};b.S=function(d,c){return d==c||b.H(d-c)<=b.bF*(1+(b.H(d)+b.H(c))/2)};b.Vc=function(d){return 0==d||b.H(d)<=b.bF};b.bs=function(d){d=b.OH(d,b.fv);return b.H(d)<=b.$g?d:0>d?
d+b.fv:d-b.fv};b.Yz=function(d,c){d.l=b.bs(d.l);c.l=b.bs(c.l);b.H(c.l)>b.Vr&&(d.l=b.bs(d.l+b.$g),c.l=b.nb(b.$g,c.l)-c.l)};b.gg=function(d,c){c=Math.sqrt(1-c);c=(1-c)/(1+c);var f=c*c;return d/(1+c)*(1+f*(.25+f*(.015625+1/256*f)))*b.Vr};b.pN=function(d,c,f,k,e){var t,g,n,h,l,m,r,q=0,C=m=0,v=0,p=0,w=0;l=0;var u,x,B;r=0;var D,z,E;B=new a.ca;t=new a.ca;if(null!=e)if(B.l=d,t.l=c,b.Yz(B,t),d=B.l,c=t.l,B.l=f,t.l=k,b.Yz(B,t),f=B.l,k=t.l,f=b.bs(f-d),b.S(c,k)&&(b.Vc(f)||b.S(b.H(c),b.Vr)))null!=e&&(e.l=0);else{if(b.S(c,
-k)){if(b.S(b.H(c),b.Vr)){null!=e&&(e.l=2*b.gg(6378137,.0066943799901413165));return}if(b.S(b.H(f),b.$g)){null!=e&&(e.l=2*b.gg(6378137,.0066943799901413165));return}}if(b.Vc(.0066943799901413165))p=Math.cos(c),w=Math.cos(k),null!=e&&(q=Math.sin((k-c)/2),m=Math.sin(f/2),r=2*Math.asin(Math.sqrt(q*q+p*w*m*m)),e.l=6378137*r);else{B=1-Math.sqrt(.9933056200098587);d=1-B;t=Math.atan(d*Math.tan(c));c=Math.sin(t);t=Math.cos(t);g=Math.atan(d*Math.tan(k));k=Math.sin(g);g=Math.cos(g);h=n=f;z=0;E=1;D=f;for(x=
!0;1==x;)z+=1,1==E&&(l=Math.sin(D),m=Math.cos(D),q=g*l,r=t*k-c*g*m,q=Math.sqrt(q*q+r*r),m=c*k+t*g*m,r=Math.atan2(q,m),C=1E-15>b.H(q)?t*g*l/b.nb(1E-15,q):t*g*l/q,v=1-C*C,p=1E-15>b.H(v)?m-c*k/b.nb(1E-15,v)*2:m-c*k/v*2,w=p*p,l=((-3*v+4)*B+4)*v*B/16),u=(1-l)*B*(r+l*q*(p+m*l*(2*w-1))),1==E?(D=f+u*C,1E-14>b.H(D-h)?x=!1:b.H(D)>b.$g?(E=2,D=b.$g,0>f&&(D=-D),C=0,v=1,n=h=2,r=b.$g-b.H(Math.atan(c/t)+Math.atan(k/g)),q=Math.sin(r),m=Math.cos(r),l=((-3*v+4)*B+4)*v*B/16,1E-14>b.H(C-n)?x=!1:(p=1E-15>b.H(v)?m-c*k/
b.nb(1E-15,v)*2:m-c*k/v*2,w=p*p)):(0>(D-h)*(h-n)&&5<z&&(D=(2*D+3*h+n)/6),n=h,h=D)):(C=(D-f)/u,0>(C-h)*(h-n)&&5<z&&(C=(2*C+3*h+n)/6),n=h,h=C,v=1-C*C,l=C*q/(t*g),m=-Math.sqrt(b.H(1-l*l)),D=Math.atan2(l,m),q=g*l,r=t*k-c*g*m,q=Math.sqrt(q*q+r*r),m=c*k+t*g*m,r=Math.atan2(q,m),l=((-3*v+4)*B+4)*v*B/16,1E-14>b.H(C-n)?x=!1:(p=1E-15>b.H(v)?m-c*k/b.nb(1E-15,v)*2:m-c*k/v*2,w=p*p));null!=e&&(C=Math.sqrt(1+(1/(d*d)-1)*v),C=(C-1)/(C+1),v=C*(1-.375*C*C),e.l=(1+C*C/4)/(1-C)*d*6378137*(r-v*q*(p+v/4*(m*(-1+2*w)-v/6*
p*(-3+4*q*q)*(-3+4*w)))))}}};b.$g=3.141592653589793;b.Vr=1.5707963267948966;b.fv=6.283185307179586;b.bF=3.552713678800501E-15;return b}();a.nH=b})(z||(z={}));(function(a){var b=function(){function a(){}a.prototype.uv=function(d){this.hi=d};a.prototype.GA=function(d){this.Ab=d};a.prototype.HA=function(d){this.nn=d};a.vB=function(d){return d.s()||1607!=d.D()&&1736!=d.D()?!1:!0};a.tB=function(d){return d.s()||1607!=d.D()&&1736!=d.D()||20>d.F()?!1:!0};a.uB=function(d){return d.s()||1607!=d.D()&&1736!=
d.D()||20>d.F()?!1:!0};return a}();a.Wj=b})(z||(z={}));(function(a){var b=function(){function b(){}b.FH=function(d){var c=new a.Ka;c.Uy(d.R.v,d.R.C);c.wj(d.R.v,d.R.G);c.wj(d.R.B,d.R.G);c.wj(d.R.B,d.R.C);return c};b.aT=function(d,c){var f=a.wi.local();d=new a.Pc(d);return f.$(d,c,null).next()};b.ll=function(d,c,f){return a.Zr.local().$(d,c,f,null)};b.On=function(d,c,f){return a.dv.local().$(d,c,f,null)};b.MS=function(d,c,f){var b=a.dv.local();d=new a.Pc(d);c=new a.Pc(c);f=b.$(d,c,f,null);for(b=[];null!=
(c=f.next());)b.push(c);return b};b.lc=function(d,c,f){return a.bl.local().$(3,d,c,f,null)};b.nM=function(d,c,f){return a.bl.local().$(4,d,c,f,null)};b.QO=function(d,c,f){var b=a.$r.local();d=new a.Pc(d);c=new a.Pc(c);f=b.$(d,c,f,null);for(b=[];null!=(c=f.next());)b.push(c);return b};b.kM=function(d,c,f){var b=a.Zr.local();d=new a.Pc(d);c=new a.Pc(c);f=b.$(d,c,f,null);for(b=[];null!=(c=f.next());)b.push(c);return b};b.Ga=function(d,c,f){return a.$r.local().$(d,c,f,null)};b.jT=function(d,c,f){return a.bl.local().$(2,
d,c,f,null)};b.contains=function(d,c,f){return a.bl.local().$(1,d,c,f,null)};b.VL=function(d,c,f){return a.bl.local().$(16,d,c,f,null)};b.touches=function(d,c,f){return a.bl.local().$(8,d,c,f,null)};b.tQ=function(d,c,f){return a.bl.local().$(32,d,c,f,null)};b.RO=function(d,c,f){return a.bl.local().$(1073741824,d,c,f,null)};b.py=function(d,c,f,b){return a.fI.local().$(d,c,f,b,null)};b.Fb=function(d,c,f,b){var k=null;if(null!=f){if(k=f.Se(),null!=b&&k.Qc()!=b.Qc()&&k.Nc!=b.Nc)throw a.g.cj();}else if(null!=
b)throw a.g.N();d=a.ZH.local().$(d,c,null);null!==k&&null!==b&&(d=a.Tb.ih(d,k,b));return d};b.clip=function(d,c,f){return a.SH.local().$(d,a.i.Oa(c.R.v,c.R.C,c.R.B,c.R.G),f,null)};b.xm=function(d,c,f){if(null==d||null==c)return null;d=a.UH.local().$(!0,d,c,f,null);for(c=[];null!=(f=d.next());)f.s()||c.push(f);return c.slice(0)};b.rK=function(d,c,f,k,e,g,n,h){if(!0===e)return b.VP(d,c,f,k,g,n,h);e=f;if(null!=c){if(n=c.Se(),null!=k&&n.Qc()!=k.Qc()){if(n.Nc!=k.Nc)throw a.g.cj();e=[];a.Tb.OB(f,f.length,
k,n,e)}}else if(null!=k)throw a.g.N();f=a.Oz.local();if(g){d=new a.Pc(d);c=f.$(d,c,e,g,null);for(d=[];null!=(g=c.next());)d.push(g);g=d.slice(0)}else for(g=[],k=0;k<d.length;k++)g[k]=f.$(d[k],c,e[k],null);return g};b.VP=function(d,c,f,b,e,g,n){if(null===c)throw a.g.N();if(null===b||void 0===b)b=4326!==c.Qc()?c.Se():a.Tb.Qd(9001);if(0!==b.Nc)throw a.g.N();a.Tb.OB(f,f.length,b,a.Tb.Qd(9001),f);b=a.Tz.local();if(e){d=new a.Pc(d);c=b.$(d,c,g,f,n,!1,e,null);for(f=[];null!=(g=c.next());)f.push(g);e=f.slice(0)}else{e=
[];for(var k=0;k<d.length;k++)e[k]=b.$(d[k],c,g,f[k],n,!1,null)}return e};b.buffer=function(d,c,f,b,e,g,n){var k=f;if(!1===e){if(null!=c){if(e=c.Se(),null!=b&&e.Qc()!=b.Qc()){if(e.Nc!=b.Nc)throw a.g.cj();k=a.Tb.ih(f,b,e)}}else if(null!=b)throw a.g.N();d=a.Oz.local().$(d,c,k,null)}else{if(null===c)throw a.g.N();if(null===b||void 0===b)b=4326!==c.Qc()?c.Se():a.Tb.Qd(9001);if(0!==b.Nc)throw a.g.N();k=a.Tb.ih(f,b,a.Tb.Qd(9001));d=a.Tz.local().$(d,c,g,k,n,!1,null)}return d};b.sQ=function(d,c,f,b,e,g,n){if(null!=
c){var k=c.Se();if(null!=n&&k.Qc()!=n.Qc()){if(k.Nc!=n.Nc)throw a.g.cj();f=a.Tb.ih(f,n,k)}}else if(null!=n)throw a.g.N();d=new a.Pc(d);c=a.Wz.local().$(d,c,f,b,e,g,null);for(f=[];null!=(b=c.next());)f.push(b);return f.slice(0)};b.offset=function(d,c,f,b,e,g,n){if(null!=c){var k=c.Se();if(null!=n&&k.Qc()!=n.Qc()){if(k.Nc!=n.Nc)throw a.g.cj();f=a.Tb.ih(f,n,k)}}else if(null!=n)throw a.g.N();return a.Wz.local().$(d,c,f,b,e,g,null)};b.JL=function(d){return a.Qz.local().$(d,null)};b.KL=function(d,c){var f=
a.Qz.local();d=new a.Pc(d);f=f.$(d,c,null);for(d=[];null!=(c=f.next());)d.push(c);return d};b.zw=function(d,c,f){return a.bv.local().zw(d,c,f)};b.Aw=function(d,c){return a.bv.local().Aw(d,c)};b.Bw=function(d,c,f,b){return a.bv.local().Bw(d,c,f,b)};b.Qy=function(d,c){return a.as.local().$(d,c,!1,null)};b.cP=function(d,c){return a.as.local().Ro(d,c,null)};b.fN=function(d,c,f,b,e){var k=a.Sz.local();if(null!=c){if(c=c.Se(),null!=e&&c.Qc()!=e.Qc()){if(c.Nc!=e.Nc)throw a.g.cj();f=a.Tb.ih(f,e,c)}}else if(null!=
e)throw a.g.N();return k.$(d,f,b,null)};b.oq=function(d,c,f,b){var k=a.WH.local();if(null!=c){if(c=c.Se(),null!=b&&c.Qc()!=b.Qc()){if(c.Nc!=b.Nc)throw a.g.cj();f=a.Tb.ih(f,b,c)}}else if(null!=b)throw a.g.N();return k.$(d,f,null)};b.fw=function(d,c,f,b,e){void 0===e&&(e=0);var k=a.aI.local();if(4==e)throw a.g.qe();if(0!==e)throw a.g.qe();if(null!=c){var t=c.Se();if(null!=b&&t.Qc()!=b.Qc()){if(t.Nc!=b.Nc)throw a.g.cj();f=a.Tb.ih(f,b,t)}}else if(null!=b)throw a.g.N();return k.$(d,f,c,e,null)};b.jN=function(d,
c,f,k){if(null===d)return 0;if(4==k)throw a.g.qe();if(0!==k)throw a.g.qe();if(197==d.D())d=b.FH(d);else if(1736!=d.D())return 0;k=a.Ya.Em(c);d=a.Ya.Wl(d,c,k);d=a.oH.kN([d])[0];if(null!==f){if(2!==f.Nc)throw a.g.N("Unit must be a area unit type");d=a.Tb.ih(d,a.Tb.Qd(109404),f)}return d};b.nN=function(d,c,f,b){d=a.cI.local().$(d,c,b,null);if(null!==f){if(0!==f.Nc)throw a.g.N("Unit must be a linear unit type");d=a.Tb.ih(d,a.Tb.Qd(9001),f)}return d};b.BQ=function(d,c,f){if(null===d)return 0;var b=null;
if(null!=c){b=c.Se();if(0==b.Nc&&(b=a.Tb.PC(b),null==b&&null!==f))throw a.g.N();if(null!=f&&b.Qc()!=f.Qc()&&b.Nc!=f.Nc)throw a.g.cj();}else if(null!=f)throw a.g.N();return 1736==d.D()||197==d.D()?(d=d.Mh(),null!==f?a.Tb.ih(d,b,f):d):0};b.CQ=function(d,c,f){if(null===d||d.s()||1>d.fb())return 0;var b=null;if(null!=c){if(b=c.Se(),null!=f&&b.Qc()!=f.Qc()&&b.Nc!=f.Nc)throw a.g.cj();}else if(null!=f)throw a.g.N();1736==d.D()||197==d.D()?c=d.Rf():a.T.Lc(d.D())?(c=new a.Xa(d.description),c.Bc(d,!0)):c=d;
d=0;c=c.Ca();for(var e=new a.b,g=new a.b;c.kb();)for(;c.La();){var n=c.ia();n.ht(e);n.uw(g);d+=a.b.Fb(e,g)}null!==b&&null!==f&&(d=a.Tb.ih(d,b,f));return d};b.YT=function(d,c){return a.Nf.mN(d,c)};b.IL=function(d){return void 0!==d.points?b.kH(d,void 0===d.hasZ?!1:d.hasZ,void 0===d.hasM?!1:d.hasM):void 0!==d.rings?b.Nz(d.rings,void 0===d.hasZ?!1:d.hasZ,void 0===d.hasM?!1:d.hasM,"P"):void 0!==d.paths?b.Nz(d.paths,void 0===d.hasZ?!1:d.hasZ,void 0===d.hasM?!1:d.hasM,"L"):void 0!==d.x?b.uH(d):void 0!==
d.xmin?b.hH(d):null};b.uH=function(d){if(null==d.x||"NaN"==d.x)return new a.Va;var c=new a.Va(d.x,d.y);void 0!==d.z&&null!==d.z&&c.rS(d.z);void 0!==d.m&&null!==d.m&&c.bS(d.m);return c};b.hH=function(d){if(null==d.xmin||"NaN"==d.xmin)return new a.Vj;var c=new a.Vj(d.xmin,d.ymin,d.xmax,d.ymax);void 0!==d.zmin&&null!==d.zmin&&c.setInterval(1,0,d.zmin,d.zmax);void 0!==d.mmin&&null!==d.mmin&&c.setInterval(2,0,d.mmin,d.mmax);return c};b.kH=function(d,c,f){var b=0,e=new a.pe,g=3*d.points.length;0!=g%2&&
g++;2>g&&(g=2);var n=a.I.truncate(3*d.points.length/2);4>n?n=4:16>n&&(n=16);for(var g=a.Ac.kl(g,0),h=a.Ac.kl(n),n=a.Ac.kl(n),l=0;l<d.points.length;l++)g.write(2*l,d.points[l][0]),g.write(2*l+1,d.points[l][1]),h.write(l,c||f?d.points[l][2]:NaN),n.write(l,f&&c?d.points[l][3]:NaN),b++;0!=b&&(e.resize(b),e.bm(0,g));c&&(e.Ne(1),e.bm(1,h));f&&(e.Ne(2),e.bm(2,0==c?h:n));e.ce(16777215);return e};b.Nz=function(d,c,f,b){var k,e=0,g=2;"P"==b?(k=new a.Ka,e=1,g=3):k=new a.Xa;for(var n=a.Ac.Dg(0),h=a.Ac.to(0),
l=0,m=0,r=[],q=[],v=0;v<d.length;v++){var C=d[v].length;r[v]=!1;if("P"===b&&d[v][0][0]===d[v][d[v].length-1][0]&&d[v][0][1]===d[v][d[v].length-1][1]){var p=0==f?!0:d[v][0][3]===d[v][d[v].length-1][3]||void 0===d[v][0][3]&&void 0===d[v][d[v].length-1][3];(0==c||d[v][0][2]===d[v][d[v].length-1][2]||void 0===d[v][0][2]&&void 0===d[v][d[v].length-1][2])&&p&&(r[v]=!0,--C)}C>=g?(q[v]=!1,m+=1,n.add(l),h.add(e),l+=C):q[v]=!0}b=3*l;0!=b%2&&b++;2>b&&(b=2);v=a.I.truncate(3*l/2);4>v?v=4:16>v&&(v=16);b=a.Ac.kl(b,
0);e=a.Ac.kl(v);g=a.Ac.kl(v);for(v=C=0;v<d.length;v++)if(!1===q[v])for(p=0;p<d[v].length;p++){var w=!1;p===d[v].length-1&&!0===r[v]&&(w=!0);w||(b.write(2*C,d[v][p][0]),b.write(2*C+1,d[v][p][1]),e.write(C,c||f?d[v][p][2]:NaN),g.write(C,f&&c?d[v][p][3]:NaN),C++)}0!=l&&(d=k,n.resize(m),h.resize(m),0<l&&(n.add(l),h.add(0)),d.bm(0,b),d.NF(h),d.OF(n));c&&(k.Ne(1),k.bm(1,e));f&&(k.Ne(2),k.bm(2,0==c?e:g));k.ce(16777215);return k};return b}();a.Pb=b})(z||(z={}));(function(a){var b=function(){function a(){}
a.Zk=function(d){var c=0,f=0,a=d.length,b=d[f],e;for(f;f<a-1;f++)e=d[f+1],c+=(e[0]-b[0])*(e[1]+b[1]),b=e;return 0<=c};a.rotate=function(d,c,f){c=c*Math.PI/180;var b=Math.cos(c),e=Math.sin(c);if(void 0!==d.paths){c={paths:[]};for(var g=0;g<d.paths.length;g++){for(var n=d.paths[g],h=[],l=0;l<n.length;l++){var m=n[l].slice(0);h.push(m);var r=b*(n[l][0]-f.x)-e*(n[l][1]-f.y)+f.x,q=e*(n[l][0]-f.x)+b*(n[l][1]-f.y)+f.y;m[0]=r;m[1]=q}c.paths.push(h)}return c}if(void 0!==d.rings){c={rings:[]};for(g=0;g<d.rings.length;g++){for(var n=
d.rings[g],h=[],v=a.Zk(n),l=0;l<n.length;l++)m=n[l].slice(0),h.push(m),r=b*(n[l][0]-f.x)-e*(n[l][1]-f.y)+f.x,q=e*(n[l][0]-f.x)+b*(n[l][1]-f.y)+f.y,m[0]=r,m[1]=q;a.Zk(h)!==v&&h.reverse();c.rings.push(h)}return c}if(void 0!==d.x)return c={x:b*(d.x-f.x)-e*(d.y-f.y)+f.x,y:e*(d.x-f.x)+b*(d.y-f.y)+f.y},void 0!==d.z&&(c.z=d.z),void 0!==d.m&&(c.m=d.m),c;if(void 0!==d.points){c={points:[]};d=d.points;for(l=0;l<d.length;l++)g=d[l].slice(0),g[0]=b*(d[l][0]-f.x)-e*(d[l][1]-f.y)+f.x,g[1]=e*(d[l][0]-f.x)+b*(d[l][1]-
f.y)+f.y,c.points.push(g);return c}return null};a.eC=function(d,c){var f,b;if(void 0!==d.paths){f={paths:[]};for(var e=0;e<d.paths.length;e++){for(var g=d.paths[e],n=[],h=0;h<g.length;h++){var l=g[h].slice(0);n.push(l);b=c.x-g[h][0];l[0]=g[h][0]+2*b}f.paths.push(n)}return f}if(void 0!==d.rings){f={rings:[]};for(e=0;e<d.rings.length;e++){for(var g=d.rings[e],m=a.Zk(g),n=[],h=0;h<g.length;h++)l=g[h].slice(0),n.push(l),b=c.x-g[h][0],l[0]=g[h][0]+2*b;a.Zk(n)!==m&&n.reverse();f.rings.push(n)}return f}if(void 0!==
d.x)return b=c.x-d.x,f={x:d.x+2*b,y:d.y},void 0!==d.z&&(f.z=d.z),void 0!==d.m&&(f.m=d.m),f;if(void 0!==d.points){f={points:[]};e=d.points;for(h=0;h<e.length;h++)g=e[h].slice(0),b=c.x-g[0],g[0]+=2*b,f.points.push(g);return f}return void 0!==d.xmin?(f={v:d.xmin,C:d.ymin,B:d.xmax,G:d.ymax},void 0!==d.zmin&&(f.zmin=d.zmin,f.zmax=d.zmax),void 0!==d.mmin&&(f.mmin=d.mmin,f.mmax=d.mmax),b=c.x-d.xmin,f.xmax=d.xmin+2*b,b=c.x-d.xmax,f.xmin=d.xmax+2*b,f):null};a.fC=function(d,c){var f,b;if(void 0!==d.paths){f=
{paths:[]};for(var e=0;e<d.paths.length;e++){for(var g=d.paths[e],n=[],h=0;h<g.length;h++){var l=g[h].slice(0);n.push(l);b=c.y-g[h][1];l[1]=g[h][1]+2*b}f.paths.push(n)}return f}if(void 0!==d.rings){f={rings:[]};for(e=0;e<d.rings.length;e++){for(var g=d.rings[e],m=a.Zk(g),n=[],h=0;h<g.length;h++)l=g[h].slice(0),n.push(l),b=c.y-g[h][1],l[1]=g[h][1]+2*b;a.Zk(n)!==m&&n.reverse();f.rings.push(n)}return f}if(void 0!==d.x)return b=c.y-d.y,f={y:d.y+2*b,x:d.x},void 0!==d.z&&(f.z=d.z),void 0!==d.m&&(f.m=d.m),
f;if(void 0!==d.points){f={points:[]};e=d.points;for(h=0;h<e.length;h++)g=e[h].slice(0),b=c.y-g[1],g[1]+=2*b,f.points.push(g);return f}return void 0!==d.xmin?(f={v:d.xmin,C:d.ymin,B:d.xmax,G:d.ymax},void 0!==d.zmin&&(f.zmin=d.zmin,f.zmax=d.zmax),void 0!==d.mmin&&(f.mmin=d.mmin,f.mmax=d.mmax),b=c.y-d.ymin,f.ymax=d.ymin+2*b,b=c.y-d.ymax,f.ymin=d.ymax+2*b,f):null};return a}();a.Wn=b})(z||(z={}));(function(a){var b=function(){function b(){}b.jg=function(d,c){null==c&&(c=a.Od.Tf());switch(d){case 33:return new a.Va(c);
case 322:return new a.yb(c);case 197:return new a.Vj(c);case 550:return new a.pe(c);case 1607:return new a.Xa(c);case 1736:return new a.Ka(c);default:throw a.g.ra("invalid argument.");}};return b}();a.sH=b})(z||(z={}));(function(a){var b=function(){function b(d,c){this.De=a.ga.Yc(d,-1);this.oa=new a.Ur;this.tk=c}b.prototype.wR=function(d){this.oa.Dr(Math.min(this.De.size,d));this.oa.$l(d)};b.prototype.addElement=function(d,c){if(void 0===c)return this.JJ(d);c=a.I.truncate(c%this.De.size);var f=this.De.get(c);
-1==f&&(f=this.oa.jh(),this.De.set(c,f));return this.oa.addElement(f,d)};b.prototype.JJ=function(d){var c=this.tk.vw(d),c=a.I.truncate(c%this.De.size),f=this.De.get(c);-1==f&&(f=this.oa.jh(),this.De.set(c,f));return this.oa.addElement(f,d)};b.prototype.Jc=function(d,c){if(void 0===c)this.dM(d);else{c=a.I.truncate(c%this.De.size);var f=this.De.get(c);if(-1==f)throw a.g.N();for(var b=this.oa.gc(f),e=-1;-1!=b;){var g=this.oa.bb(b);this.oa.da(b)==d?(this.oa.Jc(f,e,b),-1==this.oa.gc(f)&&(this.oa.Fg(f),
this.De.set(c,-1))):e=b;b=g}}};b.prototype.dM=function(d){var c=this.tk.vw(d),c=a.I.truncate(c%this.De.size),f=this.De.get(c);if(-1==f)throw a.g.N();for(var b=this.oa.gc(f),e=-1;-1!=b;){var g=this.oa.bb(b);this.oa.da(b)==d?(this.oa.Jc(f,e,b),-1==this.oa.gc(f)&&(this.oa.Fg(f),this.De.set(c,-1))):e=b;b=g}};b.prototype.DN=function(d){d=a.I.truncate(d%this.De.size);d=this.De.get(d);return-1==d?-1:this.oa.gc(d)};b.prototype.SN=function(d){return this.oa.bb(d)};b.prototype.kd=function(d){var c=this.tk.vw(this.da(d)),
c=a.I.truncate(c%this.De.size),f=this.De.get(c);if(-1==f)throw a.g.N();for(var b=this.oa.gc(f),e=-1;-1!=b;){if(b==d){this.oa.Jc(f,e,b);-1==this.oa.gc(f)&&(this.oa.Fg(f),this.De.set(c,-1));return}e=b;b=this.oa.bb(b)}throw a.g.N();};b.prototype.da=function(d){return this.oa.da(d)};b.prototype.clear=function(){this.De=a.ga.Yc(this.De.size,-1);this.oa.clear()};b.prototype.size=function(){return this.oa.HC()};return b}();a.AH=b})(z||(z={}));(function(a){var b=function(){function b(){this.ci=new a.Fc(3);
this.oa=new a.Fc(6);this.AP=!1;this.Wd=-1}b.prototype.bk=function(d){this.ci.Jc(d)};b.prototype.ou=function(){return this.ci.be()};b.prototype.Rs=function(d){this.oa.Jc(d)};b.prototype.Yx=function(){return this.oa.be()};b.prototype.Jy=function(d,c){this.ci.L(d,1,c)};b.prototype.Gu=function(d,c){this.ci.L(d,2,c)};b.prototype.aS=function(d,c){this.ci.L(d,3,c)};b.prototype.Hy=function(d,c){this.oa.L(d,4,c)};b.prototype.dS=function(d,c){this.oa.L(d,3,c)};b.prototype.RF=function(d,c){this.oa.L(d,2,c)};
b.prototype.jh=function(d){var c=this.Yx();this.oa.L(c,3,this.Wd);this.oa.L(c,4,0);this.oa.L(c,5,d);-1!=this.Wd&&this.RF(this.Wd,c);return this.Wd=c};b.prototype.Fg=function(d){this.CB(d);var c=this.oa.O(d,2),f=this.oa.O(d,3);-1!=c?this.dS(c,f):this.Wd=f;-1!=f&&this.RF(f,c);this.Rs(d);return f};b.prototype.Dr=function(d){this.oa.de(d)};b.prototype.DC=function(d){return this.oa.O(d,5)};b.prototype.$R=function(d,c){this.oa.L(d,5,c)};b.prototype.addElement=function(d,c){return this.AO(d,c)};b.prototype.AO=
function(d,c){var f=this.ou();this.Gu(f,-1);-1==this.oa.O(d,0)&&this.oa.L(d,0,f);var a=this.oa.O(d,1);this.Jy(f,a);-1!=a&&this.Gu(a,f);this.oa.L(d,1,f);this.setData(f,c);this.Hy(d,this.vq(d)+1);this.AP&&this.aS(f,d);return f};b.prototype.Jc=function(d,c){var f=this.ge(c),a=this.bb(c);-1!=f?this.Gu(f,a):this.oa.L(d,0,a);-1!=a?this.Jy(a,f):this.oa.L(d,1,f);this.bk(c);this.Hy(d,this.vq(d)-1);return a};b.prototype.$l=function(d){this.ci.de(d)};b.prototype.getData=function(d){return this.ci.O(d,0)};b.prototype.setData=
function(d,c){this.ci.L(d,0,c)};b.prototype.bb=function(d){return this.ci.O(d,2)};b.prototype.ge=function(d){return this.ci.O(d,1)};b.prototype.gc=function(d){return this.oa.O(d,0)};b.prototype.tc=function(d){return this.oa.O(d,1)};b.prototype.clear=function(){for(var d=this.Wd;-1!=d;)d=this.Fg(d)};b.prototype.CB=function(d){for(var c=this.tc(d);-1!=c;){var f=c,c=this.ge(f);this.bk(f)}this.oa.L(d,0,-1);this.oa.L(d,1,-1);this.Hy(d,0)};b.prototype.s=function(){return 0==this.ci.size};b.prototype.HC=
function(){return this.ci.size};b.prototype.vq=function(d){return this.oa.O(d,4)};b.prototype.Cw=function(d){return this.oa.O(d,3)};return b}();a.$n=b})(z||(z={}));(function(a){var b=function(){function b(d){void 0===d?(this.bg=new a.Fc(2),this.oa=new a.Fc(4),this.Wd=-1,this.Bt=!0):(this.bg=new a.Fc(2),this.oa=new a.Fc(d?4:2),this.Wd=-1,this.Bt=d)}b.prototype.bk=function(d){this.bg.Jc(d)};b.prototype.ou=function(){return this.bg.be()};b.prototype.Rs=function(d){this.oa.Jc(d)};b.prototype.Yx=function(){return this.oa.be()};
b.prototype.jh=function(){var d=this.Yx();this.Bt&&(this.oa.L(d,3,this.Wd),-1!=this.Wd&&this.oa.L(this.Wd,2,d),this.Wd=d);return d};b.prototype.Fg=function(d){for(var c=this.gc(d);-1!=c;){var f=c,c=this.bb(c);this.bk(f)}this.Bt&&(c=this.oa.O(d,2),f=this.oa.O(d,3),-1!=c?this.oa.L(c,3,f):this.Wd=f,-1!=f&&this.oa.L(f,2,c));this.Rs(d)};b.prototype.Dr=function(d){this.oa.de(d)};b.prototype.addElement=function(d,c){var f=this.oa.O(d,1),a=this.ou();-1!=f?this.bg.L(f,1,a):this.oa.L(d,0,a);this.oa.L(d,1,a);
this.bg.L(a,0,c);return a};b.prototype.$l=function(d){this.bg.de(d)};b.prototype.Jc=function(d,c,f){-1!=c?(this.bg.L(c,1,this.bg.O(f,1)),this.oa.O(d,1)==f&&this.oa.L(d,1,c)):(this.oa.L(d,0,this.bg.O(f,1)),this.oa.O(d,1)==f&&this.oa.L(d,1,-1));this.bk(f)};b.prototype.Qv=function(d,c){var f=this.oa.O(d,1),a=this.oa.O(c,0);-1!=a&&(-1!=f?this.bg.L(f,1,a):this.oa.L(d,0,a),this.oa.L(d,1,this.oa.O(c,1)));this.Bt&&(f=this.oa.O(c,2),a=this.oa.O(c,3),-1!=f?this.oa.L(f,3,a):this.Wd=a,-1!=a&&this.oa.L(a,2,f));
this.Rs(c)};b.prototype.da=function(d){return this.bg.O(d,0)};b.prototype.Vi=function(d,c){this.bg.L(d,0,c)};b.prototype.bb=function(d){return this.bg.O(d,1)};b.prototype.gc=function(d){return this.oa.O(d,0)};b.prototype.Dm=function(d){return this.da(this.gc(d))};b.prototype.clear=function(){this.bg.Nh(!0);this.oa.Nh(!0);this.Wd=-1};b.prototype.s=function(d){return void 0===d?0==this.bg.size:-1==this.oa.O(d,0)};b.prototype.HC=function(){return this.bg.size};b.prototype.Cw=function(d){return this.oa.O(d,
3)};return b}();a.Ur=b})(z||(z={}));(function(a){var b=function(){function b(){}b.kz=function(d,c,f,e,t,g,n){var k=new a.b;k.J(d);d=new a.b;d.J(c);t.vv(k);t.vv(d);c=t.ms(k);var h=t.ms(d);0==h&&(h=t.CC());if(k.x!=d.x&&(k.y!=d.y||k.y!=t.C&&k.y!=t.G)||h>c!=g){c=t.vA(k);var h=t.vA(d),A,l=g?1:3;do c=c+l&3,A=t.vu(c),0!=n&&(e=b.kz(k,A,f,e,t,g,n)),f[e++].ma(A.x,A.y),k=A;while((c&3)!=h);0!=n&&(e=b.kz(k,d,f,e,t,g,n))}else if(t=new a.b,t.ma(d.x-k.x,d.y-k.y),0!=n&&(n=a.I.truncate(t.yJ()/n),0<n))for(t.scale(1/
(n+1)),g=0;g<n;g++)k.add(t),f[e++].ma(k.x,k.y);return e};b.zd=function(d,c,f){c=c.lv();d=null!=d&&void 0!==d.Ko?d.Ko():0;f&&(c*=4,d*=1.1);return Math.max(d,c)};b.As=function(d){return 2*Math.sqrt(2)*d};b.UJ=function(d){return Math.sqrt(2)*d};b.Cg=function(d,c,f){var e=new a.i;c.o(e);return b.zd(d,e,f)};b.rB=function(d,c,f){c=c.Ah(1,0).lv();d=null!=d?d.Ko():0;f&&(c*=4,d*=1.1);return Math.max(d,c)};b.$T=function(d,c){var f=new a.i;d.dd(f);f.Db(c);return f};b.$s=function(d,c){var f=new a.i;d.dd(f);d=
new a.i;c.dd(d);f.Db(d);return f};b.fU=function(d,c){var f=d.HN(c),b=d.Ea(c),e=d.Dc(c),g=d.Fa(f);f==b?(e=d.Fa(e-1),f=d.Fa(b+1)):f==e-1?(e=d.Fa(f-1),f=d.Fa(b)):(e=d.Fa(f-1),f=d.Fa(f+1));g=a.b.yn(e,g,f);return 0==g?0<d.oo(c):-1==g};b.CK=function(d){var c=new a.i;d.dd(c);if(c.s())return null;var f=new a.co(c,8),b=-1,e=new a.i,g=!1;do for(var n=0,h=d.ea();n<h;n++)if(d.Ti(n,e),b=f.kt(n,e,b),-1==b){if(g)throw a.g.ra("internal error");d.tm(c,!1);g=!0;f.reset(c,8);break}else g=!1;while(g);return f};b.nB=
function(d){var c=new a.i;d.dd(c);for(var f=new a.co(c,8),b=-1,e=d.Ca(),g=new a.i,n=!1;e.kb();)for(;e.La();){var h=e.ia(),l=e.Jb();h.o(g);b=f.kt(l,g,b);if(-1==b){if(n)throw a.g.wa();d.tm(c,!1);n=!0;f.reset(c,8);e.Lk();break}}return f};b.ij=function(d,c){var f=new a.i;d.dd(f);for(var b=new a.co(f,8),e=-1,g=new a.i,n=d.Ca(),h=!1;n.kb();)for(;n.La();){var l=n.ia(),m=n.Jb();l.o(g);if(g.jc(c)&&(e=b.kt(m,g,e),-1==e)){if(h)throw a.g.ra("internal error.");d.tm(f,!1);h=!0;b.reset(f,8);n.Lk();break}}return b};
b.DT=function(d){var c=new a.i;d.dd(c);for(var f=new a.co(c,8),b=new a.b,e=new a.i,g=!1,n=0;n<d.F();n++)if(d.w(n,b),e.K(b),-1==f.lg(n,e)){if(g)throw a.g.wa();d.tm(c,!1);g=!0;f.reset(c,8);n=-1}return f};b.oB=function(d,c){for(var f=new a.co(c,8),b=new a.b,e=!1,g=new a.i,n=0;n<d.F();n++)if(d.w(n,b),c.contains(b)&&(g.K(b),-1==f.lg(n,g))){if(e)throw a.g.wa();e=!0;n=new a.i;d.tm(n,!1);f.reset(n,8);n=-1}return f};b.AN=function(d,c,f){var b=new a.i,e=new a.i;d.dd(b);c.dd(e);b.P(f,f);e.P(f,f);var g=new a.i;
g.K(b);g.Ga(e);d=d.Ca();c=c.Ca();var n=new a.sz;n.YF(f);var h=!1;for(n.jG();d.kb();)for(;d.La();)d.ia().o(b),b.jc(g)&&(h=!0,f=new a.i,f.K(b),n.OA(d.Jb(),f));n.$B();if(!h)return null;b=!1;for(n.iG();c.kb();)for(;c.La();)c.ia().o(e),e.jc(g)&&(b=!0,f=new a.i,f.K(e),n.LA(c.Jb(),f));n.ZB();return b?n:null};b.BN=function(d,c,f,b,e){var k=d.D(),t=c.D(),g=new a.i,n=new a.i;d.dd(g);c.dd(n);g.P(f,f);n.P(f,f);var h=new a.i;h.K(g);h.Ga(n);var l=new a.sz;l.YF(f);var m=!1;l.jG();var r=0;for(f=d.ea();r<f;r++)if(!b||
1736!=k||d.qt(r))d.Ti(r,g),g.jc(h)&&(m=!0,l.OA(r,g));l.$B();if(!m)return null;d=!1;l.iG();b=0;for(f=c.ea();b<f;b++)if(!e||1736!=t||c.qt(b))c.Ti(b,n),n.jc(h)&&(d=!0,l.LA(b,n));l.ZB();return d?l:null};b.hU=function(d,c){return 0<d.rj(c)};b.zT=function(d,c){var f=new a.i;d.hR(c,f);var f=new a.co(f,8),b=-1,e=new a.i;d=d.Ca();d.vy(c);if(d.kb())for(;d.La();){c=d.ia();var g=d.Jb();c.dd(e);b=f.kt(g,e,b);if(-1==b)throw a.g.ra("internal error");}return f};return b}();a.Ia=b})(z||(z={}));(function(a){var b=
function(){function c(c){this.Na=c}c.prototype.compare=function(c,d,a){c=c.da(a);a=this.Na.uj(d);var b=this.Na.uj(c);return a<b?-1:a==b?f.Po(d)&&f.st(c)?-1:f.Po(c)&&f.st(d)?1:0:1};return c}(),e=function(){function c(c){this.Na=c}c.prototype.Zp=function(c,f,d){this.Na.yS(d,c,f)};c.prototype.Mo=function(c){return this.Na.uj(c)};return c}(),d;(function(c){c[c.initialize=0]="initialize";c[c.pIn=1]="pIn";c[c.pL=2]="pL";c[c.pR=3]="pR";c[c.pT=4]="pT";c[c.right=5]="right";c[c.left=6]="left";c[c.all=7]="all"})(d||
(d={}));var c=function(){function c(){this.Na=null;this.gi=new a.Nd;this.ug=new a.ga(0);this.$f=[0,0]}c.prototype.Ch=function(c,f){this.gi.qa=c.qa-f;this.gi.va=c.va+f;this.ug.resize(0);this.Ud=0;this.$f[0]=0};c.prototype.uy=function(c,f,d){if(c>f)throw a.g.N();this.gi.qa=c-d;this.gi.va=f+d;this.ug.resize(0);this.Ud=0;this.$f[0]=0};c.prototype.Fn=function(c,f){this.gi.qa=c-f;this.gi.va=c+f;this.ug.resize(0);this.Ud=0;this.$f[0]=0};c.prototype.next=function(){if(!this.Na.Vo)throw a.g.xa();if(0>this.Ud)return-1;
for(var c=!0;c;)switch(this.$f[this.Ud]){case 1:c=this.uQ();break;case 2:c=this.vQ();break;case 3:c=this.wQ();break;case 4:c=this.xQ();break;case 5:c=this.BR();break;case 6:c=this.sP();break;case 7:c=this.XJ();break;case 0:c=this.Qw();break;default:throw a.g.wa();}return-1!=this.pg?this.Bo()>>1:-1};c.JT=function(f,d,a){var b=new c;b.Na=f;b.ug.xb(20);b.Ch(d,a);return b};c.KT=function(f,d,a){var b=new c;b.Na=f;b.ug.xb(20);b.Fn(d,a);return b};c.Oa=function(f){var d=new c;d.Na=f;d.ug.xb(20);d.Ud=-1;return d};
c.prototype.Qw=function(){this.pg=this.YD=this.di=this.yc=-1;if(null!=this.Na.Yd&&0<this.Na.Yd.size)return this.$f[0]=1,this.di=this.Na.Ze,!0;this.Ud=-1;return!1};c.prototype.uQ=function(){this.yc=this.di;if(-1==this.yc)return this.pg=this.Ud=-1,!1;var c=this.Na.Co(this.yc);if(this.gi.va<c)return c=this.Na.tj(this.yc),this.di=this.Na.Di(this.yc),-1!=c&&(this.vh=this.Na.gk(c),this.$f[++this.Ud]=6),!0;if(c<this.gi.qa)return c=this.Na.tj(this.yc),this.di=this.Na.sj(this.yc),-1!=c&&(this.vh=this.Na.uq(c),
this.$f[++this.Ud]=5),!0;this.$f[this.Ud]=2;this.YD=this.yc;c=this.Na.tj(this.yc);this.di=this.Na.Di(this.yc);-1!=c&&(this.vh=this.Na.gk(c),this.$f[++this.Ud]=7);return!0};c.prototype.vQ=function(){this.yc=this.di;if(-1==this.yc)return this.$f[this.Ud]=3,this.di=this.Na.sj(this.YD),!0;if(this.Na.Co(this.yc)<this.gi.qa){var c=this.Na.tj(this.yc);this.di=this.Na.sj(this.yc);-1!=c&&(this.vh=this.Na.uq(c),this.$f[++this.Ud]=5);return!0}c=this.Na.tj(this.yc);this.di=this.Na.Di(this.yc);-1!=c&&(this.vh=
this.Na.gk(c),this.$f[++this.Ud]=7);c=this.Na.sj(this.yc);-1!=c&&this.ug.add(c);return!0};c.prototype.wQ=function(){this.yc=this.di;if(-1==this.yc)return this.$f[this.Ud]=4,!0;if(this.gi.va<this.Na.Co(this.yc)){var c=this.Na.tj(this.yc);this.di=this.Na.Di(this.yc);-1!=c&&(this.vh=this.Na.gk(c),this.$f[++this.Ud]=6);return!0}c=this.Na.tj(this.yc);this.di=this.Na.sj(this.yc);-1!=c&&(this.vh=this.Na.gk(c),this.$f[++this.Ud]=7);c=this.Na.Di(this.yc);-1!=c&&this.ug.add(c);return!0};c.prototype.xQ=function(){if(0==
this.ug.size)return this.pg=this.Ud=-1,!1;this.yc=this.ug.get(this.ug.size-1);this.ug.resize(this.ug.size-1);var c=this.Na.tj(this.yc);-1!=c&&(this.vh=this.Na.gk(c),this.$f[++this.Ud]=7);-1!=this.Na.Di(this.yc)&&this.ug.add(this.Na.Di(this.yc));-1!=this.Na.sj(this.yc)&&this.ug.add(this.Na.sj(this.yc));return!0};c.prototype.sP=function(){this.pg=this.vh;if(-1!=this.pg&&f.Po(this.Bo())&&this.Na.uj(this.Bo())<=this.gi.va)return this.vh=this.GC(),!1;this.Ud--;return!0};c.prototype.BR=function(){this.pg=
this.vh;if(-1!=this.pg&&f.st(this.Bo())&&this.Na.uj(this.Bo())>=this.gi.qa)return this.vh=this.bO(),!1;this.Ud--;return!0};c.prototype.XJ=function(){this.pg=this.vh;if(-1!=this.pg&&f.Po(this.Bo()))return this.vh=this.GC(),!1;this.Ud--;return!0};c.prototype.GC=function(){return this.Na.Df?this.Na.If.bb(this.pg):this.Na.ki.bb(this.pg)};c.prototype.bO=function(){return this.Na.Df?this.Na.If.ge(this.pg):this.Na.ki.ge(this.pg)};c.prototype.Bo=function(){return this.Na.Df?this.Na.If.da(this.pg):this.Na.ki.getData(this.pg)};
return c}();a.IT=c;var f=function(){function f(c){this.Al=this.rh=this.If=this.ki=this.Hl=this.Ki=this.Yd=this.Li=null;this.Df=c;this.Vo=this.Dt=!1}f.prototype.Vp=function(){this.Rj(!0)};f.prototype.gq=function(c,f){if(!this.Dt)throw a.g.xa();this.Li.push(new a.Nd(c,f))};f.prototype.wo=function(){if(!this.Dt)throw a.g.ra("invalid call");this.Dt=!1;this.Vo=!0;this.Df||(this.BO(),this.Jt=this.Li.length)};f.prototype.lg=function(c){if(!this.Df||!this.Vo)throw a.g.N("invalid call");if(-1==this.Ze){var f=
this.Li.length;if(this.nx){var d=new a.ga(0);d.xb(2*f);this.$E(d);this.rh.xb(2*f);this.rh.resize(0);this.ZE(d);this.Hl.resize(f,-1);this.Hl.dh(-1,0,f);this.nx=!1}else this.Hl.dh(-1,0,f);this.Ze=this.Ms()}f=this.cD(c<<1,this.Ze);d=this.If.addElement((c<<1)+1,this.Hw(f));this.TF(f,d);this.Hl.set(c,f);this.Jt++};f.prototype.remove=function(c){if(!this.Df||!this.Vo)throw a.g.ra("invalid call");var f=this.Hl.get(c);if(-1==f)throw a.g.N("the interval does not exist in the interval tree");this.Hl.set(c,
-1);this.Jt--;var d=this.Hw(f),b;b=this.If.hO(d);this.If.kd(this.LN(f),d);this.If.kd(this.eO(f),d);c=this.If.size(d);0==c&&(this.If.fM(d),this.WF(b,-1));this.Ki.Jc(f);for(var d=this.JC(b),e=this.Di(b),k=this.sj(b),f=0;!(0<c||b==this.Ze||-1!=e&&-1!=k);)b==this.Di(d)?-1!=e?(this.Sj(d,e),this.Xi(e,d),this.Sj(b,-1)):-1!=k?(this.Sj(d,k),this.Xi(k,d),this.Uj(b,-1)):this.Sj(d,-1):-1!=e?(this.Uj(d,e),this.Xi(e,d),this.Sj(b,-1)):-1!=k?(this.Uj(d,k),this.Xi(k,d),this.Uj(b,-1)):this.Uj(d,-1),this.Xi(b,-1),f++,
b=d,d=this.tj(b),c=-1!=d?this.If.size(d):0,e=this.Di(b),k=this.sj(b),d=this.JC(b)};f.prototype.reset=function(){if(!this.Df||!this.Vo)throw a.g.N("invalid call");this.Rj(!1)};f.prototype.size=function(){return this.Jt};f.prototype.Re=function(){return c.Oa(this)};f.prototype.$E=function(c){for(var f=this.Li.length,d=0;d<2*f;d++)c.add(d);this.zS(c,2*f)};f.prototype.ZE=function(c){for(var f=NaN,d=0;d<c.size;d++){var a=c.get(d),b=this.uj(a);b!=f&&(this.rh.add(a),f=b)}};f.prototype.BO=function(){var c=
this.Li.length,f=new a.ga(0);f.xb(2*c);this.$E(f);this.rh.xb(2*c);this.rh.resize(0);this.ZE(f);this.Ki.de(c);this.ki.$l(2*c);var d=a.Ac.Dg(c);d.dh(-1,0,c);this.Ze=this.Ms();for(c=0;c<f.size;c++){var b=f.get(c),e=d.get(b>>1);-1!=e?this.TF(e,this.ki.addElement(this.Hw(e),b)):(e=this.cD(b,this.Ze),d.set(b>>1,e))}};f.prototype.cD=function(c,f){var d=f,b=f,e,k=-1,t=0,g=this.rh.size-1,n=0,h=c>>1,l=NaN,A=NaN;e=!0;for(var m=this.RN(h),h=this.ON(h);e;){t<g?(n=t+a.I.truncate((g-t)/2),-1==this.rw(d)&&this.CF(d,
this.rh.get(n),this.rh.get(n+1))):-1==this.rw(d)&&this.CF(d,this.rh.get(t),this.rh.get(t));var r=this.Co(d);if(h<r)-1!=f&&(f==d?(b=d,l=r,f=this.Di(d),-1!=f?A=this.Co(f):A=NaN):A>r&&(r<l?this.Sj(b,d):this.Uj(b,d),this.Uj(d,f),this.Df&&(this.Xi(d,b),this.Xi(f,d)),b=d,l=r,f=-1,A=NaN)),g=this.MN(d),-1==g&&(g=this.Ms(),this.YR(d,g)),d=g,g=n;else if(m>r)-1!=f&&(f==d?(b=d,l=r,f=this.sj(d),-1!=f?A=this.Co(f):A=NaN):A<r&&(r<l?this.Sj(b,d):this.Uj(b,d),this.Sj(d,f),this.Df&&(this.Xi(d,b),this.Xi(f,d)),b=d,
l=r,f=-1,A=NaN)),t=this.fO(d),-1==t&&(t=this.Ms(),this.iS(d,t)),d=t,t=n+1;else{e=this.tj(d);-1==e&&(e=this.TL(d),this.WF(d,e));var q=this.KJ(e,c),k=this.SL();this.lS(k,e);this.XR(k,q);d!=f&&(r<l?this.Sj(b,d):this.Uj(b,d),this.Df&&this.Xi(d,b),-1!=f&&(A<r?this.Sj(d,f):this.Uj(d,f),this.Df&&this.Xi(f,d)));e=!1}}return k};f.prototype.Ms=function(){return this.Yd.be()};f.prototype.TL=function(c){return this.Df?this.If.nq(c):this.ki.jh(c)};f.prototype.SL=function(){return this.Ki.be()};f.prototype.Rj=
function(c){c?(this.Dt=this.nx=!0,this.Vo=!1,null==this.rh?this.rh=a.Ac.Dg(0):this.rh.resize(0),null==this.Li?this.Li=[]:this.Li.length=0):this.nx=!1;this.Df?null==this.Hl?(this.Hl=a.Ac.Dg(0),this.If=new a.bj,this.If.Hn(new b(this))):this.If.clear():null==this.ki?this.ki=new a.$n:this.ki.clear();null==this.Yd?(this.Ki=new a.Fc(3),this.Yd=new a.Fc(this.Df?8:7)):(this.Ki.Nh(!1),this.Yd.Nh(!1));this.Ze=-1;this.Jt=0};f.prototype.CF=function(c,f,d){this.SR(c,f);this.TR(c,d)};f.prototype.Co=function(c){var f=
this.rw(c);if(-1==f)return NaN;f=this.uj(f);c=this.uj(this.wN(c));return f==c?f:.5*(f+c)};f.prototype.SR=function(c,f){this.Yd.L(c,0,f)};f.prototype.TR=function(c,f){this.Yd.L(c,1,f)};f.prototype.YR=function(c,f){this.Yd.L(c,3,f)};f.prototype.iS=function(c,f){this.Yd.L(c,4,f)};f.prototype.WF=function(c,f){this.Yd.L(c,2,f)};f.prototype.Sj=function(c,f){this.Yd.L(c,5,f)};f.prototype.Uj=function(c,f){this.Yd.L(c,6,f)};f.prototype.Xi=function(c,f){this.Yd.L(c,7,f)};f.prototype.lS=function(c,f){this.Ki.L(c,
0,f)};f.prototype.KJ=function(c,f){return this.Df?this.If.addElement(f,c):this.ki.addElement(c,f)};f.prototype.XR=function(c,f){this.Ki.L(c,1,f)};f.prototype.TF=function(c,f){this.Ki.L(c,2,f)};f.prototype.gk=function(c){return this.Df?this.If.gc(c):this.ki.gc(c)};f.prototype.uq=function(c){return this.Df?this.If.tc(c):this.ki.tc(c)};f.Po=function(c){return 0==(c&1)};f.st=function(c){return 1==(c&1)};f.prototype.rw=function(c){return this.Yd.O(c,0)};f.prototype.wN=function(c){return this.Yd.O(c,1)};
f.prototype.tj=function(c){return this.Yd.O(c,2)};f.prototype.MN=function(c){return this.Yd.O(c,3)};f.prototype.fO=function(c){return this.Yd.O(c,4)};f.prototype.Di=function(c){return this.Yd.O(c,5)};f.prototype.sj=function(c){return this.Yd.O(c,6)};f.prototype.JC=function(c){return this.Yd.O(c,7)};f.prototype.Hw=function(c){return this.Ki.O(c,0)};f.prototype.LN=function(c){return this.Ki.O(c,1)};f.prototype.eO=function(c){return this.Ki.O(c,2)};f.prototype.RN=function(c){return this.Li[c].qa};f.prototype.ON=
function(c){return this.Li[c].va};f.prototype.zS=function(c,f){null==this.Al&&(this.Al=new a.Rr);var d=new e(this);this.Al.sort(c,0,f,d)};f.prototype.yS=function(c,d,a){var b=this;c.xd(d,a,function(c,d){var a=b.uj(c),e=b.uj(d);return a<e||a==e&&f.Po(c)&&f.st(d)?-1:1})};f.prototype.uj=function(c){var d=this.Li[c>>1];return f.Po(c)?d.qa:d.va};return f}();a.bq=f})(z||(z={}));(function(a){var b=function(b){function d(c,f,d,e){b.call(this);void 0===c?this.description=a.Od.Tf():void 0===d?this.description=
c:(this.description=a.Od.Tf(),this.Ny(c,f),this.Ok(d,e))}K(d,b);d.prototype.D=function(){return 322};d.prototype.$b=function(){var c=this.na-this.la,f=this.ja-this.ha;return Math.sqrt(c*c+f*f)};d.prototype.mg=function(c){var f=this.na-this.la,d=this.ja-this.ha;return Math.sqrt(f*f+d*d)<=c};d.prototype.mD=function(){return!1};d.prototype.Pf=function(){var c=new a.b;c.pc(this.oc(),this.Mb());return c};d.prototype.Fp=function(c){c.Ja();c.Qf(this.description);var f=new a.i;this.o(f);c.Cu(f);for(var f=
1,d=this.description.Aa;f<d;f++)for(var b=this.description.Hd(f),e=a.pa.Wa(b);f<e;f++){var g=this.Ah(b,0);c.setInterval(b,0,g)}};d.prototype.o=function(c){c.K(this.na,this.ja,this.la,this.ha);c.normalize()};d.prototype.Cn=function(c){c.Ja();c.Db(this.na,this.ja,this.yd(0,1,0));c.Db(this.la,this.ha,this.yd(1,1,0))};d.prototype.Oe=function(c){if(c instanceof a.Bg){this.qc();var f=new a.b;f.x=this.na;f.y=this.ja;c.Zi(f,f);this.na=f.x;this.ja=f.y;f.x=this.la;f.y=this.ha;c.Zi(f,f);this.la=f.x;this.ha=
f.y}else this.qc(),f=new a.ee,f.x=this.na,f.y=this.ja,f.z=this.yd(0,1,0),f=c.Qn(f),this.na=f.x,this.ja=f.y,this.om(0,1,0,f.z),f.x=this.la,f.y=this.ha,f.z=this.yd(1,1,0),f=c.Qn(f),this.la=f.x,this.ha=f.y,this.om(1,1,0,f.z)};d.prototype.Pa=function(){return new d(this.description)};d.prototype.kv=function(c,f){return(this.la-c-(this.na-c))*(this.ha-f+(this.ja-f))*.5};d.prototype.Ru=function(c){return c*this.$b()};d.prototype.AD=function(c){return c/this.$b()};d.prototype.sC=function(c){return a.vi.ut(this.na,
this.la,c)};d.prototype.vN=function(c){return a.vi.ut(this.ja,this.ha,c)};d.prototype.xm=function(c,f){var d=new a.Ag;this.Bi(c,f,d);return d.get()};d.prototype.Bi=function(c,f,d){if(null==d)throw a.g.N();d.mq();d=d.get();d.Qf(this.description);var b=new a.b;this.Kb(c,b);d.Ny(b.x,b.y);this.Kb(f,b);d.Ok(b.x,b.y);for(var b=1,e=this.description.Aa;b<e;b++)for(var k=this.description.Fd(b),g=a.pa.Wa(k),n=0;n<g;n++){var h=this.ld(c,k,n);d.My(k,n,h);h=this.ld(f,k,n);d.Cy(k,n,h)}};d.prototype.ld=function(c,
f,d){if(0==f)return 0==d?this.Kb(c).x:this.Kb(c).y;switch(a.pa.JN(f)){case 0:return.5>c?this.gt(f,d):this.Ws(f,d);case 1:var b=this.gt(f,d);f=this.Ws(f,d);return a.vi.ut(b,f,c);case 2:throw a.g.ra("not implemented");}throw a.g.wa();};d.prototype.Gd=function(c,f){var d=this.la-this.na,a=this.ha-this.ja,b=d*d+a*a;if(0==b)return.5;d=((c.x-this.na)*d+(c.y-this.ja)*a)/b;f||(0>d?d=0:1<d&&(d=1));return d};d.prototype.nt=function(c,f,d,a){if(c){c=this.ha-this.ja;if(0==c)return f==this.ha?-1:0;f=(f-this.ja)/
c;if(0>f||1<f)return 0;null!=d&&(d[0]=this.sC(f))}else{c=this.la-this.na;if(0==c)return f==this.la?-1:0;f=(f-this.na)/c;if(0>f||1<f)return 0;null!=d&&(d[0]=this.vN(f))}null!=a&&(a[0]=f);return 1};d.prototype.xe=function(c,f){var d=this.ha-this.ja;if(0==d)return c==this.ha?f:NaN;d=(c-this.ja)/d;c=this.sC(d);1==d&&(c=this.la);return c};d.prototype.qs=function(c,f,d){return 0<=this.ho(c.x,c.y,f,d)};d.prototype.Kh=function(c,f,d){return 0<=this.ho(c,f,d,!0)};d.prototype.Eq=function(c,f){return this.qs(c,
f,!1)};d.prototype.KE=function(){if(this.ha<this.ja||this.ha==this.ja&&this.la<this.na){var c=this.na;this.na=this.la;this.la=c;c=this.ja;this.ja=this.ha;this.ha=c;for(var c=0,f=this.description.up-2;c<f;c++){var d=this.fa[c];this.fa[c]=this.fa[c+f];this.fa[c+f]=d}}};d.prototype.rs=function(c,f){c=a.b.Oa(c,f);c.sub(this.Mb());f=new a.b;f.pc(this.oc(),this.Mb());var d=f.Ai(c);c=8.881784197001252E-16*(Math.abs(f.x*c.y)+Math.abs(f.y*c.x));return d>c?-1:d<-c?1:0};d.prototype.ho=function(c,f,d,b){var e=
this.na,k=this.ja,t=c-e,g=f-k,t=Math.sqrt(t*t+g*g);if(t<=Math.max(d,6.661338147750939E-16*t))return b&&0==t?NaN:0;t=c-this.la;g=f-this.ha;t=Math.sqrt(t*t+g*g);if(t<=Math.max(d,6.661338147750939E-16*t))return b&&0==t?NaN:1;t=this.la-this.na;g=this.ha-this.ja;b=Math.sqrt(t*t+g*g);if(0<b){var n=1/b,t=t*n,g=g*n,h=c-e,l=f-k,m=h*t+l*g,r=1.7763568394002505E-15*(Math.abs(h*t)+Math.abs(l*g)),q=t,t=-g,g=q,r=Math.max(d,r);if(m<-r||m>b+r)return NaN;if(Math.abs(h*t+l*g)<=Math.max(d,1.7763568394002505E-15*(Math.abs(h*
t)+Math.abs(l*g)))&&(t=a.I.Kr(m*n,0,1),.5>=t?(g=this.na+(this.la-this.na)*t,b=this.ja+(this.ha-this.ja)*t):(g=this.la-(this.la-this.na)*(1-t),b=this.ha-(this.ha-this.ja)*(1-t)),a.b.Yv(g,b,c,f)<=d)){if(.5>t){if(a.b.Yv(g,b,e,k)<=d)return 0}else if(a.b.Yv(g,b,this.la,this.ha)<=d)return 1;return t}}return NaN};d.prototype.lc=function(c){return null==c?!1:c==this?!0:c.constructor!==this.constructor?!1:this.sJ(c)};d.prototype.AA=function(c,f,d){var b=d?this.na:this.la;d=d?this.ja:this.ha;var e=new a.b;
e.x=c.la-b;e.y=c.ha-d;return f.ml(e)>6.661338147750939E-16*f.uA(e)?(e.x=c.na-b,e.y=c.ja-d,f.ml(e)<=6.661338147750939E-16*f.uA(e)):!0};d.prototype.zA=function(c){var f=new a.b;f.x=this.la-this.na;f.y=this.ha-this.ja;if(!this.AA(c,f,!1))return!1;f.Bp();return this.AA(c,f,!0)?!0:!1};d.ye=function(c,f){var d=c.rs(f.na,f.ja),a=c.rs(f.la,f.ha);if(0>d&&0>a||0<d&&0<a)return!1;d=f.rs(c.na,c.ja);a=f.rs(c.la,c.ha);if(0>d&&0>a||0<d&&0<a)return!1;d=c.$b();a=f.$b();return d>a?c.zA(f):f.zA(c)};d.Id=function(c,f,
d){var b=a.b.Oa(NaN,NaN),e=c.la-c.na,k=c.ha-c.ja,g=f.la-f.na,n=f.ha-f.ja,h=g*k-e*n;if(0==h)return b;var l=8.881784197001252E-16*(Math.abs(g*k)+Math.abs(e*n)),m=f.na-c.na,r=f.ja-c.ja,q=g*r-m*n,v=q/h,p=Math.abs(h),g=(8.881784197001252E-16*(Math.abs(g*r)+Math.abs(m*n))*p+l*Math.abs(q))/(h*h)+2.220446049250313E-16*Math.abs(v);if(v<-g||v>1+g)return b;n=e*r-m*k;g=n/h;e=(8.881784197001252E-16*(Math.abs(e*r)+Math.abs(m*k))*p+l*Math.abs(n))/(h*h)+2.220446049250313E-16*Math.abs(g);if(g<-e||g>1+e)return b;v=
a.I.Kr(v,0,1);e=a.I.Kr(g,0,1);k=c.Kb(v);h=f.Kb(e);l=new a.b;l.pc(k,h);if(l.length()>d&&(l.add(k,h),l.scale(.5),v=c.Gd(l,!1),e=f.Gd(l,!1),c=c.Kb(v),f=f.Kb(e),c.sub(f),c.length()>d))return b;b.ma(v,e);return b};d.xJ=function(c,f,a,b){var e=0;if(c.na==f.na&&c.ja==f.ja||c.na==f.la&&c.ja==f.ha)if(e++,!b)return 1;if(c.la==f.na&&c.ha==f.ja||c.la==f.la&&c.ha==f.ha){e++;if(2==e)return 2;if(!b)return 1}return f.Kh(c.na,c.ja,a)||f.Kh(c.la,c.ha,a)||c.Kh(f.na,f.ja,a)||c.Kh(f.la,f.ha,a)?1:b&&0!=e?0:0==d.ye(c,f)?
0:1};d.ov=function(c,f,b,e,g,n){var k=0,t=c.ho(f.na,f.ja,n,!1),h=c.ho(f.la,f.ha,n,!1),l=f.ho(c.na,c.ja,n,!1),A=f.ho(c.la,c.ha,n,!1);isNaN(t)||(null!=e&&(e[k]=t),null!=g&&(g[k]=0),null!=b&&(b[k]=a.b.Oa(f.na,f.ja)),k++);isNaN(h)||(null!=e&&(e[k]=h),null!=g&&(g[k]=1),null!=b&&(b[k]=a.b.Oa(f.la,f.ha)),k++);2==k||isNaN(l)||0==t&&0==l||0==h&&1==l||(null!=e&&(e[k]=0),null!=g&&(g[k]=l),null!=b&&(b[k]=a.b.Oa(c.na,c.ja)),k++);2==k||isNaN(A)||1==t&&0==A||1==h&&1==A||(null!=e&&(e[k]=1),null!=g&&(g[k]=A),null!=
b&&(b[k]=a.b.Oa(f.la,f.ha)),k++);if(0<k)return 2==k&&null!=e&&e[0]>e[1]&&(c=e[0],e[0]=e[1],e[1]=c,null!=g&&(e=g[0],g[0]=g[1],g[1]=e),null!=b&&(g=a.b.Oa(b[0].x,b[0].y),b[0]=b[1],b[1]=g)),k;k=d.Id(c,f,n);if(isNaN(k.x))return 0;null!=b&&(b[0]=c.Kb(k.x));null!=e&&(e[0]=k.x);null!=g&&(g[0]=k.y);return 1};d.prototype.TC=function(){return 0};d.prototype.eo=function(){};d.prototype.toString=function(){return"Line: ["+this.na.toString()+", "+this.ja.toString()+", "+this.la.toString()+", "+this.ha.toString()+
"]"};return d}(a.fA);a.yb=b})(z||(z={}));(function(a){var b=function(){function a(){this.Gl=[];this.ua=-1}a.prototype.ya=function(){return this.ua};a.prototype.next=function(){if(null!=this.Gl&&0!=this.Gl.length){this.ua++;var d=this.Gl[0];1>=this.Gl.length?this.Gl=[]:this.Gl=this.Gl.slice(1);return d}return this.Gl=null};return a}();a.MT=b})(z||(z={}));(function(a){(function(a){a[a.enumFillRuleOddEven=0]="enumFillRuleOddEven";a[a.enumFillRuleWinding=1]="enumFillRuleWinding"})(a.qI||(a.qI={}));var b=
function(b){function d(c,f){b.call(this);this.Yf=!1;this.np=null;this.ap=this.bp=0;this.Uh=null;this.ng=!1;this.td=this.li=this.Fe=this.qb=this.jb=null;this.gp=this.Qa=this.cp=0;if(void 0===f)this.Yf=c,this.ng=!1,this.ta=this.ap=this.bp=this.cp=0,this.description=a.Od.Tf();else{if(null==f)throw a.g.N();this.Yf=c;this.ng=!1;this.ta=this.ap=this.bp=this.cp=0;this.description=f}this.Uh=null;this.Qa=0}K(d,b);d.prototype.Hm=function(){return 0<this.cp};d.prototype.nv=function(){this.qc();null==this.np?
this.np=new a.Va(this.description):this.np.Qf(this.description)};d.prototype.Uy=function(c,f){var d=new a.b;d.x=c;d.y=f;this.Nr(d)};d.prototype.Nr=function(c){this.nv();this.np.ic(c);this.ng=!0};d.prototype.df=function(c){if(c.s())throw a.g.N();this.Ik(c.description);this.nv();c.copyTo(this.np);this.ng=!0};d.prototype.iv=function(){var c=1;this.ng&&(this.nv(),null==this.jb?(this.jb=a.Ac.Dg(2),this.jb.write(0,0),this.qb=a.Ac.to(2,0)):(this.jb.resize(this.jb.size+1,0),this.qb.resize(this.qb.size+1,
0)),this.Yf&&this.qb.write(this.qb.size-2,1),c++);var f=this.ta;this.jb.write(this.jb.size-1,this.ta+c);this.jo(f+c);this.qb.write(this.jb.size-1,0);this.ng&&(this.Iu(f,this.np),this.ng=!1)};d.prototype.wj=function(c,f){this.iv();this.ic(this.ta-1,c,f)};d.prototype.Lm=function(c){this.iv();this.ic(this.ta-1,c)};d.prototype.lineTo=function(c){this.iv();this.Iu(this.ta-1,c)};d.prototype.ro=function(){var c;this.Su();void 0===c&&(this.ng=!1,c=this.ea()-1);var f=this.qb.read(c);this.qb.write(c,f|1);null!=
this.Fe&&(c=this.Dc(c)-1,this.Fe.write(c,1),this.li.write(c,-1))};d.$i=function(c){return d.Id[c]};d.prototype.vc=function(c){return 0!=(this.qb.read(c)&1)};d.prototype.Oo=function(c){if(this.vc(c))return!0;var f=this.Ea(c);c=this.Dc(c)-1;if(f>c)return!1;f=this.Fa(f);c=this.Fa(c);return f.ub(c)};d.prototype.yq=function(c){return 0!=(this.qb.read(c)&2)};d.prototype.Bc=function(c,f){this.Ik(c.description);if(322==c.D()){var d=new a.Va;if(f||this.s())c.En(d),this.df(d);c.Bn(d);this.lineTo(d)}else throw a.g.wa();
};d.prototype.ws=function(c){var f=0==this.ta;this.Uy(c.v,c.C);this.wj(c.v,c.G);this.wj(c.B,c.G);this.wj(c.B,c.C);this.ro();this.ng=!1;f&&this.yf(256,!1)};d.prototype.Wc=function(c,f){if(!c.s()){for(var d=0==this.ta,b=new a.Va(this.description),e=0;4>e;e++)c.uf(f?4-e-1:e,b),0==e?this.df(b):this.lineTo(b);this.ro();this.ng=!1;d&&!f&&this.yf(256,!1)}};d.prototype.add=function(c,f){for(var d=0;d<c.ea();d++)this.Zj(c,d,!f)};d.prototype.Zj=function(c,f,d){this.Cf(-1,c,f,d)};d.prototype.lo=function(){this.Sw()};
d.prototype.ys=function(c,f,d,b,e){e||0!=this.ea()||(e=!0);0>f&&(f=c.ea()-1);if(f>=c.ea()||0>d||0>b||b>c.ct(f))throw a.g.ra("index out of bounds");if(0!=b){var k=c.vc(f)&&d+b==c.ct(f);if(!k||1!=b){this.ng=!1;this.Ik(c.description);d=c.Ea(f)+d+1;e&&(b++,d--);k&&b--;k=this.ta;this.jo(this.ta+b);this.kc();if(e){if(0==b)return;this.jb.add(this.ta);e=c.qb.read(f);e&=-5;this.Yf&&(e|=1);this.qb.write(this.qb.size-1,e);this.qb.add(0)}else this.jb.write(this.qb.size-1,this.ta);e=0;for(var g=this.description.Aa;e<
g;e++){var t=this.description.Hd(e),n=a.pa.Wa(t),h=c.description.zf(t);0>h||null==c.Ba[h]?this.Ba[e].ul(n*k,a.pa.ue(t),b*n,n*k):this.Ba[e].nk(n*k,c.Ba[h],n*d,b*n,!0,n,n*k)}if(this.Hm())throw a.g.wa();if(c.yq(f))throw a.g.wa();this.ce(1993)}}};d.prototype.Cr=function(c){this.kc();var f=this.ea();0>c&&(c=f-1);if(c>=f)throw a.g.N();for(var d=this.Ea(c),b=this.Ha(c),e=0,g=this.description.Aa;e<g;e++)if(null!=this.Ba[e]){var n=a.pa.Wa(this.description.Fd(e));this.Ba[e].oj(n*d,n*b,n*this.ta)}for(d=c+1;d<=
f;d++)e=this.jb.read(d),this.jb.write(d-1,e-b);if(null==this.qb)for(d=c+1;d<=f;d++)c=this.qb.read(d),this.qb.write(d-1,c);this.jb.resize(f);this.qb.resize(f);this.ta-=b;this.rg-=b;this.ce(1993)};d.prototype.Cf=function(c,f,d,b){if(f==this)throw a.g.N();if(d>=f.ea())throw a.g.N();var e=this.ea();if(c>e)throw a.g.N();0>c&&(c=e);0>d&&(d=f.ea()-1);this.ng=!1;this.Ik(f.description);f.kc();var k=f.Ea(d),g=f.Ha(d),t=this.ta,n=f.vc(d)&&!b?1:0;this.jo(this.ta+g);this.kc();for(var h=c<e?this.Ea(c):t,l=0,m=
this.description.Aa;l<m;l++){var r=this.description.Fd(l),q=f.description.zf(r),v=a.pa.Wa(r);0<=q&&null!=f.Ba[q]?(0!=n&&this.Ba[l].nk(h*v,f.Ba[q],v*k,v,!0,v,v*t),this.Ba[l].nk((h+n)*v,f.Ba[q],v*(k+n),v*(g-n),b,v,v*(t+n))):this.Ba[l].ul(h*v,a.pa.ue(r),v*g,v*t)}this.jb.add(t+g);for(b=e;b>=c+1;b--)k=this.jb.read(b-1),this.jb.write(b,k+g);f.yq(d);this.qb.add(0);for(b=e-1;b>=c+1;b--)e=this.qb.read(b),e&=-5,this.qb.write(b+1,e);e=f.VN().read(d);e&=-5;this.Yf&&(e|=1);this.qb.write(c,e)};d.prototype.Sw=function(){var c=
-1,f=this.ea();if(c>f)throw a.g.N();0>c&&(c=f);this.ng=!1;this.kc();this.jb.add(this.ta);for(var d=f;d>=c+1;d--){var b=this.jb.read(d-1);this.jb.write(d,b+0)}this.qb.add(0);for(d=f-1;d>=c+1;d--)f=this.qb.read(d),f&=-5,this.qb.write(d+1,f);this.Yf&&this.qb.write(c,1)};d.prototype.dD=function(c,f,d){var b=-1;0>c&&(c=this.ea());if(c>this.ea()||b>this.Ha(c)||d>f.length)throw a.g.ra("index out of bounds");if(0!=d){c==this.ea()&&(this.jb.add(this.ta),this.Yf?this.qb.add(1):this.qb.add(0));0>b&&(b=this.Ha(c));
this.kc();var e=this.ta;this.jo(this.ta+d);this.kc();for(var k=0,g=this.description.Aa;k<g;k++){var n=this.description.Fd(k),h=a.pa.Wa(n);this.Ba[k].km(h*(this.Ea(c)+b+d),(e-this.Ea(c)-b)*h,this.Ba[k],h*(this.Ea(c)+b),!0,h);0==k?this.Ba[k].$p(h*(this.Ea(c)+b),d,f,0,!0):this.Ba[k].dh(a.pa.ue(n),(this.Ea(c)+b)*h,d*h)}this.Hm()&&(this.Fe.km(this.Ea(c)+b+d,e-this.Ea(c)-b,this.Fe,this.Ea(c)+b,!0,1),this.li.km(this.Ea(c)+b+d,e-this.Ea(c)-b,this.li,this.Ea(c)+b,!0,1),this.Fe.dh(1,this.Ea(c)+b,d),this.li.dh(-1,
this.Ea(c)+b,d));c+=1;for(f=this.ea();c<=f;c++)this.jb.write(c,this.jb.read(c)+d)}};d.prototype.kf=function(c,f,d){var b=this.ea();0>c&&(c=this.ea());if(c>=b||f>this.Ha(c))throw a.g.ra("index out of bounds");c==this.ea()&&(this.jb.add(this.ta),this.Yf?this.qb.add(1):this.qb.add(0));0>f&&(f=this.Ha(c));var e=this.ta;this.jo(this.ta+1);this.kc();var k=this.Ea(c);this.Ba[0].lg(2*(k+f),d,2*e);d=1;for(var g=this.description.Aa;d<g;d++){var n=this.description.Fd(d),h=a.pa.Wa(n);this.Ba[d].ul(h*(k+f),a.pa.ue(n),
h,h*e)}for(c+=1;c<=b;c++)this.jb.write(c,this.jb.read(c)+1)};d.prototype.eF=function(c,f){var d=this.ea();0>c&&(c=d-1);if(c>=d||f>=this.Ha(c))throw a.g.ra("index out of bounds");this.kc();var b=this.Ea(c);0>f&&(f=this.Ha(c)-1);b+=f;f=0;for(var e=this.description.Aa;f<e;f++)if(null!=this.Ba[f]){var g=a.pa.Wa(this.description.Fd(f));this.Ba[f].oj(g*b,g,g*this.ta)}for(;d>=c+1;d--)b=this.jb.read(d),this.jb.write(d,b-1);this.ta--;this.rg--;this.ce(1993)};d.prototype.Rf=function(){return a.Hh.il(this,null)};
d.prototype.Ja=function(){this.cp=0;this.ng=!1;this.td=this.Fe=this.li=this.qb=this.jb=null;this.EA()};d.prototype.Oe=function(c){c instanceof a.Bg?this.ZA(c,-1):this.$J(c)};d.prototype.ZA=function(c,f){if(!this.s()&&!c.XO()){this.kc();var d=this.Ba[0],b=new a.b,e=new a.b,g,n,h;for(0>f?(g=this.Hm(),n=0,h=this.ta):(g=this.yq(f),n=this.Ea(f),h=this.Dc(f));n<h;n++){b.x=d.read(2*n);b.y=d.read(2*n+1);if(g&&(f=this.li.read(n),0<=f))switch(this.Fe.read(n)&7){case 2:e.x=this.td.read(f);e.y=this.td.read(f+
1);c.Zi(e,e);this.td.write(f,e.x);this.td.write(f+1,e.y);e.x=this.td.read(f+3);e.y=this.td.read(f+4);c.Zi(e,e);this.td.write(f+3,e.x);this.td.write(f+4,e.y);break;case 4:throw a.g.wa();}c.Zi(b,b);d.write(2*n,b.x);d.write(2*n+1,b.y)}this.ce(1993)}};d.prototype.$J=function(c){if(!this.s()){this.Ne(1);this.kc();for(var f=this.Ba[0],d=this.Ba[1],b=new a.ee,e=new a.ee,g=this.Hm(),n=0;n<this.ta;n++){b.x=f.read(2*n);b.y=f.read(2*n+1);b.z=d.read(n);if(g){var h=this.li.read(n);if(0<=h)switch(this.Fe.read(n)&
7){case 2:e.x=this.td.read(h);e.y=this.td.read(h+1);e.z=this.td.read(h+2);e=c.Qn(e);this.td.write(h,e.x);this.td.write(h+1,e.y);this.td.write(h+1,e.z);e.x=this.td.read(h+3);e.y=this.td.read(h+4);e.z=this.td.read(h+5);e=c.Qn(e);this.td.write(h+3,e.x);this.td.write(h+4,e.y);this.td.write(h+5,e.z);break;case 4:throw a.g.wa();}}b=c.Qn(b);f.write(2*n,b.x);f.write(2*n+1,b.y);d.write(n,b.z)}this.ce(1993)}};d.prototype.xv=function(){null==this.jb&&(this.jb=a.Ac.Dg(1,0),this.qb=a.Ac.to(1,0));null!=this.Fe&&
(this.Fe.resize(this.rg,1),this.li.resize(this.rg,-1))};d.prototype.eo=function(c){c.ng=!1;c.cp=this.cp;c.gp=this.gp;null!=this.jb?c.jb=a.ga.lj(this.jb):c.jb=null;null!=this.qb?c.qb=a.Wk.lj(this.qb):c.qb=null;null!=this.li?c.li=a.ga.lj(this.li):c.li=null;null!=this.Fe?c.Fe=a.Wk.lj(this.Fe):c.Fe=null;null!=this.td?c.td=a.qd.lj(this.td):c.td=null;c.bp=this.bp;c.ap=this.ap;this.gj(1024)?c.Uh=null:c.Uh=this.Uh};d.prototype.$b=function(){if(!this.gj(512))return this.bp;for(var c=this.Ca(),f=new a.av(0);c.kb();)for(;c.La();)f.add(c.ia().$b());
this.bp=f.rl();this.yf(512,!1);return f.rl()};d.prototype.lc=function(c){if(c==this)return!0;if(!(c instanceof d&&b.prototype.lc.call(this,c)))return!1;var f=this.ea();return f!=c.ea()||null!=this.jb&&!this.jb.lc(c.jb,0,f+1)||this.gp!=c.gp||null!=this.qb&&!this.qb.lc(c.qb,0,f)?!1:b.prototype.lc.call(this,c)};d.prototype.Ca=function(){return new a.GI(this)};d.prototype.wv=function(c){b.prototype.wv.call(this,c);if(this.Hm())for(c=this.Ca();c.kb();)for(;c.La();)break};d.prototype.tm=function(c,f){b.prototype.tm.call(this,
c,f);if(this.Hm())for(c=this.Ca();c.kb();)for(;c.La();)break};d.prototype.qv=function(){null==this.jb||0==this.jb.size?this.ta=0:this.ta=this.jb.read(this.jb.size-1)};d.prototype.Mh=function(){if(!this.Yf)return 0;this.ts();return this.ap};d.prototype.qt=function(c){if(!this.Yf)return!1;if(!this.gj(8))return 0!=(this.qb.read(c)&4);this.ts();return 0<this.Uh.read(c)};d.prototype.oo=function(c){if(!this.Yf)return 0;this.ts();return this.Uh.read(c)};d.prototype.ts=function(){if(this.gj(1024)){var c=
this.ea();null==this.Uh?this.Uh=new a.qd(c):this.Uh.size!=c&&this.Uh.resize(c);for(var c=new a.av(0),f=new a.av(0),d=new a.b,b=0,e=this.Ca();e.kb();){f.reset();for(this.w(this.Ea(e.Qa),d);e.La();)f.add(e.ia().kv(d.x,d.y));c.add(f.rl());var g=b++;this.Uh.write(g,f.rl())}this.ap=c.rl();this.yf(1024,!1)}};d.prototype.hl=function(){if(this.gj(8)){this.ts();var c=this.ea();if(null==this.qb||this.qb.size<c)this.qb=a.Ac.to(c+1);for(var f=1,d=0;d<c;d++){var b=this.Uh.read(d);0==d&&(f=0<b?1:-1);0<b*f?this.qb.xy(d,
4):this.qb.BB(d,4)}this.yf(8,!1)}};d.prototype.Ew=function(c){var f=this.Qa,d=this.ea();if(0<=f&&f<d){if(c<this.Dc(f)){if(c>=this.Ea(f))return f;f--}else f++;if(0<=f&&f<d&&c>=this.Ea(f)&&c<this.Dc(f))return this.Qa=f}if(5>d){for(f=0;f<d;f++)if(c<this.Dc(f))return this.Qa=f;throw a.g.ra("corrupted geometry");}f=0;for(--d;d>f;){var b=f+(d-f>>1),e=this.Ea(b);if(c<e)d=b-1;else if(f=this.Dc(b),c>=f)f=b+1;else return this.Qa=b}return this.Qa=f};d.prototype.HN=function(c){var f=this.mc(0);this.WN();var d=
this.Dc(c),b=this.Ea(c);c=-1;var e=new a.b,g=new a.b;e.y=-Infinity;e.x=-Infinity;for(b+=0;b<d;b++)f.ec(2*b,g),-1==e.compare(g)&&(c=b,e.J(g));return c};d.prototype.Iw=function(){var c=this.F();if(!this.Yf)for(var c=c-this.ea(),f=0,d=this.ea();f<d;f++)this.vc(f)&&c++;return c};d.prototype.ct=function(c){var f=this.Ha(c);this.vc(c)||f--;return f};d.prototype.Pa=function(){return new d(this.Yf,this.description)};d.prototype.fb=function(){return this.Yf?2:1};d.prototype.D=function(){return this.Yf?1736:
1607};d.prototype.WN=function(){this.Su()};d.prototype.OF=function(c){this.jb=c;this.ce(16777215)};d.prototype.VN=function(){this.Su();return this.qb};d.prototype.NF=function(c){this.qb=c;this.ce(16777215)};d.prototype.ea=function(){return null!=this.jb?this.jb.size-1:0};d.prototype.Dc=function(c){return this.jb.read(c+1)};d.prototype.Ha=function(c){return this.jb.read(c+1)-this.jb.read(c)};d.prototype.Ea=function(c){return this.jb.read(c)};d.prototype.jv=function(c,f){null==this.pb&&(this.pb=new a.Wj);
f=a.dA.jR(f);var d=this.pb.hi;if(null!=d)if(d.Sx<c||f>d.cO())this.pb.uv(null);else return!0;d=a.dA.create(this,c,f);this.pb.uv(d);return!0};d.prototype.hc=function(){var c=b.prototype.hc.call(this);if(!this.sc()){var f=this.ea();null!=this.jb&&this.jb.jj(c,0,f+1);null!=this.qb&&this.qb.jj(c,0,f)}return c};d.prototype.NC=function(c){return null!=this.Fe?this.Fe.read(c):1};d.prototype.cc=function(c,f,d){var b=this.Ew(c);if(c==this.Dc(b)-1&&!this.vc(b))throw a.g.ra("index out of bounds");this.kc();var e=
this.Fe,k=1;null!=e&&(k=e.read(c)&7);switch(k){case 1:f.mq();break;case 2:throw a.g.wa();case 4:throw a.g.wa();default:throw a.g.wa();}f=f.get();d?f.Qf(a.Od.Tf()):f.Qf(this.description);b=c==this.Dc(b)-1&&this.vc(b)?this.Ea(b):c+1;e=new a.b;this.w(c,e);f.ed(e);this.w(b,e);f.vd(e);if(!d)for(d=1,e=this.description.Aa;d<e;d++)for(var k=this.description.Fd(d),g=a.pa.Wa(k),n=0;n<g;n++){var h=this.ld(k,c,n);f.My(k,n,h);h=this.ld(k,b,n);f.Cy(k,n,h)}};d.prototype.Ti=function(c,f){if(c>=this.ea())throw a.g.N();
if(this.s())f.Ja();else{if(this.yq(c))throw a.g.ra("not implemented");var d=this.mc(0),b=new a.b,e=new a.i;e.Ja();var g=this.Ea(c);for(c=this.Dc(c);g<c;g++)d.ec(2*g,b),e.Db(b);f.K(e)}};d.prototype.hR=function(c,f){if(c>=this.ea())throw a.g.N();if(this.s())f.Ja();else{if(this.yq(c))throw a.g.ra("not implemented");var d=this.mc(0),b=new a.b,e=new a.i;e.Ja();var g=this.Ea(c);for(c=this.Dc(c);g<c;g++)d.ec(2*g,b),e.Db(b);f.K(e)}};d.prototype.dj=function(c){null==this.pb&&(this.pb=new a.Wj);if(0==c||16>
this.F())return!1;c=a.Ia.nB(this);this.pb.GA(c);return!0};d.prototype.jJ=function(){null==this.pb&&(this.pb=new a.Wj);if(null!=this.pb.nn)return!0;this.pb.HA(null);var c=a.Ia.CK(this);this.pb.HA(c);return!0};d.prototype.Pp=function(c){this.gp=c};d.prototype.Cm=function(){return this.gp};d.Id=[0,0,6,0,8,0];return d}(a.Wr);a.al=b})(z||(z={}));(function(a){var b=function(b){function d(c){b.call(this);if(void 0!==c){if(null==c)throw a.g.N();this.description=c}else this.description=a.Od.Tf();this.ta=0}
K(d,b);d.prototype.Pa=function(){return new d(this.description)};d.prototype.add=function(c){this.resize(this.ta+1);this.bh(this.ta-1,c)};d.prototype.zs=function(c,f){this.resize(this.ta+1);var d=new a.b;d.ma(c,f);this.ic(this.ta-1,d)};d.prototype.Pd=function(c,f,d){d=0>d?c.F():d;if(0>f||f>c.F()||d<f)throw a.g.N();if(f!=d){this.Ik(c.description);d-=f;var b=this.ta;this.resize(this.ta+d);this.kc();for(var e=0,k=c.description.Aa;e<k;e++){var g=c.description.Fd(e),n=a.pa.Wa(g),h=this.mc(g),g=c.mc(g);
h.nk(b*n,g,f*n,d*n,!0,1,b*n)}}};d.prototype.eF=function(c){if(0>c||c>=this.F())throw a.g.ra("index out of bounds");this.kc();for(var f=0,d=this.description.Aa;f<d;f++)if(null!=this.Ba[f]){var b=a.pa.Wa(this.description.Fd(f));this.Ba[f].oj(b*c,b,b*this.ta)}this.ta--;this.rg--;this.ce(1993)};d.prototype.resize=function(c){this.jo(c)};d.prototype.eo=function(){};d.prototype.Ja=function(){b.prototype.EA.call(this)};d.prototype.Oe=function(c){if(c instanceof a.Bg){if(!this.s()){this.kc();for(var f=this.Ba[0],
d=new a.b,b=0;b<this.ta;b++)d.x=f.read(2*b),d.y=f.read(2*b+1),c.Zi(d,d),f.write(2*b,d.x),f.write(2*b+1,d.y);this.ce(1993)}}else if(!this.s()){this.kc();this.Ne(1);this.kc();for(var f=this.Ba[0],d=this.Ba[1],e=new a.ee,b=0;b<this.ta;b++){e.x=f.read(2*b);e.y=f.read(2*b+1);e.z=d.read(b);var g=c.Qn(e);f.write(2*b,g.x);f.write(2*b+1,g.y);d.write(b,g.z)}this.ce(1993)}};d.prototype.fb=function(){return 0};d.prototype.D=function(){return 550};d.prototype.Mh=function(){return 0};d.prototype.$b=function(){return 0};
d.prototype.lc=function(c){return c==this?!0:c instanceof d?b.prototype.lc.call(this,c):!1};d.prototype.fR=function(c,f){var d=this.ta,d=Math.min(d,f+1E3);if(0>f||f>=this.ta||d<f||1E3!=c.length)throw a.g.N();var b=this.mc(0),e=d-f,g=[];b.Hp(2*f,2*e,g,0,!0);for(b=0;b<e;b++)c[b]=a.b.Oa(g[2*b],g[2*b+1]);return d};d.prototype.qv=function(){};d.prototype.xv=function(){};d.prototype.jv=function(){return!1};d.prototype.dj=function(){return!1};d.prototype.Rf=function(){return null};return d}(a.Wr);a.pe=b})(z||
(z={}));(function(a){(function(a){a[a.NotDetermined=0]="NotDetermined";a[a.Structure=1]="Structure";a[a.DegenerateSegments=2]="DegenerateSegments";a[a.Clustering=3]="Clustering";a[a.Cracking=4]="Cracking";a[a.CrossOver=5]="CrossOver";a[a.RingOrientation=6]="RingOrientation";a[a.RingOrder=7]="RingOrder";a[a.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";a[a.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";a[a.OGCDisconnectedInterior=10]="OGCDisconnectedInterior"})(a.NH||(a.NH={}));var b=function(){function a(d,
c,f){void 0===d?(this.yh=0,this.Gk=this.Fk=-1):(this.yh=d,this.Fk=c,this.Gk=f)}a.prototype.aq=function(d){this.yh=d.yh;this.Fk=d.Fk;this.Gk=d.Gk};return a}();a.wd=b})(z||(z={}));(function(a){var b=function(){function b(){}b.WT=function(d){if(!1===d)throw a.g.PG();};b.bG=function(d){return isNaN(d)?NaN:0===d?d:0<d?1:-1};b.Lh=function(d,c){void 0===c&&(c=0);for(var f=[],a=0;a<d;a++)f[a]=c;return f};b.Ps=function(d,c){var f,a;void 0===f&&(f=0);for(void 0===a&&(a=d.length-1);f<=a;f++)d[f]=c};b.Kr=function(d,
c,f){return d<c?c:d>f?f:d};b.mU=function(){return 4};b.kg=function(d,c){var f=5381;void 0!==c?f=(c<<5)+c+(d&255):f=(f<<5)+f+(d&255);f=(f<<5)+f+(d>>8&255);f=(f<<5)+f+(d>>16&255);return(f<<5)+f+(d>>24&255)&2147483647};b.Rh=function(){throw Error("Not Implemented");};b.iU=function(){return-Infinity};b.kU=function(){return Infinity};b.bU=function(){return 2147483647};b.QT=function(){return 2.220446049250313E-16};b.ST=function(){return 1.7976931348623157E308};b.$x=function(d){return b.JH(d)+12345&2147483647};
b.FD=function(d){var c=32,f=d%b.gv|0,a=d/b.gv|0;if(0===(c&=63))return d;32>c?(d=f>>>c|a<<32-c,c=a>>c):(d=a>>c-32,c=0<=a?0:-1);return c*b.gv+(d>>>0)};b.JH=function(d){d|=0;return(1103495168*d|0)+(20077*d|0)|0};b.truncate=function(d){return 0>d?-1*Math.floor(Math.abs(d)):Math.floor(d)};b.aH=Math.pow(2,53)-1;b.UT=-b.aH;b.pF=65536;b.zU=16777216;b.gv=b.pF*b.pF;return b}();a.I=b})(z||(z={}));(function(a){(function(a){a[a.Project=0]="Project";a[a.Union=1]="Union";a[a.Difference=2]="Difference";a[a.Proximity2D=
3]="Proximity2D";a[a.Relate=4]="Relate";a[a.Equals=5]="Equals";a[a.Disjoint=6]="Disjoint";a[a.Intersects=7]="Intersects";a[a.Within=8]="Within";a[a.Contains=9]="Contains";a[a.Crosses=10]="Crosses";a[a.Touches=11]="Touches";a[a.Overlaps=12]="Overlaps";a[a.Buffer=13]="Buffer";a[a.Distance=14]="Distance";a[a.Intersection=15]="Intersection";a[a.Clip=16]="Clip";a[a.Cut=17]="Cut";a[a.DensifyByLength=18]="DensifyByLength";a[a.DensifyByAngle=19]="DensifyByAngle";a[a.LabelPoint=20]="LabelPoint";a[a.GeodesicBuffer=
21]="GeodesicBuffer";a[a.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";a[a.ShapePreservingDensify=23]="ShapePreservingDensify";a[a.GeodeticLength=24]="GeodeticLength";a[a.GeodeticArea=25]="GeodeticArea";a[a.Simplify=26]="Simplify";a[a.SimplifyOGC=27]="SimplifyOGC";a[a.Offset=28]="Offset";a[a.Generalize=29]="Generalize";a[a.SymmetricDifference=30]="SymmetricDifference";a[a.ConvexHull=31]="ConvexHull";a[a.Boundary=32]="Boundary";a[a.SimpleRelation=33]="SimpleRelation"})(a.iI||(a.iI={}));var b=
function(){function b(){}b.prototype.D=function(){return null};b.NT=function(d){a.T.Th(d.D())&&(d=d.pb,null!=d&&(d.uv(null),d.GA(null)))};return b}();a.Me=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 13};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d,b,e){return c instanceof a.T?(e=new a.Pc(c),this.$(e,f,[d],!1,b).next()):!0===b?(d=new a.Pz(c,f,d,!1,e),a.wi.local().$(d,f,e)):new a.Pz(c,
f,d,!1,e)};d.V=null;return d}(a.Me);a.Oz=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,b,e){this.ua=-1;this.ne=d;this.fx=c;this.Oq=f;this.BP=new a.i;this.BP.Ja();this.Vm=-1;this.Yb=e}b.prototype.next=function(){for(var d;null!=(d=this.ne.next());)return this.ua=this.ne.ya(),this.Vm+1<this.Oq.length&&this.Vm++,this.buffer(d,this.Oq[this.Vm]);return null};b.prototype.ya=function(){return this.ua};b.prototype.buffer=function(d,c){return a.UG.buffer(d,c,this.fx,NaN,96,this.Yb)};return b}();
a.Pz=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 16};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d,b){return c instanceof a.T?(c=new a.Pc(c),this.$(c,f,d,b).next()):new a.TH(c,f,d,b)};d.V=null;return d}(a.Me);a.SH=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f){this.ua=-1;if(null==d)throw a.g.N();this.R=c;this.wk=d;this.ka=a.Ia.zd(f,c,!1)}b.prototype.next=function(){var d;
return null!=(d=this.wk.next())?(this.ua=this.wk.ya(),a.Ed.clip(d,this.R,this.ka,0)):null};b.prototype.ya=function(){return this.ua};return b}();a.TH=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 31};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d){return c instanceof a.T?a.Rz.qB(c):new a.Rz(f,c,d)};d.V=null;return d}(a.Me);a.Qz=b})(z||(z={}));(function(a){var b=function(){function b(d,
c,f){this.cE=new a.Tr;this.ua=-1;if(null==c)throw a.g.N();this.zP=d;this.Ec=!1;this.wk=c;this.Yb=f}b.prototype.next=function(){if(this.zP){if(!this.Ec){var d=this.GK(this.wk);this.Ec=!0;return d}return null}if(!this.Ec){d=this.wk.next();if(null!=d)return this.ua=this.wk.ya(),b.qB(d);this.Ec=!0}return null};b.prototype.ya=function(){return this.ua};b.prototype.GK=function(d){for(var c;null!=(c=d.next());)this.cE.Eb(c);return this.cE.sN()};b.qB=function(d){if(b.Gh(d))return d;var c=d.D();if(a.al.Lc(c))return c=
new a.Xa(d.description),c.Bc(d,!0),c;if(550==c&&2==d.F()){var f=new a.Va,c=new a.Xa(d.description);d.Sd(0,f);c.df(f);d.Sd(1,f);c.lineTo(f);return c}return a.Tr.wL(d)};b.Gh=function(d){if(d.s())return!0;var c=d.D();return 33==c||197==c?!0:a.al.Lc(c)?!1:550==c?1==d.F()?!0:!1:1607==c?1==d.ea()&&2>=d.F()?!0:!1:1!=d.ea()?!1:2>=d.F()?!0:a.Tr.sD(d,0)};return b}();a.Rz=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 17};d.local=function(){null===
d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d,b,e){return new a.VH(c,f,d,b,e)};d.V=null;return d}(a.Me);a.UH=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,b,e){this.Ef=null;if(null==c||null==f)throw a.g.ra("invalid argument");this.xP=d;this.rx=c;this.RD=f;d=a.Ia.$s(c,f);this.ka=a.Ia.zd(b,d,!0);this.QD=-1;this.oe=e}b.prototype.ya=function(){return 0};b.prototype.next=function(){this.gN();return++this.QD<this.Ef.length?this.Ef[this.QD]:null};b.prototype.gN=function(){if(null==
this.Ef)switch(this.Ef=[],this.rx.D()){case 1607:this.iN();break;case 1736:this.hN()}};b.prototype.iN=function(){var d=new a.Xa,c=new a.Xa,f=new a.Xa;this.Ef.push(d);this.Ef.push(c);var b=[];a.$G.YG(this.xP,this.rx,this.RD,this.ka,b,this.oe);for(var e=0;e<b.length;e++){var g=b[e];0==g.cu?d.add(g.U,!1):1==g.cu||2==g.cu?c.add(g.U,!1):3==g.cu?this.Ef.push(g.U):f.add(g.U,!1)}f.s()||d.s()&&c.s()&&!(3<=this.Ef.length)||this.Ef.push(f);d.s()&&c.s()&&3>this.Ef.length&&(this.Ef.length=0)};b.prototype.hN=function(){var d=
new a.ga(0),c=new a.fd,f=c.RB(),b=c.Eb(this.rx),e=c.Eb(this.RD),g=new a.Of;try{g.Np(c,this.ka,this.oe);g.xm(f,b,e,d);var n=c.hf(b),h=new a.Ka,l=new a.Ka;this.Ef.length=0;this.Ef.push(h);this.Ef.push(l);for(b=0;b<d.size;b++){var m,r=new a.fd,q=r.Eb(n),v=r.Eb(c.hf(d.get(b)));g.Mp(r,this.oe);var p=g.mt(q,v);m=r.hf(p);if(!m.s()){var w=c.yC(d.get(b),f);2==w?h.add(m,!1):1==w?l.add(m,!1):this.Ef.push(m);var u=new a.fd,q=u.Eb(n),v=u.Eb(c.hf(d.get(b)));g.Mp(u,this.oe);n=u.hf(g.ll(q,v))}}!n.s()&&0<d.size&&
this.Ef.push(n);h.s()&&l.s()&&(this.Ef.length=0)}finally{g.xg()}};return b}();a.VH=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 18};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d){if(c instanceof a.T)return c=new a.Pc(c),this.$(c,f,d).next();if(0>=f)throw a.g.N();return new a.XH(c,f,d)};d.V=null;return d}(a.Me);a.WH=b})(z||(z={}));(function(a){var b=function(){function b(d,c){this.ua=
-1;this.ne=d;this.$q=c}b.prototype.ya=function(){return this.ua};b.prototype.next=function(){var d;return null!=(d=this.ne.next())?(this.ua=this.ne.ya(),this.hM(d)):null};b.prototype.hM=function(d){if(d.s()||1>d.fb())return d;var c=d.D();if(1736==c||1607==c)return this.Xv(d);if(a.T.Lc(c))return this.jM(d);if(197==c)return this.iM(d);throw a.g.wa();};b.prototype.jM=function(d){if(d.$b()<=this.$q)return d;var c=new a.Xa(d.description);c.Bc(d,!0);return this.Xv(c)};b.prototype.iM=function(d){var c=new a.Ka(d.description);
c.Wc(d,!1);var f=new a.i;d.o(f);d=f.ba();return f.aa()<=this.$q&&d<=this.$q?c:this.Xv(c)};b.prototype.Xv=function(d){for(var c=d.Pa(),f=d.Ca();f.kb();)for(var b=!0;f.La();){var e=f.ia();if(322!=e.D())throw a.g.ra("not implemented");var g=f.lD(),n=e.$b();if(n>this.$q){var h=Math.ceil(n/this.$q),n=new a.Va(d.description);b&&(e.En(n),c.df(n));for(var l=b=1/h,m=0,h=h-1;m<h;m++)e.uu(l,n),c.lineTo(n),l+=b;g?c.ro():(e.Bn(n),c.lineTo(n))}else g?c.ro():c.Bc(e,b);b=!1}return c};return b}();a.XH=b})(z||(z={}));
(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.D=function(){return 2};d.prototype.$=function(c,f,d,b){return c instanceof a.T?(c=new a.Pc(c),f=new a.Pc(f),this.$(c,f,d,b).next()):new a.YH(c,f,d,b)};d.ll=function(c,f,b,e){if(c.s()||f.s())return c;var k=c.fb(),g=f.fb();if(k>g)return c;var t=c.D(),n=f.D(),h=new a.i,l=new a.i,m=new a.i;c.o(h);f.o(l);m.K(h);m.Db(l);var m=a.Ia.zd(b,m,!1),r=m*Math.sqrt(2)*1.00001,
q=new a.i;q.K(h);q.P(r,r);if(!q.jc(l))return c;if(1==k&&2==g)return d.UI(c,f,n,b,e);if(33==t)switch(a.al.Lc(n)?(b=new a.Xa(f.description),b.Bc(f,!0)):b=f,n){case 1736:return d.kP(c,b,m);case 1607:return d.nP(c,b,m);case 550:return d.dN(c,b,m);case 197:return d.FM(c,b,m);case 33:return d.rO(c,b,m);default:throw a.g.N();}else if(550==t)switch(n){case 1736:return d.ZI(c,f,m);case 197:return d.TI(c,f,m);case 33:return d.WI(c,f,m)}return a.Of.ll(c,f,b,e)};d.kP=function(c,f,d){return 0==a.gd.uD(f,c,d)?
c:c.Pa()};d.nP=function(c,f,d){var b=c.w();f=f.Ca();for(var e=d*Math.sqrt(2)*1.00001,k=e*e,g=new a.i;f.kb();)for(;f.La();){var n=f.ia();n.o(g);g.P(e,e);if(g.contains(b)){if(n.Eq(b,d))return c.Pa();var h=n.Mb();if(a.b.Zb(b,h)<=k)return c.Pa();h=n.oc();if(a.b.Zb(b,h)<=k)return c.Pa()}}return c};d.dN=function(c,f,d){var b=f.mc(0);f=f.F();var e=c.w(),k=new a.b;d=d*Math.sqrt(2)*1.00001;d*=d;for(var g=0;g<f;g++)if(b.ec(2*g,k),a.b.Zb(k,e)<=d)return c.Pa();return c};d.FM=function(c,f,d){var b=new a.i;f.o(b);
b.P(d,d);f=c.w();return b.contains(f)?c.Pa():c};d.rO=function(c,f,d){d=d*Math.sqrt(2)*1.00001;d*=d;var b=c.w();f=f.w();return a.b.Zb(b,f)<=d?c.Pa():c};d.ZI=function(c,f,d){var b=new a.i;f.o(b);b.P(d,d);for(var e=c.F(),k=!1,g=[],n=0;n<e;n++)g[n]=!1;for(var h=new a.b,n=0;n<e;n++)c.w(n,h),b.contains(h)&&0!=a.gd.he(f,h,d)&&(k=!0,g[n]=!0);if(!k)return c;f=c.Pa();for(n=0;n<e;n++)g[n]||f.Pd(c,n,n+1);return f};d.TI=function(c,f,d){var b=new a.i;f.o(b);b.P(d,d);f=c.F();var e=!1;d=[];for(var k=0;k<f;k++)d[k]=
!1;for(var g=new a.b,k=0;k<f;k++)c.w(k,g),b.contains(g)&&(e=!0,d[k]=!0);if(!e)return c;b=c.Pa();for(k=0;k<f;k++)d[k]||b.Pd(c,k,k+1);return b};d.WI=function(c,f,d){var b=c.mc(0),e=c.F(),k=f.w(),g=new a.b,n=!1;f=[];for(var h=0;h<e;h++)f[h]=!1;h=d*Math.sqrt(2)*1.00001;d=h*h;for(h=0;h<e;h++)b.ec(2*h,g),a.b.Zb(g,k)<=d&&(n=!0,f[h]=!0);if(!n)return c;b=c.Pa();for(h=0;h<e;h++)f[h]||b.Pd(c,h,h+1);return b};d.UI=function(c,f,d,b,e){var k=new a.Vj;c.Fp(k);var g=new a.i;f.o(g);k.Db(g);k.P(.1*k.aa(),.1*k.ba());
g=new a.Ka;g.Wc(k,!1);1736==d?g.add(f,!0):g.Wc(f,!0);return a.$r.local().$(c,g,b,e)};d.V=null;return d}(a.Me);a.Zr=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,a){this.Fq=null==c;this.ua=-1;this.ne=d;this.fx=f;this.EP=c.next();this.Yb=a}b.prototype.next=function(){if(this.Fq)return null;var d;return null!=(d=this.ne.next())?(this.ua=this.ne.ya(),a.Zr.ll(d,this.EP,this.fx,this.Yb)):null};b.prototype.ya=function(){return this.ua};return b}();a.YH=b})(z||(z={}));(function(a){var b=function(){function d(c){this.oe=
c;this.Ii=new a.i;this.Ii.Ja();this.Ng=new a.i;this.Ng.Ja()}d.prototype.Pr=function(){var c;c=this.Ii.v;this.Ii.v=this.Ng.v;this.Ng.v=c;c=this.Ii.B;this.Ii.B=this.Ng.B;this.Ng.B=c;c=this.Ii.C;this.Ii.C=this.Ng.C;this.Ng.C=c;c=this.Ii.G;this.Ii.G=this.Ng.G;this.Ng.G=c};d.prototype.wM=function(c,f){var d=!this.Ii.jc(this.Ng);if(a.T.Kc(c.D())&&a.T.Kc(f.D())){if(c.F()>f.F())return this.gB(c,f,d);this.Pr();d=this.gB(f,c,d);this.Pr();return d}if(550==c.D()&&a.T.Kc(f.D()))return d=this.hB(f,c,d),this.Pr(),
d;if(550==f.D()&&a.T.Kc(c.D()))return this.hB(c,f,d);if(550==c.D()&&550==f.D()){if(c.F()>f.F())return this.iB(c,f);this.Pr();d=this.iB(f,c);this.Pr();return d}return 0};d.prototype.gB=function(c,f,d){var b=c.Ca(),e=f.Ca(),k=new a.i,g=new a.i,n=1.7976931348623157E308;if(!d&&this.iT(c,f,b,e))return 0;for(;b.kb();)for(;b.La();)if(c=b.ia(),c.o(k),!(k.Ou(this.Ng)>n)){for(;e.kb();)for(;e.La();)if(f=e.ia(),f.o(g),k.Ou(g)<n&&(f=c.Fb(f,d),f*=f,f<n)){if(0==f)return 0;n=f}e.Lk()}return Math.sqrt(n)};d.prototype.hB=
function(c,f,d){var b=c.Ca(),e=new a.i,k=1.7976931348623157E308,g=new a.b,n,h=f.F();for(d=!d&&1736==c.D();b.kb();)for(;b.La();){var l=b.ia();l.o(e);if(!(1<h&&e.Ou(this.Ng)>k)){for(var m=0;m<h;m++){f.w(m,g);if(d&&0!=a.gd.he(c,g,0))return 0;n=l.Gd(g,!1);g.sub(l.Kb(n));n=g.Up();if(n<k){if(0==n)return 0;k=n}}d=!1}}return Math.sqrt(k)};d.prototype.iB=function(c,f){for(var d=1.7976931348623157E308,b=new a.b,e=new a.b,g,n=c.F(),h=f.F(),l=0;l<n;l++)if(c.w(l,b),!(1<h&&this.Ng.gG(b)>d))for(var m=0;m<h;m++)if(f.w(m,
e),g=a.b.Zb(b,e),g<d){if(0==g)return 0;d=g}return Math.sqrt(d)};d.prototype.iT=function(c,f,d,b){if(1736==c.D()){for(;b.kb();)if(b.La()){var e=b.ia();if(0!=a.gd.he(c,e.oc(),0))return!0}b.Lk()}if(1736==f.D()){for(;d.kb();)if(d.La()&&(c=d.ia(),0!=a.gd.he(f,c.oc(),0)))return!0;d.Lk()}return!1};d.prototype.il=function(c,f){if(c.s()||f.s())return NaN;c.o(this.Ii);f.o(this.Ng);return this.wM(c,f)};return d}(),e=function(d){function c(){d.apply(this,arguments)}K(c,d);c.prototype.$=function(c,d,e){if(null==
c||null==d)throw a.g.N();if(c.s()||d.s())return NaN;var f,k;f=c.D();k=d.D();if(33==f){if(33==k)return a.b.Fb(c.w(),d.w());if(197==k)return e=new a.i,d.o(e),e.Fb(c.w());f=new a.pe;f.add(c);c=f}else if(197==f){if(197==k)return k=new a.i,c.o(k),e=new a.i,d.o(e),e.Fb(k);f=new a.Ka;f.Wc(c,!1);c=f}33==k?(k=new a.pe,k.add(d),d=k):197==k&&(k=new a.Ka,k.Wc(d,!1),d=k);return(new b(e)).il(c,d)};c.local=function(){null===c.V&&(c.V=new c);return c.V};c.prototype.D=function(){return 14};c.V=null;return c}(a.Me);
a.ZH=e})(z||(z={}));(function(a){var b=function(){function b(d,c,f,a){this.aE=d;this.fE=c;this.oe=a;this.HD=f}b.prototype.next=function(){var d=this.aE.next();return null==d?null:this.yz(d)};b.prototype.ya=function(){return this.aE.ya()};b.prototype.yz=function(d){var c=d.D();if(a.T.Km(c))return d;if(197==c)return c=new a.Ka(d.description),c.Wc(d,!1),this.yz(c);if(d.s())return d;if(null==d)throw a.g.wa();for(var c=d.Pa(),f=new a.yb,b=0,e=d.ea();b<e;b++)this.mH(d,b,c,f);return c};b.prototype.mH=function(d,
c,f,b){if(!(2>d.Ha(c))){var e=d.Ea(c),k=d.Dc(c)-1,g=d.mc(0),n=d.vc(c),h=new a.ga(0);h.xb(d.Ha(c)+1);var l=new a.ga(0);l.xb(d.Ha(c)+1);h.add(n?e:k);h.add(e);for(e=new a.b;1<h.size;){var m=h.tc();h.af();var r=h.tc();d.w(m,e);b.ed(e);d.w(r,e);b.vd(e);r=this.jH(b,e,g,m,r,k);0<=r?(h.add(r),h.add(m)):l.add(m)}n||l.add(h.get(0));if(l.size==h.size)f.Zj(d,c,!0);else if(2<=l.size&&(!this.HD||2!=l.size||!(n||a.b.Fb(d.Fa(l.get(0)),d.Fa(l.get(1)))<=this.fE))){c=new a.Va;b=0;for(k=l.size;b<k;b++)d.Sd(l.get(b),
c),0==b?f.df(c):f.lineTo(c);n&&(this.HD||2!=l.size||f.lineTo(c),f.ro())}}};b.prototype.jH=function(d,c,f,a,b,e){var k=b-1;b<=a&&(k=e);e=b=-1;for(a+=1;a<=k;a++){f.ec(2*a,c);var g=c.x,t=c.y;d.Kb(d.Gd(c,!1),c);c.x-=g;c.y-=t;g=c.length();g>this.fE&&g>e&&(b=a,e=g)}return b};return b}();a.$H=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 29};d.prototype.$=function(c,f,d,b){return c instanceof a.T?(c=new a.Pc(c),this.$(c,f,d,b).next()):
new a.$H(c,f,d,b)};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.V=null;return d}(a.Me);a.Sz=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 21};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d,b,e,g,n,h){return c instanceof a.T?(h=new a.Pc(c),this.$(h,f,d,[b],e,g,!1,n).next()):!0===n?(d=new a.Uz(c,f,d,b,e,!1,!1,h),a.wi.local().$(d,f,h)):new a.Uz(c,f,d,b,e,!1,!1,h)};d.V=null;return d}(a.Me);
a.Tz=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,b,e,g,n,h){if(g)throw a.g.qe();if(null==c)throw a.g.N();this.ua=-1;this.Xq=d;this.cg=c;this.ke=f;this.Oq=b;this.Rm=e;this.Vm=-1;this.Yb=h;this.CP=new a.i;this.CP.Ja()}b.prototype.next=function(){for(var d;null!=(d=this.Xq.next());)return this.ua=this.Xq.ya(),this.Vm+1<this.Oq.length&&this.Vm++,this.oN(d,this.Oq[this.Vm]);return null};b.prototype.ya=function(){return this.ua};b.prototype.oN=function(d,c){return a.pH.buffer(d,this.cg,
this.ke,c,this.Rm,this.Yb)};return b}();a.Uz=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 24};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d){if(null==f)throw a.g.N();if(c.s()||1>c.fb())return 0;if(4==d)throw a.g.qe();var b=a.Ya.Em(f),e=a.Ya.ft(b),k=a.Ya.Ts(b),e=e*(2-e),g=b.Se().Dj,n=c.D(),h;1736==n||197==n?h=c.Rf():a.T.Lc(n)?(h=new a.Xa(c.description),h.Bc(c,!0)):h=c;if(0==b.lc(f)){if(a.Ya.Qo(f)){h=
a.gh.qo(h,f);1607==n&&h==c&&(h=a.T.Yj(c));c=new a.Nd;a.Ya.Fm(f).wu(c);for(var n=0,l=h.F();n<l;n++){var m=h.Fa(n);m.x=a.gh.pu(m.x,c);h.ic(n,m)}}c=h.Pa();h=a.gh.ZQ(f,b,h,c)?c:a.Ya.Wl(h,f,b)}return this.yM(h,d,k,e,g)};d.prototype.yM=function(c,f,d,b,e){var k=new a.ca(0),g=0;for(c=c.Ca();c.kb();)for(;c.La();){var t=c.ia(),n=t.Mb(),t=t.oc();n.scale(e);t.scale(e);a.zb.Rd(d,b,n.x,n.y,t.x,t.y,k,null,null,f);g+=k.l}return g};d.V=null;return d}(a.Me);a.cI=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,
arguments)}K(d,b);d.prototype.D=function(){return 18};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d,b,e){return c instanceof a.T?(c=new a.Pc(c),this.$(c,f,d,b,e).next()):new a.bI(c,d,b,f,-1,-1,e)};d.V=null;return d}(a.Me);a.aI=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,b,e,g){if(0<g)throw a.g.qe();if(4!=f&&0<e)throw a.g.qe();if(null==c)throw a.g.N();this.ua=-1;this.Xq=d;this.cg=c;this.ke=f;this.IP=b;this.HP=e}b.prototype.next=function(){for(var d;null!=
(d=this.Xq.next());)return this.ua=this.Xq.ya(),this.hw(d);return null};b.prototype.ya=function(){return this.ua};b.prototype.hw=function(d){return a.ui.oq(d,this.cg,this.ke,this.IP,this.HP,this.Yb)};return b}();a.bI=b})(z||(z={}));(function(a){(function(a){a[a.Unknown=0]="Unknown";a[a.Contains=1]="Contains";a[a.Within=2]="Within";a[a.Equals=3]="Equals";a[a.Disjoint=4]="Disjoint";a[a.Touches=8]="Touches";a[a.Crosses=16]="Crosses";a[a.Overlaps=32]="Overlaps";a[a.NoThisRelation=64]="NoThisRelation";
a[a.Intersects=1073741824]="Intersects";a[a.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(a.xH||(a.xH={}));var b=function(){function b(){}b.lU=function(d,c,f,e){if(c.s()||d.s())return 4;var k=d.D(),g=c.D(),n;a.T.Lc(k)&&(d=n=new a.Xa(d.description),n.Bc(d,!0));a.T.Lc(g)&&(c=n=new a.Xa(c.description),n.Bc(c,!0));switch(k){case 33:switch(g){case 33:return b.sO(d,c,f);case 197:return b.Id(b.BG(c,d,f));case 550:return b.Id(b.HG(c,d,f));case 1607:return b.Id(b.Az(c,d,f,e));case 1736:return b.Id(b.pz(c,
d,f))}throw a.g.wa();case 197:switch(g){case 33:return b.BG(d,c,f);case 197:return b.fK(d,c,f);case 550:return b.Id(b.DG(c,d,f,e));case 1607:return b.Id(b.vz(c,d));case 1736:return b.Id(b.lz(c,d))}throw a.g.wa();case 550:switch(g){case 33:return b.HG(d,c,f);case 197:return b.DG(d,c,f,e);case 550:return b.FG(d,c,f,e);case 1607:return b.Id(b.xz(c,d));case 1736:return b.Id(b.nz(c,d))}throw a.g.wa();case 1607:switch(g){case 33:return b.Az(d,c,f,e);case 197:return b.vz(d,c);case 550:return b.xz(d,c);case 1607:return b.iQ(d,
c);case 1736:return b.Id(b.rz(c,d))}throw a.g.wa();case 1736:switch(g){case 33:return b.pz(d,c,f);case 197:return b.lz(d,c);case 550:return b.nz(d,c);case 1607:return b.rz(d,c);case 1736:return b.oP(d,c)}throw a.g.wa();default:throw a.g.wa();}};b.sO=function(d,c,f){d=d.w();c=c.w();return b.jz(d,c,f)};b.jz=function(d,c,f){d.sub(c);return d.Up()<=f*f?3:4};b.BG=function(d,c,f){var e=new a.i;d.o(e);d=c.w();return b.ZL(e,d,f)};b.ZL=function(d,c,f){d.P(-f,-f);if(d.contains(c))return 1;d.P(f,f);return d.contains(c)?
8:4};b.uM=function(d,c,f){return c.contains(f)?1:d.contains(f)?8:4};b.fK=function(d,c,f){var e=new a.i;d.o(e);d=new a.i;c.o(d);return b.MK(e,d,f)};b.MK=function(d,c,f){var a=0;d.contains(c)&&(a|=1);c.contains(d)&&(a|=2);if(0!=a)return a;d.P(-f,-f);c.P(-f,-f);if(d.jc(c))return a=d,a.P(f,f),a=a.contains(c)?1:0,c.P(f,f),a|=c.contains(d)?2:0,0!=a?a:32;a=d;a.P(f,f);c.P(f,f);return a.jc(c)?8:4};b.HG=function(d,c,f){c=c.w();return b.JG(d,c,f)};b.JG=function(d,c,f){for(var a=0,e=d.F();a<e;a++){var g;g=d.Fa(a);
g=b.jz(g,c,f);if(4!=g)return 0!=(g&2)&&1!=e?1:g}return 4};b.DG=function(d,c,f,e){var k=new a.i;c.o(k);return b.eN(d,k,f,e)};b.eN=function(d,c,f,a){c.P(-f,-f);c.P(f,f);for(var e=f=0,k=d.F();e<k;e++){var g;g=d.Fa(e);g=b.Id(b.uM(c,c,g));if(4!=g&&(f|=g,4==a))return 1073741824}return 0==f?4:2==f?f:32};b.FG=function(d,c,f,a){for(var e=0,k=0,g=c.F();k<g;k++){var n;n=c.Fa(k);n=b.JG(d,n,f);if(4!=n&&(e++,4==a))return 1073741824}return 0<e?e==c.F()?3==a?(n=b.FG(c,d,f,1),1==n?3:0):1:32:0};b.Az=function(d,c,f,
a){c=c.w();return b.XP(d,c,f,a)};b.GM=function(d,c){var f=null;d=d.pb;null!=d&&(f=d.hi);if(null!=f){f=f.Kk(c.x,c.y);if(0==f)return 4;if(1==f)return 1}else return-1;return 0};b.XP=function(d,c,f,e){if(0==(e&1073741839))return 64;var k=b.GM(d,c);if(0<k)return k;f*=f;for(k=d.Ca();k.kb();){var g=k.Qa;if(!d.vc(g)){var n=d.Ha(g),g=d.Ea(g);if(0==n)continue;if(a.b.Zb(d.Fa(g),c)<=f||1<n&&a.b.Zb(d.Fa(g+n-1),c)<=f)return 8}if(8!=e)for(;k.La();)if(n=k.ia(),n=n.Kb(n.Gd(c,!1)),a.b.Zb(n,c)<=f)return 0!=(e&1073741828)?
1073741824:1}return 0!=(e&1073741828)?4:64};b.vz=function(d,c){var f=new a.i;c.o(f);return b.rP(d,f)};b.rP=function(d,c){d=b.ao(d,c);return 0<d?d:0};b.ao=function(d,c){d=d.pb;if(null!=d)d=d.hi;else return-1;if(null!=d){d=d.Dn(c);if(0==d)return 4;if(1==d)return 1}else return-1;return 0};b.xz=function(d,c){var f=new a.i;c.o(f);f=b.ao(d,f);return 0<f?f:0};b.fs=function(d,c){var f=new a.i;c.o(f);f=b.ao(d,f);return 0<f?f:-1==f&&(f=new a.i,d.o(f),f=b.ao(c,f),0<f)?b.Id(f):0};b.iQ=function(d,c){d=b.fs(d,
c);return 0<d?d:0};b.pz=function(d,c,f){c=c.w();return b.lP(d,c,f)};b.lP=function(d,c,f){d=a.gd.he(d,c,f);if(0==d)return 4;if(1==d)return 1;if(2==d)return 8;throw a.g.wa();};b.lz=function(d,c){var f=new a.i;c.o(f);return b.uO(d,f)};b.uO=function(d,c){d=b.ao(d,c);return 0<d?d:0};b.nz=function(d,c){d=b.fs(d,c);return 0<d?d:0};b.rz=function(d,c){d=b.fs(d,c);return 0<d?d:0};b.oP=function(d,c){d=b.fs(d,c);return 0<d?d:0};b.iR=function(d,c){var f=d.D(),b=c.D(),e;if(a.T.Th(f)&&(e=d.pb,null!=e&&(e=e.hi,null!=
e))){if(33==b){var g=c.w();e=e.Kk(g.x,g.y)}else g=new a.i,c.o(g),e=e.Dn(g);if(1==e)return 1;if(0==e)return 4}if(a.T.Th(b)&&(e=c.pb,null!=e&&(e=e.hi,null!=e))){33==f?(f=d.w(),e=e.Kk(f.x,f.y)):(f=new a.i,d.o(f),e=e.Dn(f));if(1==e)return 2;if(0==e)return 4}return 0};b.Id=function(d){0!=(d&1)&&(d=d&-2|2);0!=(d&2)&&(d=d&-3|1);return d};return b}();a.dI=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.D=
function(){return 15};d.prototype.$=function(c,f,d,b,e){return c instanceof a.T?(c=new a.Pc(c),f=new a.Pc(f),this.$(c,f,d,b,e).next()):void 0===e?new a.Vz(c,f,d,b,-1):new a.Vz(c,f,d,b,e)};d.V=null;return d}(a.Me);a.$r=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,b,e){this.Fq=null==c;this.ua=-1;this.ne=d;this.cg=f;this.Ce=c.next();this.Ji=this.Ce.D();this.Yb=b;this.Xh=e;if(-1!=this.Xh&&(0>=this.Xh||7<this.Xh))throw a.g.N("bad dimension mask");}b.prototype.next=function(){if(this.Fq)return null;
var a;if(null!=this.du){a=this.du.next();if(null!=a)return a;this.du=null}for(;null!=(a=this.ne.next());){this.ua=this.ne.ya();if(-1==this.Xh)return a=this.Ga(a);this.du=this.PO(a);return a=this.du.next()}return null};b.prototype.ya=function(){return this.ua};b.prototype.Ga=function(d){var c=this.uG(d);if(null!=c)return c;var c=a.Ia.$s(this.Ce,d),f=a.Ia.zd(this.cg,c,!0),c=new a.i;this.Ce.o(c);var b=new a.i;d.o(b);c.P(2*f,2*f);c.Ga(b);c.P(100*f,100*f);f=a.Ed.clip(this.Ce,c,0,0);d=a.Ed.clip(d,c,0,0);
return a.Of.mt(d,f,this.cg,this.Yb)};b.prototype.SE=function(d,c,f){var b=0;if(0!=(c&1))null==f[0]&&(f[0]=new a.pe(d)),b++;else for(var e=0;e<f.length-1;e++)f[e]=f[e+1];if(0!=(c&2))null==f[b]&&(f[b]=new a.Xa(d)),b++;else for(e=b;e<f.length-1;e++)f[e]=f[e+1];if(0!=(c&4))null==f[b]&&(f[b]=new a.Ka(d)),b++;else for(e=b;e<f.length-1;e++)f[e]=f[e+1];if(3!=b){d=[];for(e=0;e<b;e++)d[e]=f[e];return new a.Pc(d)}return new a.Pc(f)};b.prototype.PO=function(d){var c=this.uG(d);if(null!=c){var f=[null,null,null];
f[c.fb()]=c;return this.SE(d.description,this.Xh,f)}c=a.Ia.$s(this.Ce,d);f=a.Ia.zd(this.cg,c,!0);c=new a.i;this.Ce.o(c);c.P(2*f,2*f);var b=new a.i;d.o(b);c.Ga(b);c.P(100*f,100*f);f=a.Ed.clip(this.Ce,c,0,0);c=a.Ed.clip(d,c,0,0);f=a.Of.Uw(c,f,this.cg,this.Yb);return this.SE(d.description,this.Xh,f)};b.prototype.uG=function(d){var c=a.Ia.$s(d,this.Ce),f=a.Ia.zd(this.cg,c,!1),c=d.D(),e=d.s(),g=this.Ce.s(),g=e||g;if(!g){g=new a.i;d.o(g);var n=new a.i;this.Ce.o(n);n.P(2*f,2*f);g=!g.jc(n)}if(!g)if(n=a.dI.iR(this.Ce,
d),4==n)g=!0;else{if(0!=(n&2))return this.Ce;if(0!=(n&1))return d}if(g)return f=a.T.ve(c),g=a.T.ve(this.Ji),f<g?b.V(d,e):f>g?this.kF():0==f?550==c&&33==this.Ji?this.kF():b.V(d,e):b.V(d,e);if((-1==this.Xh||4==this.Xh)&&197==c&&197==this.Ji)return f=this.Ce,c=new a.i,d.o(c),e=new a.i,f.o(e),c.Ga(e),f=new a.Vj,d.copyTo(f),f.Cu(c),f;if(197==c&&0==a.T.ve(this.Ji)||197==this.Ji&&0==a.T.ve(c))return e=197==c?d:this.Ce,d=197==c?this.Ce:d,c=new a.i,e.o(c),a.Ed.clip(d,c,f,0);if(0==a.T.ve(c)&&0<a.T.ve(this.Ji)||
0<a.T.ve(c)&&0==a.T.ve(this.Ji)){f=a.Ia.Cg(this.cg,d,!1);if(550==c||33==c)return a.Of.jD(d,this.Ce,f);if(550==this.Ji||33==this.Ji)return a.Of.jD(this.Ce,d,f);throw a.g.wa();}return-1!=this.Xh&&2!=this.Xh||1607!=c||1736!=this.Ji?-1!=this.Xh&&2!=this.Xh||1736!=c||1607!=this.Ji?null:this.rG(this.Ce,d):this.rG(d,this.Ce)};b.prototype.rG=function(d,c){var f=d,b=c,e=a.Ia.Cg(this.cg,c,!1),g=new a.i;b.o(g);var n=new a.i;f.o(n);n.P(2*e,2*e);g.Ga(n);g.P(10*e,10*e);var f=d=a.Ed.clip(d,g,0,0),n=new a.ga(0),
h=-1,l=b.pb;if(null!=l){var m=l.hi;if(null!=m){h=0;n.xb(f.F()+f.ea());for(var r=new a.i,q=f.Ca();q.kb();)for(;q.La();){q.ia().o(r);var v=m.Dn(r);1==v?n.add(1):0==v?n.add(0):(n.add(-1),h++)}}}5<c.F()&&(b=c=a.Ed.clip(c,g,0,0),l=b.pb);0>h&&(h=f.Iw());g=f.F()+b.F();if(h*b.F()>Math.log(g)*g*4)return null;g=null;h=b.Ca();null!=l&&null!=l.Ab&&(g=l.Ab);null==g&&20<b.F()&&(g=a.Ia.nB(b));b=d.Pa();l=null;m=f.Ca();r=[0,0,0,0,0,0,0,0,0];q=new a.qd(0);v=new a.Ag;d=-1;for(var p=0,w=0,u=0<n.size,x=-1;m.kb();){var x=
m.Qa,C=0;d=-1;for(p=0;m.La();){var B=u?a.I.truncate(n.get(w)):-1;w++;var D=m.ia();if(0>B){if(null!=g)for(null==l?l=g.KN(D,e):l.Fn(D,e),B=l.next();-1!=B;B=l.next()){h.Sb(g.da(B));for(var B=h.ia(),z=D.Ga(B,null,r,null,e),B=0;B<z;B++)q.add(r[B])}else for(h.Lk();h.kb();)for(;h.La();)for(B=h.ia(),z=D.Ga(B,null,r,null,e),B=0;B<z;B++)q.add(r[B]);if(0<q.size){q.xd(0,q.size,function(c,f){return c-f});var E=0;q.add(1);for(var z=-1,B=0,I=q.size;B<I;B++){var y=q.get(B);if(y!=E){var K=!1;0!=E||1!=y?(D.Bi(E,y,
v),E=v.get()):(E=D,K=!0);if(2<=C){b.ys(f,x,d,p,3==C);if(1!=this.UA(c,E.Mb(),e)&&1!=this.VA(c,E,e))return null;b.Bc(E,!1);C=1;p=0}else switch(z=this.VA(c,E,e),z){case 1:K?2>C?(d=m.Jb()-f.Ea(x),p=1,C=0==C?3:2):p++:(b.Bc(E,0==C),C=1);break;case 0:C=0;d=-1;p=0;break;default:return null}E=y}}}else{B=this.UA(c,D.Mb(),e);if(0>B)return null;1==B?(2>C&&(d=m.Jb()-f.Ea(x),C=0==C?3:2),p++):(d=-1,p=0)}q.clear(!1)}else 0!=B&&1==B&&(0==C?(C=3,d=m.Jb()-f.Ea(x)):1==C?(C=2,d=m.Jb()-f.Ea(x)):p++)}2<=C&&(b.ys(f,x,d,
p,3==C),d=-1)}return b};b.prototype.UA=function(d,c,f){return a.ff.xl(d,c,f)};b.prototype.VA=function(d,c,f){var b=c.Mb();c=c.oc();var e=a.ff.xl(d,b,f),g=a.ff.xl(d,c,f);if(1==e&&0==g||0==e&&1==g)return-1;if(0==e||0==g)return 0;if(1==e||1==g)return 1;e=new a.b;e.add(b,c);e.scale(.5);d=a.ff.xl(d,e,f);return 0==d?0:1==d?1:-1};b.V=function(a,c){return c?a:a.Pa()};b.prototype.kF=function(){null==this.$D&&(this.$D=this.Ce.Pa());return this.$D};return b}();a.Vz=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,
arguments)}K(d,b);d.prototype.D=function(){return 28};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d,b,e,g,n){return c instanceof a.T?(c=new a.Pc(c),this.$(c,f,d,b,e,g,n).next()):new a.eI(c,f,d,b,e,g,n)};d.V=null;return d}(a.Me);a.Wz=b})(z||(z={}));(function(a){var b=function(){function b(a,c,f,b,e,g,n){this.ua=-1;this.ne=a;this.Pi=c;this.Da=f;this.bi=b;this.Dx=e;this.XD=g;this.oe=n}b.prototype.next=function(){var a=this.ne.next();return null!=a?(this.ua=this.ne.ya(),
this.RH(a)):null};b.prototype.ya=function(){return this.ua};b.prototype.RH=function(d){var c;c=0>=this.XD?a.Ia.Cg(this.Pi,d,!1):this.XD;return a.XG.$(d,this.Da,this.bi,this.Dx,c,this.oe)};return b}();a.eI=b})(z||(z={}));(function(a){var b=function(){function d(){}d.prototype.reset=function(){this.Pg=this.Fj=-1;this.Hq=this.Uo=!1};d.prototype.QM=function(c,f,a){for(c.Sb(f,a);c.La();){var d=c.ia(),d=d.$b();if(0!=d)return c.Jb()}for(c.Sb(f,a);c.Ow();)if(d=c.oi(),d=d.$b(),0!=d)return c.Jb();return-1};
d.prototype.RM=function(c,f){for(c.Sb(f,-1);c.Ow();)if(0!=c.oi().$b())return c.Jb();return-1};d.prototype.PM=function(c,f){c.Sb(f,-1);for(c.ia();c.La();)if(0!=c.ia().$b())return c.Jb();return-1};d.prototype.OM=function(c,f,d,b){this.Fj=this.QM(f,d,b);if(-1!=this.Fj){f.Sb(this.Fj,-1);var e=f.ia(),k=e.Kb(e.Gd(c,!1));d=a.b.Zb(k,c);b=new a.b;b.J(k);b.sub(e.Mb());k=new a.b;k.J(c);k.sub(e.Mb());this.Uo=0>b.Ai(k);this.Pg=this.PM(f,this.Fj);if(-1!=this.Pg){f.Sb(this.Pg,-1);var e=f.ia(),g=e.Gd(c,!1),g=e.Kb(g),
t=a.b.Zb(g,c);t>d?this.Pg=-1:(b.J(g),b.sub(e.Mb()),k.J(c),k.sub(e.Mb()),this.Hq=0>b.Ai(k))}-1==this.Pg&&(this.Pg=this.RM(f,this.Fj),-1!=this.Pg&&(f.Sb(this.Pg,-1),e=f.ia(),g=e.Gd(c,!1),g=e.Kb(g),t=a.b.Zb(g,c),t>d?this.Pg=-1:(b.J(g),b.sub(e.Mb()),k.J(c),k.sub(e.Mb()),this.Hq=0>b.Ai(k),c=this.Fj,this.Fj=this.Pg,this.Pg=c,c=this.Uo,this.Uo=this.Hq,this.Hq=c)))}};d.prototype.FK=function(c,f,a,d,b){a=a.Ca();this.OM(c,a,d,b);if(-1!=this.Fj&&-1==this.Pg)return this.Uo;if(-1!=this.Fj&&-1!=this.Pg){if(this.Uo==
this.Hq)return this.Uo;a.Sb(this.Fj,-1);c=a.ia().Pf(1);a.Sb(this.Pg,-1);f=a.ia().Pf(0);return 0<=c.Ai(f)?!0:!1}return f};return d}(),e=function(d){function c(){d.apply(this,arguments)}K(c,d);c.local=function(){null===c.V&&(c.V=new c);return c.V};c.prototype.D=function(){return 3};c.prototype.zw=function(c,d,b,e){void 0===e&&(e=!1);if(c.s())return new a.dl;d=d.w();var f=c,k=c.D();197==k&&(f=new a.Ka,f.Wc(c,!1),k=1736);switch(k){case 33:return this.OE(f,d);case 550:return this.BE(f,d);case 1607:case 1736:return this.dQ(f,
d,b,e);default:throw a.g.ra("not implemented");}};c.prototype.Aw=function(c,d){if(c.s())return new a.dl;d=d.w();var f=c,b=c.D();197==b&&(f=new a.Ka,f.Wc(c,!1),b=1736);switch(b){case 33:return this.OE(f,d);case 550:case 1607:case 1736:return this.BE(f,d);default:throw a.g.ra("not implemented");}};c.prototype.Bw=function(c,d,b,e){if(0>e)throw a.g.N();if(c.s())return[];d=d.w();var f=c,k=c.D();197==k&&(f=new a.Ka,f.Wc(c,!1),k=1736);switch(k){case 33:return this.IQ(f,d,b,e);case 550:case 1607:case 1736:return this.gQ(f,
d,b,e);default:throw a.g.ra("not implemented");}};c.prototype.dQ=function(c,d,e,g){if(1736==c.D()&&e&&(e=new a.i,c.o(e),e=a.Ia.zd(null,e,!1),0!=(g?a.gd.he(c,d,0):a.gd.he(c,d,e)))){var f=new a.dl(d,0,0);g&&f.UF(!0);return f}for(var k=c.Ca(),f=new a.b,t=e=-1,n=1.7976931348623157E308,h=0;k.kb();)for(;k.La();){var l=k.ia(),l=l.Kb(l.Gd(d,!1)),m=a.b.Zb(l,d);m<n?(h=1,f=l,e=k.Jb(),t=k.Qa,n=m):m==n&&h++}f=new a.dl(f,e,Math.sqrt(n));g&&(k.Sb(e,t),l=k.ia(),g=0>a.b.yn(d,l.Mb(),l.oc()),1<h&&(h=new b,h.reset(),
g=h.FK(d,g,c,e,t)),f.UF(g));return f};c.prototype.OE=function(c,d){c=c.w();d=a.b.Fb(c,d);return new a.dl(c,0,d)};c.prototype.BE=function(c,d){var f=c.mc(0);c=c.F();for(var b=0,e=0,k=0,g=1.7976931348623157E308,n=0;n<c;n++){var h=new a.b;f.ec(2*n,h);var l=a.b.Zb(h,d);l<g&&(e=h.x,k=h.y,b=n,g=l)}f=new a.dl;f.tv(e,k,b,Math.sqrt(g));return f};c.prototype.IQ=function(c,d,b,e){if(0==e)return b=[];b*=b;c=c.w();d=a.b.Zb(c,d);d<=b?(b=[],e=new a.dl,e.tv(c.x,c.y,0,Math.sqrt(d)),b[0]=e):b=[];return b};c.prototype.gQ=
function(c,d,b,e){if(0==e)return e=[];var f=c.mc(0),k=c.F();c=[];var g=0;b*=b;for(var t=0;t<k;t++){var n=f.read(2*t),h=f.read(2*t+1),l=d.x-n,m=d.y-h,l=l*l+m*m;l<=b&&(m=new a.dl,m.tv(n,h,t,Math.sqrt(l)),g++,c.push(m))}d=c.length;c.sort(function(c,f){return c.Da<f.Da?-1:c.Da==f.Da?0:1});if(e>=d)return c.slice(0);c.length=e;return c.slice(0)};c.V=null;return c}(a.Me);a.bv=e})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 4};d.prototype.$=
function(c,f,d,b,e){return a.el.py(c,f,d,b,e)};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.V=null;return d}(a.Me);a.fI=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 33};d.prototype.$=function(c,f,d,b,e){return 1073741824===c?!a.hd.qy(f,d,b,4,e):a.hd.qy(f,d,b,c,e)};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.V=null;return d}(a.Me);a.bl=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,
b){this.oe=b;this.yP=f;this.ua=-1;if(null==d)throw a.g.N();this.wk=d;this.Pi=c}b.prototype.next=function(){var a;return null!=(a=this.wk.next())?(this.ua=this.wk.ya(),this.Qy(a)):null};b.prototype.ya=function(){return this.ua};b.prototype.Qy=function(d){if(null==d)throw a.g.N();return a.cv.cG(d,this.Pi,this.yP,this.oe)};return b}();a.gI=b})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 26};d.prototype.$=function(c,f,d,b){return c instanceof
a.T?(c=new a.Pc(c),this.$(c,f,d,b).next()):new a.gI(c,f,d,b)};d.prototype.Ro=function(c,f,d,b,e){return 0<(void 0!==b?a.cv.Ro(c,f,d,b,e):a.cv.Ro(c,f,!1,null,d))};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.V=null;return d}(a.Me);a.as=b})(z||(z={}));(function(a){var b=function(){function c(){this.hp=0}c.prototype.hS=function(c){this.hp&=-2;this.hp|=c?1:0};c.prototype.sl=function(){return 0!=(this.hp&1)};c.prototype.LC=function(){return this.sl()?0:1};return c}();a.AT=b;var e=function(){return function(){}}(),
d=function(){return function(c,f,a,d){this.x=c;this.y=f;this.Sh=a;this.yl=d}}(),c=function(){function c(c){this.me=c}c.prototype.compare=function(c,f,a){c=c.da(a);f=this.me.$e.read(2*f);c=this.me.$e.read(2*c);f-=c;return 0>f?-1:0<f?1:0};return c}(),f=function(){function c(c){this.me=c}c.prototype.compare=function(c,f,a){f=this.me.$a[f];c=this.me.$a[c.da(a)];var d=f.sl(),b=c.sl();a=f.Zd.xe(this.me.wn,0);var e=c.Zd.xe(this.me.wn,0);a==e&&(a=Math.min(d?f.Zd.ja:f.Zd.ha,b?c.Zd.ja:c.Zd.ha),d=.5*(a-this.me.wn)+
this.me.wn,d==this.me.wn&&(d=a),a=f.Zd.xe(d,0),e=c.Zd.xe(d,0));return a<e?-1:a>e?1:0};return c}(),k=function(){function c(c,f){this.VE=new a.b;this.parent=c;this.mO=f}c.prototype.Zp=function(c,f,a){var d=this.parent,b=this.mO;a.xd(c,f,function(c,f){return d.kj(c,f,b)})};c.prototype.Mo=function(c){c=this.parent.xh.get(c);this.parent.$e.ec(2*(c>>1),this.VE);return this.VE.y+(0!=(c&1)?this.parent.Ri:-this.parent.Ri)};return c}(),g=function(){function g(c,f,d,b,e){this.SD=c.description;this.U=c;this.sg=
f;this.Ri=a.Ia.Cg(this.sg,c,!1);this.pn=a.Ia.Cg(this.sg,c,!0);this.yx=d;this.wP=this.SD.Aa;this.$a=[];this.dn=[];this.Lg=new a.$n;this.Za=new a.bj;this.Kd=new a.wd;this.GD=this.pk=e}g.prototype.Yw=function(){this.GD=!0;return(!a.T.Kc(this.U.D())||this.yB()&&this.xB(!1))&&this.OK()?a.T.Kc(this.U.D())?this.RK()?1607==this.U.D()?this.TK()?2:0:this.UK()?this.VK():0:0:2:0};g.prototype.Yy=function(c,f){var d=this.$e.read(2*c);c=this.$e.read(2*c+1);var b=this.$e.read(2*f);f=this.$e.read(2*f+1);var e=!a.Sr.Vw(d,
c,b,f,this.Ri*this.Ri);return e?e:0==this.U.fb()?!1:d==b&&c==f};g.prototype.yB=function(){for(var c=this.U,f=c.Yf?3:2,d=0,b=c.ea();d<b;d++)if(c.Ha(d)<f)return this.Kd=new a.wd(1,d,0),!1;return!0};g.prototype.xB=function(c){for(var f=this.U,d=f.Ca(),b=f.hasAttribute(1),f=b?a.Ia.rB(this.sg,f,!1):0;d.kb();)for(;d.La();){var e=d.ia();if(!(e.$b()>this.Ri)){if(c&&b){var k=e.gt(1,0),e=e.gt(1,0);if(Math.abs(e-k)>f)continue}this.Kd=new a.wd(2,d.Jb(),-1);return!1}}return!0};g.prototype.OK=function(){var f=
this.U,d=null;a.T.Kc(this.U.D())&&(d=this.U);var b=(this.GD||this.pk)&&null!=d,e=f.F();this.$e=f.mc(0);this.xh=new a.ga(0);this.xh.xb(2*e);this.wh=new a.ga(0);this.wh.xb(2*e);b&&(null==this.Bk&&(this.Bk=new a.ga(0)),this.Bk.xb(e));for(var g=f=0;g<e;g++)if(this.xh.add(2*g),this.xh.add(2*g+1),this.wh.add(2*g),this.wh.add(2*g+1),b){for(;g>=d.Dc(f);)f++;this.Bk.add(f)}(new a.Rr).sort(this.wh,0,2*e,new k(this,b));this.Za.clear();this.Za.Hn(new c(this));this.Za.de(e);d=0;for(e*=2;d<e;d++)if(b=this.wh.get(d),
f=this.xh.get(b),b=f>>1,0==(f&1)){f=this.Za.addElement(b,-1);g=this.Za.ge(f);if(-1!=g&&!this.Yy(this.Za.da(g),b))return this.Kd=new a.wd(3,b,this.Za.da(g)),!1;var t=this.Za.bb(f);if(-1!=t&&!this.Yy(this.Za.da(t),b))return this.Kd=new a.wd(3,b,this.Za.da(t)),!1}else if(f=this.Za.search(b,-1),g=this.Za.ge(f),t=this.Za.bb(f),this.Za.kd(f,-1),-1!=g&&-1!=t&&!this.Yy(this.Za.da(g),this.Za.da(t)))return this.Kd=new a.wd(3,this.Za.da(g),this.Za.da(t)),!1;return!0};g.prototype.RK=function(){return 10>this.U.F()?
this.PK():this.QK()};g.prototype.QK=function(){var c=new a.fd;c.Eb(this.U);var f=new a.wd;return a.Zu.DE(!1,c,this.Ri,f,this.oe)?(f.Fk=c.gb(f.Fk),f.Gk=c.gb(f.Gk),this.Kd.aq(f),!1):!0};g.prototype.PK=function(){for(var c=this.U,f=c.Ca(),c=c.Ca();f.kb();)for(;f.La();){var d=f.ia();if(!f.Jm()||!f.YO()){c.xR(f);do for(;c.La();){var b=c.ia(),b=d.fq(b,this.Ri,!0);if(0!=b)return this.Kd=new a.wd(2==b?5:4,f.Jb(),c.Jb()),!1}while(c.kb())}}return!0};g.prototype.UK=function(){var c=this.U;this.$a.length=0;this.dn.length=
0;this.Hf=c.Ca();this.Hf.NR();var f=new a.ga(0);f.xb(10);for(var d=NaN,b=0,e=0,c=2*c.F();e<c;e++){var k=this.wh.get(e),k=this.xh.get(k);if(0==(k&1)){var k=k>>1,g=this.$e.read(2*k),t=this.$e.read(2*k+1);if(0!=f.size&&(g!=d||t!=b)){if(!this.TE(f))return!1;null!=f&&f.clear(!1)}f.add(k);d=g;b=t}}return this.TE(f)?!0:!1};g.prototype.TK=function(){for(var c=this.U,f=Array(c.ea()),d=0,b=c.ea();d<b;d++)f[d]=c.Oo(d);var b=new e,k,g,t,n=new a.b,d=this.wh.get(0),d=this.xh.get(d),h=d>>1;this.$e.ec(2*h,n);d=this.Bk.get(h);
k=f[d];g=c.Ea(d);t=c.Dc(d)-1;b.ak=h==g||h==t;b.Ev=this.pk?!k&&b.ak:b.ak;b.Sh=d;b.x=n.x;b.y=n.y;b.yl=h;for(var l=new e,m=1,r=this.wh.size;m<r;m++)if(d=this.wh.get(m),d=this.xh.get(d),0==(d&1)){h=d>>1;this.$e.ec(2*h,n);d=this.Bk.get(h);d!=b.Sh&&(k=f[d],g=c.Ea(d),t=c.Dc(d)-1);var A,q=h==g||h==t;A=this.pk?!k&&b.ak:b.ak;l.x=n.x;l.y=n.y;l.Sh=d;l.yl=h;l.Ev=A;l.ak=q;if(l.x==b.x&&l.y==b.y)if(this.pk){if(!l.Ev||!b.Ev)if(l.Sh!=b.Sh||!l.ak&&!b.ak)return this.Kd=new a.wd(8,l.yl,b.yl),!1}else if(!l.ak||!b.ak)return this.Kd=
new a.wd(5,l.yl,b.yl),!1;d=b;b=l;l=d}return!0};g.prototype.AB=function(){for(var c=this.U,f=[],b=-1,e=!1,k=0,g=c.ea();k<g;k++)c.qt(k)&&(e=!1,b++,k<g-1&&(c.qt(k+1)||(e=!0))),f[k]=e?b:-1;var e=new a.b,k=this.wh.get(0),k=this.xh.get(k),t=k>>1;this.$e.ec(2*t,e);for(var k=this.Bk.get(t),b=new d(e.x,e.y,k,t,f[k]),c=[],n=1,g=this.wh.size;n<g;n++)if(k=this.wh.get(n),k=this.xh.get(k),0==(k&1)){t=k>>1;this.$e.ec(2*t,e);k=this.Bk.get(t);k=new d(e.x,e.y,k,t,f[k]);if(k.x==b.x&&k.y==b.y){if(k.Sh==b.Sh)return this.Kd=
new a.wd(9,k.yl,b.yl),!1;0<=f[k.Sh]&&f[k.Sh]==f[b.Sh]&&(0!=c.length&&c[c.length-1]==b||c.push(b),c.push(k))}b=k}if(0==c.length)return!0;k=new a.$n(!0);a.I.Ps(f,-1);e=-1;n=new a.b;n.Eh();b=0;for(g=c.length;b<g;b++){t=c[b];if(t.x!=n.x||t.y!=n.y)e=k.jh(0),n.x=t.x,n.y=t.y;var h=f[t.Sh];-1==h&&(h=k.jh(2),f[t.Sh]=h);k.addElement(h,e);k.addElement(e,h)}g=new a.ga(0);g.xb(10);for(b=k.Wd;-1!=b;b=k.Cw(b))if(c=k.DC(b),0==(c&1)&&0!=(c&2)){c=-1;g.add(b);for(g.add(-1);0<g.size;){e=g.tc();g.af();n=g.tc();g.af();
t=k.DC(n);if(0!=(t&1)){c=0==(t&2)?e:n;break}k.$R(n,t|1);for(t=k.gc(n);-1!=t;t=k.bb(t))h=k.getData(t),h!=e&&(g.add(h),g.add(n))}if(-1!=c){k=-1;b=0;for(g=f.length;b<g;b++)if(f[b]==c){k=b;break}this.Kd=new a.wd(10,k,-1);return!1}}return!0};g.prototype.VK=function(){var c=this.U;if(0>=c.Mh())return this.Kd=new a.wd(6,1==c.ea()?1:-1,-1),0;if(1==c.ea())return this.pk&&!this.AB()?0:2;this.gn=a.ga.Yc(c.ea(),0);this.Hx=a.ga.Yc(c.ea(),-1);for(var d=-1,b=0,e=0,k=c.ea();e<k;e++){var g=c.oo(e);this.gn.write(e,
0>g?0:256);if(0<g)d=e,b=g;else{if(0==g)return this.Kd=new a.wd(6,e,-1),0;if(0>d||b<Math.abs(g))if(this.Kd=new a.wd(7,e,-1),this.pk)return 0;this.Hx.write(e,d)}}this.kr=c.ea();this.Ll=new a.ga(0);this.Ll.xb(10);k=c.F();this.wn=NaN;c=new a.ga(0);c.xb(10);this.yp=a.ga.Yc(k,-1);this.hu=a.ga.Yc(k,-1);null!=this.Hi?this.Hi.clear(!1):this.Hi=new a.ga(0);this.Hi.xb(10);this.Za.clear();this.Za.Hn(new f(this));d=0;for(k*=2;0<this.kr&&d<k;d++)if(b=this.wh.get(d),b=this.xh.get(b),0==(b&1)){b>>=1;e=this.$e.read(2*
b+1);if(e!=this.wn&&0!=c.size){if(!this.yr(c))return 0;null!=c&&c.clear(!1)}c.add(b);this.wn=e}return 0<this.kr&&!this.yr(c)?0:this.pk?0==this.Kd.yh&&this.AB()?2:0:0==this.Kd.yh?2:1};g.prototype.TE=function(c){if(1==c.size)return!0;for(var f=0,d=c.size;f<d;f++){var b=c.get(f);this.Hf.Sb(b);var e=this.Hf.oi();this.$a.push(this.Ls(e,b,this.Hf.Qa,!0));this.Hf.ia();e=this.Hf.ia();this.$a.push(this.Ls(e,b,this.Hf.Qa,!1))}var k=this;this.$a.sort(function(c,f){return k.sM(c,f)});b=this.Lg.Wd;-1==b&&(b=this.Lg.jh(0));
this.Lg.$l(this.$a.length);f=0;for(d=this.$a.length;f<d;f++)this.Lg.addElement(b,f);for(var f=!0,g=d=-1;f;){f=!1;e=this.Lg.gc(b);if(-1==e)break;for(var t=this.Lg.bb(e);-1!=t;){d=this.Lg.getData(e);g=this.Lg.getData(t);d=this.$a[d].tn;g=this.$a[g].tn;if(d==g)if(f=!0,this.Lg.Jc(b,e),e=this.Lg.ge(t),t=this.Lg.Jc(b,t),-1==t||-1==e)break;else continue;e=t;t=this.Lg.bb(e)}}f=this.Lg.vq(b);this.Lg.CB(b);if(0<f)return this.Kd=new a.wd(5,d,g),!1;f=0;for(d=c.size;f<d;f++)this.my(this.$a[f]);this.$a.length=
0;return!0};g.prototype.yr=function(c){for(var f=0,d=c.size;f<d;f++){var b=c.get(f),e=this.yp.read(b);if(-1!=e){var k=this.Za.da(e);this.Hi.add(k);this.Za.kd(e,-1);this.my(this.$a[k]);this.$a[k]=null;this.yp.write(b,-1)}e=this.hu.read(b);-1!=e&&(k=this.Za.da(e),this.Hi.add(k),this.Za.kd(e,-1),this.my(this.$a[k]),this.$a[k]=null,this.hu.write(b,-1))}f=0;for(d=c.size;f<d;f++){b=c.get(f);this.Hf.Sb(b);e=this.Hf.oi();if(e.ja>e.ha){var g=this.Hf.Jb(),t=this.Ls(e,b,this.Hf.Qa,!0);0<this.Hi.size?(k=this.Hi.tc(),
this.Hi.af(),this.$a[k]=t):(k=this.$a.length,this.$a.push(t));e=this.Za.addElement(k,-1);-1==this.yp.read(g)?this.yp.write(g,e):this.hu.write(g,e);0==(this.gn.read(this.Hf.Qa)&3)&&this.Ll.add(e)}this.Hf.ia();e=this.Hf.ia();e.ja<e.ha&&(g=this.Hf.Bm(),t=this.Ls(e,b,this.Hf.Qa,!1),0<this.Hi.size?(k=this.Hi.tc(),this.Hi.af(),this.$a[k]=t):(k=this.$a.length,this.$a.push(t)),e=this.Za.addElement(k,-1),-1==this.yp.read(g)?this.yp.write(g,e):this.hu.write(g,e),0==(this.gn.read(this.Hf.Qa)&3)&&this.Ll.add(e))}f=
0;for(d=this.Ll.size;f<d&&0<this.kr;f++)if(e=this.Ll.get(f),0==(this.gn.read(this.$a[this.Za.da(e)].Gx)&3)){c=-1;for(var b=this.Za.ge(e),n=e,t=null,k=-1,h=0;-1!=b;){k=this.Za.da(b);t=this.$a[k];k=t.Gx;h=this.gn.read(k);if(0!=(h&3))break;n=b;b=this.Za.ge(b)}-1==b?(g=1,b=n):(c=1==(h&3)?k:this.Hx.read(k),g=0!=t.LC()?0:1,b=this.Za.bb(b));do{k=this.Za.da(b);t=this.$a[k];k=t.Gx;n=this.gn.read(k);if(0==(n&3)){if(g!=t.LC())return this.Kd=new a.wd(6,k,-1),!1;h=0==g||t.sl()?2:1;n=n&252|h;this.gn.write(k,h);
if(2==h&&0==this.Kd.yh&&this.Hx.read(k)!=c&&(this.Kd=new a.wd(7,k,-1),this.pk))return!1;this.kr--;if(0==this.kr)return!0}1==(n&3)&&(c=k);n=b;b=this.Za.bb(b);g=0!=g?0:1}while(n!=e)}null!=this.Ll?this.Ll.clear(!1):this.Ll=new a.ga(0);return!0};g.prototype.Ls=function(c,f,d,b){if(322==c.D())c=this.PL(c);else throw a.g.wa();c.tn=f;c.Gx=d;c.hp=0;c.hS(b);return c};g.prototype.PL=function(c){var f;0<this.dn.length?(f=this.dn[this.dn.length-1],--this.dn.length,c.copyTo(f.Zd)):(f=new b,f.Zd=a.fA.Yj(c));return f};
g.prototype.my=function(c){322==c.Zd.D()&&this.dn.push(c)};g.prototype.eQ=function(){for(var c=this.U.F(),f=new a.ga(0),d=0;d<c;d++)f.add(d);var b=this;f.xd(0,c,function(c,f){return b.Is(c,f)});for(d=1;d<c;d++)if(0==this.Is(f.get(d-1),f.get(d)))return this.Kd=new a.wd(3,f.get(d-1),f.get(d)),0;return 2};g.prototype.NQ=function(){return this.yB()?this.xB(!0)?2:0:0};g.prototype.LQ=function(){return this.Yw()};g.prototype.fQ=function(){for(var c=this.U.F(),f=new a.ga(0),d=0;d<c;d++)f.add(d);var b=this;
f.xd(0,c,function(c,f){return b.uL(c,f)});var e=Array(c);a.I.Ps(e,!1);e[f.get(0)]=!0;for(d=1;d<c;d++){var k=f.get(d-1),g=f.get(d);0==this.Is(k,g)?e[g]=!1:e[g]=!0}for(var f=this.U.Pa(),k=this.U,g=0,t=1,d=0;d<c;d++)e[d]?t=d+1:(g<t&&f.Pd(k,g,t),g=d+1);g<t&&f.Pd(k,g,t);f.hg(2,this.pn);return f};g.prototype.OQ=function(){var c=this.U,f=c.Ca(),d=c.Ca(),b=this.U.Pa(),e=this.U,k=c.hasAttribute(1),g=k?a.Ia.rB(this.sg,c,!0):0,t=new a.ga(0),n=new a.ga(0);t.xb(a.I.truncate(c.F()/2+1));for(n.xb(a.I.truncate(c.F()/
2+1));f.kb();)if(d.kb(),!(2>c.Ha(f.Qa))){d.zR();for(var h,l,m=!0;f.La();){var r=f.ia(),A=d.oi();if(f.Jb()>d.Jb())break;m&&(t.add(f.Jb()),n.add(d.Bm()),m=!1);l=t.tc();var q=f.Bm();if(1<q-l){var v=new a.b;v.pc(c.Fa(l),c.Fa(q));h=v.length()}else h=r.$b();l=n.tc();q=d.Jb();1<q-l?(v=new a.b,v.pc(c.Fa(l),c.Fa(q)),l=v.length()):l=A.$b();h>this.pn?t.add(f.Bm()):k&&(h=c.ld(1,t.tc(),0),r=r.Ws(1,0),Math.abs(r-h)>g&&t.add(f.Bm()));l>this.pn?n.add(d.Jb()):k&&(h=c.ld(1,n.tc(),0),r=A.Ws(1,0),Math.abs(r-h)>g&&n.add(d.Jb()))}t.tc()<
n.tc()?t.size>n.size?t.af():n.af():(t.tc()!=n.tc()&&n.af(),n.af());if(2<=n.size+t.size){m=new a.Va;A=0;for(r=t.size;A<r;A++)e.Sd(t.get(A),m),0==A?b.df(m):b.lineTo(m);for(A=n.size-1;0<A;A--)e.Sd(n.get(A),m),b.lineTo(m);e.vc(f.Qa)?b.ro():0<n.size&&(e.Sd(n.get(0),m),b.lineTo(m))}null!=t&&t.clear(!1);null!=n&&n.clear(!1)}b.hg(2,this.pn);return b};g.prototype.MQ=function(){return this.xS()};g.prototype.xS=function(){if(1736==this.U.D()&&1==this.U.Cm())return a.Of.Qj(this.U,this.pn,!0,!1,this.oe);this.Zh=
new a.fd;this.Zh.Eb(this.U);0!=this.Zh.pd&&(1!=this.yx&&a.aj.$(this.Zh,this.pn,this.oe,!0),1736==this.U.D()&&a.mm.$(this.Zh,this.Zh.$c,this.yx,!1,this.oe));this.U=this.Zh.hf(this.Zh.$c);1736==this.U.D()&&(this.U.hl(),this.U.Pp(0));this.U.hg(2,this.pn);return this.U};g.ac=function(c,f,d){if(c.s())return 1;var b=c.D();if(33==b)return 1;if(197==b)return d=new a.i,c.o(d),d.mg(a.Ia.Cg(f,c,!1))?0:1;if(a.T.Lc(b))throw a.g.wa();if(!a.T.Th(b))throw a.g.wa();var b=a.Ia.Cg(f,c,!1),e=c.rj(b);d=d?-1:e;if(-1!=
d)return d;1==d&&(b=0);d=(new g(c,f,d,0,!1)).Yw();c.hg(d,b);return d};g.Ro=function(c,f,d,b,e){null!=b&&(b.yh=0,b.Fk=-1,b.Gk=-1);if(c.s())return 1;var k=c.D();if(33==k)return 1;var t=a.Ia.Cg(f,c,!1);if(197==k)return f=new a.i,c.o(f),f.mg(t)?(null!=b&&(b.yh=2,b.Fk=-1,b.Gk=-1),0):1;if(a.T.Lc(k))return t=new a.Xa(c.description),t.Bc(c,!0),g.Ro(t,f,d,b,e);e=c.rj(t);d=d?-1:e;if(-1!=d)return d;f=new g(c,f,d,0,!1);if(550==k)d=f.eQ();else if(1607==k)d=f.NQ();else if(1736==k)d=f.LQ();else throw a.g.wa();c.hg(d,
t);null!=b&&0==d&&b.aq(f.Kd);return d};g.ob=function(c,f,d,b,e){null!=b&&(b.yh=0,b.Fk=-1,b.Gk=-1);if(c.s())return 1;var k=c.D();if(33==k)return 1;var t=a.Ia.Cg(f,c,!1);if(197==k)return f=new a.i,c.o(f),f.mg(t)?(null!=b&&(b.yh=2,b.Fk=-1,b.Gk=-1),0):1;if(a.T.Lc(k))return k=new a.Xa(c.description),k.Bc(c,!0),g.Ro(k,f,d,b,e);c=new g(c,f,-1,0,!0);if(550==k||1607==k||1736==k)f=c.Yw();else throw a.g.wa();null!=b&&b.aq(c.Kd);return f};g.cG=function(c,f,d,b){if(c.s())return c;var e=c.D();if(33==e)return c;
var k=a.Ia.Cg(f,c,!1);if(197==e)return f=new a.i,c.o(f),f.mg(k)?c.Pa():c;if(a.T.Lc(e))return e=new a.Xa(c.description),e.Bc(c,!0),g.cG(e,f,d,b);b=c.rj(k);d=d?-1:b;if(2==d)return c;c=new g(c,f,d,0,!1);if(550==e)c=c.fQ();else if(1607==e)c=c.OQ();else if(1736==e)c=c.MQ();else throw a.g.wa();return c};g.Ry=function(c,f,d,b){if(c.s())return c;var e=c.D();if(33==e)return c;var k=a.Ia.Cg(f,c,!1);if(197==e)return f=new a.i,c.o(f),f.mg(k)?c.Pa():c;if(a.T.Lc(e))return k=new a.Xa(c.description),k.Bc(c,!0),g.Ry(k,
f,d,b);if(!a.T.Th(e))throw a.g.ra("OGC simplify is not implemented for this geometry type "+e);return a.Of.Ry(c,k,!1,b)};g.prototype.kj=function(c,f,d){if(c==f)return 0;c=this.xh.get(c);var b=this.xh.get(f);f=c>>1;var e=b>>1,k=new a.b,g=new a.b;this.$e.ec(2*f,k);k.y+=0!=(c&1)?this.Ri:-this.Ri;this.$e.ec(2*e,g);g.y+=0!=(b&1)?this.Ri:-this.Ri;c=k.compare(g);return 0==c&&d?(d=this.Bk.get(f)-this.Bk.get(e),0>d?-1:0<d?1:0):c};g.prototype.Is=function(c,f){if(c==f)return 0;var d=this.U,b=d.Fa(c),e=d.Fa(f);
if(b.x<e.x)return-1;if(b.x>e.x)return 1;if(b.y<e.y)return-1;if(b.y>e.y)return 1;for(b=1;b<this.wP;b++)for(var e=this.SD.Hd(b),k=a.pa.Wa(e),g=0;g<k;g++){var t=d.ld(e,c,g),n=d.ld(e,f,g);if(t<n)return-1;if(t>n)return 1}return 0};g.prototype.uL=function(c,f){var d=this.Is(c,f);return 0==d?c<f?-1:1:d};g.prototype.sM=function(c,f){if(c===f)return 0;var d=c.Zd.Pf(c.sl()?1:0);c.sl()&&d.Bp();c=f.Zd.Pf(f.sl()?1:0);f.sl()&&c.Bp();f=d.ps();var a=c.ps();return a==f?(f=d.Ai(c),Math.abs(f)<=8.881784197001252E-16*
(Math.abs(c.x*d.y)+Math.abs(c.y*d.x))&&(f--,f++),0>f?1:0<f?-1:0):f<a?-1:1};return g}();a.cv=g})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 30};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.prototype.$=function(c,f,d,b){return c instanceof a.T?(c=new a.Pc(c),f=new a.Pc(f),this.$(c,f,d,b).next()):new a.hI(c,f,d,b)};d.On=function(c,f,b,e){var k=c.fb(),g=f.fb();if(c.s()&&f.s())return k>g?c:f;if(c.s())return f;if(f.s())return c;
var t=new a.i,n=new a.i,h=new a.i;c.o(t);f.o(n);h.K(t);h.Db(n);t=a.Ia.zd(b,h,!1);n=c.D();h=f.D();return 33==n&&33==h?d.qP(c,f,t):n!=h?0<k||0<g?k>g?c:f:550==n?d.pA(c,f,t):d.pA(f,c,t):a.Of.On(c,f,b,e)};d.qP=function(c,f,d){d=d*Math.sqrt(2)*1.00001;d*=d;var b=c.w(),e=f.w(),k=new a.pe(c.description);a.b.Zb(b,e)>d&&(k.add(c),k.add(f));return k};d.pA=function(c,f,d){var b=c.mc(0),e=c.F(),k=f.w(),g=c.Pa();d=d*Math.sqrt(2)*1.00001;var n=new a.i;c.o(n);n.P(d,d);if(n.contains(k)){d*=d;for(var n=!1,h=[],l=0;l<
e;l++)h[l]=!1;for(l=0;l<e;l++){var m=b.read(2*l),r=b.read(2*l+1),m=m-k.x,r=r-k.y;m*m+r*r<=d&&(n=!0,h[l]=!0)}if(n)for(l=0;l<e;l++)h[l]||g.Pd(c,l,l+1);else g.Pd(c,0,e),g.add(f)}else g.Pd(c,0,e),g.add(f);return g};d.V=null;return d}(a.Me);a.dv=b})(z||(z={}));(function(a){var b=function(){function b(d,c,f,a){this.Fq=null==c;this.ua=-1;this.ne=d;this.cg=f;this.QP=c.next();this.Yb=a}b.prototype.next=function(){if(this.Fq)return null;var d;return null!=(d=this.ne.next())?(this.ua=this.ne.ya(),a.dv.On(d,
this.QP,this.cg,this.Yb)):null};b.prototype.ya=function(){return this.ua};return b}();a.hI=b})(z||(z={}));(function(a){var b=function(){function c(){}c.prototype.jt=function(){this.iw=null;this.Vu=-1;this.xG=!1};return c}(),e=function(){function c(){this.jq=0;this.Ci=[]}c.prototype.TJ=function(c){this.jq+=c.Vu;this.Ci.push(c)};c.prototype.PQ=function(){this.jq-=this.Ci[this.Ci.length-1].Vu;--this.Ci.length};c.prototype.Dv=function(){return this.Ci[this.Ci.length-1]};c.prototype.lc=function(c){return c===
this};return c}(),d=function(){function c(c,a,d){this.ua=-1;this.Ec=!1;this.bE=[!1,!1,!1,!1];this.ep=[0,0,0,0];this.ox=!1;this.Gj=-1;this.So=0;this.Tm=-1;this.rn=[];this.ne=c;this.cg=a;this.Yb=d}c.ac=function(c){var f=[],a;for(a in c)f.push(Number(a));f.sort(function(c,f){return c-f});return f};c.prototype.UC=function(f){var d=this.rn[f],b=c.ac(d)[0],e=d[b],g=e.Dv().iw,e=e.Dv().xG;delete d[b];e&&(g=a.as.local().$(g,this.cg,!1,this.Yb),0==f&&33==g.D()&&(f=new a.pe(g.description),g.s()||f.add(g),g=
f));return g};c.prototype.next=function(){if(this.Ec&&this.Tm==this.Gj)return null;for(;!this.FS(););if(-1==this.Gj)return null;if(this.ox){for(this.Tm++;;){if(this.Tm>this.Gj||0>this.Tm)throw a.g.wa();if(this.bE[this.Tm])break}this.ua++;return this.UC(this.Tm)}this.ua=0;this.Tm=this.Gj;return this.UC(this.Gj)};c.prototype.ya=function(){return this.ua};c.prototype.FS=function(){if(this.Ec)return!0;var c=null;null!=this.ne&&(c=this.ne.next(),null==c&&(this.Ec=!0,this.ne=null));if(null!=c){var d=c.fb();
this.bE[d]=!0;d>=this.Gj&&!this.ox&&(this.SA(d,!1,c),d>this.Gj&&!this.ox&&this.vR(d))}if(0<this.So)for(d=0;d<=this.Gj;d++)for(;1<this.ep[d];)if(c=this.jL(d),0!=c.length)c=a.Of.oM(c,this.cg,this.Yb),this.SA(d,!0,c);else break;return this.Ec};c.prototype.jL=function(f){for(var d=[],a=[],b=this.rn[f],e=c.ac(b),g=0;g<e.length;g++){var n=e[g],h=b[n];if(this.Ec||1E4<h.jq&&1<h.Ci.length){this.ep[f]-=h.Ci.length;for(this.So-=h.Ci.length;0<h.Ci.length;)d.push(h.Dv().iw),h.PQ();a.push(n)}}for(g=0;g<a.length;g++)delete b[a[g]];
return d};c.prototype.vR=function(c){for(var f=0;f<c;f++)this.rn[f]=[],this.So-=this.ep[f],this.ep[f]=0};c.prototype.SA=function(f,d,a){var k=new b;k.jt();k.iw=a;a=c.$g(a);k.Vu=a;a=c.Wf(a);if(f+1>this.rn.length)for(var g=0,t=Math.max(2,f+1);g<t;g++)this.rn.push([]);g=this.rn[f][a];void 0===g&&(g=new e,this.rn[f][a]=g);k.xG=d;g.TJ(k);this.ep[f]++;this.So++;this.Gj=Math.max(this.Gj,f)};c.Wf=function(c){return 0<c?a.I.truncate(Math.log(c)/Math.log(4)+.5):0};c.$g=function(c){var f=c.D();if(a.T.Th(f))return c.F();
if(33==f)return 1;if(197==f)return 4;if(a.T.Lc(f))return 2;throw a.g.wa();};return c}();a.jI=d})(z||(z={}));(function(a){var b=function(b){function d(){b.apply(this,arguments)}K(d,b);d.prototype.D=function(){return 1};d.prototype.$=function(c,f,d,b){return void 0===b?new a.jI(c,f,d):this.xM(c,f,d,b)};d.prototype.xM=function(c,f,d,b){c=new a.Pc([c,f]);return this.$(c,d,b).next()};d.local=function(){null===d.V&&(d.V=new d);return d.V};d.V=null;return d}(a.Me);a.wi=b})(z||(z={}));(function(a){var b;
(function(a){a[a.nextPath=0]="nextPath";a[a.nextSegment=1]="nextSegment";a[a.iterate=2]="iterate"})(b||(b={}));b=function(){function b(d,c,f,b){this.dr=new a.i;this.LP=d;this.MP=c;this.Wo=b;this.hn=-1;this.qk=!1;var e=d.pb;null!=e&&(e=b?e.nn:e.Ab,null!=e&&(this.Ec=!1,this.ka=f,this.Ab=e,this.au=this.Ab.Re(),this.Xo=this.qk=!0,this.Hb=0,b?this.hn=c.ea():this.bd=c.Ca()));this.qk||(e=c.pb,null!=e&&(e=b?e.nn:e.Ab,null!=e&&(this.Ec=!1,this.ka=f,this.Ab=e,this.au=this.Ab.Re(),this.qk=!0,this.Xo=!1,this.Hb=
0,b?this.hn=d.ea():this.bd=d.Ca())));this.qk||(this.th=b?a.Ia.BN(d,c,f,1<=d.rj(0),1<=c.rj(0)):a.Ia.AN(d,c,f))}b.prototype.next=function(){if(this.qk){if(this.Ec)return!1;for(var d=!0;d;)switch(this.Hb){case 0:d=this.nQ();break;case 1:d=this.oQ();break;case 2:d=this.$w();break;default:throw a.g.ra("internal error");}return this.Ec?!1:!0}return null==this.th?!1:this.th.next()};b.prototype.jk=function(){return this.qk?this.Xo?this.Ab.da(this.Rq):this.Wo?this.hn:this.bd.Jb():this.th.jk(this.th.Ff)};b.prototype.ek=
function(){return this.qk?this.Xo?this.Wo?this.hn:this.bd.Jb():this.Ab.da(this.Rq):this.th.ek(this.th.mf)};b.prototype.Fw=function(){if(!this.Wo)throw a.g.ra("internal error");return this.qk?this.Xo?this.Ab.uC(this.Rq):this.dr:this.th.Fw(this.th.Ff)};b.prototype.jw=function(){if(!this.Wo)throw a.g.ra("internal error");return this.qk?this.Xo?this.dr:this.Ab.uC(this.Rq):this.th.jw(this.th.mf)};b.prototype.nQ=function(){if(!this.Wo){if(!this.bd.kb())return this.Ec=!0,!1;this.Hb=1;return!0}if(-1==--this.hn)return this.Ec=
!0,!1;this.Xo?this.MP.Ti(this.hn,this.dr):this.LP.Ti(this.hn,this.dr);this.au.Ch(this.dr,this.ka);this.Hb=2;return!0};b.prototype.oQ=function(){if(!this.bd.La())return this.Hb=0,!0;var a=this.bd.ia();this.au.Fn(a,this.ka);this.Hb=2;return!0};b.prototype.$w=function(){this.Rq=this.au.next();return-1==this.Rq?(this.Hb=this.Wo?0:1,!0):!1};return b}();a.cl=b})(z||(z={}));(function(a){a=a.kI||(a.kI={});a[a.enumClosed=1]="enumClosed";a[a.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";a[a.enumOGCStartPolygon=
4]="enumOGCStartPolygon";a[a.enumCalcMask=4]="enumCalcMask"})(z||(z={}));(function(a){var b=function(){function b(){}b.Fb=function(d,c,f,e,g,h,n,l,m){var k=[0,0,0],t=[0,0,0],r=[0,0,0],A=[0,0,0,0],q=new a.ca(0),v=new a.ca(0),p=new a.ca(0);if(null!=n||null!=l||null!=m)if(a.j.Ih(c))a.zg.Fb(d,f,e,g,h,n,l,m);else{g=a.u.W(g);f=a.u.W(f);var G=a.u.W(g-f);if(a.j.S(e,h)&&(a.j.S(f,g)||a.j.S(a.j.H(e),1.570796326794897)))null!=n&&(n.l=0),null!=l&&(l.l=0),null!=m&&(m.l=0);else{if(a.j.S(e,-h)){if(a.j.S(a.j.H(e),
1.570796326794897)){null!=n&&(n.l=2*a.u.gg(d,c));null!=l&&(l.l=0<e?a.u.W(3.141592653589793-a.u.W(g)):a.u.W(g));null!=m&&(m.l=0<e?a.u.W(g):a.u.W(3.141592653589793-a.u.W(g)));return}a.j.S(a.j.H(G),3.141592653589793)&&(null!=n&&(n.l=2*a.u.gg(d,c)),null!=l&&(l.l=0),null!=m&&(m.l=0))}else{if(a.j.S(a.j.H(e),1.570796326794897)||a.j.S(a.j.H(h),1.570796326794897)){a.Xj.Fb(d,c,f,e,g,h,n,l,m);return}if(a.j.S(f,g)||a.j.S(a.j.H(G),3.141592653589793)){a.Xj.Fb(d,c,f,e,g,h,n,l,m);return}if(a.j.Vc(e)){a.Xj.Fb(d,c,
f,e,g,h,n,l,m);return}}var w=Math.sqrt(1-c);g=a.u.W(g-f);f=0;a.u.wm(c,e,f,q,v,p);k[0]=q.l;k[1]=v.l;k[2]=p.l;a.u.wm(c,h,g,q,v,p);t[0]=q.l;t[1]=v.l;t[2]=p.l;r[0]=0;r[1]=0;r[2]=-1*c*a.u.n(1,c,e)*Math.sin(e);0>g?a.u.Ep(r,t,k,A,0):a.u.Ep(r,k,t,A,0);for(var v=[0,0,0],p=[0,0,0],H=[0,0,0],k=[0,0,0],q=[0,0,0],u=Math.acos(A[2]/1),x=1-c,F=Math.tan(u),C=1+F*F/x,B=2*r[2]*F/x,F=Math.sqrt(B*B-4*C*(r[2]*r[2]/x-1)),C=2*C,x=(-B+F)/C,B=(-B-F)/C,F=Math.tan(u),C=F*x+r[2],u=(x+B)/2,r=(C+(F*B+r[2]))/2,F=a.u.Sn(x-u,C-r),
x=r/w*1.570796326794897,B=0;100>B;B++){C=a.u.Tk(c,x);C=C*C/Math.cos(x)*(Math.sin(x)-r*C/(1*(1-c)));if(a.j.Vc(C))break;x-=C}var r=a.u.n(1,c,x)*Math.cos(x),r=Math.sqrt((r-u)*(r+u)),F=1-F/r,F=F*(2-F),C=a.u.jm(v),u=a.u.jm(p),x=a.u.jm(H),D=a.u.Qr(H,v),B=a.u.Qr(H,p);a.u.Uu(H,v,k);a.u.Uu(H,p,q);v=Math.acos(D/(x*C));p=Math.acos(B/(x*u));p*=a.j.nb(1,a.u.Qr(k,q));if(1.570796326794897<=a.j.H(v)&&1.570796326794897<=a.j.H(p)||3.141592653589793<a.j.H(v-p))v=(3.141592653589793-a.j.H(v))*a.j.nb(1,v),p=(3.141592653589793-
a.j.H(p))*a.j.nb(1,p);k=a.u.Si(F,p);q=a.u.q(r,F,a.u.Si(F,v));k=a.u.q(r,F,k);k=a.j.H(k-q)*d;v=new a.ca(0);p=new a.ca(0);H=A[1]/1;H*=-a.j.nb(1,G);q=Math.acos(H)*a.j.nb(1,G);b.gf(d,c,f,e,k,q,v,p);a.j.S(g,v.l)&&a.j.S(h,p.l)||(F=a.u.Sn(a.u.W(g-v.l),h-p.l),b.gf(d,c,f,e,k,a.u.W(q+3.141592653589793),v,p),C=a.u.Sn(a.u.W(g-v.l),h-p.l),C<F&&(q=a.u.W(q+3.141592653589793)));v=[0,0,0,0];p=[0,0,0,0];r=[0,0,0];F=[0,0,0];d=[0,0,0];f=[0,0,0];e=[0,0,0];H=[0,0,0];r[0]=0;r[1]=0;r[2]=w;F[0]=0;F[1]=0;F[2]=0;a.u.Ep(F,r,
t,v,0);a.j.Vc(h)?(d[0]=t[0],d[1]=t[1],d[2]=1,f[0]=1*Math.cos(g)-1*Math.sin(g),f[1]=1*Math.sin(g)+1*Math.cos(g)):(c=a.u.n(1,c,h)*Math.cos(h),d[0]=0,d[1]=0,t[2]+=Math.tan(1.570796326794897-a.j.H(h))*c*a.j.nb(1,h),f[0]=c*Math.cos(g)-c*Math.sin(g),f[1]=c*Math.sin(g)+c*Math.cos(g));f[2]=t[2];a.u.Ep(t,f,d,p,1);a.u.Uu(p,v,e);a.u.Uu(p,A,H);H=a.u.Qr(e,H)/(a.u.jm(e)*a.u.jm(H));H*=a.j.nb(1,G);g=Math.acos(H)*-a.j.nb(1,G);0<q&&0<g?g=a.u.W(g+3.141592653589793):0>q&&0>g&&(g=a.u.W(g+3.141592653589793));null!=n&&
(n.l=k);null!=l&&(l.l=q);null!=m&&(m.l=g)}}};b.gf=function(d,c,f,b,e,g,h,n){var k=[0,0,0],t=[0,0,0],l=[0,0,0],m=[0,0,0],r=[0,0,0],A=[0,0,0],q=[0,0,0],v=[0,0,0,0],p=new a.ca(0),G=new a.ca(0),w=new a.ca(0),u=new a.ca(0),x=new a.ca(0),F=new a.ca(0);if(null!=h&&null!=n)if(a.j.Ih(c))a.zg.gf(d,f,b,e,g,h,n);else if(a.j.Vc(e))null!=h&&(h.l=f),null!=n&&(n.l=b);else if(g=a.u.W(g),0>e&&(e=a.j.H(e),g=a.u.W(g+3.141592653589793)),f=a.u.W(f),b=a.u.W(b),1.570796326794897<a.j.H(b)&&(f=a.u.W(f+3.141592653589793),b=
a.j.nb(3.141592653589793,b)-b),a.j.S(a.j.H(b),1.570796326794897)||a.j.Vc(b)||a.j.Vc(g)||a.j.S(a.j.H(g),3.141592653589793))a.Xj.gf(d,c,f,b,e,g,h,n);else{var C=Math.sqrt(1-c);d=e/d;a.u.wm(c,b,0,u,x,F);k[0]=u.l;k[1]=x.l;k[2]=x.l;q[0]=0;q[1]=0;q[2]=-1*c*a.u.n(1,c,b)*Math.sin(b);u=a.u.n(1,c,b);x=a.u.W(1.570796326794897-g);F=Math.sin(x);e=Math.cos(b);b=Math.sin(b);r[0]=u*e-b*F;r[1]=Math.cos(x);r[2]=(1-c)*u*b+e*F;0>g?a.u.Ep(q,r,k,v,0):a.u.Ep(q,k,r,v,0);k=Math.acos(v[2]/1);v=Math.atan2(-v[1],-v[0]);b=1-c;
r=Math.tan(k);x=1+r*r/b;u=2*q[2]*r/b;r=Math.sqrt(u*u-4*x*(q[2]*q[2]/b-1));x*=2;b=(-u+r)/x;u=(-u-r)/x;r=Math.tan(k);x=r*b+q[2];k=(b+u)/2;q=(x+(r*u+q[2]))/2;r=a.u.Sn(b-k,x-q);C=q/C*1.570796326794897;for(b=0;100>b;b++){u=a.u.Tk(c,C);u=u*u/Math.cos(C)*(Math.sin(C)-q*u/(1*(1-c)));if(a.j.Vc(u))break;C-=u}C=a.u.n(1,c,C)*Math.cos(C);C=Math.sqrt((C-k)*(C+k));q=1-r/C;q*=2-q;A=Math.acos(a.u.Qr(A,t)/(a.u.jm(A)*a.u.jm(t)));A*=a.j.nb(1,t[0]);g=(a.u.q(C,q,a.u.Si(q,A))+d*a.j.nb(1,g))/a.u.gg(C,q);g=a.u.W(1.570796326794897*
g);g=a.u.xn(q,g);a.u.n(C,q,g);r=a.u.W(v+f);f=Math.cos(r);g=Math.sin(r);l[0]=m[0]*f+m[1]*-g;l[1]=m[0]*g+m[1]*f;l[2]=m[2];a.u.JK(c,l[0],l[1],l[2],w,G,p);null!=h&&(h.l=G.l);null!=n&&(n.l=w.l)}};return b}();a.$z=b})(z||(z={}));(function(a){var b=function(){function c(c){this.Na=null;this.Ar=new a.b;this.Br=new a.b;this.a=c}c.prototype.compare=function(c,a,f){this.a.uc(a,this.Ar);this.a.uc(c.da(f),this.Br);return this.Ar.compare(this.Br)};return c}(),e=function(){function c(c){this.nf=new a.b;this.ln=
new a.b;this.a=c}c.prototype.bh=function(c){this.nf.J(c)};c.prototype.compare=function(c,a){this.a.uc(c.da(a),this.ln);return this.nf.compare(this.ln)};return c}(),d=function(c){function a(a){c.call(this,a.a,a.ka,!1);this.ab=a}K(a,c);a.prototype.compare=function(c,a,f){if(this.Zf)return-1;var d=this.ab.Cd.Dm(this.ab.lh(a));c=c.da(f);var b=this.ab.Cd.Dm(this.ab.lh(c));this.Cl=f;return this.JB(a,d,c,b)};return a}(a.hA),c=function(c){function a(a){c.call(this,a.a,a.ka);this.ab=a}K(a,c);a.prototype.compare=
function(c,a){if(this.Zf)return-1;c=this.ab.Cd.Dm(this.ab.lh(c.da(a)));this.Cl=a;return this.KB(a,c)};return a}(a.JI),f=function(){function f(){this.zc=this.Ue=this.Zm=this.Cd=this.Kg=this.nd=this.$a=this.a=null;this.og=!1;this.Xg=this.Kl=this.Vd=this.Lj=this.Mg=this.Hj=this.sf=this.Ld=null;this.Yg=this.rp=this.Tx=this.ka=0;this.Ht=this.Nm=!1;this.mn=new a.b;this.Ck=new a.b;this.$a=new a.Fc(8);this.nd=new a.Fc(5);this.Kg=new a.Ur;this.Cd=new a.Ur;this.og=!1;this.Xg=new a.b;this.Xg.ma(0,0);this.ka=
0;this.Yg=-1;this.Nm=!1;this.a=null;this.Ue=new a.bj;this.zc=new a.bj;this.Mg=new a.ga(0);this.Lj=new a.gA;this.sf=new a.ga(0);this.Hj=new a.ga(0);this.Zm=new a.Va}f.prototype.GS=function(c,f){var d=new a.Bg;d.Oy();c.Oe(d);this.Op(c);this.Nm=!1;this.ka=f;this.Tx=f*f;f=this.Xy();c.Oe(d);f||(this.JM(),f||this.Xy());-1!=this.Yg&&(this.a.bf(this.Yg),this.Yg=-1);this.a=null;return this.Nm};f.prototype.KS=function(c,f){this.Op(c);this.Nm=!1;this.ka=f;this.Tx=f*f;this.og=!1;this.Xy();this.og||(this.og=1==
c.xo(f,!0,!1));-1!=this.Yg&&(this.a.bf(this.Yg),this.Yg=-1);this.a=null};f.prototype.Uf=function(c,f){return this.$a.O(c,0+f)};f.prototype.zy=function(c,f,a){this.$a.L(c,0+f,a)};f.prototype.lh=function(c){return this.$a.O(c,2)};f.prototype.UR=function(c,f){this.$a.L(c,2,f)};f.prototype.FC=function(c,f){return this.$a.O(c,3+f)};f.prototype.Eo=function(c){return this.$a.O(c,7)};f.prototype.Nk=function(c,f){this.$a.L(c,7,f)};f.prototype.Go=function(c,f){return this.$a.O(c,3+this.Do(c,f))};f.prototype.Qp=
function(c,f,a){this.$a.L(c,3+this.Do(c,f),a)};f.prototype.ZN=function(c,f){return this.$a.O(c,5+this.Do(c,f))};f.prototype.Sp=function(c,f,a){this.$a.L(c,5+this.Do(c,f),a)};f.prototype.rq=function(c){return this.nd.O(c,0)};f.prototype.RR=function(c,f){this.nd.L(c,0,f)};f.prototype.ow=function(c){return this.nd.O(c,4)};f.prototype.Lp=function(c,f){this.nd.L(c,4,f)};f.prototype.fk=function(c){return this.nd.O(c,1)};f.prototype.dm=function(c,f){this.nd.L(c,1,f)};f.prototype.nw=function(c){return this.nd.O(c,
3)};f.prototype.Hr=function(c,f){this.nd.L(c,3,f)};f.prototype.Ul=function(c){var f=this.nd.be(),a=this.Kg.jh();this.RR(f,a);-1!=c?(this.Kg.addElement(a,c),this.a.lb(c,this.Yg,f),this.Lp(f,this.a.gb(c))):this.Lp(f,-1);return f};f.prototype.aM=function(c){this.nd.Jc(c)};f.prototype.QA=function(c,f){this.Kg.addElement(this.rq(c),f);this.a.lb(f,this.Yg,c)};f.prototype.rr=function(c){var f=this.$a.be(),a=this.Cd.jh();this.UR(f,a);-1!=c&&this.Cd.addElement(a,c);return f};f.prototype.RA=function(c,f){this.Cd.addElement(this.lh(c),
f)};f.prototype.Ns=function(c){this.$a.Jc(c);c=this.Mg.Qs(c);0<=c&&this.Mg.QE(c)};f.prototype.yi=function(c,f){if(-1==this.Uf(c,0))this.zy(c,0,f);else if(-1==this.Uf(c,1))this.zy(c,1,f);else throw a.g.wa();this.Av(c,f)};f.prototype.Av=function(c,f){var a=this.fk(f);if(-1!=a){var d=this.Go(a,f);this.Sp(d,f,c);this.Qp(c,f,d);this.Qp(a,f,c);this.Sp(c,f,a)}else this.Sp(c,f,c),this.Qp(c,f,c),this.dm(f,c)};f.prototype.Do=function(c,f){return this.Uf(c,0)==f?0:1};f.prototype.Tl=function(c,f){var a=this.nw(f);
-1!=a&&(this.Ue.kd(a,-1),this.Hr(f,-1));var d,a=this.fk(f);if(-1!=a){var b=d=a,e;do{e=!1;var k=this.Do(d,f),g=this.FC(d,k);if(this.Uf(d,k+1&1)==c){this.Os(d);this.Cd.Fg(this.lh(d));this.Ns(d);if(d==g){a=-1;break}a==d&&(a=this.fk(f),b=g,e=!0)}d=g}while(d!=b||e);if(-1!=a){do k=this.Do(d,f),g=this.FC(d,k),this.zy(d,k,c),d=g;while(d!=b);d=this.fk(c);-1!=d?(b=this.Go(d,c),e=this.Go(a,c),b==d?(this.dm(c,a),this.Av(d,c),this.dm(c,d)):e==a&&this.Av(a,c),this.Qp(a,c,b),this.Sp(b,c,a),this.Qp(d,c,e),this.Sp(e,
c,d)):this.dm(c,a)}}a=this.rq(c);d=this.rq(f);for(b=this.Kg.gc(d);-1!=b;b=this.Kg.bb(b))this.a.lb(this.Kg.da(b),this.Yg,c);this.Kg.Qv(a,d);this.aM(f)};f.prototype.YP=function(c,f){var a=this.Uf(c,0),d=this.Uf(c,1),b=this.Uf(f,0),e=this.Uf(f,1);this.Cd.Qv(this.lh(c),this.lh(f));f==this.fk(a)&&this.dm(a,c);f==this.fk(d)&&this.dm(d,c);this.Os(f);this.Ns(f);a==b&&d==e||d==b&&a==e||(this.zm(a,this.mn),this.zm(b,this.Ck),this.mn.ub(this.Ck)?(a!=b&&this.Tl(a,b),d!=e&&this.Tl(d,e)):(d!=b&&this.Tl(d,b),a!=
e&&this.Tl(a,e)))};f.prototype.Os=function(c){var f=this.Uf(c,1);this.SB(c,this.Uf(c,0));this.SB(c,f)};f.prototype.SB=function(c,f){var a=this.Go(c,f),d=this.ZN(c,f),b=this.fk(f);a!=c?(this.Qp(d,f,a),this.Sp(a,f,d),b==c&&this.dm(f,a)):this.dm(f,-1)};f.prototype.YA=function(c,f,a){var d=this.Cd.gc(c),b=this.Cd.da(d);c=this.se(b);var e=this.se(this.a.X(b));this.a.Tp(b,f,a,!0);for(d=this.Cd.bb(d);-1!=d;d=this.Cd.bb(d)){var b=this.Cd.da(d),k=this.se(b)==c;this.a.Tp(b,f,a,k)}d=f.Io(a,0).Mb();f=f.Io(a,
f.kk(a)-1).oc();this.yG(c,d);this.yG(e,f)};f.prototype.PB=function(c,f,a){var d=this.lh(c),b=this.Uf(c,0),e=this.Uf(c,1),k=this.rr(-1);this.Mg.add(k);this.Nk(k,-3);this.sf.add(k);this.yi(k,b);c=1;for(f=f.kk(a);c<f;c++)a=this.Ul(-1),this.Hj.add(a),this.sf.add(a),this.yi(k,a),k=this.rr(-1),this.Mg.add(k),this.Nk(k,-3),this.sf.add(k),this.yi(k,a);this.yi(k,e);for(d=this.Cd.gc(d);-1!=d;d=this.Cd.bb(d))if(e=this.Cd.da(d),this.se(e)==b){c=0;do 0<c&&(k=this.sf.get(c-1),this.QA(k,e),-1==this.ow(k)&&this.Lp(k,
this.a.gb(e))),k=this.sf.get(c),c+=2,this.RA(k,e),e=this.a.X(e);while(c<this.sf.size)}else{c=this.sf.size-1;do c<this.sf.size-2&&(k=this.sf.get(c+1),this.QA(k,e),0>this.ow(k)&&this.Lp(k,this.a.gb(e))),k=this.sf.get(c),c-=2,this.RA(k,e),e=this.a.X(e);while(0<=c)}this.sf.clear(!1)};f.prototype.se=function(c){return this.a.Ra(c,this.Yg)};f.prototype.UE=function(c,f,d){var b=this.Uf(f,0),e=new a.b;this.zm(b,e);var k=new a.b,g=this.Uf(f,1);this.zm(g,k);var t=d.kk(c),h=d.Io(c,0),n=new a.b;h.ht(n);if(!e.ub(n)){if(!this.og){var l=
e.compare(this.Xg),n=n.compare(this.Xg);0>l*n&&(this.og=!0)}this.lC(b,this.sf);this.Hj.add(b)}!this.og&&1<t&&(l=e.compare(k),h=h.oc(),e.compare(h)!=l||h.compare(k)!=l?this.og=!0:0>h.compare(this.Xg)&&(this.og=!0));h=d.Io(c,t-1);c=h.oc();k.ub(c)||(this.og||(l=k.compare(this.Xg),n=c.compare(this.Xg),0>l*n&&(this.og=!0)),this.lC(g,this.sf),this.Hj.add(g));this.sf.add(f);k=0;for(g=this.sf.size;k<g;k++)c=this.sf.get(k),d=this.Eo(c),a.Fc.Zw(d)&&(this.zc.kd(d,-1),this.Nk(c,-1)),c!=f&&-3!=this.Eo(c)&&(this.Mg.add(c),
this.Nk(c,-3));this.sf.clear(!1)};f.prototype.NK=function(c,f){this.Ld.compare(this.zc,this.zc.da(c),f);this.Ld.Zf&&(this.Ld.lq(),this.dC(c,f))};f.prototype.dC=function(c,f){this.Nm=!0;c=this.zc.da(c);f=this.zc.da(f);var d,b;b=this.Cd.Dm(this.lh(c));var e=this.Cd.Dm(this.lh(f));d=this.a.cc(b);null==d&&(null==this.Vd&&(this.Vd=new a.yb),this.a.Oc(b,this.Vd),d=this.Vd);b=this.a.cc(e);null==b&&(null==this.Kl&&(this.Kl=new a.yb),this.a.Oc(e,this.Kl),b=this.Kl);this.Lj.zn(d);this.Lj.zn(b);this.Lj.Ga(this.ka,
!0)&&(this.og=!0);this.fG(c,f,-1,this.Lj);this.Lj.clear()};f.prototype.VM=function(c,f){this.Nm=!0;f=this.zc.da(f);var d,b=this.Cd.Dm(this.lh(f));d=this.a.cc(b);null==d&&(null==this.Vd&&(this.Vd=new a.yb),this.a.Oc(b,this.Vd),d=this.Vd);b=this.qC(c);this.Lj.zn(d);this.a.Jk(b,this.Zm);this.Lj.Tw(this.ka,this.Zm,!0);this.fG(f,-1,c,this.Lj);this.Lj.clear()};f.prototype.DO=function(){if(0!=this.Mg.size)for(;0!=this.Mg.size;){if(this.Mg.size>Math.max(100,this.a.pd)){this.Mg.clear(!1);this.og=!0;break}var c=
this.Mg.tc();this.Mg.af();this.Nk(c,-1);-1!=this.TO(c)&&this.CO(c);this.Mm=!1}};f.prototype.CO=function(c){var f;this.Mm?(f=this.zc.vs(this.lE,this.iE,c,!0),this.Mm=!1):f=this.zc.PA(c);-1==f?this.YP(this.zc.da(this.zc.tC()),c):(this.Nk(c,f),this.Ld.Zf&&(this.Ld.lq(),this.dC(this.Ld.Cl,f)))};f.prototype.TO=function(c){var f=this.Uf(c,0);c=this.Uf(c,1);this.zm(f,this.mn);this.zm(c,this.Ck);if(a.b.Zb(this.mn,this.Ck)<=this.Tx)return this.og=!0,-1;var d=this.mn.compare(this.Xg),b=this.Ck.compare(this.Xg);
return 0>=d&&0<b?c:0>=b&&0<d?f:-1};f.prototype.HM=function(){var c=new a.ga(0);c.xb(this.a.pd);for(var f=this.a.Gp(),d=f.next();-1!=d;d=f.next())-1!=this.a.Ra(d,this.Yg)&&c.add(d);this.a.Mu(c,c.size);this.IM(c)};f.prototype.IM=function(c){this.Ue.clear();this.Ue.de(c.size);this.Ue.Hn(new b(this.a));var f=new a.b;f.Eh();for(var d=-1,e=new a.b,k=0,g=c.size;k<g;k++){var t=c.get(k);this.a.uc(t,e);e.ub(f)?(t=this.a.Ra(t,this.Yg),this.Tl(d,t)):(d=this.se(t),this.a.uc(t,f),t=this.Ue.qm(t),this.Hr(d,t))}};
f.prototype.JM=function(){var c=new a.ga(0);c.xb(this.a.pd);for(var f=this.Ue.gc(-1);-1!=f;f=this.Ue.bb(f))c.add(this.Ue.da(f));this.Ue.clear();this.a.Mu(c,c.size);for(var f=0,d=c.size;f<d;f++){var b=c.get(f),e=this.se(b),b=this.Ue.qm(b);this.Hr(e,b)}};f.prototype.lC=function(c,f){var d=this.fk(c);if(-1!=d){var b=d;do a.Fc.Zw(this.Eo(b))&&f.add(b),b=this.Go(b,c);while(b!=d)}};f.prototype.yG=function(c,f){for(c=this.Kg.gc(this.rq(c));-1!=c;c=this.Kg.bb(c))this.a.Yi(this.Kg.da(c),f)};f.prototype.fG=
function(c,f,a,d){this.Os(c);-1!=f&&this.Os(f);this.UE(0,c,d);-1!=f&&this.UE(1,f,d);-1!=a&&(d.nf.w(this.mn),this.zm(a,this.Ck),this.Ck.ub(this.mn)||this.Hj.add(a));a=0;for(var b=this.Hj.size;a<b;a++){var e=this.Hj.get(a),k=this.nw(e);-1!=k&&(this.Ue.kd(k,-1),this.Hr(e,-1))}a=this.lh(c);b=-1!=f?this.lh(f):-1;this.YA(a,d,0);-1!=f&&this.YA(b,d,1);this.PB(c,d,0);-1!=f&&this.PB(f,d,1);this.Cd.Fg(a);this.Ns(c);-1!=f&&(this.Cd.Fg(b),this.Ns(f));a=0;for(b=this.Hj.size;a<b;a++)e=this.Hj.get(a),e==this.rp&&
(this.Ht=!0),k=this.nw(e),-1==k&&(k=this.Ue.PA(this.qC(e)),-1==k?(c=this.se(this.Ue.da(this.Ue.tC())),this.Tl(c,e)):this.Hr(e,k));this.Hj.clear(!1)};f.prototype.zm=function(c,f){this.a.SC(this.ow(c),f)};f.prototype.qC=function(c){return this.Kg.Dm(this.rq(c))};f.prototype.Xy=function(){this.Ht=!1;this.rp=-1;null==this.Ld&&(this.zc.Ct=!1,this.Ld=new d(this),this.zc.Qm=this.Ld);var f=new a.ga(0),b=null,k=null,g=0;this.iE=this.lE=-1;this.Mm=!1;for(var h=this.Ue.gc(-1);-1!=h;){g++;this.Mm=!1;var n=this.Ue.da(h);
this.rp=this.se(n);this.a.uc(n,this.Xg);this.Ld.XF(this.Xg.y,this.Xg.x);var l,m=this.fk(this.rp);l=-1==m;if(!l){n=m;do{var r=this.Eo(n);-1==r?(this.Mg.add(n),this.Nk(n,-3)):-3!=r&&f.add(r);n=this.Go(n,this.rp)}while(n!=m)}if(0<f.size){this.Mm=1==f.size&&1==this.Mg.size;l=0;for(m=f.size;l<m;l++)n=this.zc.da(f.get(l)),this.Nk(n,-2);var q=-2,v=-2;l=0;for(m=f.size;l<m;l++){r=f.get(l);if(-2==q){var p=this.zc.ge(r);-1!=p?(n=this.zc.da(p),n=this.Eo(n),-2!=n&&(q=p)):q=-1}-2==v&&(r=this.zc.bb(r),-1!=r?(n=
this.zc.da(r),n=this.Eo(n),-2!=n&&(v=r)):v=-1);if(-2!=q&&-2!=v)break}l=0;for(m=f.size;l<m;l++)r=f.get(l),n=this.zc.da(r),this.zc.kd(r,-1),this.Nk(n,-1);f.clear(!1);this.lE=-1!=q?q:-1;this.iE=-1!=v?v:-1;-1!=q&&-1!=v?this.Mm||this.NK(q,v):-1==q&&-1==v&&(this.Mm=!1)}else l&&(null==b&&(b=new c(this)),b.bh(this.Xg),this.zc.sF(b),b.Zf&&(b.lq(),this.VM(this.rp,b.Cl)));this.DO();this.Ht?(this.Ht=!1,null==k&&(k=new e(this.a)),k.bh(this.Xg),h=this.Ue.sF(k)):h=this.Ue.bb(h)}return this.Nm};f.prototype.Op=function(c){this.a=
c;this.Yg=this.a.re();this.$a.de(c.pd+32);this.nd.de(c.pd);this.Kg.Dr(c.pd);this.Kg.$l(c.pd);this.Cd.Dr(c.pd+32);this.Cd.$l(c.pd+32);for(c=this.a.$c;-1!=c;c=this.a.we(c))if(a.T.Kc(this.a.Lb(c)))for(t=this.a.Vb(c);-1!=t;t=this.a.bc(t)){var f=this.a.Ha(t),d=this.a.Cb(t),b=this.Ul(d),e=this.rr(d);this.yi(e,b);h=this.a.X(d);d=0;for(f-=2;d<f;d++){var k=this.a.X(h),g=this.Ul(h);this.yi(e,g);e=this.rr(h);this.yi(e,g);h=k}this.a.vc(t)?(g=this.Ul(h),this.yi(e,g),e=this.rr(h),this.yi(e,g),this.yi(e,b)):(g=
this.Ul(h),this.yi(e,g))}else for(var t=this.a.Vb(c);-1!=t;t=this.a.bc(t))for(var h=this.a.Cb(t),b=0,f=this.a.Ha(t);b<f;b++)this.Ul(h),h=this.a.X(h);this.HM()};return f}();a.aA=f})(z||(z={}));(function(a){var b=function(b){function d(c,f,d){b.call(this);if(void 0!==c)if(void 0!==d){this.description=a.Od.Tf();var e=new a.ee;e.K(c,f,d);this.Py(e)}else if(void 0!==f)this.description=a.Od.Tf(),this.ic(c,f);else if(c instanceof a.pa)this.description=c;else if(c instanceof a.b)this.description=a.Od.Tf(),
this.ic(c);else throw a.g.N();else this.description=a.Od.Tf()}K(d,b);d.prototype.w=function(c){if(void 0!==c){if(this.sc())throw a.g.ra("This operation should not be performed on an empty geometry.");c.ma(this.fa[0],this.fa[1])}else{if(this.sc())throw a.g.ra("This operation should not be performed on an empty geometry.");c=new a.b;c.ma(this.fa[0],this.fa[1]);return c}};d.prototype.ic=function(c,f){"number"===typeof c?(this.qc(),null==this.fa&&this.ko(),this.fa[0]=c,this.fa[1]=f):(this.qc(),this.ic(c.x,
c.y))};d.prototype.Lw=function(){if(this.sc())throw a.g.ra("This operation should not be performed on an empty geometry.");var c=new a.ee;c.x=this.fa[0];c.y=this.fa[1];this.description.WC()?c.z=this.fa[2]:c.z=a.pa.ue(1);return c};d.prototype.Py=function(c){this.qc();var f=this.hasAttribute(1);f||a.pa.nD(1,c.z)||(this.Ne(1),f=!0);null==this.fa&&this.ko();this.fa[0]=c.x;this.fa[1]=c.y;f&&(this.fa[2]=c.z)};d.prototype.lk=function(){if(this.sc())throw a.g.ra("This operation should not be performed on an empty geometry.");
return this.fa[0]};d.prototype.qS=function(c){this.setAttribute(0,0,c)};d.prototype.mk=function(){if(this.sc())throw a.g.ra("This operation should not be performed on an empty geometry.");return this.fa[1]};d.prototype.$F=function(c){this.setAttribute(0,1,c)};d.prototype.lO=function(){return this.ld(1,0)};d.prototype.rS=function(c){this.setAttribute(1,0,c)};d.prototype.NN=function(){return this.ld(2,0)};d.prototype.bS=function(c){this.setAttribute(2,0,c)};d.prototype.Qc=function(){return this.nC(3,
0)};d.prototype.ld=function(c,f){var d=this.description.zf(c);return 0<=d?this.fa[this.description.fj(d)+f]:a.pa.ue(c)};d.prototype.nC=function(c,f){var d=this.description.zf(c);return 0<=d?this.fa[this.description.fj(d)+f]:a.pa.ue(c)};d.prototype.setAttribute=function(c,f,a){this.qc();var d=this.description.zf(c);0>d&&(this.Ne(c),d=this.description.zf(c));null==this.fa&&this.ko();this.fa[this.description.fj(d)+f]=a};d.prototype.D=function(){return 33};d.prototype.fb=function(){return 0};d.prototype.Ja=
function(){this.qc();null!=this.fa&&(this.fa[0]=NaN,this.fa[1]=NaN)};d.prototype.nm=function(c){if(null!=this.fa){for(var f=a.Od.iu(c,this.description),d=[],b=0,e=0,g=c.Aa;e<g;e++){var h=c.Hd(e),n=a.pa.Wa(h);if(-1==f[e])for(var l=a.pa.ue(h),h=0;h<n;h++)d[b]=l,b++;else for(l=this.description.fj(f[e]),h=0;h<n;h++)d[b]=this.fa[l],b++,l++}this.fa=d}this.description=c};d.prototype.ko=function(){this.iF(this.description.le.length);d.ob(this.description.le,this.fa,this.description.le.length);this.fa[0]=
NaN;this.fa[1]=NaN};d.prototype.Oe=function(c){if(c instanceof a.Bg){if(!this.sc()){var f=this.w();c.Zi(f,f);this.ic(f)}}else this.sc()||(this.Ne(1),f=this.Lw(),this.Py(c.Qn(f)))};d.prototype.copyTo=function(c){if(33!=c.D())throw a.g.N();c.qc();null==this.fa?(c.Ja(),c.fa=null,c.Qf(this.description)):(c.Qf(this.description),c.iF(this.description.le.length),d.ob(this.fa,c.fa,this.description.le.length))};d.prototype.Pa=function(){return new d(this.description)};d.prototype.s=function(){return this.sc()};
d.prototype.sc=function(){return null==this.fa||isNaN(this.fa[0])||isNaN(this.fa[1])};d.prototype.Fp=function(c){c.Ja();this.description!=c.description&&c.Qf(this.description);c.Db(this)};d.prototype.o=function(c){this.sc()?c.Ja():(c.v=this.fa[0],c.C=this.fa[1],c.B=this.fa[0],c.G=this.fa[1])};d.prototype.Cn=function(c){if(this.sc())c.Ja();else{var f=this.Lw();c.v=f.x;c.C=f.y;c.Je=f.z;c.B=f.x;c.G=f.y;c.ig=f.z}};d.prototype.Ah=function(c,f){var d=new a.Nd;if(this.sc())return d.Ja(),d;c=this.ld(c,f);
d.qa=c;d.va=c;return d};d.prototype.iF=function(c){if(null==this.fa)this.fa=a.I.Lh(c);else if(this.fa.length<c){for(var f=this.fa.slice(0),d=this.fa.length;d<c;d++)f[d]=0;this.fa=f}};d.ob=function(c,f,a){if(0<a)for(a=0;a<c.length;a++)f[a]=c[a]};d.prototype.lc=function(c){if(c==this)return!0;if(!(c instanceof d)||this.description!=c.description)return!1;if(this.sc())return c.sc()?!0:!1;for(var f=0,a=this.description.le.length;f<a;f++)if(this.fa[f]!=c.fa[f])return!1;return!0};d.prototype.hc=function(){var c=
this.description.hc();if(!this.sc())for(var f=0,d=this.description.le.length;f<d;f++)var b=this.fa[f],b=a.I.truncate(b^b>>>32),c=a.I.kg(b,c);return c};d.prototype.Rf=function(){return null};return d}(a.T);a.Va=b})(z||(z={}));(function(a){var b=function(){function a(a,c,f){void 0!==a&&(this.x=a,this.y=c,this.z=f)}a.Oa=function(d,c,f){var b=new a;b.x=d;b.y=c;b.z=f;return b};a.prototype.K=function(a,c,f){this.x=a;this.y=c;this.z=f};a.prototype.Lu=function(){this.z=this.y=this.x=0};a.prototype.normalize=
function(){var a=this.length();0==a&&(this.x/=a,this.y/=a,this.z/=a)};a.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};a.prototype.sub=function(d){return new a(this.x-d.x,this.y-d.y,this.z-d.z)};a.prototype.Ap=function(d){return new a(this.x*d,this.y*d,this.z*d)};a.prototype.FA=function(){this.x=NaN};a.prototype.pv=function(){return isNaN(this.x)};return a}();a.ee=b})(z||(z={}));(function(a){var b=function(){function b(a,c,f){this.gu=this.Yt=null;this.Gf=
c;this.KP=c.y-f;this.JP=c.y+f;this.xp=0;this.ix=a;this.ka=f;this.UP=f*f;this.jx=0!=f;this.xt=!1}b.prototype.result=function(){return 0!=this.xp?1:0};b.prototype.DJ=function(d){d=d.Kb(d.Gd(this.Gf,!1));return a.b.Zb(d,this.Gf)<=this.UP?!0:!1};b.prototype.WB=function(a){if(!this.jx&&(this.ix&&this.Gf.ub(a.Mb())||this.Gf.ub(a.oc())))this.xt=!0;else if(a.ja==this.Gf.y&&a.ja==a.ha){if(this.ix&&!this.jx){var c=Math.max(a.na,a.la);this.Gf.x>Math.min(a.na,a.la)&&this.Gf.x<c&&(this.xt=!0)}}else{var f=!1,c=
Math.max(a.na,a.la);this.Gf.x>c?f=!0:this.Gf.x>=Math.min(a.na,a.la)&&(f=0<a.nt(!0,this.Gf.y,this.gu,null)&&this.gu[0]<=this.Gf.x);if(f){if(this.Gf.y==a.Mb().y){if(this.Gf.y<a.oc().y)return}else if(this.Gf.y==a.oc().y&&this.Gf.y<a.Mb().y)return;this.xp=this.ix?this.xp^1:this.xp+(a.Mb().y>a.oc().y?1:-1)}}};b.prototype.zr=function(a){var c=a.Ah(0,1);if(c.qa>this.JP||c.va<this.KP)return!1;if(this.jx&&this.DJ(a))return!0;if(c.qa>this.Gf.y||c.va<this.Gf.y)return!1;null==this.Yt&&(this.Yt=[null,null,null,
null,null]);null==this.gu&&(this.gu=[0,0,0]);c=a.TC(this.Yt);if(0<c)for(a=0;a<c;a++){var f=this.Yt[a].get();this.WB(f);if(this.xt)return!0}else if(this.WB(a),this.xt)return!0;return!1};b.V=function(a,c,f){c=new b(0==a.Cm(),c,f);for(a=a.Ca();a.kb();)for(;a.La();)if(f=a.ia(),c.zr(f))return-1;return c.result()};b.Bd=function(d,c,f,e){var k=new a.i;d.dd(k);k.P(e,e);var g=new b(0==d.Cm(),f,e);d=d.Ca();var h=new a.i;h.K(k);h.B=f.x+e;h.C=f.y-e;h.G=f.y+e;f=c.xw(h,e);for(e=f.next();-1!=e;e=f.next())if(d.Sb(c.da(e)),
d.La()&&(e=d.ia(),g.zr(e)))return-1;return g.result()};b.xl=function(d,c,f){if(d.s())return 0;var e=new a.i;d.dd(e);e.P(f,f);if(!e.contains(c))return 0;e=d.pb;if(null!=e){var g=e.hi;if(null!=g){g=g.Kk(c.x,c.y);if(1==g)return 1;if(0==g)return 0}e=e.Ab;if(null!=e)return b.Bd(d,e,c,f)}return b.V(d,c,f)};b.aP=function(d,c,f,e){if(d.s())return 0;var k=new a.i;d.dd(k);k.P(e,e);if(!k.contains(c,f))return 0;k=d.pb;if(null!=k&&(k=k.hi,null!=k)){k=k.Kk(c,f);if(1==k)return 1;if(0==k)return 0}return b.V(d,a.b.Oa(c,
f),e)};b.$O=function(a,c,f){return c.s()?0:b.xl(a,c.w(),f)};b.vD=function(d,c,f,e,g){var k=new a.i;d.dd(k);k.P(e,e);if(!k.contains(f))return 0;var t=new b(!0,f,e);if(null!=g){var h=new a.i;h.K(k);h.B=f.x+e;h.C=f.y-e;h.G=f.y+e;d=d.Ca();e=g.xw(h,e);for(h=e.next();-1!=h;h=e.next())if(d.Sb(g.da(h),c),d.La()&&d.Qa==c&&(h=d.ia(),t.zr(h)))return-1}else if(d=d.Ca(),d.vy(c),d.kb())for(;d.La();)if(h=d.ia(),t.zr(h))return-1;return t.result()};b.tD=function(d,c,f){var e=new a.i;d.dd(e);e.P(f,f);if(!e.contains(c))return 0;
c=new b(!1,c,f);for(f=d.Ca();f.kb();)if(!(0>d.oo(f.Qa))){for(c.xp=0;f.La();)if(e=f.ia(),c.zr(e))return-1;if(0!=c.xp)return 1}return c.result()};b.$i=function(d,c,f,e,g){var k=d.Ca();k.vy(c);if(!k.kb()||!k.La())throw a.g.ra("corrupted geometry");for(c=2;2==c&&k.La();)c=k.ia().Kb(.5),c=b.vD(d,f,c,e,g);if(2==c)throw a.g.ra("internal error");return 1==c?!0:!1};b.An=function(a,c){a=a.F();return 16>a?!1:2*a+Math.log(a)/Math.log(2)*1*c<1*a*c};return b}();a.ff=b})(z||(z={}));(function(a){var b=function(a){function d(c){a.call(this,
!0,c)}K(d,a);d.prototype.Pa=function(){return new d(this.description)};d.prototype.fb=function(){return 2};d.prototype.D=function(){return 1736};return d}(a.al);a.Ka=b})(z||(z={}));(function(a){(function(a){a[a.PiPOutside=0]="PiPOutside";a[a.PiPInside=1]="PiPInside";a[a.PiPBoundary=2]="PiPBoundary"})(a.pI||(a.pI={}));var b=function(){function b(){}b.uD=function(d,c,f){d=a.ff.$O(d,c,f);return 0==d?0:1==d?1:2};b.he=function(d,c,f){d=a.ff.xl(d,c,f);return 0==d?0:1==d?1:2};b.CH=function(d,c,f,b){d=a.ff.aP(d,
c,f,b);return 0==d?0:1==d?1:2};b.gU=function(d,c,f,b){return 0==a.ff.vD(d,c,f,b,null)?0:1};b.tD=function(d,c,f){return 0==a.ff.tD(d,c,f)?0:1};b.ZS=function(d,c,f,e,g){if(c.length<f||g.length<f)throw a.g.N();for(var k=0;k<f;k++)g[k]=b.he(d,c[k],e)};b.eT=function(d,c,f,e,g){if(c.length/2<f||g.length<f)throw a.g.N();for(var k=0;k<f;k++)g[k]=b.CH(d,c[2*k],c[2*k+1],e)};b.nG=function(d,c,f,e,g){if(1736==d.D())b.ZS(d,c,f,e,g);else if(197==d.D()){var k=new a.i;d.o(k);b.jP(k,c,f,e,g)}else throw a.g.ra("invalid_call");
};b.nU=function(d,c,f,e,g){if(1736==d.D())b.eT(d,c,f,e,g);else if(197==d.D()){var k=new a.i;d.o(k);b.mP(k,c,f,e,g)}else throw a.g.xa();};b.jP=function(d,c,f,b,e){if(c.length<f||e.length<f)throw a.g.N();if(d.s())for(b=0;b<f;b++)e[b]=0;else for(d.P(.5*-b,.5*-b),d.P(.5*b,.5*b),b=0;b<f;b++)d.contains(c[b])?e[b]=1:d.contains(c[b])?e[b]=2:e[b]=0};b.mP=function(d,c,f,b,e){if(c.length/2<f||e.length<f)throw a.g.N();if(d.s())for(b=0;b<f;b++)e[b]=0;else for(d.P(.5*-b,.5*-b),d.P(.5*b,.5*b),b=0;b<f;b++)d.contains(c[2*
b],c[2*b+1])?e[b]=1:d.contains(c[2*b],c[2*b+1])?e[b]=2:e[b]=0};b.lT=function(a,c,f,b,e){for(var d=0;d<f;d++)e[d]=a.Eq(c[d],b)?2:0};b.hT=function(a,c,f,b,e){var d=a.pb,k=null;null!=d&&(k=d.hi);for(var d=f,g=0;g<f;g++)if(e[g]=1,null!=k){var h=c[g];0==k.Kk(h.x,h.y)&&(e[g]=0,d--)}if(0!=d)for(a=a.Ca();a.kb()&&0!=d;)for(;a.La()&&0!=d;)for(k=a.ia(),g=0;g<f&&0!=d;g++)1==e[g]&&k.Eq(c[g],b)&&(e[g]=2,d--);for(g=0;g<f;g++)1==e[g]&&(e[g]=0)};b.oG=function(d,c,f,e,g){var k=d.D();if(1607==k)b.hT(d,c,f,e,g);else if(a.T.Lc(k))b.lT(d,
c,f,e,g);else throw a.g.ra("Invalid call.");};return b}();a.gd=b})(z||(z={}));(function(a){var b=function(a){function d(c,f){2==arguments.length?(a.call(this,!1,c.description),this.df(c),this.lineTo(f)):a.call(this,!1,c)}K(d,a);d.prototype.Pa=function(){return new d(this.description)};d.prototype.fb=function(){return 1};d.prototype.D=function(){return 1607};return d}(a.al);a.Xa=b})(z||(z={}));(function(a){var b=function(){function a(){}a.GT=function(){};return a}();a.RT=b})(z||(z={}));(function(a){var b=
function(){function d(){}d.Rv=function(c){return c*d.rQ};d.aG=function(c,a){return d.cR(a-c)};d.kR=function(c){if(-360<=c&&720>c)return 0>c?c+=360:360<=c&&(c-=360),c;c=a.vi.gH(c);0>c&&(c+=360);return c};d.cR=function(c){c=d.kR(c);180<c&&(c-=360);return c};d.OT=.0174532925199433;d.rQ=57.29577951308232;return d}(),e=function(){function d(){}d.qo=function(c,f){var d=new a.i;c.o(d);var b=a.Ya.Fm(f),e=new a.i;e.K(b);e.v=d.v;e.B=d.B;e.P(.01*e.ba(),0);b=a.Ia.zd(f,d,!1);return e.contains(d)?c:a.Ed.clip(c,
e,b,0)};d.Rw=function(c,f,b,e){if(!a.Ya.Qo(f))throw a.g.N();var k=a.Ia.Cg(f,c,!1),g=a.Ya.Fm(f),h=a.Ya.Em(f),t=h.Se().Dj,n=a.Ya.ft(h),h=a.Ya.Ts(h),n=n*(2-n),l=new a.Nd;g.wu(l);var m=[[0,0],[0,0]];2==a.Nf.Am(f)?(m[0][0]=d.pu(e,l),m[0][1]=g.Vs(),a.Ya.tu(),g=m[0][0]*t):g=e*t;var r=new a.ca,q=new a.fd;c=q.Eb(c);for(var v=[0],p=new a.b,w=new a.b,u=new a.b,x=new a.b,C=new a.b,B=new a.b,D=q.Vb(c);-1!=D;D=q.bc(D)){var z=q.Cb(D);q.w(z,u);for(var E=!1,I=z=q.X(z);-1!=I;I=q.X(I)){if(I==z){if(E)break;E=!0}q.w(I,
x);if((k<e-u.x&&x.x-e>k||k<e-x.x&&u.x-e>k||k<-x.y&&u.y>k)&&!(Math.abs(u.x-x.x)>=.5*l.aa())&&(2==a.Nf.Am(f)?(m[0][0]=d.pu(u.x,l),m[0][1]=u.y,m[1][0]=d.pu(x.x,l),m[1][1]=x.y,a.Ya.YQ(),C.x=m[0][0]*t,C.y=m[0][1]*t,B.x=m[1][0]*t,B.y=m[1][1]*t):(C.x=u.x*t,C.y=u.y*t,B.x=x.x*t,B.y=x.y*t),B.x=6.283185307179586*(x.x-u.x)/l.aa()+C.x,w.x=g,w.y=d.yH(h,n,C,B,g,b),!isNaN(w.y))){a.zb.Rd(h,n,C.x,C.y,B.x,B.y,r,null,null,b);var y=r.l;a.zb.Rd(h,n,C.x,C.y,w.x,w.y,r,null,null,b);var K=r.l;2==a.Nf.Am(f)?(m[0][0]=w.x/t,
m[0][1]=w.y/t,a.Ya.qN(),p.y=m[0][1],p.x=e):(p.x=e,p.y=w.y/t);v[0]=0<y?a.I.Kr(K/y,0,1):.5;0!=v[0]&&1!=v[0]&&(y=q.Ua(I),q.Mr(y,v,1),q.ic(q.X(y),p.x,p.y))}u.J(x)}}return q.hf(c)};d.aN=function(c,f,b){if(c.s())return c;var e=a.Ya.IC(f);return d.gC(c,0-180*e,360*e,f,b)};d.yH=function(c,f,b,e,g,h){if(3.141592653589793<=Math.abs(b.x-e.x)||!d.Jv(b.x,e.x,g))return NaN;var k;b.x>e.x?k=e:(k=b,b=e);e=new a.ca(0);var t=new a.ca(0),n=new a.ca(0);a.zb.Rd(c,f,k.x,k.y,b.x,b.y,t,e,null,h);var l=t.l,m=0,r=1,q=new a.b;
for(q.J(k);l*(r-m)>1E-12*c;){var A=.5*(m+r);a.zb.dk(c,f,k.x,k.y,l*A,e.l,t,n,h);q.x=t.l;q.y=n.l;if(q.x==g)break;if(d.Jv(k.x,q.x,g))r=A;else if(d.Jv(b.x,q.x,g))m=A;else return NaN}return q.y};d.Jv=function(c,a,d){c=b.Rv(c);a=b.aG(c,b.Rv(a));d=b.aG(c,b.Rv(d));return 0==d||0<a&&0<d&&d<=a||0>a&&0>d&&d>=a?!0:!1};d.pu=function(c,a){var f=a.va-a.qa;return a.Sy(c-Math.floor((c-a.qa)/f)*f)};d.eU=function(c,f,d,b){var e=new a.Nd;e.K(f,d);d=b.aa();c=Math.floor((c-f)/d)*d+c;for(e=e.Af();Math.abs(c-e)>Math.abs(c+
d-e);)c+=d;return c};d.cU=function(c,f,d,b,e){var k;d.y>b.y?k=b:(k=d,d=b);b=new a.Nd;b.K(k.y,d.y);if(!b.contains(0)||3.141592653589793<=Math.abs(k.x-d.x))return NaN;if(k.x==d.x)return k.x;var g=new a.ca(0),h=new a.ca(0),t=new a.ca(0);a.zb.Rd(c,f,k.x,k.y,d.x,d.y,h,g,null,e);var n=h.l,l=0,m=1,r=new a.b;for(r.J(k);n*(m-l)>1E-12*c;){var q=.5*(l+m);a.zb.dk(c,f,k.x,k.y,n*q,g.l,h,t,e);r.x=h.l;r.y=t.l;b.K(k.y,r.y);if(0==r.y)break;if(b.contains(0))m=q;else if(b.K(d.y,r.y),b.contains(0))l=q;else return NaN}return r.x};
d.gC=function(c,f,d,b,e){var k=new a.i;c.o(k);if(k.s())return c;var g=new a.Nd;k.wu(g);var h=new a.Nd;h.K(f,f+d);if(h.contains(g)&&h.va!=g.va)return c;var t=new a.i;t.K(k);var n=c.D();if(33==n){t=e?c:c.vm();k=t.lk();if(k<h.qa||k>=h.va||k==h.va)k+=Math.ceil((h.qa-k)/d)*d,k=h.Sy(k),t.qS(k);return t}if(550==n){t=e?c:c.vm();b=t.mc(0);n=2*t.F();c=!1;for(e=0;e<n;e+=2)if(k=b.read(e),k<h.qa||k>=h.va||k==h.va)c=!0,k+=Math.ceil((h.qa-k)/d)*d,k=h.Sy(k),b.write(e,k);c&&t.ce(1993);return t}if(h.contains(g))return c;
if(197==n)return d=e?c:c.vm(),k.Ga(t),d.Cu(k),d;var l=.1*Math.max(k.ba(),k.aa());t.P(0,l);h=c;c=b.Ko();e=a.wi.local();for(var m=new a.Bg,r=0;;){var q=Math.floor((g.qa-f)/d),A=Math.ceil((g.va-f)/d);if(3<A-q){q=Math.floor(.5*(A+q));t.v=k.v-l;t.B=f+d*q;var v=a.Ed.clip(h,t,c,0);t.v=t.B;t.B=k.B+l;var p=a.Ed.clip(h,t,c,0);m.Nn((q-A)*d,0);p.Oe(m);1736==n?h=e.$(v,p,b,null):(h=v,h.add(p,!1));h.o(k);k.wu(g);r++}else break}t.v=f;t.B=f+d;f=new a.i;f.K(t);f.P(c,0);f=Math.floor((k.v-t.v)/d)*d;0!=f?(t.move(f,0),
m.Nn(-f,0)):m.IF();f=1607==n?new a.Xa(h.description):new a.Ka(h.description);g=new a.i;for(l=new a.i;k.B>t.v;){r=a.Ed.clip(h,t,c,0);r.o(l);if(1607==n?!r.s()&&(l.aa()>c||l.ba()>c):!r.s()&&(1736!=n||l.aa()>c))r.Oe(m),r.o(l),f.o(g),g.P(c,c),g.jc(l)&&1736==n?f=e.$(f,r,b,null):f.add(r,!1);t.move(d,0);m.shift(-d,0)}return f};d.ZQ=function(c,f,d,b){var e=new a.pe(d.description);e.Pd(d,0,-1);var e=a.Ya.Wl(e,c,f),k=d.F();b.Ja();if(!a.Ya.Qo(c)||k!=e.F())return!1;var g=new a.i;d.o(g);var h=new a.i;e.o(h);g=
g.aa();h=h.aa();if(0!=g&&0!=h){if(h/=g,c=a.Ya.Fm(f).aa()/a.Ya.Fm(c).aa(),1E-10<Math.abs(h/c-1))return!1}else if(0!=g||0!=h)return!1;b.add(d,!1);for(d=0;d<k;d++)c=e.Fa(d),b.ic(d,c);return!0};d.dU=function(){throw a.g.qe();};return d}();a.gh=e})(z||(z={}));(function(a){(function(a){a[a.rightSide=1]="rightSide"})(a.sI||(a.sI={}));var b=function(){function b(d,c,f){this.Nq=new a.b;void 0===d?this.tn=-1:(this.Nq.J(d),this.tn=c,this.Da=f,this.Ut=0)}b.prototype.UF=function(a){this.Ut=a?this.Ut|1:this.Ut&
-2};b.prototype.s=function(){return 0>this.tn};b.prototype.pw=function(){if(this.s())throw a.g.ra("invalid call");return new a.Va(this.Nq.x,this.Nq.y)};b.prototype.gb=function(){if(this.s())throw a.g.ra("invalid call");return this.tn};b.prototype.sw=function(){if(this.s())throw a.g.ra("invalid call");return this.Da};b.prototype.Xw=function(){return 0!=(this.Ut&1)};b.prototype.tv=function(a,c,f,b){this.Nq.x=a;this.Nq.y=c;this.tn=f;this.Da=b};return b}();a.dl=b})(z||(z={}));(function(a){var b=function(){function d(){}
d.prototype.Fn=function(c,f){this.Vg.resize(0);this.ai.length=0;this.Aj=-1;c.dd(this.Kj);this.Kj.P(f,f);this.Kj.jc(this.Ab.Qb)?((this.Iq=a.T.Lc(c.D()))?(this.rE=c.Mb(),this.qE=c.oc(),this.ka=f):this.ka=NaN,this.Vg.add(this.Ab.Ze),this.ai.push(this.Ab.Qb),this.ar=this.Ab.sq(this.Ab.Ze)):this.ar=-1};d.prototype.Ch=function(c,a){this.Vg.resize(0);this.ai.length=0;this.Aj=-1;this.Kj.K(c);this.Kj.P(a,a);this.ka=NaN;this.Kj.jc(this.Ab.Qb)?(this.Vg.add(this.Ab.Ze),this.ai.push(this.Ab.Qb),this.ar=this.Ab.sq(this.Ab.Ze),
this.Iq=!1):this.ar=-1};d.prototype.next=function(){if(0==this.Vg.size)return-1;this.Aj=this.ar;var c=null,f=null,d,b=null,g=null;this.Iq&&(c=new a.b,f=new a.b,b=new a.i);for(var h=!1;!h;){for(;-1!=this.Aj;){d=this.Ab.kw(this.Ab.Us(this.Aj));if(d.jc(this.Kj))if(this.Iq){if(c.J(this.rE),f.J(this.qE),b.K(d),b.P(this.ka,this.ka),0<b.Nv(c,f)){h=!0;break}}else{h=!0;break}this.Aj=this.Ab.at(this.Aj)}if(-1==this.Aj){d=this.Vg.tc();var n=this.ai[this.ai.length-1];null==g&&(g=[],g[0]=new a.i,g[1]=new a.i,
g[2]=new a.i,g[3]=new a.i);e.BF(n,g);this.Vg.af();--this.ai.length;for(n=0;4>n;n++){var l=this.Ab.zo(d,n);if(-1!=l&&0<this.Ab.gO(l)&&g[n].jc(this.Kj))if(this.Iq){if(c.J(this.rE),f.J(this.qE),b.K(g[n]),b.P(this.ka,this.ka),0<b.Nv(c,f)){var m=new a.i;m.K(g[n]);this.Vg.add(l);this.ai.push(m)}}else m=new a.i,m.K(g[n]),this.Vg.add(l),this.ai.push(m)}if(0==this.Vg.size)return-1;this.Aj=this.Ab.sq(this.Vg.get(this.Vg.size-1))}}this.ar=this.Ab.at(this.Aj);return this.Aj};d.HL=function(c,f,b){var e=new d;
e.Ab=c;e.Kj=new a.i;e.Vg=new a.ga(0);e.ai=[];e.Fn(f,b);return e};d.GL=function(c,f,b){var e=new d;e.Ab=c;e.Kj=new a.i;e.Vg=new a.ga(0);e.ai=[];e.Ch(f,b);return e};d.FL=function(c){var f=new d;f.Ab=c;f.Kj=new a.i;f.Vg=new a.ga(0);f.ai=[];return f};return d}();a.TT=b;var e=function(){function d(c,f){this.Ye=new a.Fc(11);this.qh=new a.Fc(5);this.Jq=[];this.Rt=new a.ga(0);this.Qb=new a.i;this.Rj(c,f)}d.prototype.reset=function(c,a){this.Ye.Nh(!1);this.qh.Nh(!1);this.Jq.length=0;this.Rt.clear(!1);this.Rj(c,
a)};d.prototype.lg=function(c,a){return this.lt(c,a,0,this.Qb,this.Ze,!1,-1)};d.prototype.kt=function(c,a,d){d=-1==d?this.Ze:this.KC(d);var f=this.ba(d),b=this.CN(d);return this.lt(c,a,f,b,d,!1,-1)};d.prototype.da=function(c){return this.yN(c)};d.prototype.uC=function(c){return this.kw(this.Us(c))};d.prototype.ba=function(c){return this.Xs(c)};d.prototype.CN=function(c){var f=new a.i;f.K(this.Qb);var d=this.Xs(c);c=this.EC(c);for(var b=0;b<2*d;b+=2){var e=a.I.truncate(3&c>>b);0==e?(f.v=.5*(f.v+f.B),
f.C=.5*(f.C+f.G)):1==e?(f.B=.5*(f.v+f.B),f.C=.5*(f.C+f.G)):(2==e?f.B=.5*(f.v+f.B):f.v=.5*(f.v+f.B),f.G=.5*(f.C+f.G))}return f};d.prototype.gO=function(c){return this.Kw(c)};d.prototype.KN=function(c,a){return b.HL(this,c,a)};d.prototype.xw=function(c,a){return b.GL(this,c,a)};d.prototype.Re=function(){return b.FL(this)};d.prototype.Rj=function(c,f){if(0>f||32<2*f)throw a.g.N("invalid height");this.GP=f;this.Qb.K(c);this.Ze=this.Ye.be();this.Ku(this.Ze,0);this.Eu(this.Ze,0);this.LF(this.Ze,0);this.HF(this.Ze,
0)};d.prototype.lt=function(c,f,b,e,g,h,n){if(!e.contains(f))return 0==b?-1:this.lt(c,f,0,this.Qb,this.Ze,h,n);if(!h)for(var k=g;-1!=k;k=this.UN(k))this.Ku(k,this.Kw(k)+1);k=new a.i;k.K(e);e=g;var t=[];t[0]=new a.i;t[1]=new a.i;t[2]=new a.i;for(t[3]=new a.i;b<this.GP&&this.IK(e);b++){d.BF(k,t);for(var l=!1,m=0;4>m;m++)if(t[m].contains(f)){var l=!0,r=this.zo(e,m);-1==r&&(r=this.OL(e,m));this.Ku(r,this.Kw(r)+1);e=r;k.K(t[m]);break}if(!l)break}return this.zO(c,f,b,k,e,h,g,n)};d.prototype.zO=function(c,
a,d,b,e,g,h,n){var f=this.AC(e);if(g){if(e==h)return n;this.mM(n);g=n}else g=this.QL(),this.By(g,c),this.IR(this.Us(g),a);this.gS(g,e);-1!=f?(this.Ju(g,f),this.Fu(f,g)):this.DF(e,g);this.Fy(e,g);this.Eu(e,this.Zs(e)+1);this.HK(e)&&this.$M(d,b,e);return g};d.prototype.mM=function(c){var a=this.KC(c),d=this.AC(a),b=this.$N(c),e=this.at(c);this.sq(a)==c?(-1!=e?this.Ju(e,-1):this.Fy(a,-1),this.DF(a,e)):d==c?(this.Fu(b,-1),this.Fy(a,b)):(this.Ju(e,b),this.Fu(b,e));this.Ju(c,-1);this.Fu(c,-1);this.Eu(a,
this.Zs(a)-1)};d.BF=function(c,a){var f=.5*(c.v+c.B),d=.5*(c.C+c.G);a[0].K(f,d,c.B,c.G);a[1].K(c.v,d,f,c.G);a[2].K(c.v,c.C,f,d);a[3].K(f,c.C,c.B,d)};d.prototype.HK=function(c){return 8==this.Zs(c)&&!this.VC(c)};d.prototype.$M=function(c,a,d){var f,b,e=this.sq(d);do b=this.Us(e),f=this.qh.O(e,0),b=this.kw(b),this.lt(f,b,c,a,d,!0,e),e=f=this.at(e);while(-1!=e)};d.prototype.IK=function(c){return 8<=this.Zs(c)||this.VC(c)};d.prototype.VC=function(c){return-1!=this.zo(c,0)||-1!=this.zo(c,1)||-1!=this.zo(c,
2)||-1!=this.zo(c,3)};d.prototype.OL=function(c,a){var f=this.Ye.be();this.MR(c,a,f);this.Ku(f,0);this.Eu(f,0);this.Tj(f,c);this.HF(f,this.Xs(c)+1);this.LF(f,a<<2*this.Xs(c)|this.EC(c));return f};d.prototype.QL=function(){var c=this.qh.be(),f;0<this.Rt.size?(f=this.Rt.tc(),this.Rt.af()):(f=this.Jq.length,this.Jq.push(new a.i));this.JR(c,f);return c};d.prototype.zo=function(c,a){return this.Ye.O(c,a)};d.prototype.MR=function(c,a,d){this.Ye.L(c,a,d)};d.prototype.sq=function(c){return this.Ye.O(c,4)};
d.prototype.DF=function(c,a){this.Ye.L(c,4,a)};d.prototype.AC=function(c){return this.Ye.O(c,5)};d.prototype.Fy=function(c,a){this.Ye.L(c,5,a)};d.prototype.EC=function(c){return this.Ye.O(c,6)};d.prototype.LF=function(c,a){this.Ye.L(c,6,a)};d.prototype.Zs=function(c){return this.Ye.O(c,7)};d.prototype.Kw=function(c){return this.Ye.O(c,8)};d.prototype.Eu=function(c,a){this.Ye.L(c,7,a)};d.prototype.Ku=function(c,a){this.Ye.L(c,8,a)};d.prototype.UN=function(c){return this.Ye.O(c,9)};d.prototype.Tj=function(c,
a){this.Ye.L(c,9,a)};d.prototype.Xs=function(c){return this.Ye.O(c,10)};d.prototype.HF=function(c,a){this.Ye.L(c,10,a)};d.prototype.yN=function(c){return this.qh.O(c,0)};d.prototype.By=function(c,a){this.qh.L(c,0,a)};d.prototype.$N=function(c){return this.qh.O(c,1)};d.prototype.at=function(c){return this.qh.O(c,2)};d.prototype.Ju=function(c,a){this.qh.L(c,1,a)};d.prototype.Fu=function(c,a){this.qh.L(c,2,a)};d.prototype.KC=function(c){return this.qh.O(c,3)};d.prototype.gS=function(c,a){this.qh.L(c,
3,a)};d.prototype.Us=function(c){return this.qh.O(c,4)};d.prototype.JR=function(c,a){this.qh.L(c,4,a)};d.prototype.kw=function(c){return this.Jq[c]};d.prototype.IR=function(c,a){this.Jq[c].K(a)};return d}();a.co=e})(z||(z={}));(function(a){(function(a){a[a.Outside=0]="Outside";a[a.Inside=1]="Inside";a[a.Border=2]="Border"})(a.wH||(a.wH={}));var b=function(){function a(c,a){this.Hg=null;this.SP=a;this.Hg=c}a.prototype.Bu=function(c,a){this.PD!=a&&c.flush();this.PD=a};a.prototype.XB=function(c,a){for(var f=
0;f<a;)for(var d=c[f++],b=c[f++],e=c[f++]*this.SP;d<b;d++)this.Hg[e+(d>>4)]|=this.PD<<2*(d&15)};return a}();a.VT=b;var e=function(){function d(c,a,d){this.Hg=null;this.Qx=this.Sx=this.zE=this.xE=this.Qq=this.VD=this.tf=this.Pl=0;this.ii=this.Nj=this.sk=null;this.jt(c,a,d)}d.create=function(c,f,b){if(!d.Cc(c))throw a.g.N();return d.Id(c,f,b)};d.ti=function(c,f,b){if(!d.Cc(c))throw a.g.N();return d.ye(c,f,b)};d.jR=function(c){switch(c){case 0:c=1024;break;case 1:c=16384;break;case 2:c=262144;break;
default:throw a.g.ra("Internal Error");}return c};d.Cc=function(c){return c.s()||1607!=c.D()&&1736!=c.D()?!1:!0};d.prototype.KM=function(c,f){f=f.Ca();for(var d=new a.b,b=new a.b;f.kb();)for(;f.La();){var e=f.ia();if(322!=e.D())throw a.g.ra("Internal Error");c.Zi(e.Mb(),d);c.Zi(e.oc(),b);this.ii.zv(d.x,d.y,b.x,b.y)}this.ii.fF(a.ev.$u)};d.prototype.LM=function(){throw a.g.ra("Internal Error");};d.prototype.cw=function(c,f){for(var d=1;4>d;d++)c.zv(f[d-1].x,f[d-1].y,f[d].x,f[d].y);c.zv(f[3].x,f[3].y,
f[0].x,f[0].y);this.ii.fF(a.ev.$u)};d.prototype.kG=function(c,f,d){for(var b=[null,null,null,null],e=0;e<b.length;e++)b[e]=new a.b;f=f.Ca();d=this.Nj.TS(d)+1.5;for(var e=new a.b,k=new a.b,g=new a.b,h=new a.b,n=new a.b,l=new a.i,m=new a.b;f.kb();){var r=!1,q=!0;for(m.ma(0,0);f.La();){var v=f.ia();h.x=v.na;h.y=v.ja;n.x=v.la;n.y=v.ha;l.Ja();l.Db(h.x,h.y);l.Oj(n.x,n.y);if(this.sk.rD(l)){this.Nj.Zi(n,n);q?(this.Nj.Zi(h,h),m.J(h),q=!1):h.J(m);e.pc(n,h);var v=e.length(),p=.5>v;0==v?e.ma(1,0):(p||m.J(n),
e.scale(d/v),k.ma(-e.y,e.x),g.ma(e.y,-e.x),h.sub(e),n.add(e),b[0].add(h,k),b[1].add(h,g),b[2].add(n,g),b[3].add(n,k),p?r=!0:this.cw(c,b))}else r&&(this.cw(c,b),r=!1),q=!0}r&&this.cw(c,b)}};d.prototype.fz=function(c){return a.I.truncate(c*this.VD+this.xE)};d.prototype.gz=function(c){return a.I.truncate(c*this.Qq+this.zE)};d.Id=function(c,a,b){return new d(c,a,b)};d.ye=function(c,a,b){return new d(c,a,b)};d.prototype.jt=function(c,f,d){this.tf=Math.max(a.I.truncate(2*Math.sqrt(d)+.5),64);this.Pl=a.I.truncate((2*
this.tf+31)/32);this.sk=new a.i;this.Sx=f;d=0;for(var e=this.tf,k=this.Pl;8<=e;)d+=e*k,e=a.I.truncate(e/2),k=a.I.truncate((2*e+31)/32);this.Hg=a.I.Lh(d,0);this.ii=new a.ev;d=new b(this.Hg,this.Pl,this);this.ii.vS(this.tf,this.tf,d);c.o(this.sk);this.sk.P(f,f);var e=new a.i,k=a.i.Oa(1,1,this.tf-2,this.tf-2),g=f*k.aa();f*=k.ba();e.K(this.sk.Af(),Math.max(g,this.sk.aa()),Math.max(f,this.sk.ba()));this.Qx=this.Sx;this.Nj=new a.Bg;this.Nj.wO(e,k);new a.Bg;switch(c.D()){case 550:d.Bu(this.ii,2);this.LM();
break;case 1607:d.Bu(this.ii,2);this.kG(this.ii,c,this.Qx);break;case 1736:d.Bu(this.ii,1),this.KM(this.Nj,c),d.Bu(this.ii,2),this.kG(this.ii,c,this.Qx)}this.VD=this.Nj.mb;this.Qq=this.Nj.eb;this.xE=this.Nj.Nb;this.zE=this.Nj.Ob;this.BK()};d.prototype.BK=function(){this.ii.flush();for(var c=0,f=this.tf*this.Pl,d=this.tf,b=a.I.truncate(this.tf/2),e=this.Pl,g=a.I.truncate((2*b+31)/32);8<d;){for(d=0;d<b;d++)for(var h=2*d,n=2*d+1,l=0;l<b;l++){var m=2*l,r=2*l+1,q=m>>4,m=2*(m&15),v=r>>4,r=2*(r&15),p=this.Hg[c+
e*h+q]>>m&3,p=p|this.Hg[c+e*h+v]>>r&3,p=p|this.Hg[c+e*n+q]>>m&3,p=p|this.Hg[c+e*n+v]>>r&3;this.Hg[f+g*d+(l>>4)]|=p<<2*(l&15)}d=b;e=g;c=f;b=a.I.truncate(d/2);g=a.I.truncate((2*b+31)/32);f=c+e*d}};d.prototype.Kk=function(c,a){if(!this.sk.contains(c,a))return 0;c=this.fz(c);a=this.gz(a);if(0>c||c>=this.tf||0>a||a>=this.tf)return 0;c=this.Hg[this.Pl*a+(c>>4)]>>2*(c&15)&3;return 0==c?0:1==c?1:2};d.prototype.Dn=function(c){if(!c.Ga(this.sk))return 0;var f=this.fz(c.v),d=this.fz(c.B),b=this.gz(c.C);c=this.gz(c.G);
0>f&&(f=0);0>b&&(b=0);d>=this.tf&&(d=this.tf-1);c>=this.tf&&(c=this.tf-1);if(f>d||b>c)return 0;for(var e=Math.max(d-f,1)*Math.max(c-b,1),g=0,h=this.Pl,n=this.tf,l=0;;){if(32>e||16>n){for(e=b;e<=c;e++)for(var m=f;m<=d;m++)if(l=this.Hg[g+h*e+(m>>4)]>>2*(m&15)&3,1<l)return 2;if(0==l)return 0;if(1==l)return 1}g+=h*n;n=a.I.truncate(n/2);h=a.I.truncate((2*n+31)/32);f=a.I.truncate(f/2);b=a.I.truncate(b/2);d=a.I.truncate(d/2);c=a.I.truncate(c/2);e=Math.max(d-f,1)*Math.max(c-b,1)}};d.prototype.cO=function(){return this.tf*
this.Pl};return d}();a.dA=e})(z||(z={}));(function(a){(function(a){a[a.contains=1]="contains";a[a.within=2]="within";a[a.equals=3]="equals";a[a.disjoint=4]="disjoint";a[a.touches=8]="touches";a[a.crosses=16]="crosses";a[a.overlaps=32]="overlaps";a[a.unknown=0]="unknown";a[a.intersects=1073741824]="intersects"})(a.zI||(a.zI={}));var b=function(){function a(){}a.Oa=function(c,f,d,b,e,g,h,l){var k=new a;k.Wt=c;k.Jl=f;k.Oi=d;k.ji=b;k.dE=e;k.tU=g;k.uU=h;k.vU=l;return k};return a}(),e=function(){function d(){}
d.vT=function(c,f,b){if(!d.pQ(c))return!1;var e=a.Ia.Cg(f,c,!1);f=!1;a.Wj.vB(c)&&(f=f||c.jv(e,b));e=c.D();1736!=e&&1607!=e||!a.Wj.tB(c)||0==b||(f=f||c.dj(b));1736!=e&&1607!=e||!a.Wj.uB(c)||0==b||(f=f||c.jJ());return f};d.pQ=function(c){return a.Wj.vB(c)||a.Wj.tB(c)||a.Wj.uB(c)};return d}();a.rT=e;e=function(){function d(){this.Tg=[]}d.qy=function(c,f,b,e,g){var k=c.D(),h=f.D();if(197==k){if(197==h)return d.AQ(c,f,b,e);if(33==h)return 2==e?e=1:1==e&&(e=2),d.Iz(f,c,b,e)}else if(33==k){if(197==h)return d.Iz(c,
f,b,e);if(33==h)return d.eR(c,f,b,e)}if(c.s()||f.s())return 4==e?!0:!1;var t=new a.i;c.o(t);var l=new a.i;f.o(l);var n=new a.i;n.K(t);n.Db(l);b=a.Ia.zd(b,n,!1);if(d.nj(t,l,b))return 4==e?!0:!1;t=!1;a.al.Lc(k)&&(k=new a.Xa(c.description),k.Bc(c,!0),c=k,k=1607);a.al.Lc(h)&&(h=new a.Xa(f.description),h.Bc(f,!0),f=h,h=1607);if(197!=k&&197!=h){if(c.fb()<f.fb()||33==k&&550==h)2==e?e=1:1==e&&(e=2)}else 1736!=k&&197!=h&&(2==e?e=1:1==e&&(e=2));switch(k){case 1736:switch(h){case 1736:t=d.vr(c,f,b,e,g);break;
case 1607:t=d.Vl(c,f,b,e,g);break;case 33:t=d.ur(c,f,b,e,g);break;case 550:t=d.tr(c,f,b,e,g);break;case 197:t=d.xD(c,f,b,e,g)}break;case 1607:switch(h){case 1736:t=d.Vl(f,c,b,e,g);break;case 1607:t=d.ey(c,f,b,e,g);break;case 33:t=d.xr(c,f,b,e,g);break;case 550:t=d.wr(c,f,b,e,g);break;case 197:t=d.WE(c,f,b,e)}break;case 33:switch(h){case 1736:t=d.ur(f,c,b,e,g);break;case 1607:t=d.xr(f,c,b,e,g);break;case 550:t=d.pr(f,c,b,e,g)}break;case 550:switch(h){case 1736:t=d.tr(f,c,b,e,g);break;case 1607:t=d.wr(f,
c,b,e,g);break;case 550:t=d.Wx(c,f,b,e,g);break;case 33:t=d.pr(c,f,b,e,g);break;case 197:t=d.oA(c,f,b,e)}break;case 197:switch(h){case 1736:t=d.xD(f,c,b,e,g);break;case 1607:t=d.WE(f,c,b,e);break;case 550:t=d.oA(f,c,b,e)}}return t};d.AQ=function(c,f,b,e){if(c.s()||f.s())return 4==e?!0:!1;var k=new a.i,g=new a.i,h=new a.i;c.o(k);f.o(g);h.K(k);h.Db(g);c=a.Ia.zd(b,h,!1);switch(e){case 4:return d.nj(k,g,c);case 2:return d.Bz(g,k,c);case 1:return d.Bz(k,g,c);case 3:return d.ye(k,g,c);case 8:return d.kT(k,
g,c);case 32:return d.fT(k,g,c);case 16:return d.cT(k,g,c)}return!1};d.Iz=function(c,f,b,e){if(c.s()||f.s())return 4==e?!0:!1;c=c.w();var k=new a.i,g=new a.i;f.o(k);g.K(c);g.Db(k);f=a.Ia.zd(b,g,!1);switch(e){case 4:return d.ru(c,k,f);case 2:return d.bx(c,k,f);case 1:return d.YL(c,k,f);case 3:return d.KA(c,k,f);case 8:return d.ax(c,k,f)}return!1};d.eR=function(c,f,b,e){if(c.s()||f.s())return 4==e?!0:!1;c=c.w();f=f.w();var k=new a.i;k.K(c);k.Db(f);b=a.Ia.zd(b,k,!1);switch(e){case 4:return d.rM(c,f,
b);case 2:return d.hz(f,c,b);case 1:return d.hz(c,f,b);case 3:return d.dB(c,f,b)}return!1};d.vr=function(c,a,b,e,g){switch(e){case 4:return d.dT(c,a,b);case 2:return d.su(a,c,b,g);case 1:return d.su(c,a,b,g);case 3:return d.TG(c,a,b);case 8:return d.vH(c,a,b);case 32:return d.bH(c,a,b,g)}return!1};d.Vl=function(c,a,b,e,g){switch(e){case 4:return d.gT(c,a,b);case 1:return d.dy(c,a,b,g);case 8:return d.zH(c,a,b,g);case 16:return d.lR(c,a,b)}return!1};d.ur=function(c,a,b,e){switch(e){case 4:return d.YS(c,
a,b);case 1:return d.qQ(c,a,b);case 8:return d.lH(c,a,b)}return!1};d.tr=function(c,a,b,e){switch(e){case 4:return d.OS(c,a,b);case 1:return d.hQ(c,a,b);case 8:return d.iH(c,a,b);case 16:return d.dR(c,a,b)}return!1};d.xD=function(c,a,b,e,g){if(d.ER(c,a,b))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return d.DH(c,a,b);case 1:return d.WP(c,a,b);case 3:return d.OG(c,a,b);case 8:return d.eH(c,a,b,g);case 32:return d.WG(c,a,b,g);case 16:return d.zQ(c,a,b,g)}return!1};d.ey=function(c,a,b,e){switch(e){case 4:return d.EI(c,
a,b);case 2:return d.JE(a,c,b);case 1:return d.JE(c,a,b);case 3:return d.QI(c,a,b);case 8:return d.cF(c,a,b);case 32:return d.$I(c,a,b);case 16:return d.LE(c,a,b)}return!1};d.xr=function(c,a,b,e){switch(e){case 4:return d.yI(c,a,b);case 1:return d.KH(c,a,b);case 8:return d.MG(c,a,b)}return!1};d.wr=function(c,a,b,e){switch(e){case 4:return d.vI(c,a,b);case 1:return d.IH(c,a,b);case 8:return d.fJ(c,a,b);case 16:return d.QH(c,a,b)}return!1};d.WE=function(c,a,b,e){if(d.nI(c,a,b))return 4==e?!0:!1;if(4==
e)return!1;switch(e){case 2:return d.WJ(c,a,b);case 1:return d.GH(c,a,b);case 3:return d.MI(c,a,b);case 8:return d.cJ(c,a,b);case 32:return d.XI(c,a,b);case 16:return d.MH(c,a,b)}return!1};d.Wx=function(c,a,b,e){switch(e){case 4:return d.xI(c,a,b);case 2:return d.kA(a,c,b);case 1:return d.kA(c,a,b);case 3:return d.LI(c,a,b);case 32:return d.bJ(c,a,b)}return!1};d.pr=function(c,a,b,e){switch(e){case 4:return d.lA(c,a,b);case 2:return d.HJ(c,a,b);case 1:return d.PH(c,a,b);case 3:return d.mu(c,a,b)}return!1};
d.oA=function(c,a,b,e){switch(e){case 4:return d.uI(c,a,b);case 2:return d.LG(c,a,b);case 1:return d.LH(c,a,b);case 3:return d.DI(c,a,b);case 8:return d.eJ(c,a,b);case 16:return d.mI(c,a,b)}return!1};d.TG=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(!d.ye(e,k,b))return!1;e=d.fc(c,f,!1);if(4==e||1==e||2==e)return!1;if(d.jA(c,f,b))return!0;e=c.$b();k=f.$b();return Math.abs(e-k)>4*Math.max(c.F(),f.F())*b?!1:d.Vv(c,f,b,!0)};d.dT=function(c,a,b){var f=d.fc(c,a,!0);return 4==f?!0:1==f||2==f||
1073741824==f?!1:d.ZC(c,a,b)};d.vH=function(c,a,b){var f=d.fc(c,a,!1);return 4==f||1==f||2==f?!1:d.AE(c,a,b,null)};d.bH=function(c,a,b,e){var f=d.fc(c,a,!1);return 4==f||1==f||2==f?!1:d.wD(c,a,b,e)};d.su=function(c,f,b,e){var k=new a.i,g=new a.i;c.o(k);f.o(g);if(!d.rc(k,g,b))return!1;k=d.fc(c,f,!1);return 4==k||2==k?!1:1==k?!0:d.bC(c,f,b,e)};d.gT=function(c,a,b){var f=d.fc(c,a,!0);return 4==f?!0:1==f||1073741824==f?!1:d.ZC(c,a,b)};d.zH=function(c,a,b,e){var f=d.fc(c,a,!1);return 4==f||1==f?!1:d.CE(c,
a,b,e)};d.lR=function(c,a,b){var f=d.fc(c,a,!1);return 4==f||1==f?!1:d.YC(c,a,b,null)};d.dy=function(c,f,b,e){var k=new a.i,g=new a.i;c.o(k);f.o(g);if(!d.rc(k,g,b))return!1;k=d.fc(c,f,!1);return 4==k?!1:1==k?!0:d.jC(c,f,b,e)};d.YS=function(c,f,d){return 0==a.gd.uD(c,f,d)?!0:!1};d.lH=function(c,a,b){a=a.w();return d.yD(c,a,b)};d.qQ=function(c,a,b){a=a.w();return d.YB(c,a,b)};d.OS=function(c,f,b){var e=d.fc(c,f,!1);if(4==e)return!0;if(1==e)return!1;e=new a.i;c.o(e);e.P(b,b);for(var k=new a.b,g=0;g<
f.F();g++)if(f.w(g,k),e.contains(k)){var h=a.gd.he(c,k,b);if(1==h||2==h)return!1}return!0};d.iH=function(c,f,d){var b=this.fc(c,f,!1);if(4==b||1==b)return!1;b=new a.i;c.o(b);b.P(d,d);var e,k=!1,g;g=c;for(var h=!1,l=0;l<f.F();l++){e=f.Fa(l);if(b.contains(e))if(e=a.gd.he(g,e,d),2==e)k=!0;else if(1==e)return!1;h||(!a.ff.An(c,f.F()-1)||null!=c.pb&&null!=c.pb.Ab?g=c:(g=new a.Ka,c.copyTo(g),g.dj(1)),h=!0)}return k?!0:!1};d.dR=function(c,f,d){var b=this.fc(c,f,!1);if(4==b||1==b)return!1;var e=new a.i,b=
new a.i,k=new a.i;c.o(e);f.o(k);b.K(e);b.P(d,d);var k=e=!1,g,h;h=c;for(var l=!1,n=0;n<f.F();n++){g=f.Fa(n);b.contains(g)?(g=a.gd.he(h,g,d),0==g?k=!0:1==g&&(e=!0)):k=!0;if(e&&k)return!0;l||(!a.ff.An(c,f.F()-1)||null!=c.pb&&null!=c.pb.Ab?h=c:(h=new a.Ka,c.copyTo(h),h.dj(1)),l=!0)}return!1};d.hQ=function(c,f,d){var b=new a.i,e=new a.i;c.o(b);f.o(e);if(!this.rc(b,e,d))return!1;e=this.fc(c,f,!1);if(4==e)return!1;if(1==e)return!0;var e=!1,k,g;g=c;for(var h=!1,l=0;l<f.F();l++){k=f.Fa(l);if(!b.contains(k))return!1;
k=a.gd.he(g,k,d);if(1==k)e=!0;else if(0==k)return!1;h||(!a.ff.An(c,f.F()-1)||null!=c.pb&&null!=c.pb.Ab?g=c:(g=new a.Ka,c.copyTo(g),g.dj(1)),h=!0)}return e};d.OG=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(!d.ye(e,k,b))return!1;e=new a.Ka;e.Wc(f,!1);return d.Vv(c,e,b,!0)};d.ER=function(c,f,b){var e=d.fc(c,f,!1);if(4==e)return!0;if(1==e||2==e)return!1;var k=new a.i,e=new a.i;c.o(k);f.o(e);if(d.rc(e,k,b))return!1;k=new a.b;e.Yl(k);f=a.gd.he(c,k,b);if(0!=f)return!1;e.YE(k);f=a.gd.he(c,k,
b);if(0!=f)return!1;e.Zl(k);f=a.gd.he(c,k,b);if(0!=f)return!1;e.aF(k);f=a.gd.he(c,k,b);if(0!=f)return!1;f=c.mc(0);k=new a.i;k.K(e);k.P(b,b);for(var g=0,h=c.F();g<h;g++){var l=f.read(2*g),n=f.read(2*g+1);if(k.contains(l,n))return!1}return!d.cA(c,e,b)};d.eH=function(c,f,b,e){var k=d.fc(c,f,!1);if(4==k||1==k||2==k)return!1;var k=new a.i,g=new a.i;c.o(k);f.o(g);if(d.rc(g,k,b))return!1;if(g.aa()<=b&&g.ba()<=b)return f=f.qq(),d.yD(c,f,b);if(g.aa()<=b||g.ba()<=b)return k=new a.Xa,g=new a.Va,f.uf(0,g),k.df(g),
f.uf(2,g),k.lineTo(g),d.CE(c,k,b,e);k=new a.Ka;k.Wc(f,!1);return d.AE(c,k,b,e)};d.WG=function(c,f,b,e){var k=d.fc(c,f,!1);if(4==k||1==k||2==k)return!1;var k=new a.i,g=new a.i;c.o(k);f.o(g);if(d.rc(g,k,b)||g.aa()<=b||g.ba()<=b)return!1;k=new a.Ka;k.Wc(f,!1);return d.wD(c,k,b,e)};d.DH=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return d.rc(k,e,b)};d.WP=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(!d.rc(e,k,b))return!1;e=d.fc(c,f,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(k.aa()<=
b&&k.ba()<=b)return f=f.qq(),d.YB(c,f,b);if(k.aa()<=b||k.ba()<=b)return k=new a.Xa,e=new a.Va,f.uf(0,e),k.df(e),f.uf(2,e),k.lineTo(e),d.jC(c,k,b,null);k=new a.Ka;k.Wc(f,!1);return d.bC(c,k,b,null)};d.zQ=function(c,f,b,e){var k=new a.i,g=new a.i;c.o(k);f.o(g);if(d.rc(g,k,b)||g.ba()>b&&g.aa()>b||g.ba()<=b&&g.aa()<=b)return!1;k=new a.Xa;g=new a.Va;f.uf(0,g);k.df(g);f.uf(2,g);k.lineTo(g);return d.YC(c,k,b,e)};d.QI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return d.ye(e,k,b)&&4!=d.fc(c,f,!1)?
d.jA(c,f,b)?!0:d.Vv(c,f,b,!1):!1};d.EI=function(c,f,d){return 4==this.fc(c,f,!1)?!0:(new a.cl(c,f,d,!0)).next()?!this.ED(c,f,d):!1};d.cF=function(c,f,b){if(4==d.fc(c,f,!1))return!1;var e=new a.qd(0);if(0!=d.Zv(c,f,b,e))return!1;for(var k=new a.pe,g=0;g<e.size;g+=2){var h=e.read(g),l=e.read(g+1);k.zs(h,l)}c=c.Rf();f=f.Rf();c.Pd(f,0,f.F());return d.lu(c,k,b)};d.LE=function(c,f,b){if(4==d.fc(c,f,!1))return!1;var e=new a.qd(0);if(0!=d.Zv(c,f,b,e))return!1;for(var k=new a.pe,g=0;g<e.size;g+=2){var h=e.read(g),
l=e.read(g+1);k.zs(h,l)}c=c.Rf();f=f.Rf();c.Pd(f,0,f.F());return!d.lu(c,k,b)};d.$I=function(c,a,b){return 4==d.fc(c,a,!1)?!1:d.iA(c,a,b)};d.JE=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return d.rc(e,k,b)&&4!=d.fc(c,f,!1)?d.Wf(f,c,b,!1):!1};d.yI=function(c,a,b){if(4==d.fc(c,a,!1))return!0;a=a.w();return!d.ex(c,a,b)};d.MG=function(c,a,b){if(4==d.fc(c,a,!1))return!1;a=a.w();return d.bw(c,a,b)};d.KH=function(c,a,b){if(4==d.fc(c,a,!1))return!1;a=a.w();return d.bA(c,a,b)};d.vI=function(c,a,
b){return 4==d.fc(c,a,!1)?!0:!d.eA(c,a,b,!1)};d.fJ=function(c,f,d){if(4==this.fc(c,f,!1))return!1;var b=c.Ca(),e=new a.i,k=new a.i,g=new a.i;c.o(e);f.o(k);e.P(d,d);k.P(d,d);g.K(e);g.Ga(k);var h,l,e=null;h=c.pb;null!=h?(l=h.Ab,e=h.nn,null==l&&(l=h=a.Ia.ij(c,g))):l=h=a.Ia.ij(c,g);var n=l.Re(),m=null;null!=e&&(m=e.Re());var r=new a.b,q=new a.b,v=!1,p=d*d,e=new a.Wk(f.F());for(h=0;h<f.F();h++)e.write(h,0);for(h=0;h<f.F();h++)if(f.w(h,r),g.contains(r))if(k.K(r.x,r.y,r.x,r.y),null==m||(m.Ch(k,d),-1!=m.next())){n.Ch(k,
d);for(var w=n.next();-1!=w;w=n.next())if(b.Sb(l.da(w)),w=b.ia(),w.Kb(w.Gd(r,!1),q),a.b.Zb(r,q)<=p){e.write(h,1);v=!0;break}}if(!v)return!1;c=c.Rf();b=new a.pe;k=new a.b;for(h=0;h<f.F();h++)0!=e.read(h)&&(f.w(h,k),b.zs(k.x,k.y));return this.lu(c,b,d)};d.QH=function(c,f,d){if(4==this.fc(c,f,!1))return!1;var b=c.Ca(),e=new a.i,k=new a.i,g=new a.i;c.o(e);f.o(k);e.P(d,d);k.P(d,d);g.K(e);g.Ga(k);var h,l,e=null;h=c.pb;null!=h?(l=h.Ab,e=h.nn,null==l&&(l=h=a.Ia.ij(c,g))):l=h=a.Ia.ij(c,g);var n=l.Re(),m=null;
null!=e&&(m=e.Re());var r=new a.b,q=new a.b,v=!1,p=!1,w=d*d,e=new a.Wk(f.F());for(h=0;h<f.F();h++)e.write(h,0);for(h=0;h<f.F();h++)if(f.w(h,r),g.contains(r))if(k.K(r.x,r.y,r.x,r.y),null!=m&&(m.Ch(k,d),-1==m.next()))p=!0;else{n.Ch(k,d);for(var u=!1,x=n.next();-1!=x;x=n.next())if(b.Sb(l.da(x)),x=b.ia(),x.Kb(x.Gd(r,!1),q),a.b.Zb(r,q)<=w){e.write(h,1);u=v=!0;break}u||(p=!0)}else p=!0;if(!v||!p)return!1;c=c.Rf();b=new a.pe;k=new a.b;for(h=0;h<f.F();h++)0!=e.read(h)&&(f.w(h,k),b.zs(k.x,k.y));return!this.lu(c,
b,d)};d.IH=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(!d.rc(e,k,b)||4==d.fc(c,f,!1)||!d.eA(c,f,b,!0))return!1;c=c.Rf();return!d.nA(c,f,b)};d.MI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return k.ba()>b&&k.aa()>b?!1:d.ye(e,k,b)};d.nI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return d.rc(k,e,b)?!1:!d.cA(c,k,b)};d.cJ=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(k.ba()<=b&&k.aa()<=b)return k=f.qq(),d.bw(c,k,b);if(k.ba()<=b||k.aa()<=b)return k=new a.Xa,
e=new a.Va,f.uf(0,e),k.df(e),f.uf(2,e),k.lineTo(e),d.cF(c,k,b);c=c.Ca();f=new a.i;e=new a.i;f.K(k);e.K(k);f.P(-b,-b);e.P(b,b);for(var k=!1,g=new a.i,h=new a.i;c.kb();)for(;c.La();){c.ia().o(g);h.K(f);h.Ga(g);if(!h.s()&&(h.ba()>b||h.aa()>b))return!1;h.K(e);h.Ga(g);h.s()||(k=!0)}return k};d.XI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(d.rc(e,k,b)||d.rc(k,e,b)||d.rc(k,e,b)||k.ba()>b&&k.aa()>b||k.ba()<=b&&k.aa()<=b)return!1;e=new a.Xa;k=new a.Va;f.uf(0,k);e.df(k);f.uf(2,k);e.lineTo(k);
return d.iA(c,e,b)};d.WJ=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(!d.rc(k,e,b)||k.ba()<=b&&k.aa()<=b)return!1;if(k.ba()<=b||k.aa()<=b)return d.rc(k,e,b);c=c.Ca();f=new a.i;f.K(k);f.P(-b,-b);for(var k=!1,e=new a.i,g=new a.i;c.kb();)for(;c.La();)c.ia().o(e),f.jl(e)?k=!0:(g.K(f),g.Ga(e),!g.s()&&(g.ba()>b||g.aa()>b)&&(k=!0));return k};d.GH=function(c,f,b){var e=new a.i,k=new a.i;f.o(k);c.o(e);if(!d.rc(e,k,b)||k.ba()>b&&k.aa()>b)return!1;if(k.ba()<=b&&k.aa()<=b)return f=f.qq(),d.bA(c,f,
b);e=new a.Xa;k=new a.Va;f.uf(0,k);e.df(k);f.uf(2,k);e.lineTo(k);return d.Wf(e,c,b,!1)};d.MH=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(d.rc(k,e,b)||k.ba()<=b&&k.aa()<=b)return!1;if(k.ba()<=b||k.aa()<=b)return e=new a.Xa,k=new a.Va,f.uf(0,k),e.df(k),f.uf(2,k),e.lineTo(k),d.LE(c,e,b);c=c.Ca();f=new a.i;e=new a.i;e.K(k);f.K(k);e.P(-b,-b);f.P(b,b);for(var g=k=!1,h=new a.i,l=new a.i;c.kb();)for(;c.La();)if(c.ia().o(h),g||f.contains(h)||(g=!0),k||(l.K(e),l.Ga(h),!l.s()&&(l.ba()>b||l.aa()>
b)&&(k=!0)),k&&g)return!0;return!1};d.LI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return d.ye(e,k,b)?d.OI(c,f,b)?!0:d.Pw(c,f,b,!1,!0,!1):!1};d.xI=function(c,a,b){return!d.nA(c,a,b)};d.bJ=function(c,a,b){return d.Pw(c,a,b,!1,!1,!0)};d.kA=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return d.rc(e,k,b)?d.Pw(f,c,b,!0,!1,!1):!1};d.lu=function(c,f,d){d*=d;for(var b=new a.b,e=new a.b,k=0;k<f.F();k++){f.w(k,e);for(var g=!1,h=0;h<c.F();h++)if(c.w(h,b),a.b.Zb(b,e)<=d){g=!0;break}if(!g)return!1}return!0};
d.mu=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return d.ye(e,k,b)};d.lA=function(c,a,b){a=a.w();return d.or(c,a,b)};d.HJ=function(c,a,b){return d.mu(c,a,b)};d.PH=function(c,a,b){return!d.lA(c,a,b)};d.DI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);return k.ba()>b||k.aa()>b?!1:d.ye(e,k,b)};d.uI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(d.rc(k,e,b))return!1;f=new a.i;f.K(k);f.P(b,b);b=new a.b;for(k=0;k<c.F();k++)if(c.w(k,b),f.contains(b))return!1;return!0};d.eJ=function(c,
f,d){var b=new a.i,e=new a.i,k=new a.i;f.o(b);if(b.ba()<=d&&b.aa()<=d)return!1;if(b.ba()<=d||b.aa()<=d){f=new a.b;var g=!1;e.K(b);k.K(b);e.P(d,d);b.ba()>d?k.P(0,-d):k.P(-d,0);for(var h=0;h<c.F();h++)if(c.w(h,f),e.contains(f)){if(b.ba()>d){if(f.y>k.C&&f.y<k.G)return!1}else if(f.x>k.v&&f.x<k.B)return!1;g=!0}return g}e.K(b);k.K(b);e.P(d,d);k.P(-d,-d);f=new a.b;g=!1;for(h=0;h<c.F();h++)if(c.w(h,f),e.contains(f)){if(k.jl(f))return!1;g=!0}return g};d.LG=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);
if(!d.rc(k,e,b))return!1;if(k.ba()<=b&&k.aa()<=b)return d.ye(e,k,b);if(k.ba()<=b||k.aa()<=b){f=!1;var e=new a.i,g=new a.i;e.K(k);g.K(k);k.ba()>b?e.P(0,-b):e.P(-b,0);g.P(b,b);for(var h=new a.b,l=0;l<c.F();l++){c.w(l,h);if(!g.contains(h))return!1;k.ba()>b?h.y>e.C&&h.y<e.G&&(f=!0):h.x>e.v&&h.x<e.B&&(f=!0)}return f}f=!1;e=new a.i;g=new a.i;e.K(k);g.K(k);e.P(-b,-b);g.P(b,b);h=new a.b;for(l=0;l<c.F();l++){c.w(l,h);if(!g.contains(h))return!1;e.jl(h)&&(f=!0)}return f};d.LH=function(c,f,b){var e=new a.i,k=
new a.i;c.o(e);f.o(k);if(!d.rc(e,k,b)||k.ba()>b||k.aa()>b)return!1;f=f.qq();return!d.or(c,f,b)};d.mI=function(c,f,b){var e=new a.i,k=new a.i;c.o(e);f.o(k);if(d.rc(k,e,b)||k.ba()<=b&&k.aa()<=b)return!1;if(k.ba()<=b||k.aa()<=b){f=new a.i;e=new a.i;f.K(k);k.ba()>b?f.P(0,-b):f.P(-b,0);e.K(k);e.P(b,b);for(var g=new a.b,h=!1,l=!1,n=0;n<c.F();n++)if(c.w(n,g),h||(k.ba()>b?g.y>f.C&&g.y<f.G&&(h=!0):g.x>f.v&&g.x<f.B&&(h=!0)),l||e.contains(g)||(l=!0),h&&l)return!0;return!1}f=new a.i;e=new a.i;f.K(k);f.P(-b,-b);
e.K(k);e.P(b,b);g=new a.b;l=h=!1;for(n=0;n<c.F();n++)if(c.w(n,g),!h&&f.jl(g)&&(h=!0),l||e.contains(g)||(l=!0),h&&l)return!0;return!1};d.dB=function(c,f,d){return a.b.Zb(c,f)<=d*d?!0:!1};d.rM=function(c,f,d){return a.b.Zb(c,f)>d*d?!0:!1};d.hz=function(c,a,b){return d.dB(c,a,b)};d.KA=function(c,f,b){var e=new a.i;e.K(c);return d.ye(e,f,b)};d.ru=function(c,f,d){var b=new a.i;b.K(f);b.P(d,d);return!b.contains(c)};d.ax=function(c,f,d){if(f.ba()<=d&&f.aa()<=d)return!1;var b=new a.i,e=new a.i;b.K(f);b.P(d,
d);if(!b.contains(c))return!1;if(f.ba()<=d||f.aa()<=d){e.K(f);f.ba()>d?e.P(0,-d):e.P(-d,0);if(f.ba()>d){if(c.y>e.C&&c.y<e.G)return!1}else if(c.x>e.v&&c.x<e.B)return!1;return!0}e.K(f);e.P(-d,-d);return e.jl(c)?!1:!0};d.bx=function(c,d,b){if(d.ba()<=b&&d.aa()<=b)return!0;if(d.ba()<=b||d.aa()<=b){var f=new a.i;f.K(d);d.ba()>b?f.P(0,-b):f.P(-b,0);var e=!1;d.ba()>b?c.y>f.C&&c.y<f.G&&(e=!0):c.x>f.v&&c.x<f.B&&(e=!0);return e}f=new a.i;f.K(d);f.P(-b,-b);return f.jl(c)};d.YL=function(c,a,b){return d.KA(c,
a,b)};d.ye=function(c,a,b){return d.rc(c,a,b)&&d.rc(a,c,b)};d.nj=function(c,d,b){var f=new a.i;f.K(d);f.P(b,b);return!c.jc(f)};d.kT=function(c,f,b){if(c.ba()<=b&&c.aa()<=b){var e=c.Af();return d.ax(e,f,b)}if(f.ba()<=b&&f.aa()<=b)return e=f.Af(),d.ax(e,c,b);c.ba()>b&&c.aa()>b&&(f.ba()<=b||f.aa()<=b)?e=f:(e=c,c=f);if(e.ba()<=b||e.aa()<=b){if(c.ba()<=b||c.aa()<=b){f=new a.yb;var k=new a.yb,g=[0,0],h=[0,0],l=new a.b;e.Yl(l);f.ed(l);e.Zl(l);f.vd(l);c.Yl(l);k.ed(l);c.Zl(l);k.vd(l);f.Ga(k,null,g,h,b);return 1!=
f.Ga(k,null,null,null,b)?!1:0==g[0]||1==g[1]||0==h[0]||1==h[1]}f=new a.i;k=new a.i;f.K(c);f.P(-b,-b);k.K(f);k.Ga(e);return!k.s()&&(k.ba()>b||k.aa()>b)?!1:!0}c.P(b,b);k=new a.i;k.K(e);k.Ga(c);return k.s()||!k.s()&&k.ba()>b&&k.aa()>b?!1:!0};d.fT=function(c,f,b){if(d.rc(c,f,b)||d.rc(f,c,b)||c.ba()<=b&&c.aa()<=b||f.ba()<=b&&f.aa()<=b)return!1;if(c.ba()<=b||c.aa()<=b){if(f.ba()>b&&f.aa()>b)return!1;var e=new a.yb,k=new a.yb,g=[0,0],h=[0,0],l=new a.b;c.Yl(l);e.ed(l);c.Zl(l);e.vd(l);f.Yl(l);k.ed(l);f.Zl(l);
k.vd(l);e.Ga(k,null,g,h,b);return 2!=e.Ga(k,null,null,null,b)?!1:(0<g[0]||1>g[1])&&(0<h[0]||1>h[1])}if(f.ba()<=b||f.aa()<=b)return!1;e=new a.i;e.K(c);e.Ga(f);return e.s()||e.ba()<=b||e.aa()<=b?!1:!0};d.Bz=function(c,f,b){if(!d.rc(c,f,b))return!1;if(c.ba()<=b&&c.aa()<=b)return c=c.Af(),d.bx(c,f,b);if(f.ba()<=b&&f.aa()<=b)return f=f.Af(),d.bx(f,c,b);if(c.ba()<=b||c.aa()<=b)return d.rc(c,f,b);if(f.ba()<=b||f.aa()<=b){var e=new a.i;e.K(c);e.P(-b,-b);if(e.jl(f))return!0;c=new a.i;c.K(e);c.Ga(f);return c.s()||
c.ba()<=b&&c.aa()<=b?!1:!0}return d.rc(c,f,b)};d.cT=function(c,f,b){if(d.rc(c,f,b)||d.rc(f,c,b)||c.ba()<=b&&c.aa()<=b||f.ba()<=b&&f.aa()<=b||f.ba()>b&&f.aa()>b&&c.ba()>b&&c.aa()>b)return!1;var e;c.ba()>b&&c.aa()>b?e=f:(e=c,c=f);if(c.ba()>b&&c.aa()>b){f=new a.i;var g=new a.i;g.K(c);g.P(-b,-b);f.K(g);f.Ga(e);return f.s()||f.ba()<=b&&f.aa()<=b?!1:!0}f=new a.yb;var g=new a.yb,k=[0,0],h=[0,0],l=new a.b;e.Yl(l);f.ed(l);e.Zl(l);f.vd(l);c.Yl(l);g.ed(l);c.Zl(l);g.vd(l);f.Ga(g,null,k,h,b);return 1!=f.Ga(g,
null,null,null,b)?!1:0<k[0]&&1>k[1]&&0<h[0]&&1>h[1]};d.ZC=function(c,d,b){var f,e,g=new a.i,k=new a.i,h=new a.cl(c,d,b,!0);if(!h.next())return!0;if(this.ED(c,d,b))return!1;var l;l=c;var n;n=null;1736==d.D()&&(n=d);var m=!1,r=!1;do{f=h.jk();e=h.ek();e=d.Fa(d.Ea(e));g.K(h.Fw());g.P(b,b);if(g.contains(e)&&(e=a.gd.he(l,e,0),0!=e)||1736==d.D()&&(f=c.Fa(c.Ea(f)),k.K(h.jw()),k.P(b,b),k.contains(f)&&(e=a.gd.he(n,f,0),0!=e)))return!1;m||(!a.ff.An(c,d.ea()-1)||null!=c.pb&&null!=c.pb.Ab?l=c:(l=new a.Ka,c.copyTo(l),
l.dj(1)),m=!0);1736!=d.D()||r||(r=d,!a.ff.An(r,c.ea()-1)||null!=d.pb&&null!=d.pb.Ab?n=d:(n=new a.Ka,r.copyTo(n),n.dj(1)),r=!0)}while(h.next());return!0};d.rc=function(c,d,b){var f=new a.i;f.K(c);f.P(b,b);return f.contains(d)};d.lm=function(c,d,b){var f=new a.i;f.K(d);f.P(b,b);d=new a.b;c.Yl(d);if(!f.contains(d))return!0;c.YE(d);if(!f.contains(d))return!0;c.aF(d);if(!f.contains(d))return!0;c.Zl(d);return f.contains(d)?!1:!0};d.jA=function(c,d,b){if(c.ea()!=d.ea()||c.F()!=d.F())return!1;var f=new a.b,
e=new a.b,g=!0;b*=b;for(var k=0;k<c.ea();k++){if(c.Dc(k)!=d.Dc(k)){g=!1;break}for(var h=c.Ea(k);h<d.Dc(k);h++)if(c.w(h,f),d.w(h,e),a.b.Zb(f,e)>b){g=!1;break}if(!g)break}return g?!0:!1};d.OI=function(c,d,b){if(c.F()!=d.F())return!1;var f=new a.b,e=new a.b,g=!0;b*=b;for(var k=0;k<c.F();k++)if(c.w(k,f),d.w(k,e),a.b.Zb(f,e)>b){g=!1;break}return g?!0:!1};d.Pw=function(c,d,b,e,g,h){var f=!1,k;c.F()>d.F()?(e&&(e=!1,f=!0),k=d):(k=c,c=d);d=null;if(g||h||f){d=new a.Wk(c.F());for(var l=0;l<c.F();l++)d.write(l,
0)}var l=new a.i,t=new a.i,n=new a.i;k.o(l);c.o(t);l.P(b,b);t.P(b,b);n.K(l);n.Ga(t);for(var t=new a.b,m=new a.b,r=!0,q=a.Ia.oB(c,n),v=q.Re(),p=b*b,A=0;A<k.F();A++)if(k.w(A,t),n.contains(t)){var w=!1;l.K(t.x,t.y,t.x,t.y);v.Ch(l,b);for(var u=v.next();-1!=u&&!(u=q.da(u),c.w(u,m),a.b.Zb(t,m)<=p&&((g||h||f)&&d.write(u,1),w=!0,e));u=v.next());if(!w&&(r=!1,g||e))return!1}else{if(g||e)return!1;r=!1}if(h&&r)return!1;if(e)return!0;for(l=0;l<c.F();l++)if(1==d.read(l)){if(h)return!0}else if(g||f)return!1;return h?
!1:!0};d.nA=function(c,d,b){var f;c.F()>d.F()?f=d:(f=c,c=d);d=new a.i;var e=new a.i,g=new a.i;f.o(d);c.o(e);d.P(b,b);e.P(b,b);g.K(d);g.Ga(e);for(var e=new a.b,k=new a.b,h=b*b,l=a.Ia.oB(c,g),n=l.Re(),m=0;m<f.F();m++)if(f.w(m,e),g.contains(e)){d.K(e.x,e.y,e.x,e.y);n.Ch(d,b);for(var r=n.next();-1!=r;r=n.next())if(c.w(l.da(r),k),a.b.Zb(e,k)<=h)return!0}return!1};d.Vv=function(c,a,b,e){return d.Wf(c,a,b,e)&&d.Wf(a,c,b,e)};d.Wf=function(c,f,e,g){function k(c,a){return r.IB(c,a)}var h=!0,l=[0,0],t=[0,0],
n=0,m=new a.ga(0),r=new d,q,v=new a.i,p=new a.i,w=new a.i;c.o(v);f.o(p);v.P(e,e);p.P(e,e);w.K(v);w.Ga(p);c=c.Ca();var p=f.Ca(),u=null,x=u=null,C=f.pb;null!=C?(u=C.Ab,x=C.nn,null==u&&(u=a.Ia.ij(f,w))):u=a.Ia.ij(f,w);f=u.Re();C=null;for(null!=x&&(C=x.Re());c.kb();)for(;c.La();){var B=!1,D=c.ia();D.o(v);if(!v.jc(w))return!1;if(null!=C&&(C.Ch(v,e),-1==C.next()))return h=!1;x=D.$b();f.Fn(D,e);for(q=f.next();-1!=q;q=f.next()){p.Sb(u.da(q));q=p.ia();var z=D.Ga(q,null,l,t,e);if(2==z&&(!g||t[0]<=t[1])){var z=
l[0],E=l[1],I=t[0],y=t[1];if(z*x<=e&&(1-E)*x<=e){B=!0;n=0;m.resize(0);r.Tg.length=0;for(var K=c.Jb(),I=!0;I;){if(c.La()){D=c.ia();x=D.$b();z=D.Ga(q,null,l,t,e);if(2==z&&(!g||t[0]<=t[1])&&(z=l[0],E=l[1],z*x<=e&&(1-E)*x<=e)){K=c.Jb();continue}if(p.La()&&(q=p.ia(),z=D.Ga(q,null,l,t,e),2==z&&(!g||t[0]<=t[1])&&(z=l[0],E=l[1],z*x<=e&&(1-E)*x<=e))){K=c.Jb();continue}}I=!1}K!=c.Jb()&&(c.Sb(K),c.ia());break}else K=c.Jb(),q=b.Oa(K,c.Qa,z,E,p.Jb(),p.Qa,I,y),r.Tg.push(q),m.add(m.size)}}if(!B){if(n==r.Tg.length)return!1;
1<m.size-n&&m.xd(n,m.size,k);for(B=0;n<r.Tg.length;n++)if(q=r.Tg[m.get(n)],!(q.Oi<B&&q.ji<B)){if(x*(q.Oi-B)>e)return!1;B=q.ji;if(x*(1-B)<=e||1==B)break}if(x*(1-B)>e)return!1;n=0;m.resize(0);r.Tg.length=0}}return h};d.iA=function(c,f,b){if(1>d.Zv(c,f,b,null))return!1;var e=new a.i,g=new a.i;c.o(e);f.o(g);var k=d.lm(e,g,b),e=d.lm(g,e,b);return k&&e?!0:k&&!e?!d.Wf(f,c,b,!1):e&&!k?!d.Wf(c,f,b,!1):!d.Wf(c,f,b,!1)&&!d.Wf(f,c,b,!1)};d.Zv=function(c,f,e,g){function k(c,a){return p.IB(c,a)}var h,l;c.Iw()>
f.Iw()?(h=f,l=c):(h=c,l=f);c=h.Ca();f=l.Ca();var t=[0,0],n=[0,0],m=-1,r=0,q,v=new a.ga(0),p=new d,w,u=new a.i,x=new a.i,C=new a.i;h.o(u);l.o(x);u.P(e,e);x.P(e,e);C.K(u);C.Ga(x);h=null;null!=g&&(h=new a.b);q=x=x=null;var B=l.pb;null!=B?(x=B.Ab,q=B.nn,null==x&&(x=a.Ia.ij(l,C))):x=a.Ia.ij(l,C);l=x.Re();B=null;for(null!=q&&(B=q.Re());c.kb();)for(q=0;c.La();){var D=c.ia();D.o(u);if(u.jc(C)&&(null==B||(B.Ch(u,e),-1!=B.next()))){var z=D.$b();l.Fn(D,e);for(var E=l.next();-1!=E;E=l.next()){var I=x.da(E);f.Sb(I);
w=f.ia();var y=w.$b(),K=D.Ga(w,null,t,n,e);if(0<K){var E=t[0],m=n[0],J=2==K?t[1]:NaN,M=2==K?n[1]:NaN;if(2==K){if(z*(J-E)>e)return m=1;var U=z*(J-E);if(f.La()){w=f.ia();K=D.Ga(w,null,t,null,e);if(2==K){var K=t[0],Q=t[1],K=z*(Q-K);if(U+K>e)return m=1}f.Sb(I);f.ia()}if(!f.wl()){f.oi();w=f.oi();K=D.Ga(w,null,t,null,e);if(2==K&&(K=t[0],Q=t[1],K=z*(Q-K),U+K>e))return m=1;f.Sb(I);f.ia()}if(c.La()){I=c.Jb();D=c.ia();K=D.Ga(w,null,t,null,e);if(2==K&&(K=t[0],Q=t[1],K=z*(Q-K),U+K>e))return m=1;c.Sb(I);c.ia()}if(!c.wl()){I=
c.Jb();c.oi();D=c.oi();K=D.Ga(w,null,t,null,e);if(2==K&&(K=t[0],Q=t[1],K=y*(Q-K),U+K>e))return m=1;c.Sb(I);c.ia()}w=b.Oa(c.Jb(),c.Qa,E,J,f.Jb(),f.Qa,m,M);p.Tg.push(w);v.add(v.size)}m=0;null!=g&&(D.Kb(E,h),g.add(h.x),g.add(h.y))}}if(r<p.Tg.length){v.xd(r,v.size,k);D=0;for(E=p.Tg[v.get(r)].Jl;r<p.Tg.length;r++)if(w=p.Tg[v.get(r)],!(w.Oi<D&&w.ji<D))if(z*(w.Oi-D)>e)q=z*(w.ji-w.Oi),D=w.ji,E=w.Jl;else{w.Jl!=E?(q=z*(w.ji-w.Oi),E=w.Jl):q+=z*(w.ji-w.Oi);if(q>e)return m=1;D=w.ji;if(1==D)break}z*(1-D)>e&&(q=
0);r=0;v.resize(0);p.Tg.length=0}}}return m};d.ED=function(c,d,b){var f=c.Ca(),e=d.Ca();for(c=new a.cl(c,d,b,!1);c.next();){d=c.jk();var g=c.ek();f.Sb(d);e.Sb(g);d=f.ia();if(0<e.ia().Ga(d,null,null,null,b))return!0}return!1};d.eA=function(c,d,b,e){var f=c.Ca(),g=new a.i,k=new a.i,h=new a.i;c.o(g);d.o(k);g.P(b,b);g.contains(k);k.P(b,b);h.K(g);h.Ga(k);g=c.pb;null!=g?(g=g.Ab,null==g&&(g=a.Ia.ij(c,h))):g=a.Ia.ij(c,h);c=g.Re();for(var l=new a.b,t=new a.b,n=b*b,m=0;m<d.F();m++)if(d.w(m,l),h.contains(l)){k.K(l.x,
l.y,l.x,l.y);c.Ch(k,b);for(var r=!1,q=c.next();-1!=q;q=c.next())if(f.Sb(g.da(q)),q=f.ia(),q.Kb(q.Gd(l,!1),t),a.b.Zb(t,l)<=n){r=!0;break}if(e){if(!r)return!1}else if(r)return!0}return e?!0:!1};d.ex=function(c,d,b){var f=new a.b,e=b*b,g=c.Ca();c=c.pb;if(null!=c&&(c=c.Ab,null!=c)){var k=new a.i;k.K(d);b=c.xw(k,b);for(k=b.next();-1!=k;k=b.next())if(g.Sb(c.da(k)),g.La()){var k=g.ia(),h=k.Gd(d,!1);k.Kb(h,f);if(a.b.Zb(d,f)<=e)return!0}return!1}for(c=new a.i;g.kb();)for(;g.La();)if(k=g.ia(),k.o(c),c.P(b,
b),c.contains(d)&&(h=k.Gd(d,!1),k.Kb(h,f),a.b.Zb(d,f)<=e))return!0;return!1};d.bA=function(c,a,b){return d.ex(c,a,b)&&!d.bw(c,a,b)};d.bw=function(c,a,b){c=c.Rf();return!d.or(c,a,b)};d.cA=function(c,d,b){if(c.Hm()){var f=new a.yb(d.v,d.C,d.v,d.G),e=new a.yb(d.v,d.G,d.B,d.G),g=new a.yb(d.B,d.G,d.B,d.C);d=new a.yb(d.B,d.C,d.v,d.C);for(c=c.Ca();c.kb();)for(;c.La();){var k=c.ia();if(k.jc(f,b)||k.jc(e,b)||k.jc(g,b)||k.jc(d,b))return!0}}else{f=new a.i;f.K(d);f.P(b,b);b=c.mc(0);e=new a.b;g=new a.b;d=new a.b;
for(var k=new a.b,h=0,l=c.ea();h<l;h++)for(var n=!0,m=c.Ea(h),r=c.Dc(h);m<r;m++)if(n)b.ec(2*m,g),n=!1;else{b.ec(2*m,e);d.J(g);k.J(e);if(0!=f.Nv(d,k))return!0;g.J(e)}}return!1};d.fc=function(c,f,b){var e=c.D(),g=f.D();if(a.T.Th(e)){var k=c.pb;if(null!=k&&(k=k.hi,null!=k))if(33==g){var h=f.w(),h=k.Kk(h.x,h.y);if(1==h)return 1;if(0==h)return 4}else{h=new a.i;f.o(h);h=k.Dn(h);if(1==h)return 1;if(0==h)return 4;if(b&&a.T.Th(g)&&d.zz(f,k))return 1073741824}}if(a.T.Th(g)&&(k=f.pb,null!=k&&(k=k.hi,null!=k)))if(33==
e){c=c.w();h=k.Kk(c.x,c.y);if(1==h)return 2;if(0==h)return 4}else{f=new a.i;c.o(f);h=k.Dn(f);if(1==h)return 2;if(0==h)return 4;if(b&&a.T.Th(e)&&d.zz(c,k))return 1073741824}return 0};d.zz=function(c,d){for(var f=c.F(),b=new a.b,e=0;e<f;e++)if(c.w(e,b),1==d.Kk(b.x,b.y))return!0;return!1};d.AE=function(c,d,b,e){for(var f=1<=c.rj(0)&&1<=d.rj(0),g=c.Ca(),k=d.Ca(),h=[0,0],l=[0,0],t=new a.cl(c,d,b,!1),n=!1;t.next();){var m=t.jk(),r=t.ek();g.Sb(m);k.Sb(r);m=g.ia();r=k.ia().Ga(m,null,l,h,b);if(2==r){n=h[0];
r=h[1];m=m.$b();if(f&&(r-n)*m>b)return!1;n=!0}else if(0!=r){n=h[0];m=l[0];if(0<n&&1>n&&0<m&&1>m)return!1;n=!0}}if(!n)return!1;g=new a.i;k=new a.i;f=new a.i;c.o(g);d.o(k);g.P(1E3*b,1E3*b);k.P(1E3*b,1E3*b);f.K(g);f.Ga(k);return 10<c.F()&&(c=a.Ed.clip(c,f,b,0),c.s())||10<d.F()&&(d=a.Ed.clip(d,f,b,0),d.s())?!1:a.el.vr(c,d,b,"F********",e)};d.wD=function(c,f,b,e){var g=1<=c.rj(0)&&1<=f.rj(0),k=new a.i,h=new a.i,l=new a.i;c.o(k);f.o(h);for(var t=!1,n=d.lm(k,h,b),m=d.lm(h,k,b),r=c.Ca(),q=f.Ca(),v=[0,0],
p=[0,0],w=new a.cl(c,f,b,!1);w.next();){var u=w.jk(),x=w.ek();r.Sb(u);q.Sb(x);x=r.ia();u=q.ia().Ga(x,null,p,v,b);if(2==u){var u=v[0],C=v[1],x=x.$b();if(g&&(C-u)*x>b&&(t=!0,n&&m))return!0}else if(0!=u&&(u=v[0],x=p[0],0<u&&1>u&&0<x&&1>x))return!0}g=new a.i;r=new a.i;g.K(k);g.P(1E3*b,1E3*b);r.K(h);r.P(1E3*b,1E3*b);l.K(g);l.Ga(r);k="";k=t?k+"**":k+"T*";if(n){if(10<f.F()&&(f=a.Ed.clip(f,l,b,0),f.s()))return!1;k+="****"}else k+="T***";if(m){if(10<c.F()&&(c=a.Ed.clip(c,l,b,0),c.s()))return!1;k+="***"}else k+=
"T**";return a.el.vr(c,f,b,k.toString(),e)};d.bC=function(c,f,b,e){var g=[!1],k=d.wB(c,f,b,g);if(g[0])return k;g=new a.i;f.o(g);g.P(1E3*b,1E3*b);return 10<c.F()&&(c=a.Ed.clip(c,g,b,0),c.s())?!1:a.el.su(c,f,b,e)};d.wB=function(c,d,b,e){e[0]=!1;for(var f=c.Ca(),g=d.Ca(),k=[0,0],h=[0,0],l=new a.cl(c,d,b,!1),t=!1;l.next();){var n=l.jk(),m=l.ek();f.Sb(n,-1);g.Sb(m,-1);n=f.ia();n=g.ia().Ga(n,null,h,k,b);if(0!=n&&(t=!0,1==n&&(n=k[0],m=h[0],0<n&&1>n&&0<m&&1>m)))return e[0]=!0,!1}if(!t){e[0]=!0;k=new a.i;
c.o(k);k.P(b,b);l=c;t=!1;h=new a.i;e=0;for(f=d.ea();e<f;e++)if(0<d.Ha(e)){d.Ti(e,h);if(k.jc(h)){if(g=d.Fa(d.Ea(e)),g=a.ff.xl(l,g,0),0==g)return!1}else return!1;t||(!a.ff.An(c,d.ea()-1)||null!=c.pb&&null!=c.pb.Ab?l=c:(g=new a.Ka,c.copyTo(g),g.dj(1),l=g),t=!0)}if(1==c.ea()||1607==d.D())return!0;k=new a.i;d.o(k);k.P(b,b);h=d;l=!1;b=new a.i;e=0;for(f=c.ea();e<f;e++)if(0<c.Ha(e)){c.Ti(e,b);if(k.jc(b)&&(g=c.Fa(c.Ea(e)),g=a.ff.xl(h,g,0),1==g))return!1;l||(!a.ff.An(d,c.ea()-1)||null!=d.pb&&null!=d.pb.Ab?
h=d:(g=new a.Ka,d.copyTo(g),g.dj(1),h=g),l=!0)}return!0}return!1};d.CE=function(c,d,b,e){for(var f=c.Ca(),g=d.Ca(),k=[0,0],h=[0,0],l=new a.cl(c,d,b,!1),t=!1;l.next();){var n=l.jk(),m=l.ek();f.Sb(n);g.Sb(m);n=f.ia();n=g.ia().Ga(n,null,h,k,b);if(2==n)t=!0;else if(0!=n){t=k[0];n=h[0];if(0<t&&1>t&&0<n&&1>n)return!1;t=!0}}if(!t)return!1;g=new a.i;k=new a.i;f=new a.i;c.o(g);d.o(k);g.P(1E3*b,1E3*b);k.P(1E3*b,1E3*b);f.K(g);f.Ga(k);return 10<c.F()&&(c=a.Ed.clip(c,f,b,0),c.s())||10<d.F()&&(d=a.Ed.clip(d,f,
b,0),d.s())?!1:a.el.Vl(c,d,b,"F********",e)};d.YC=function(c,f,b,e){for(var g=c.Ca(),k=f.Ca(),h=[0,0],l=[0,0],t=new a.cl(c,f,b,!1),n=!1;t.next();){var m=t.jk(),r=t.ek();g.Sb(m);k.Sb(r);m=g.ia();m=k.ia().Ga(m,null,l,h,b);if(2==m)n=!0;else if(0!=m){n=h[0];m=l[0];if(0<n&&1>n&&0<m&&1>m)return!0;n=!0}}if(!n)return!1;k=new a.i;h=new a.i;l=new a.i;t=new a.i;g=new a.i;c.o(k);f.o(h);return d.lm(h,k,b)?(l.K(k),l.P(1E3*b,1E3*b),t.K(h),t.P(1E3*b,1E3*b),g.K(l),g.Ga(t),10<c.F()&&(c=a.Ed.clip(c,g,b,0),c.s())||10<
f.F()&&(f=a.Ed.clip(f,g,b,0),f.s())?!1:b=a.el.Vl(c,f,b,"T********",e)):b=a.el.Vl(c,f,b,"T*****T**",e)};d.jC=function(c,f,b,e){var g=[!1],k=d.wB(c,f,b,g);if(g[0])return k;g=new a.i;f.o(g);g.P(1E3*b,1E3*b);return 10<c.F()&&(c=a.Ed.clip(c,g,b,0),c.s())?!1:a.el.dy(c,f,b,e)};d.YB=function(c,d,b){return 1==a.gd.he(c,d,b)?!0:!1};d.yD=function(c,d,b){return 2==a.gd.he(c,d,b)?!0:!1};d.or=function(c,d,b){var f=new a.b;b*=b;for(var e=0;e<c.F();e++)if(c.w(e,f),a.b.Zb(f,d)<=b)return!1;return!0};d.prototype.IB=
function(c,a){c=this.Tg[c];a=this.Tg[a];return c.Jl<a.Jl||c.Jl==a.Jl&&(c.Wt<a.Wt||c.Wt==a.Wt&&(c.Oi<a.Oi||c.Oi==a.Oi&&(c.ji<a.ji||c.ji==a.ji&&c.dE<a.dE)))?-1:1};return d}();a.hd=e})(z||(z={}));(function(a){var b;(function(a){a[a.InteriorInterior=0]="InteriorInterior";a[a.InteriorBoundary=1]="InteriorBoundary";a[a.InteriorExterior=2]="InteriorExterior";a[a.BoundaryInterior=3]="BoundaryInterior";a[a.BoundaryBoundary=4]="BoundaryBoundary";a[a.BoundaryExterior=5]="BoundaryExterior";a[a.ExteriorInterior=
6]="ExteriorInterior";a[a.ExteriorBoundary=7]="ExteriorBoundary";a[a.ExteriorExterior=8]="ExteriorExterior"})(b||(b={}));var e;(function(a){a[a.AreaAreaPredicates=0]="AreaAreaPredicates";a[a.AreaLinePredicates=1]="AreaLinePredicates";a[a.LineLinePredicates=2]="LineLinePredicates";a[a.AreaPointPredicates=3]="AreaPointPredicates";a[a.LinePointPredicates=4]="LinePointPredicates";a[a.PointPointPredicates=5]="PointPointPredicates"})(e||(e={}));b=function(){function d(){this.Xd=0;this.h=new a.gs;this.A=
[0,0,0,0,0,0,0,0,0];this.Ta=[0,0,0,0,0,0,0,0,0];this.Y=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Nl=this.$t=-1}d.py=function(c,d,b,e,g){if(9!=e.length)throw a.g.ra("relation string length has to be 9 characters");for(var f=0;9>f;f++){var k=e.charAt(f);if("*"!=k&&"T"!=k&&"F"!=k&&"0"!=k&&"1"!=k&&"2"!=k)throw a.g.ra("relation string");}f=this.YN(e,c.fb(),d.fb());if(0!=f)return a.hd.qy(c,d,b,f,g);f=new a.i;c.o(f);k=new a.i;d.o(k);var h=new a.i;h.K(f);h.Db(k);b=a.Ia.zd(b,h,!1);c=this.NB(c,b);d=this.NB(d,b);if(c.s()||
d.s())return this.rR(c,d,e);f=d.D();k=!1;switch(c.D()){case 1736:switch(f){case 1736:k=this.vr(c,d,b,e,g);break;case 1607:k=this.Vl(c,d,b,e,g);break;case 33:k=this.ur(c,d,b,e,g);break;case 550:k=this.tr(c,d,b,e,g)}break;case 1607:switch(f){case 1736:k=this.Vl(d,c,b,this.Lo(e),g);break;case 1607:k=this.ey(c,d,b,e,g);break;case 33:k=this.xr(c,d,b,e,g);break;case 550:k=this.wr(c,d,b,e,g)}break;case 33:switch(f){case 1736:k=this.ur(d,c,b,this.Lo(e),g);break;case 1607:k=this.xr(d,c,b,this.Lo(e),g);break;
case 33:k=this.KQ(c,d,b,e);break;case 550:k=this.pr(d,c,b,this.Lo(e),g)}break;case 550:switch(f){case 1736:k=this.tr(d,c,b,this.Lo(e),g);break;case 1607:k=this.wr(d,c,b,this.Lo(e),g);break;case 550:k=this.Wx(c,d,b,e,g);break;case 33:k=this.pr(c,d,b,e,g)}break;default:k=!1}return k};d.vr=function(c,b,e,g,h){var f=new d;f.pi();f.si(g);f.vF();var k=new a.i,l=new a.i;c.o(k);b.o(l);g=!1;a.hd.nj(k,l,e)&&(f.Bs(c,b),g=!0);g||(k=a.hd.fc(c,b,!1),4==k?(f.Bs(c,b),g=!0):1==k?(f.Bv(b),g=!0):2==k&&(f.$A(c),g=!0));
g||(g=new a.fd,c=g.Eb(c),b=g.Eb(b),f.In(g,e,h),f.so(c,b),f.h.xg());return d.Mf(f.A,f.Hc)};d.su=function(c,b,e,g){var f=new d;f.pi();f.si("T*****F**");f.vF();var k=new a.i,h=new a.i;c.o(k);b.o(h);var l=!1;a.hd.nj(k,h,e)&&(f.Bs(c,b),l=!0);l||(k=a.hd.fc(c,b,!1),4==k?(f.Bs(c,b),l=!0):1==k?(f.Bv(b),l=!0):2==k&&(f.$A(c),l=!0));if(l)return k=this.Mf(f.A,f.Hc);l=new a.fd;c=l.Eb(c);k=l.Eb(b);a.aj.$(l,e,g,!1);e=l.hf(k).Rf();l.xo(0,!0,!0);a.mm.$(l,c,-1,!1,g);if(0==l.F(c))return!1;a.mm.$(l,k,-1,!1,g);f.Op(l,
g);b=0==l.F(k);if(!b&&(f.so(c,k),f.h.xg(),k=this.Mf(f.A,f.Hc),!k))return k;c=l.hf(c);l=new a.fd;c=l.Eb(c);k=l.Eb(e);f.Op(l,g);f.Xd=0;f.pi();f.si(b?"T*****F**":"******F**");f.wy();f.so(c,k);f.h.xg();return k=this.Mf(f.A,f.Hc)};d.Vl=function(c,b,e,g,h){var f=new d;f.pi();f.si(g);f.wy();var k=new a.i,l=new a.i;c.o(k);b.o(l);g=!1;a.hd.nj(k,l,e)&&(f.Cs(c,b),g=!0);g||(k=a.hd.fc(c,b,!1),4==k?(f.Cs(c,b),g=!0):1==k&&(f.aB(b),g=!0));g||(g=new a.fd,c=g.Eb(c),b=g.Eb(b),f.In(g,e,h),f.Jg=f.h.uo(),d.es(b,f.h,f.Jg),
f.so(c,b),f.h.vo(f.Jg),f.h.xg());return d.Mf(f.A,f.Hc)};d.dy=function(c,b,e,g){var f=new d;f.pi();f.si("T*****F**");f.wy();var k=new a.i,h=new a.i;c.o(k);b.o(h);var l=!1;a.hd.nj(k,h,e)&&(f.Cs(c,b),l=!0);l||(k=a.hd.fc(c,b,!1),4==k?(f.Cs(c,b),l=!0):1==k&&(f.aB(b),l=!0));if(l)return e=this.Mf(f.A,f.Hc);l=new a.fd;c=l.Eb(c);b=l.Eb(b);f.In(l,e,g);if(0==l.F(c))return!1;f.so(c,b);f.h.xg();return e=this.Mf(f.A,f.Hc)};d.tr=function(c,b,e,g,h){var f=new d;f.pi();f.si(g);f.wF();var k=new a.i,l=new a.i;c.o(k);
b.o(l);g=!1;a.hd.nj(k,l,e)&&(f.Ds(c),g=!0);g||(k=a.hd.fc(c,b,!1),4==k?(f.Ds(c),g=!0):1==k&&(f.cK(),g=!0));g||(g=new a.fd,c=g.Eb(c),b=g.Eb(b),f.In(g,e,h),f.Pv(c,b),f.h.xg());return d.Mf(f.A,f.Hc)};d.ey=function(c,b,e,g,h){var f=new d;f.pi();f.si(g);f.ZR();g=new a.i;var k=new a.i;c.o(g);b.o(k);var l=!1;a.hd.nj(g,k,e)&&(f.CD(c,b),l=!0);l||4!=a.hd.fc(c,b,!1)||(f.CD(c,b),l=!0);l||(g=new a.fd,c=g.Eb(c),b=g.Eb(b),f.In(g,e,h),f.ph=f.h.uo(),f.Jg=f.h.uo(),d.es(c,f.h,f.ph),d.es(b,f.h,f.Jg),f.so(c,b),f.h.vo(f.ph),
f.h.vo(f.Jg),f.h.xg());return d.Mf(f.A,f.Hc)};d.wr=function(c,b,e,g,h){var f=new d;f.pi();f.si(g);f.KF();g=new a.i;var k=new a.i;c.o(g);b.o(k);var l=!1;a.hd.nj(g,k,e)&&(f.dx(c),l=!0);l||4!=a.hd.fc(c,b,!1)||(f.dx(c),l=!0);l||(g=new a.fd,c=g.Eb(c),b=g.Eb(b),f.In(g,e,h),f.ph=f.h.uo(),d.es(c,f.h,f.ph),f.Pv(c,b),f.h.vo(f.ph),f.h.xg());return d.Mf(f.A,f.Hc)};d.Wx=function(c,b,e,g,h){var f=new d;f.pi();f.si(g);f.PF();g=new a.i;var k=new a.i;c.o(g);b.o(k);var l=!1;a.hd.nj(g,k,e)&&(f.PE(),l=!0);l||(g=new a.fd,
c=g.Eb(c),b=g.Eb(b),f.In(g,e,h),f.Pv(c,b),f.h.xg());return d.Mf(f.A,f.Hc)};d.ur=function(c,b,e,g){var f=new d;f.pi();f.si(g);f.wF();var k=new a.i;c.o(k);b=b.w();var h=!1;a.hd.ru(b,k,e)&&(f.Ds(c),h=!0);h||(e=a.gd.he(c,b,e),1==e?(f.A[0]=0,f.A[2]=2,f.A[3]=-1,f.A[5]=1,f.A[6]=-1):2==e?(f.A[6]=-1,0!=c.Mh()?(f.A[0]=-1,f.A[3]=0,f.A[2]=2,f.A[5]=1):(f.A[0]=0,f.A[3]=-1,f.A[5]=-1,e=new a.i,c.o(e),f.A[2]=0==e.ba()&&0==e.aa()?-1:1)):f.Ds(c));return this.Mf(f.A,g)};d.xr=function(c,f,b,e,g){var k=new d;k.pi();k.si(e);
k.KF();var h=new a.i;c.o(h);e=f.w();var l=!1;a.hd.ru(e,h,b)&&(k.dx(c),l=!0);if(!l){var h=null,t=l=!1;if(k.Y[0]||k.Y[6])a.hd.ex(c,e,b)?(k.Y[0]&&(h=a.Hh.il(c,g),t=!a.hd.or(h,e,b),l=!0,k.A[0]=t?-1:0),k.A[6]=-1):(k.A[0]=-1,k.A[6]=0);k.Y[3]&&(null!=h&&h.s()?k.A[3]=-1:(l||(null==h&&(h=a.Hh.il(c,g)),t=!a.hd.or(h,e,b),l=!0),k.A[3]=t?0:-1));k.Y[5]&&(null!=h&&h.s()?k.A[5]=-1:l&&!t?k.A[5]=0:(null==h&&(h=a.Hh.il(c,g)),g=a.hd.mu(h,f,b),k.A[5]=g?-1:0));k.Y[2]&&(0!=c.$b()?k.A[2]=1:(g=new a.pe(c.description),g.Pd(c,
0,c.F()),c=a.hd.mu(g,f,b),k.A[2]=c?-1:0))}return this.Mf(k.A,k.Hc)};d.pr=function(c,f,b,e){var g=new d;g.pi();g.si(e);g.PF();var k=new a.i;c.o(k);f=f.w();var h=!1;a.hd.ru(f,k,b)&&(g.PE(),h=!0);if(!h){k=!1;h=!0;b*=b;for(var l=0;l<c.F();l++){var t=c.Fa(l);a.b.Zb(t,f)<=b?k=!0:h=!1;if(k&&!h)break}k?(g.A[0]=0,g.A[2]=h?-1:0,g.A[6]=-1):(g.A[0]=-1,g.A[2]=0,g.A[6]=0)}return d.Mf(g.A,e)};d.KQ=function(c,b,e,g){c=c.w();b=b.w();for(var f=[],k=0;9>k;k++)f[k]=-1;a.b.Zb(c,b)<=e*e?f[0]=0:(f[2]=0,f[6]=0);f[8]=2;return d.Mf(f,
g)};d.Mf=function(c,a){for(var d=0;9>d;d++)switch(a.charAt(d)){case "T":if(-1==c[d])return!1;break;case "F":if(-1!=c[d])return!1;break;case "0":if(0!=c[d])return!1;break;case "1":if(1!=c[d])return!1;break;case "2":if(2!=c[d])return!1}return!0};d.rR=function(c,d,b){var f=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(c.s()&&d.s()){for(var e=0;9>e;e++)f[e]=-1;return this.Mf(f,b)}e=!1;c.s()&&(c=d,e=!0);f[0]=-1;f[1]=-1;f[3]=-1;f[4]=-1;f[6]=-1;f[7]=-1;f[8]=2;d=c.D();a.T.Kc(d)?1736==d?0!=c.Mh()?(f[2]=2,f[5]=1):(f[5]=
-1,d=new a.i,c.o(d),f[2]=0==d.ba()&&0==d.aa()?0:1):(d=0!=c.$b(),f[2]=d?1:0,f[5]=a.Hh.No(c)?0:-1):(f[2]=0,f[5]=-1);e&&this.qG(f);return this.Mf(f,b)};d.YN=function(c,a,b){return d.mT(c)?3:d.NS(c)?4:d.nT(c,a,b)?8:d.CR(c,a,b)?16:d.yQ(c)?1:d.LK(c,a,b)?32:0};d.mT=function(c){return"T"==c.charAt(0)&&"*"==c.charAt(1)&&"F"==c.charAt(2)&&"*"==c.charAt(3)&&"*"==c.charAt(4)&&"F"==c.charAt(5)&&"F"==c.charAt(6)&&"F"==c.charAt(7)&&"*"==c.charAt(8)?!0:!1};d.NS=function(c){return"F"==c.charAt(0)&&"F"==c.charAt(1)&&
"*"==c.charAt(2)&&"F"==c.charAt(3)&&"F"==c.charAt(4)&&"*"==c.charAt(5)&&"*"==c.charAt(6)&&"*"==c.charAt(7)&&"*"==c.charAt(8)?!0:!1};d.nT=function(c,a,d){if(0==a&&0==d)return!1;if(2!=a||2!=d)if("F"==c.charAt(0)&&"*"==c.charAt(1)&&"*"==c.charAt(2)&&"T"==c.charAt(3)&&"*"==c.charAt(4)&&"*"==c.charAt(5)&&"*"==c.charAt(6)&&"*"==c.charAt(7)&&"*"==c.charAt(8)||1==a&&1==d&&"F"==c.charAt(0)&&"T"==c.charAt(1)&&"*"==c.charAt(2)&&"*"==c.charAt(3)&&"*"==c.charAt(4)&&"*"==c.charAt(5)&&"*"==c.charAt(6)&&"*"==c.charAt(7)&&
"*"==c.charAt(8))return!0;return 0!=d&&"F"==c.charAt(0)&&"*"==c.charAt(1)&&"*"==c.charAt(2)&&"*"==c.charAt(3)&&"T"==c.charAt(4)&&"*"==c.charAt(5)&&"*"==c.charAt(6)&&"*"==c.charAt(7)&&"*"==c.charAt(8)?!0:!1};d.CR=function(c,a,d){return a>d?"T"==c.charAt(0)&&"*"==c.charAt(1)&&"*"==c.charAt(2)&&"*"==c.charAt(3)&&"*"==c.charAt(4)&&"*"==c.charAt(5)&&"T"==c.charAt(6)&&"*"==c.charAt(7)&&"*"==c.charAt(8)?!0:!1:1==a&&1==d&&"0"==c.charAt(0)&&"*"==c.charAt(1)&&"*"==c.charAt(2)&&"*"==c.charAt(3)&&"*"==c.charAt(4)&&
"*"==c.charAt(5)&&"*"==c.charAt(6)&&"*"==c.charAt(7)&&"*"==c.charAt(8)?!0:!1};d.yQ=function(c){return"T"==c.charAt(0)&&"*"==c.charAt(1)&&"*"==c.charAt(2)&&"*"==c.charAt(3)&&"*"==c.charAt(4)&&"*"==c.charAt(5)&&"F"==c.charAt(6)&&"F"==c.charAt(7)&&"*"==c.charAt(8)?!0:!1};d.LK=function(c,a,d){if(a==d){if(1!=a)return"T"==c.charAt(0)&&"*"==c.charAt(1)&&"T"==c.charAt(2)&&"*"==c.charAt(3)&&"*"==c.charAt(4)&&"*"==c.charAt(5)&&"T"==c.charAt(6)&&"*"==c.charAt(7)&&"*"==c.charAt(8)?!0:!1;if("1"==c.charAt(0)&&
"*"==c.charAt(1)&&"T"==c.charAt(2)&&"*"==c.charAt(3)&&"*"==c.charAt(4)&&"*"==c.charAt(5)&&"T"==c.charAt(6)&&"*"==c.charAt(7)&&"*"==c.charAt(8))return!0}return!1};d.es=function(c,a,d){c=a.ya(c);for(var b=a.Be;-1!=b;b=a.Bf(b))if(0!=(a.md(b)&c)){var f=a.te(b);if(-1==f)a.fm(b,d,0);else{var e=f,g=0;do 0!=(a.Gg(e)&c)&&g++,e=a.Wb(a.sa(e));while(e!=f);a.fm(b,d,g)}}};d.Lo=function(c){var a;a=""+c.charAt(0);a+=c.charAt(3);a+=c.charAt(6);a+=c.charAt(1);a+=c.charAt(4);a+=c.charAt(7);a+=c.charAt(2);a+=c.charAt(5);
return a+=c.charAt(8)};d.prototype.pi=function(){for(var c=0;9>c;c++)this.A[c]=-2,this.Ta[c]=-2};d.qG=function(c){var a=c[1],d=c[2],b=c[5];c[1]=c[3];c[2]=c[6];c[5]=c[7];c[3]=a;c[6]=d;c[7]=b};d.prototype.si=function(c){this.Hc=c;for(c=0;9>c;c++)"*"!=this.Hc.charAt(c)?(this.Y[c]=!0,this.Xd++):this.Y[c]=!1};d.prototype.SF=function(){for(var c=0;9>c;c++)this.Y[c]&&-2==this.A[c]&&(this.A[c]=-1,this.Y[c]=!1)};d.prototype.dc=function(c){if(-2==this.A[c])return!1;if(-1==this.A[c])return this.Y[c]=!1,this.Xd--,
!0;if("T"!=this.Hc.charAt(c)&&"F"!=this.Hc.charAt(c)){if(this.A[c]<this.Ta[c])return!1;this.Y[c]=!1;this.Xd--;return!0}this.Y[c]=!1;this.Xd--;return!0};d.prototype.vF=function(){this.$t=0;this.Ta[0]=2;this.Ta[1]=1;this.Ta[2]=2;this.Ta[3]=1;this.Ta[4]=1;this.Ta[5]=1;this.Ta[6]=2;this.Ta[7]=1;this.Ta[8]=2;this.Y[8]&&(this.A[8]=2,this.Y[8]=!1,this.Xd--)};d.prototype.wy=function(){this.$t=1;this.Nl=3;this.Ta[0]=1;this.Ta[1]=0;this.Ta[2]=2;this.Ta[3]=1;this.Ta[4]=0;this.Ta[5]=1;this.Ta[6]=1;this.Ta[7]=
0;this.Ta[8]=2;this.Y[8]&&(this.A[8]=2,this.Y[8]=!1,this.Xd--)};d.prototype.ZR=function(){this.$t=2;this.Nl=4;this.Ta[0]=1;this.Ta[1]=0;this.Ta[2]=1;this.Ta[3]=0;this.Ta[4]=0;this.Ta[5]=0;this.Ta[6]=1;this.Ta[7]=0;this.Ta[8]=2;this.Y[8]&&(this.A[8]=2,this.Y[8]=!1,this.Xd--)};d.prototype.wF=function(){this.Nl=3;this.Ta[0]=0;this.Ta[1]=-1;this.Ta[2]=2;this.Ta[3]=0;this.Ta[4]=-1;this.Ta[5]=1;this.Ta[6]=0;this.Ta[7]=-1;this.Ta[8]=2;this.Y[1]&&(this.A[1]=-1,this.Y[1]=!1,this.Xd--);this.Y[4]&&(this.A[4]=
-1,this.Y[4]=!1,this.Xd--);this.Y[7]&&(this.A[7]=-1,this.Y[7]=!1,this.Xd--);this.Y[8]&&(this.A[8]=2,this.Y[8]=!1,this.Xd--)};d.prototype.KF=function(){this.Nl=4;this.Ta[0]=0;this.Ta[1]=-1;this.Ta[2]=1;this.Ta[3]=0;this.Ta[4]=-1;this.Ta[5]=0;this.Ta[6]=0;this.Ta[7]=-1;this.Ta[8]=2;this.Y[1]&&(this.A[1]=-1,this.Y[1]=!1,this.Xd--);this.Y[4]&&(this.A[4]=-1,this.Y[4]=!1,this.Xd--);this.Y[7]&&(this.A[7]=-1,this.Y[7]=!1,this.Xd--);this.Y[8]&&(this.A[8]=2,this.Y[8]=!1,this.Xd--)};d.prototype.PF=function(){this.Nl=
5;this.Ta[0]=0;this.Ta[1]=-1;this.Ta[2]=0;this.Ta[3]=-1;this.Ta[4]=-1;this.Ta[5]=-1;this.Ta[6]=0;this.Ta[7]=-1;this.Ta[8]=2;this.Y[1]&&(this.A[1]=-1,this.Y[1]=!1,this.Xd--);this.Y[3]&&(this.A[3]=-1,this.Y[3]=!1,this.Xd--);this.Y[4]&&(this.A[4]=-1,this.Y[4]=!1,this.Xd--);this.Y[5]&&(this.A[5]=-1,this.Y[5]=!1,this.Xd--);this.Y[7]&&(this.A[7]=-1,this.Y[7]=!1,this.Xd--);this.Y[8]&&(this.A[8]=2,this.Y[8]=!1,this.Xd--)};d.prototype.aK=function(c,a,d){var b=!0;this.Y[0]&&(this.HO(c,a,d),b=b&&this.dc(0));
this.Y[1]&&(this.eD(c,a,1),b=b&&this.dc(1));this.Y[2]&&(this.fD(c,a,d,2),b=b&&this.dc(2));this.Y[3]&&(this.eD(c,d,3),b=b&&this.dc(3));this.Y[4]&&(this.gK(c,a,d),b=b&&this.dc(4));this.Y[5]&&(this.eB(c,d,5),b=b&&this.dc(5));this.Y[6]&&(this.fD(c,d,a,6),b=b&&this.dc(6));this.Y[7]&&(this.eB(c,a,7),b=b&&this.dc(7));return b};d.prototype.Bs=function(c,a){this.A[0]=-1;this.A[1]=-1;this.A[3]=-1;this.A[4]=-1;this.iq(c,this.Y[2]?2:-1,this.Hc.charAt(2),this.Y[5]?5:-1,this.Hc.charAt(5));this.iq(a,this.Y[6]?6:
-1,this.Hc.charAt(6),this.Y[7]?7:-1,this.Hc.charAt(7))};d.prototype.iq=function(c,d,b,e,g){if(-1!=d||-1!=e)("T"!=b&&"F"!=b&&-1!=d||"T"!=g&&"F"!=g&&-1!=e?0!=c.Mh():1)?(-1!=d&&(this.A[d]=2),-1!=e&&(this.A[e]=1)):(-1!=e&&(this.A[e]=-1),-1!=d&&(b=new a.i,c.o(b),this.A[d]=0==b.ba()&&0==b.aa()?0:1))};d.prototype.Bv=function(c){this.A[2]=2;this.A[3]=-1;this.A[4]=-1;this.A[5]=1;this.A[6]=-1;this.A[7]=-1;this.iq(c,this.Y[0]?0:-1,this.Hc.charAt(0),this.Y[1]?1:-1,this.Hc.charAt(1))};d.prototype.$A=function(c){this.Bv(c);
d.qG(this.A)};d.prototype.Cs=function(c,d){this.A[0]=-1;this.A[1]=-1;this.A[3]=-1;this.A[4]=-1;if(this.Y[6]){var b=this.Hc.charAt(6),b="T"!=b&&"F"!=b?0!=d.$b():!0;this.A[6]=b?1:0}this.Y[7]&&(b=a.Hh.No(d),this.A[7]=b?0:-1);this.iq(c,this.Y[2]?2:-1,this.Hc.charAt(2),this.Y[5]?5:-1,this.Hc.charAt(5))};d.prototype.aB=function(c){if(this.Y[0]){var d=this.Hc.charAt(0),d="T"!=d&&"F"!=d?0!=c.$b():!0;this.A[0]=d?1:0}this.Y[1]&&(c=a.Hh.No(c),this.A[1]=c?0:-1);this.A[2]=2;this.A[3]=-1;this.A[4]=-1;this.A[5]=
1;this.A[6]=-1;this.A[7]=-1};d.prototype.Ds=function(c){this.A[0]=-1;this.A[3]=-1;this.A[6]=0;this.iq(c,this.Y[2]?2:-1,this.Hc.charAt(2),this.Y[5]?5:-1,this.Hc.charAt(5))};d.prototype.cK=function(){this.A[0]=0;this.A[2]=2;this.A[3]=-1;this.A[5]=1;this.A[6]=-1};d.prototype.CD=function(c,d){this.A[0]=-1;this.A[1]=-1;this.A[3]=-1;this.A[4]=-1;if(this.Y[2]){var b=this.Hc.charAt(2),b="T"!=b&&"F"!=b?0!=c.$b():!0;this.A[2]=b?1:0}this.Y[5]&&(b=a.Hh.No(c),this.A[5]=b?0:-1);this.Y[6]&&(b=this.Hc.charAt(6),
b="T"!=b&&"F"!=b?0!=d.$b():!0,this.A[6]=b?1:0);this.Y[7]&&(b=a.Hh.No(d),this.A[7]=b?0:-1)};d.prototype.dx=function(c){this.A[0]=-1;this.A[3]=-1;if(this.Y[2]){var d=this.Hc.charAt(2),d="T"!=d&&"F"!=d?0!=c.$b():!0;this.A[2]=d?1:0}this.Y[5]&&(c=a.Hh.No(c),this.A[5]=c?0:-1);this.A[6]=0};d.prototype.PE=function(){this.A[0]=-1;this.A[2]=0;this.A[6]=0};d.prototype.bK=function(c,a,d){var b=!0;this.Y[0]&&(this.IO(c,a),b=b&&this.dc(0));this.Y[1]&&(this.EO(c,a,d,this.Jg),b=b&&this.dc(1));this.Y[2]&&(this.FO(c,
a),b=b&&this.dc(2));this.Y[3]&&(this.kK(c,a,d,this.Jg),b=b&&this.dc(3));this.Y[4]&&(this.hK(c,a,d,this.Jg),b=b&&this.dc(4));this.Y[5]&&(this.iK(c,a,d),b=b&&this.dc(5));this.Y[6]&&(this.BM(c,a),b=b&&this.dc(6));this.Y[7]&&(this.AM(c,a,d,this.Jg),b=b&&this.dc(7));return b};d.prototype.uP=function(c,a,d){var b=!0;this.Y[0]&&(this.LO(c,a,d,this.ph,this.Jg),b=b&&this.dc(0));this.Y[1]&&(this.gD(c,a,d,this.ph,this.Jg,1),b=b&&this.dc(1));this.Y[2]&&(this.hD(c,a,d,2),b=b&&this.dc(2));this.Y[3]&&(this.gD(c,
d,a,this.Jg,this.ph,3),b=b&&this.dc(3));this.Y[4]&&(this.mK(c,a,d,this.ph,this.Jg),b=b&&this.dc(4));this.Y[5]&&(this.fB(c,d,this.ph,5),b=b&&this.dc(5));this.Y[6]&&(this.hD(c,d,a,6),b=b&&this.dc(6));this.Y[7]&&(this.fB(c,a,this.Jg,7),b=b&&this.dc(7));return b};d.prototype.bB=function(c,a,d){var b=!0;this.Y[0]&&(this.JO(c,a),b=b&&this.dc(0));this.Y[2]&&(this.GO(c,a),b=b&&this.dc(2));this.Y[3]&&(this.lK(c,a,d),b=b&&this.dc(3));this.Y[5]&&(this.jK(c,a),b=b&&this.dc(5));this.Y[6]&&(this.CM(c,a),b=b&&this.dc(6));
return b};d.prototype.DD=function(c,a,d){var b=!0;this.Y[0]&&(this.MO(c,a,d,this.ph),b=b&&this.dc(0));this.Y[2]&&(this.KO(c,d),b=b&&this.dc(2));this.Y[3]&&(this.oK(c,a,d,this.ph),b=b&&this.dc(3));this.Y[5]&&(this.nK(c,a,d,this.ph),b=b&&this.dc(5));this.Y[6]&&(this.DM(c,a,d),b=b&&this.dc(6));return b};d.prototype.JQ=function(c,a,d){var b=!0;this.Y[0]&&(this.NO(c,a,d),b=b&&this.dc(0));this.Y[2]&&(this.iD(c,a,d,2),b=b&&this.dc(2));this.Y[6]&&(this.iD(c,d,a,6),b=b&&this.dc(6));return b};d.prototype.HO=
function(c,a,d){2!=this.A[0]&&(c=this.h.Qe(c),0!=(c&a)&&0!=(c&d)&&(this.A[0]=2))};d.prototype.eD=function(c,a,d){if(1!=this.A[d]){var b=this.h.Qe(this.h.sa(c));0!=(this.h.Qe(c)&a)&&0!=(b&a)&&(this.A[d]=1)}};d.prototype.fD=function(c,a,d,b){2!=this.A[b]&&(c=this.h.Qe(c),0!=(c&a)&&0==(c&d)&&(this.A[b]=2))};d.prototype.gK=function(c,a,d){if(1!=this.A[4]){var b=this.h.Gg(c);0!=(b&a)&&0!=(b&d)?this.A[4]=1:0!=this.A[4]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)&&(c=this.h.md(this.h.jf(c)),0!=(c&a)&&
0!=(c&d)&&(this.A[4]=0))}};d.prototype.eB=function(c,a,d){if(1!=this.A[d]){var b=this.h.Qe(this.h.sa(c));0==(this.h.Qe(c)&a)&&0==(b&a)&&(this.A[d]=1)}};d.prototype.IO=function(c,a){if(1!=this.A[0]){var d=this.h.Qe(this.h.sa(c));0!=(this.h.Qe(c)&a)&&0!=(d&a)&&(this.A[0]=1)}};d.prototype.EO=function(c,a,d,b){if(0!=this.A[1]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)){var f=this.h.jf(c),e=this.h.md(f);0==(e&a)&&0!=(this.h.Qe(c)&a)&&(c=this.h.Sf(f,b),0!=(e&d)&&0!=c%2&&(this.A[1]=0))}};d.prototype.FO=
function(c,a){2!=this.A[2]&&0!=(this.h.Gg(c)&a)&&(this.A[2]=2)};d.prototype.kK=function(c,a,d,b){if(1!=this.A[3]){var f=this.h.Gg(c);0!=(f&a)&&0!=(f&d)?this.A[3]=1:0!=this.A[3]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)&&(f=this.h.jf(c),c=this.h.md(f),0!=(c&a)&&(a=this.h.Sf(f,b),0!=(c&d)&&0==a%2&&(this.A[3]=0)))}};d.prototype.hK=function(c,a,d,b){if(0!=this.A[4]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)){var f=this.h.jf(c);c=this.h.md(f);0!=(c&a)&&(a=this.h.Sf(f,b),0!=(c&d)&&0!=a%2&&(this.A[4]=
0))}};d.prototype.iK=function(c,a,d){1!=this.A[5]&&(c=this.h.Gg(c),0!=(c&a)&&0==(c&d)&&(this.A[5]=1))};d.prototype.BM=function(c,a){if(1!=this.A[6]){var d=this.h.Qe(this.h.sa(c));0==(this.h.Qe(c)&a)&&0==(d&a)&&(this.A[6]=1)}};d.prototype.AM=function(c,a,d,b){if(0!=this.A[7]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)){var f=this.h.jf(c),e=this.h.md(f);0==(e&a)&&0==(this.h.Qe(c)&a)&&(c=this.h.Sf(f,b),0!=(e&d)&&0!=c%2&&(this.A[7]=0))}};d.prototype.LO=function(c,a,d,b,e){if(1!=this.A[0]){var f=this.h.Gg(c);
0!=(f&a)&&0!=(f&d)?this.A[0]=1:0!=this.A[0]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)&&(c=this.h.jf(c),f=this.h.md(c),0!=(f&a)&&0!=(f&d)&&(a=this.h.Sf(c,b),e=this.h.Sf(c,e),0==a%2&&0==e%2&&(this.A[0]=0)))}};d.prototype.gD=function(c,a,d,b,e,g){if(0!=this.A[g]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)){c=this.h.jf(c);var f=this.h.md(c);0!=(f&a)&&0!=(f&d)&&(a=this.h.Sf(c,b),e=this.h.Sf(c,e),0==a%2&&0!=e%2&&(this.A[g]=0))}};d.prototype.hD=function(c,a,d,b){1!=this.A[b]&&(c=this.h.Gg(c),0!=
(c&a)&&0==(c&d)&&(this.A[b]=1))};d.prototype.mK=function(c,a,d,b,e){if(0!=this.A[4]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)){c=this.h.jf(c);var f=this.h.md(c);0!=(f&a)&&0!=(f&d)&&(a=this.h.Sf(c,b),e=this.h.Sf(c,e),0!=a%2&&0!=e%2&&(this.A[4]=0))}};d.prototype.fB=function(c,a,d,b){0!=this.A[b]&&1!=this.h.tb(this.h.fe(this.h.sa(c)),this.ni)&&(c=this.h.jf(c),0==(this.h.md(c)&a)&&0!=this.h.Sf(c,d)%2&&(this.A[b]=0))};d.prototype.JO=function(c,a){0!=this.A[0]&&0==(this.h.md(c)&a)&&0!=(this.h.pj(this.h.mw(c))&
a)&&(this.A[0]=0)};d.prototype.GO=function(c,a){2!=this.A[2]&&0!=(this.h.md(c)&a)&&(this.A[2]=2)};d.prototype.lK=function(c,a,d){0!=this.A[3]&&(c=this.h.md(c),0!=(c&a)&&0!=(c&d)&&(this.A[3]=0))};d.prototype.jK=function(c,a){1!=this.A[5]&&0!=(this.h.md(c)&a)&&(this.A[5]=1)};d.prototype.CM=function(c,a){0!=this.A[6]&&0==(this.h.md(c)&a)&&0==(this.h.pj(this.h.mw(c))&a)&&(this.A[6]=0)};d.prototype.MO=function(c,a,d,b){if(0!=this.A[0]){var f=this.h.md(c);0!=(f&a)&&0!=(f&d)&&0==this.h.Sf(c,b)%2&&(this.A[0]=
0)}};d.prototype.KO=function(c,a){1!=this.A[2]&&(-1!=this.h.te(c)?this.A[2]=1:0!=this.A[2]&&0==(this.h.md(c)&a)&&(this.A[2]=0))};d.prototype.oK=function(c,a,d,b){if(0!=this.A[3]){var f=this.h.md(c);0!=(f&a)&&0!=(f&d)&&0!=this.h.Sf(c,b)%2&&(this.A[3]=0)}};d.prototype.nK=function(c,a,d,b){if(0!=this.A[5]){var f=this.h.md(c);0!=(f&a)&&0==(f&d)&&0!=this.h.Sf(c,b)%2&&(this.A[5]=0)}};d.prototype.DM=function(c,a,d){0!=this.A[6]&&(c=this.h.md(c),0==(c&a)&&0!=(c&d)&&(this.A[6]=0))};d.prototype.NO=function(c,
a,d){0!=this.A[0]&&(c=this.h.md(c),0!=(c&a)&&0!=(c&d)&&(this.A[0]=0))};d.prototype.iD=function(c,a,d,b){0!=this.A[b]&&(c=this.h.md(c),0!=(c&a)&&0==(c&d)&&(this.A[b]=0))};d.prototype.so=function(c,d){var b=!1;c=this.h.ya(c);d=this.h.ya(d);this.ni=this.h.Eg();for(var f=this.h.Be;-1!=f;f=this.h.Bf(f)){var e=this.h.te(f);if(-1==e){if(-1!=this.Nl)switch(this.Nl){case 3:b=this.bB(f,c,d);break;case 4:b=this.DD(f,c,d);break;default:throw a.g.ra("internal error");}}else{var g=e;do{var h=g;if(1!=this.h.tb(h,
this.ni)){do{switch(this.$t){case 0:b=this.aK(h,c,d);break;case 1:b=this.bK(h,c,d);break;case 2:b=this.uP(h,c,d);break;default:throw a.g.ra("internal error");}if(b)break;this.h.Bb(h,this.ni,1);h=this.h.Wb(h)}while(h!=g&&!b)}if(b)break;g=this.h.Wb(this.h.sa(h))}while(g!=e);if(b)break}}b||this.SF();this.h.kh(this.ni)};d.prototype.Pv=function(c,d){var b=!1;c=this.h.ya(c);d=this.h.ya(d);for(var f=this.h.Be;-1!=f;f=this.h.Bf(f)){switch(this.Nl){case 3:b=this.bB(f,c,d);break;case 4:b=this.DD(f,c,d);break;
case 5:b=this.JQ(f,c,d);break;default:throw a.g.wa();}if(b)break}b||this.SF()};d.prototype.Op=function(c,a){this.h.Mp(c,a)};d.prototype.In=function(c,a,d){this.tM(c,a,d);this.Op(c,d)};d.prototype.tM=function(c,d,b){a.aj.$(c,d,b,!1);c.xo(0,!0,!0);for(d=c.$c;-1!=d;d=c.we(d))1736==c.Lb(d)&&a.mm.$(c,d,-1,!1,b)};d.NB=function(c,d){var b=c.D();if(a.T.Lc(b))return b=new a.Xa(c.description),b.Bc(c,!0),b;if(197==b){b=new a.i;c.o(b);if(b.ba()<=d&&b.aa()<=d)return b=new a.Va(c.description),c.Af(b),b;if(b.ba()<=
d||b.aa()<=d)return b=new a.Xa(c.description),d=new a.Va,c.uf(0,d),b.df(d),c.uf(2,d),b.lineTo(d),b;b=new a.Ka(c.description);b.Wc(c,!1);return b}return c};return d}();a.el=b})(z||(z={}));(function(a){var b=function(){function c(c){this.Dl=new a.ga(0);this.Ot=new a.ga(0);this.Ar=new a.b;this.Br=new a.b;this.a=c;this.Tq=-1}c.prototype.cc=function(c){return this.a.cc(this.Jw(c))};c.prototype.ot=function(c){var a=this.tw(c);c=this.vC(c);if(this.a.Ua(a)==c){var d=a,a=c;c=d}this.a.uc(a,this.Ar);this.a.uc(c,
this.Br);return this.Ar.y<this.Br.y};c.prototype.Jw=function(c){var a=this.tw(c);c=this.vC(c);return this.a.X(a)==c?a:c};c.prototype.tw=function(c){return this.Dl.get(c)};c.prototype.vC=function(c){return this.Ot.get(c)};c.prototype.hC=function(c){this.Dl.set(c,this.Tq);this.Tq=c};c.prototype.GE=function(c){if(-1!=this.Tq){var d=this.Tq;this.Tq=this.Dl.get(d);this.Dl.set(d,c);this.Ot.set(d,this.a.X(c));return d}null==this.Dl&&(this.Dl=new a.ga(0),this.Ot=new a.ga(0));d=this.Dl.size;this.Dl.add(c);
this.Ot.add(this.a.X(c));return d};c.prototype.Dw=function(c){return this.a.rd(this.tw(c))};return c}();a.BT=b;var e=function(){function c(c){this.me=c;this.Vd=new a.yb;this.Kl=new a.yb;this.eE=0;this.on=null;this.zx=-1}c.prototype.compare=function(c,a,d){d=c.da(d);var b=this.me.$a,f;this.zx==a?f=this.eE:(this.on=b.cc(a),null==this.on?(c=b.a,c.Oc(b.Jw(a),this.Vd),this.on=this.Vd,f=this.Vd.xe(this.me.Zg,0)):f=this.on.xe(this.me.Zg,0),this.eE=f,this.zx=a);c=b.cc(d);var e;null==c?(c=b.a,c.Oc(b.Jw(d),
this.Kl),c=this.Kl,e=this.Kl.xe(this.me.Zg,0)):e=c.xe(this.me.Zg,0);f==e&&(a=b.ot(a),d=b.ot(d),d=Math.min(a?this.on.ha:this.on.ja,d?c.ha:c.ja),a=.5*(d+this.me.Zg),a==this.me.Zg&&(a=d),f=this.on.xe(a,0),e=c.xe(a,0));return f<e?-1:f>e?1:0};c.prototype.reset=function(){this.zx=-1};return c}(),d=function(){function c(){this.Rl=this.Dk=null;this.Za=new a.bj;this.Za.lM();this.Ld=new e(this);this.Za.Hn(this.Ld)}c.prototype.XM=function(){var c=!1;this.Qt&&(c=this.YM());if(1==this.a.ea(this.U)){var d=this.a.Vb(this.U),
c=this.a.Gw(d);this.a.Dy(d,!0);return 0>c?(c=this.a.Cb(d),this.a.lF(c),this.a.Wi(d,this.a.Ua(c)),!0):!1}this.Ak=this.a.Uv();this.kn=this.a.Uv();for(d=this.a.Vb(this.U);-1!=d;d=this.a.bc(d))this.a.Rp(d,this.Ak,0),this.a.Rp(d,this.kn,-1);d=new a.ga(0);this.Zg=NaN;var b=new a.b;this.lr=this.a.ea(this.U);this.fn=this.a.re();this.br=this.a.re();for(var e=this.Dk.gc(this.Dk.Wd);-1!=e;e=this.Dk.bb(e)){var g=this.Dk.getData(e);this.a.uc(g,b);b.y!=this.Zg&&0!=d.size&&(c=this.yr(d)||c,this.Ld.reset(),d.clear(!1));
d.add(g);this.Zg=b.y;if(0==this.lr)break}0<this.lr&&(c=this.yr(d)||c,d.clear(!1));this.a.bf(this.fn);this.a.bf(this.br);for(d=this.a.Vb(this.U);-1!=d;)if(3==this.a.Ei(d,this.Ak)){this.a.Dy(d,!0);b=d;for(d=this.a.Ei(d,this.kn);-1!=d;)e=this.a.Ei(d,this.kn),this.a.bQ(this.U,this.a.bc(b),d),b=d,d=e;d=this.a.bc(b)}else this.a.Dy(d,!1),d=this.a.bc(d);this.a.ty(this.Ak);this.a.ty(this.kn);return c};c.prototype.yr=function(c){return this.WQ(c)};c.prototype.WQ=function(c){var d=!1;null==this.$a&&(this.$a=
new b(this.a));null==this.Rl?(this.Rl=new a.ga(0),this.Rl.xb(16)):this.Rl.clear(!1);this.VQ(c);for(var f=0,e=c.size;f<e;f++){var g=c.get(f);-1!=g&&this.bD(g,-1)}for(f=0;f<this.Rl.size&&0<this.lr;f++)if(c=this.Rl.get(f),g=this.$a.Dw(this.Za.da(c)),e=-1,0==this.a.Ei(g,this.Ak)){for(var g=this.Za.ge(c),h=c,l;-1!=g;){var m=this.Za.da(g),n=this.$a.Dw(m),r=this.a.Ei(n,this.Ak);if(0!=r){e=n;break}h=g;g=this.Za.ge(g)}-1==g?(l=!0,g=h):(m=this.Za.da(g),l=this.$a.ot(m),g=this.Za.bb(g),l=!l);do{m=this.Za.da(g);
n=this.$a.Dw(m);r=this.a.Ei(n,this.Ak);if(0==r&&(l!=this.$a.ot(m)&&(d=this.a.Cb(n),this.a.lF(d),this.a.Wi(n,this.a.Ua(d)),d=!0),this.a.Rp(n,this.Ak,l?3:2),l||(h=this.a.Ei(e,this.kn),this.a.Rp(e,this.kn,n),this.a.Rp(n,this.kn,h)),this.lr--,0==this.lr))return d;e=n;h=g;g=this.Za.bb(g);l=!l}while(h!=c)}return d};c.prototype.VQ=function(c){for(var a=0,d=c.size;a<d;a++){var b=c.get(a),f=this.a.Ra(b,this.fn),e=this.a.Ra(b,this.br);if(-1!=f){var g=this.Za.da(f);this.$a.hC(g);this.a.lb(b,this.fn,-1)}-1!=
e&&(g=this.Za.da(e),this.$a.hC(g),this.a.lb(b,this.br,-1));g=-1;-1!=f&&-1!=e?(this.Za.kd(f,-1),this.Za.kd(e,-1),c.set(a,-1)):g=-1!=f?f:e;-1!=g&&(this.bD(b,g)||this.Za.kd(g,-1),c.set(a,-1))}};c.prototype.bD=function(c,d){var b=new a.b,f=new a.b;this.a.uc(c,b);var e=this.a.X(c);this.a.uc(e,f);var g=!1;if(b.y<f.y){var g=!0,k=this.$a.GE(c),h;-1==d?h=this.Za.addElement(k,-1):(h=d,this.Za.Vi(h,k));k=this.a.Ra(e,this.fn);-1==k?this.a.lb(e,this.fn,h):this.a.lb(e,this.br,h);e=this.a.rd(c);0==this.a.Ei(e,this.Ak)&&
this.Rl.add(h)}e=this.a.Ua(c);this.a.uc(e,f);b.y<f.y&&(g=!0,k=this.$a.GE(e),-1==d?h=this.Za.addElement(k,-1):(h=d,this.Za.Vi(h,k)),k=this.a.Ra(e,this.fn),-1==k?this.a.lb(e,this.fn,h):this.a.lb(e,this.br,h),e=this.a.rd(c),0==this.a.Ei(e,this.Ak)&&this.Rl.add(h));return g};c.$=function(a,d,b,e){var f=new c;f.a=a;f.U=d;f.Dk=b;f.Qt=e;return f.XM()};c.prototype.YM=function(){var c=new a.ga(0),d=new a.ga(0),b=-1,e=-1,g=new a.b;g.Eh();for(var h=-1,l=-1,n=-1,m=new a.b,r=this.Dk.gc(this.Dk.Wd);-1!=r;r=this.Dk.bb(r)){var q=
this.Dk.getData(r);this.a.uc(q,m);var v=this.a.rd(q);g.ub(m)&&l==v?(-1==e&&(b=this.a.Uv(),e=this.a.re()),-1==n&&(n=d.size,this.a.lb(h,e,n),d.add(1),-1==this.a.Ei(v,b)&&(this.a.Rp(v,b,h),c.add(v))),this.a.lb(q,e,n),d.JF(d.tc()+1)):(n=-1,g.J(m));h=q;l=v}if(0==c.size)return!1;g=new a.ga(0);h=new a.ga(0);l=0;for(n=c.size;l<n;l++){var v=c.get(l),p=this.a.Ei(v,b),q=this.a.Ra(p,e);g.clear(!1);h.clear(!1);g.add(p);h.add(q);for(q=this.a.X(p);q!=p;q=this.a.X(q)){var w=q,m=this.a.Ra(w,e);if(-1!=m)if(0==h.size)h.add(m),
g.add(w);else if(h.tc()==m){var r=g.tc(),u=this.a.X(r),p=this.a.X(w);this.a.Sc(r,p);this.a.Tc(p,r);this.a.Sc(w,u);this.a.Tc(u,w);w=[!1];u=this.a.aD(this.U,u,this.a.Cb(v),w);this.a.lb(q,e,-1);w[0]&&this.a.Dh(v,p);q=this.a.Ha(v);p=this.a.Ha(u);q-=p;this.a.hm(v,q);d.set(m,d.get(m)-1);1==d.get(m)&&(d.set(m,0),h.af(),g.af());q=p=r}else g.add(q),h.add(m)}}this.a.ty(b);this.a.bf(e);return!0};return c}();a.AI=d})(z||(z={}));(function(a){var b=function(){function b(){}b.prototype.Ag=function(){this.Mx=this.ib=
null};b.prototype.get=function(){return this.Mx};b.prototype.set=function(d){this.Mx=d;if(null!=d)throw 322==d.D()&&(this.ib=d),a.g.wa();};b.prototype.create=function(d){if(322==d)this.mq();else throw a.g.ra("Not Implemented");};b.prototype.mq=function(){null==this.ib&&(this.ib=new a.yb);this.Mx=this.ib};return b}();a.Ag=b})(z||(z={}));(function(a){a=a.FI||(a.FI={});a[a.enumLineSeg=1]="enumLineSeg";a[a.enumBezierSeg=2]="enumBezierSeg";a[a.enumArcSeg=4]="enumArcSeg";a[a.enumNonlinearSegmentMask=6]=
"enumNonlinearSegmentMask";a[a.enumSegmentMask=7]="enumSegmentMask";a[a.enumDensified=8]="enumDensified"})(z||(z={}));(function(a){var b=function(){return function(a){this.ri=a;this.dz=this.ez=1;this.ky=this.jy=this.ly=0}}(),e=function(){function d(){this.op=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Ij=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.nf=new a.Va;this.ka=this.fu=0;this.an=[];this.ir=[];this.bu=[];this.qp=[];this.Jx=[]}d.prototype.ny=function(c){if(null!=c){for(var a=0,d=c.length;a<d;a++)this.oR(c[a]);
c.length=0}};d.prototype.oR=function(c){c.ri=null;this.qp.push(c)};d.prototype.nu=function(c){if(0===this.qp.length)var a=new b(c);else a=this.qp[this.qp.length-1],a.ri=c,--this.qp.length;return a};d.prototype.dO=function(c,a){return 0==c?this.ir[a]:this.bu[a]};d.prototype.Zx=function(){this.fu>=this.Jx.length&&this.Jx.push(new a.Ag);var c=this.Jx[this.fu];this.fu++;return c};d.prototype.clear=function(){this.ny(this.an);this.ny(this.ir);this.ny(this.bu);this.fu=0};d.prototype.zn=function(c){this.an.push(this.nu(c))};
d.prototype.kk=function(c){return 0==c?this.ir.length:this.bu.length};d.prototype.Io=function(c,a){return this.dO(c,a).ri};d.prototype.Ga=function(c,d){if(2!=this.an.length)throw a.g.wa();this.ka=c;var b=a.vi.Ty(.01*c),f=!1,e=this.an[0],g=this.an[1];if(d||0!=(e.ri.fq(g.ri,c,!0)&5)){if(322==e.ri.D()&&(d=e.ri,322==g.ri.D())){var h=g.ri,l=a.yb.ov(d,h,null,this.op,this.Ij,c);if(0==l)throw a.yb.ov(d,h,null,this.op,this.Ij,c),a.g.wa();c=Array(9);a.I.Ps(c,null);for(var m=0;m<l;m++){var n=this.op[m],r=this.Ij[m],
q=e.ky,v=1;0==n?(q=e.ly,v=e.ez):1==n&&(q=e.jy,v=e.dz);var p=g.ky,w=1;0==r?(p=g.ly,w=g.ez):1==r&&(p=g.jy,w=g.dz);var u=new a.b;q==p?(q=new a.b,d.Kb(n,q),n=new a.b,h.Kb(r,n),r=v+w,w/=r,a.vi.BD(q,n,w,u),a.b.Zb(u,q)+a.b.Zb(u,n)>b&&(f=!0)):q>p?(d.Kb(n,u),n=new a.b,h.Kb(r,n),a.b.Zb(u,n)>b&&(f=!0)):(h.Kb(r,u),q=new a.b,d.Kb(n,q),a.b.Zb(u,q)>b&&(f=!0));c[m]=u}e=0;g=-1;for(m=0;m<=l;m++)w=m<l?this.op[m]:1,w!=e&&(b=this.Zx(),d.Bi(e,w,b),-1!=g&&b.get().ed(c[g]),m!=l&&b.get().vd(c[m]),e=w,this.ir.push(this.nu(b.get()))),
g=m;d=[0,0,0,0,0,0,0,0,0];for(m=0;m<l;m++)d[m]=m;1<l&&this.Ij[0]>this.Ij[1]&&(w=this.Ij[0],this.Ij[0]=this.Ij[1],this.Ij[1]=w,m=d[0],d[0]=d[1],d[1]=m);e=0;g=-1;for(m=0;m<=l;m++)w=m<l?this.Ij[m]:1,w!=e&&(b=this.Zx(),h.Bi(e,w,b),-1!=g&&(e=d[g],b.get().ed(c[e])),m!=l&&(e=d[m],b.get().vd(c[e])),e=w,this.bu.push(this.nu(b.get()))),g=m;return f}throw a.g.wa();}return!1};d.prototype.Tw=function(c,d,b){d.copyTo(this.nf);if(1!=this.an.length)throw a.g.wa();this.ka=c;var f=this.an[0];if(b||f.ri.qs(d.w(),c,
!0))if(322==f.ri.D()){c=f.ri;var e=c.Gd(d.w(),!1);this.op[0]=e;var g=f.ky;b=1;0==e?(g=f.ly,b=f.ez):1==e&&(g=f.jy,b=f.dz);f=new a.b;0==g?(g=new a.b,c.Kb(e,g),d=d.w(),a.vi.BD(g,d,1/(b+1),f)):0<g?(f=new a.b,c.Kb(e,f)):f=d.w();b=0;e=-1;for(g=0;1>=g;g++){d=1>g?this.op[g]:1;if(d!=b){var k=this.Zx();c.Bi(b,d,k);-1!=e&&k.get().ed(f);1!=g&&k.get().vd(f);b=d;this.ir.push(this.nu(k.get()))}e=g}this.nf.ic(f)}else throw a.g.wa();};return d}();a.gA=e})(z||(z={}));(function(a){var b=function(){function b(d){this.Pq=
this.yj=this.ib=null;this.zk=this.Ee=this.Gc=this.ze=this.Sg=this.Qa=0;this.ab=null;this.zl=!1;this.ze=-1;this.Sg=this.Gc=0;this.Qa=-1;this.ab=d;this.Ee=this.eq(this.Sg);this.zl=!1;this.yj=null;this.zk=-1;this.Pq=new a.b}b.Yn=function(d,c){if(0>c||c>=d.F())throw a.g.Uc();var f=new b(d),e=d.Ew(c);f.Gc=c-d.Ea(e);f.Sg=e+1;f.Qa=e;f.Ee=f.eq(f.Qa);f.zk=f.ab.Ea(f.Qa);return f};b.Un=function(d,c,f){if(0>c||c>=d.ea()||0>f)throw a.g.Uc();var e=d.vc(c)?0:1;if(f>=d.Ha(c)-e)throw a.g.Uc();d=new b(d);d.ze=-1;d.Gc=
f;d.Qa=c;d.Sg=d.Gc+1;d.Ee=d.eq(d.Sg);d.zk=d.ab.Ea(d.Qa);return d};b.prototype.xR=function(d){if(this.ab!=d.ab)throw a.g.xa();this.ze=d.ze;this.Gc=d.Gc;this.Qa=d.Qa;this.Sg=d.Sg;this.Ee=d.Ee;this.zl=d.zl;this.zk=d.zk;this.yj=null};b.prototype.ia=function(){this.ze!=this.Gc&&this.JA();if(this.zl)this.Gc=(this.Gc+1)%this.Ee;else{if(this.Gc==this.Ee)throw a.g.Uc();this.Gc++}return this.yj};b.prototype.oi=function(){if(this.zl)this.Gc=(this.Ee+this.Gc-1)%this.Ee;else{if(0==this.Gc)throw a.g.Uc();this.Gc--}this.Gc!=
this.ze&&this.JA();return this.yj};b.prototype.yR=function(){this.ze=-1;this.Gc=0};b.prototype.zR=function(){this.Gc=this.Ee;this.ze=-1};b.prototype.Sb=function(a,c){void 0===c&&(c=-1);if(0<=this.Qa&&this.Qa<this.ab.ea()){var d=this.uJ();if(a>=d&&a<this.ab.Dc(this.Qa)){this.ze=-1;this.Gc=a-d;return}}d=0<=c&&c<this.ab.ea()&&a>=this.ab.Ea(c)&&a<this.ab.Dc(c)?c:this.ab.Ew(a);this.Sg=d+1;this.Qa=d;this.ze=-1;this.Gc=a-this.ab.Ea(d);this.Ee=this.eq(d);this.zk=this.ab.Ea(this.Qa)};b.prototype.kb=function(){this.Qa=
this.Sg;if(this.Qa>=this.ab.ea())return!1;this.ze=-1;this.Gc=0;this.Ee=this.eq(this.Qa);this.zk=this.ab.Ea(this.Qa);this.Sg++;return!0};b.prototype.Lk=function(){this.Ee=this.Gc=this.ze=-1;this.Sg=0;this.zk=this.Qa=-1};b.prototype.vy=function(d){if(0>d)throw a.g.Uc();this.Sg=d;this.zk=this.Ee=this.Gc=this.ze=this.Qa=-1};b.prototype.eq=function(a){if(this.ab.sc())return 0;var c=1;this.ab.vc(a)&&(c=0);return this.ab.Ha(a)-c};b.prototype.lD=function(){return this.ze==this.Ee-1&&this.ab.vc(this.Qa)};
b.prototype.NR=function(){this.zl=!0};b.prototype.Jb=function(){return this.ab.jb.f[this.Qa]+this.ze};b.prototype.uJ=function(){return this.ab.Ea(this.Qa)};b.prototype.Bm=function(){return this.lD()?this.ab.Ea(this.Qa):this.Jb()+1};b.prototype.wl=function(){return 0==this.ze};b.prototype.Jm=function(){return this.ze==this.Ee-1};b.prototype.La=function(){return this.Gc<this.Ee};b.prototype.Ow=function(){return 0<this.Gc};b.prototype.vm=function(){var a=new b(this.ab);a.ze=this.ze;a.Gc=this.Gc;a.Ee=
this.Ee;a.Qa=this.Qa;a.Sg=this.Sg;a.ab=this.ab;a.zl=this.zl;return a};b.prototype.JA=function(){if(0>this.Gc||this.Gc>=this.Ee)throw a.g.Uc();this.ze=this.Gc;var d=this.Jb();this.ab.kc();var c=this.ab.Fe,b=1;null!=c&&(b=c.read(d)&7);c=this.ab.description;switch(b){case 1:null==this.ib&&(this.ib=new a.yb);this.yj=this.ib;break;case 2:throw a.g.ra("internal error");case 4:throw a.g.wa();default:throw a.g.wa();}this.yj.Qf(c);b=this.Bm();this.ab.uc(d,this.Pq);this.yj.ed(this.Pq);this.ab.uc(b,this.Pq);
this.yj.vd(this.Pq);for(var e=1,g=c.Aa;e<g;e++)for(var h=c.Hd(e),l=a.pa.Wa(h),m=0;m<l;m++){var n=this.ab.ld(h,d,m);this.yj.My(h,m,n);n=this.ab.ld(h,b,m);this.yj.Cy(h,m,n)}};b.prototype.YO=function(){return this.Qa==this.ab.ea()-1};return b}();a.GI=b})(z||(z={}));(function(a){var b=function(){function b(d){d instanceof a.T?(this.ZD=d,this.ua=-1,this.Wh=1):(this.DP=d.slice(0),this.ua=-1,this.Wh=d.length)}b.prototype.ya=function(){return this.ua};b.prototype.next=function(){return this.ua<this.Wh-1?
(this.ua++,null!=this.ZD?this.ZD:this.DP[this.ua]):null};return b}();a.Pc=b})(z||(z={}));(function(a){var b=function(){return function(){this.next=null}}(),e=function(){function d(){this.Cp=this.ju=this.ku=this.vj=this.eh=0;this.aC=!1;this.eG=0;this.am=this.wf=this.Vk=this.hh=null;this.Mk=0;this.Kv=null;this.vj=this.eh=-1}d.prototype.vS=function(c,d,b){this.eh=c;this.vj=d;this.hh=this.Vk=null;this.Cp=0;this.Kv=b;null==this.am&&(this.am=a.I.Lh(384,0));this.hG()};d.prototype.aa=function(){return this.eh};
d.prototype.ba=function(){return this.vj};d.prototype.flush=function(){0<this.Mk&&(this.Kv.XB(this.am,this.Mk),this.Mk=0)};d.prototype.hG=function(){if(0<this.Cp){for(var c=0;c<this.vj;c++){for(var a=this.Vk[c];null!=a;){var d=a,a=a.next;d.next=null}this.Vk[c]=null}this.hh=null}this.ku=this.vj;this.ju=-1;this.Cp=0};d.prototype.fF=function(c){this.aC=c==d.$u;for(c=this.ku;c<=this.ju;c++)this.VJ(),this.PJ(c),this.vM();this.hG()};d.prototype.zv=function(c,d,e,g){if(d!=g){var f=1;d>g&&(f=c,c=e,e=f,f=
d,d=g,g=f,f=-1);if(!(0>g||d>=this.vj)){0>c&&0>e?e=c=-1:c>=this.eh&&e>=this.eh&&(e=c=this.eh);var k=(e-c)/(g-d);g>this.vj&&(g=this.vj,e=k*(g-d)+c);0>d&&(c=k*(0-d)+c,d=0);var h=Math.max(this.eh+1,8388607);-8388607>c?(d=(0-c)/k+d,c=0):c>h&&(d=(this.eh-c)/k+d,c=this.eh);-8388607>e?g=(0-c)/k+d:e>h&&(g=(this.eh-c)/k+d);d=a.I.truncate(d);g=a.I.truncate(g);d!=g&&(e=new b,e.x=a.I.truncate(4294967296*c),e.y=d,e.G=g,e.pM=a.I.truncate(4294967296*k),e.dir=f,null==this.Vk&&(this.Vk=a.I.Lh(this.vj,null)),e.next=
this.Vk[e.y],this.Vk[e.y]=e,e.y<this.ku&&(this.ku=e.y),e.G>this.ju&&(this.ju=e.G),this.Cp++)}}};d.prototype.VJ=function(){if(null!=this.hh){for(var c=!1,a=null,d=this.hh;null!=d;)if(d.y++,d.y==d.G){var b=d,d=d.next;null!=a?a.next=d:this.hh=d;b.next=null}else d.x+=d.pM,null!=a&&a.x>d.x&&(c=!0),a=d,d=d.next;c&&(this.hh=this.dG(this.hh))}};d.prototype.PJ=function(c){if(!(c>=this.vj)){var a=this.Vk[c];if(null!=a){this.Vk[c]=null;a=this.dG(a);this.Cp-=this.eG;c=this.hh;for(var d=!0,b=a,e=null;null!=c&&
null!=b;)c.x>b.x?(d&&(this.hh=b),d=b.next,b.next=c,null!=e&&(e.next=b),e=b,b=d):(d=c.next,c.next=b,null!=e&&(e.next=c),e=c,c=d),d=!1;null==this.hh&&(this.hh=a)}}};d.Mz=function(c,a){return 0>c?0:c>a?a:c};d.prototype.vM=function(){if(null!=this.hh)for(var c=0,b=this.hh,e=a.I.truncate(a.I.FD(b.x)),g=b.next;null!=g;g=g.next)if(c=this.aC?c^1:c+g.dir,g.x>b.x){var h=a.I.truncate(a.I.FD(g.x));0!=c&&(b=d.Mz(e,this.eh),e=d.Mz(h,this.eh),e>b&&b<this.eh&&(this.am[this.Mk++]=b,this.am[this.Mk++]=e,this.am[this.Mk++]=
g.y,this.Mk==this.am.length&&(this.Kv.XB(this.am,this.Mk),this.Mk=0)));b=g;e=h}};d.prototype.dG=function(c){for(var b=0,e=c;null!=e;e=e.next)b++;this.eG=b;if(1==b)return c;null==this.wf?this.wf=a.I.Lh(Math.max(b,16),null):this.wf.length<b&&(this.wf=a.I.Lh(Math.max(b,2*this.wf.length),null));for(var g=0,e=c;null!=e;e=e.next)this.wf[g++]=e;2==b?this.wf[0].x>this.wf[1].x&&(c=this.wf[0],this.wf[0]=this.wf[1],this.wf[1]=c):d.pP(this.wf,b,function(c,a){return c==a?0:c.x<a.x?-1:c.x>a.x?1:0});c=this.wf[0];
this.wf[0]=null;e=c;for(g=1;g<b;g++)e.next=this.wf[g],e=this.wf[g],this.wf[g]=null;e.next=null;return c};d.pP=function(c,a,d){if(a==c.length)c.sort(d);else{var b=c.slice(0,0),f=c.slice(a);a=c.slice(0,a).sort(d);c.length=0;c.push.apply(c,b.concat(a).concat(f))}};d.$u=0;d.sT=1;return d}();a.ev=e})(z||(z={}));(function(a){var b=function(){function b(){}b.prototype.Jh=function(a,c){var d=this.a.Ra(a,this.vp);this.yk==d&&(this.yk=this.$d.bb(this.yk));this.Xm==d&&(this.Xm=this.$d.bb(this.Xm));this.$d.Jc(this.Ox,
d);this.hj(a);if(c&&(d=this.a.rd(a),-1!=d&&this.a.Cb(d)==a)){c=this.a.X(a);if(c!=a){var b=this.a.rd(c);if(b==d){this.a.Dh(d,c);return}c=this.a.Ua(a);if(c!=a&&(b=this.a.rd(c),b==d)){this.a.Dh(d,c);return}}this.a.Dh(d,-1);this.a.Wi(d,-1)}};b.prototype.yA=function(){for(var d=!1,c=0,b=new a.b;;){c++;null==this.nh?(this.nh=new a.ga(0),this.Mq=new a.ga(0),this.ie=new a.ga(0)):(this.nh.clear(!1),this.Mq.clear(!1),this.ie.clear(!1));for(var e=this.Xm,g=0,h=!0;e!=this.yk;){var l=this.$d.getData(e),m=new a.b;
this.a.uc(l,m);h&&(this.a.uc(l,b),h=!1);var m=this.a.Ua(l),n=this.a.X(l);-559038737!=this.a.Ra(m,this.fg)&&(this.nh.add(m),this.a.lb(m,this.fg,-559038737),this.Mq.add(l),this.ie.add(g++));-559038737!=this.a.Ra(n,this.fg)&&(this.nh.add(n),this.a.lb(n,this.fg,-559038737),this.Mq.add(l),this.ie.add(g++));e=this.$d.bb(e)}if(2>this.nh.size)break;var r=this;this.ie.xd(0,this.ie.size,function(c,a){return r.mJ(c,a)});e=0;for(g=this.ie.size;e<g;e++)h=this.ie.get(e),h=this.nh.get(h),this.a.lb(h,this.fg,e),
m=new a.b,this.a.uc(h,m);m=this.zJ(b);e=0;for(g=this.ie.size;e<g;e++)h=this.ie.get(e),-1!=h&&(h=this.nh.get(h),this.a.lb(h,this.fg,-1));if(m)d=!0;else break}return d};b.prototype.zJ=function(a){for(var c=!1,d=!0;d;){var d=!1,b=0;-1==this.ie.get(b)&&(b=this.fl(b));for(var e=this.fl(b),g=0,h=this.ie.size;g<h&&-1!=b&&-1!=e&&b!=e;g++){var l=this.ie.get(b),e=this.ie.get(e),l=this.nh.get(l),e=this.nh.get(e),m=this.a.X(l);this.a.pt(m,a)||(m=this.a.Ua(l));var n=this.a.X(e);this.a.pt(n,a)||(n=this.a.Ua(e));
var r=this.os(m,l),q=this.os(n,e),v=r?this.a.Ua(m):this.a.X(m),p=q?this.a.Ua(n):this.a.X(n),w=!1;this.io(m)?w=!0:this.io(n)?w=!0:this.io(l)?w=!0:this.io(e)?w=!0:this.io(v)?w=!0:this.io(p)&&(w=!0);!w&&this.a.Cq(l,e)&&(w=!0,this.BA(r,q,m,l,n,e));!w&&this.a.Cq(v,p)&&(w=!0,this.BA(!r,!q,m,v,n,p));w&&(c=!0);d=d||w;b=this.fl(b);e=this.fl(b)}}if(!c)for(b=0,-1==this.ie.get(b)&&(b=this.fl(b)),e=this.fl(b),g=0,h=this.ie.size;g<h&&-1!=b&&-1!=e&&b!=e;g++)l=this.ie.get(b),e=this.ie.get(e),l=this.nh.get(l),e=this.nh.get(e),
m=this.a.X(l),this.a.pt(m,a)||(m=this.a.Ua(l)),n=this.a.X(e),this.a.pt(n,a)||(n=this.a.Ua(e)),r=this.os(m,l),q=this.os(n,e),v=r?this.a.Ua(m):this.a.X(m),p=q?this.a.Ua(n):this.a.X(n),this.qJ(r,q,l,m,v,e,n,p)&&(c=!0),b=this.fl(b),e=this.fl(b);return c};b.prototype.CJ=function(){1736==this.a.Lb(this.U)&&1==this.a.Cm(this.U)&&(new a.Of).DQ(this.Qt,this.a,this.U,this.oe);var d=!1,c=!0;this.fg=this.vp=-1;var b=this.a.F(this.U),e=new a.ga(0);e.xb(b);for(var g=this.a.Vb(this.U);-1!=g;g=this.a.bc(g))for(var h=
this.a.Cb(g),l=0,m=this.a.Ha(g);l<m;l++)e.add(h),h=this.a.X(h);var n=this.a.cd.f,r=this.a.cd.Ic;this.a.wb.kc();var q=this.a.wb.Ba[0].f;e.xd(0,b,function(c,a){var d=n[r*c],b=n[r*a],f=q[2*d],d=q[2*d+1],e=q[2*b],b=q[2*b+1],f=d<b?-1:d>b?1:f<e?-1:f>e?1:0;0==f&&(f=n[r*c+3],b=n[r*a+3],f=f<b?-1:f==b?0:1);return f});this.vp=this.a.re();this.$d=new a.$n;this.Ox=this.$d.jh(0);this.$d.$l(b);for(g=0;g<b;g++)h=e.get(g),l=this.$d.addElement(this.Ox,h),this.a.lb(h,this.vp,l);this.fg=this.a.re();this.yk=-1;for(this.sA()&&
(d=!0);c;){c=!1;b=0;e=!1;do{e=!1;this.Xm=-1;for(var m=0,g=new a.b,l=new a.b,v=this.$d.gc(this.Ox);-1!=v;)h=this.$d.getData(v),-1!=this.Xm?(this.a.uc(h,l),g.ub(l))?m++:(g.J(l),this.yk=v,0<m&&(h=this.yA())&&(e=!0,-1!=this.yk&&(h=this.$d.getData(this.yk),this.a.uc(h,g))),this.Xm=v=this.yk,m=0):(this.Xm=v,this.a.uc(this.$d.getData(v),g),m=0),-1!=v&&(v=this.$d.bb(v));this.yk=-1;0<m&&(h=this.yA())&&(e=!0);if(10<b++)throw a.g.wa();e&&this.tJ();this.sA()&&(e=!0);c=c||e&&!1;d=d||e}while(e)}this.a.bf(this.vp);
this.a.bf(this.fg);return d=a.AI.$(this.a,this.U,this.$d,this.Qt)||d};b.prototype.os=function(a,c){return this.a.X(c)==a?!1:!0};b.prototype.qJ=function(a,c,b,e,g,h,l,m){if(e==l)return this.hj(b),this.hj(h),!1;var d=this.a.Ra(b,this.fg),f=this.a.Ra(g,this.fg),k=this.a.Ra(h,this.fg),n=this.a.Ra(m,this.fg);b=[0,0,0,0,0,0,0,0];var r=[0,0,0,0];b[0]=0;r[0]=d;b[1]=0;r[1]=f;b[2]=1;r[2]=k;b[3]=1;r[3]=n;for(d=1;4>d;d++){f=r[d];k=b[d];for(n=d-1;0<=n&&r[n]>f;)r[n+1]=r[n],b[n+1]=b[n],n--;r[n+1]=f;b[n+1]=k}r=0;
0!=b[0]&&(r|=1);0!=b[1]&&(r|=2);0!=b[2]&&(r|=4);0!=b[3]&&(r|=8);if(5!=r&&10!=r)return!1;a==c?a?(this.a.Sc(m,e),this.a.Tc(e,m),this.a.Sc(g,l),this.a.Tc(l,g)):(this.a.Tc(m,e),this.a.Sc(e,m),this.a.Tc(g,l),this.a.Sc(l,g)):a?(this.a.Tc(e,h),this.a.Sc(h,e),this.a.Tc(l,g),this.a.Sc(g,l)):(this.a.Sc(e,h),this.a.Tc(h,e),this.a.Sc(l,g),this.a.Tc(g,l));return!0};b.prototype.BA=function(a,c,b,e,g,h){this.pU?this.BJ():this.AJ(a,c,b,e,g,h)};b.prototype.BJ=function(){throw a.g.ra("not implemented.");};b.prototype.AJ=
function(a,c,b,e,g,h){if(a!=c)a?(this.a.Sc(b,g),this.a.Tc(g,b),this.a.Sc(h,e),this.a.Tc(e,h),this.pm(g,b),this.Jh(g,!0),this.a.Ui(g,!0),this.hj(b),this.pm(h,e),this.Jh(h,!0),this.a.Ui(h,!1)):(this.a.Sc(g,b),this.a.Tc(b,g),this.a.Sc(e,h),this.a.Tc(h,e),this.pm(g,b),this.Jh(g,!0),this.a.Ui(g,!1),this.hj(b),this.pm(h,e),this.Jh(h,!0),this.a.Ui(h,!0)),this.hj(e);else{var d=a?b:e,f=c?g:h;a=a?e:b;c=c?h:g;g=!1;this.a.Sc(d,f);this.a.Sc(f,d);this.a.Tc(a,c);this.a.Tc(c,a);for(h=c;h!=f;)b=this.a.Ua(h),e=this.a.X(h),
this.a.Tc(h,e),this.a.Sc(h,b),g=g||h==d,h=e;g||(b=this.a.Ua(f),e=this.a.X(f),this.a.Tc(f,e),this.a.Sc(f,b));this.pm(f,d);this.Jh(f,!0);this.a.Ui(f,!1);this.hj(d);this.pm(c,a);this.Jh(c,!0);this.a.Ui(c,!1);this.hj(a)}};b.prototype.sA=function(){for(var a=!1,c=this.a.Vb(this.U);-1!=c;){for(var b=this.a.Cb(c),e=0,g=this.a.Ha(c);e<g&&1<g;){var h=this.a.Ua(b),l=this.a.X(b);this.a.Cq(h,l)?(a=!0,this.Jh(b,!1),this.a.vf(b,!0),this.Jh(l,!1),this.a.vf(l,!0),b=h,e=0,g=this.a.Ha(c)):(b=l,e++)}if(2>this.a.Ha(c)){a=
this.a.Cb(c);e=0;for(g=this.a.Ha(c);e<g;e++)this.Jh(a,!1),a=this.a.X(a);c=this.a.Cr(c);a=!0}else c=this.a.bc(c)}return a};b.prototype.io=function(a){for(var c=!1;;){var b=this.a.X(a),d=this.a.Ua(a);if(b==a)return this.Jh(a,!0),this.a.Ui(a,!1),!0;if(!this.a.Cq(b,d))break;c=!0;this.hj(d);this.hj(b);this.Jh(a,!0);this.a.Ui(a,!1);this.pm(b,d);this.Jh(b,!0);this.a.Ui(b,!0);if(b==d)break;a=d}return c};b.prototype.tJ=function(){for(var a=0,c=this.$d.gc(this.$d.Wd);-1!=c;c=this.$d.bb(c)){var b=this.$d.getData(c);
this.a.im(b,-1)}for(var e=0,g=this.a.Vb(this.U);-1!=g;)if(c=this.a.Cb(g),-1==c||-1!=this.a.rd(c))b=g,g=this.a.bc(g),this.a.yu(b);else{this.a.im(c,g);for(var h=1,b=this.a.X(c);b!=c;b=this.a.X(b))this.a.im(b,g),h++;this.a.Jr(g,!1);this.a.hm(g,h);this.a.Wi(g,this.a.Ua(c));e+=h;a++;g=this.a.bc(g)}for(c=this.$d.gc(this.$d.Wd);-1!=c;c=this.$d.bb(c))b=this.$d.getData(c),-1==this.a.rd(b)&&(g=this.a.aD(this.U,b,b,null),e+=this.a.Ha(g),a++);this.a.gm(this.U,a);this.a.Pk(this.U,e);a=0;for(e=this.a.$c;-1!=e;e=
this.a.we(e))a+=this.a.F(e);this.a.ZF(a)};b.prototype.fl=function(a){for(var c=0,b=this.ie.size-1;c<b;c++)if(a=(a+1)%this.ie.size,-1!=this.ie.get(a))return a;return-1};b.prototype.pm=function(a,c){var b=this.a.Ra(c,this.vp),d=this.a.Ra(c,this.fg);this.a.Zy(a,c);this.a.lb(c,this.vp,b);this.a.lb(c,this.fg,d)};b.prototype.hj=function(a){var c=this.a.Ra(a,this.fg);-1!=c&&(this.ie.set(c,-1),this.a.lb(a,this.fg,-1))};b.$=function(a,c,f,e,g){var d=new b;d.a=a;d.U=c;d.yx=f;d.Qt=e;d.oe=g;return d.CJ()};b.prototype.mJ=
function(b,c){var d=this.nh.get(b),e=new a.b;this.a.uc(d,e);var d=new a.b,g=this.nh.get(c);this.a.uc(g,d);if(e.ub(d))return 0;b=this.Mq.get(b);g=new a.b;this.a.uc(b,g);c=this.Mq.get(c);b=new a.b;this.a.uc(c,b);c=new a.b;c.pc(e,g);e=new a.b;e.pc(d,b);return a.b.cq(c,e)};return b}();a.mm=b})(z||(z={}));(function(a){(function(a){a[a.Local=0]="Local";a[a.Geographic=1]="Geographic";a[a.Projected=2]="Projected";a[a.Unknown=3]="Unknown"})(a.HI||(a.HI={}));(function(a){a[a.Integer32=0]="Integer32";a[a.Integer64=
1]="Integer64";a[a.FloatingPoint=2]="FloatingPoint"})(a.rI||(a.rI={}));var b=function(){function b(){this.fo="";this.mi=0;this.Sl=null}b.prototype.Qc=function(){return this.mi};b.prototype.Ko=function(){var b=.001;0!=this.mi?b=a.ls.SM(this.mi):null!=this.Sl&&(b=a.mA.TM(this.Sl));return b};b.prototype.Se=function(){if(0!=this.mi)return a.Tb.Qd(a.ls.cC(this.mi));if(null!=this.Sl)return a.mA.UM(this.Sl)};b.Am=function(b){if(0!=b.mi){if(!0===a.ls.WO(b.mi))return 1;if(!0===a.ls.ZO(b.mi))return 2}return 3};
b.create=function(d){if(0>=d)throw a.g.N("Invalid or unsupported wkid: "+d);var c=new b;c.mi=d;return c};b.NL=function(d){if(null==d||0==d.length)throw a.g.N("Cannot create SpatialReference from null or empty text.");var c=new b;c.Sl=d;return c};b.prototype.lc=function(a){return this==a?!0:null==a||this.constructor!=a.constructor||this.mi!=a.mi||0==this.mi&&this.Sl!==a.Sl?!1:!0};b.mN=function(b,c){var d=Math.PI/180,e=new a.ca;a.nH.pN(b.w().x*d,b.w().y*d,c.w().x*d,c.w().y*d,e);return e.l};b.prototype.toString=
function(){return"[ tol: "+this.xq()+"; wkid: "+this.Qc()+"; wkt: "+this.Sl+"]"};b.prototype.hc=function(){if(""!==this.fo)return this.fo;var a=this.toString();if(Array.prototype.reduce)return this.fo="S"+a.split("").reduce(function(c,a){c=(c<<5)-c+a.charCodeAt(0);return c&c},0);var c=0;if(0===a.length)return"";for(var b=0;b<a.length;b++)c=(c<<5)-c+a.charCodeAt(b),c&=c;return this.fo="S"+c};b.prototype.xq=function(){return this.Ko()};b.jU=!0;b.ET=2147483645;b.FT=9007199254740990;return b}();a.Nf=
b})(z||(z={}));(function(a){function b(c,a){89.99999<a?a=89.99999:-89.99999>a&&(a=-89.99999);a*=.017453292519943;return[111319.49079327169*c,3189068.5*Math.log((1+Math.sin(a))/(1-Math.sin(a)))]}function e(c,a,b){c=c/6378137*57.29577951308232;return b?[c,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*a/6378137)))]:[c-360*Math.floor((c+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*a/6378137)))]}function d(c,b){var d=c.vm();if(33===c.D()){var f=b(d.lk(),d.mk());
d.ic(f[0],f[1])}else if(197===c.D())f=b(c.R.v,c.R.C,!0),c=b(c.R.B,c.R.G,!0),d.K(f[0],f[1],c[0],c[1]);else for(f=new a.b,c=0;c<d.F();c++){d.w(c,f);var e=b(f.x,f.y,!0);f.ma(e[0],e[1]);d.ic(c,f)}return d}function c(c){return d(c,e)}function f(c){return d(c,b)}var g=function(){function c(){}c.Xr=function(c){var b=Math.PI/180,d=Math.sin(c.y*b);return a.b.Oa(6378137*c.x*b,3167719.6636462314*(d/(1-.006694379990197414*d*d)-6.111035746609262*Math.log((1-.0818191908429643*d)/(1+.0818191908429643*d))))};c.Wu=
function(c,b,d,f){var e=1/298.257223563,g=Math.sin(d);d=Math.cos(d);var k=(1-e)*Math.tan(c);c=1/Math.sqrt(1+k*k);for(var h=k*c,l=Math.atan2(k,d),k=c*g*c*g,m=1-k,n=2.7233160610754688E11*m/4.040829998466145E13,r=1+n/16384*(4096+n*(-768+n*(320-175*n))),t=n/1024*(256+n*(-128+n*(74-47*n))),n=f/(6356752.31424518*r),q=2*Math.PI,v,p,w,u;1E-12<Math.abs(n-q);)w=Math.cos(2*l+n),v=Math.sin(n),p=Math.cos(n),u=t*v*(w+t/4*(p*(-1+2*w*w)-t/6*w*(-3+4*v*v)*(-3+4*w*w))),q=n,n=f/(6356752.31424518*r)+u;f=h*v-c*p*d;m=e/
16*m*(4+e*(4-3*m));return a.b.Oa((b+(Math.atan2(v*g,c*p-h*v*d)-(1-m)*e*Math.sqrt(k)*(n+m*v*(w+m*p*(-1+2*w*w)))))/(Math.PI/180),Math.atan2(h*p+c*v*d,(1-e)*Math.sqrt(k+f*f))/(Math.PI/180))};c.cN=function(c,a,b,d){var f=1/298.257223563,e=d-a,g=Math.atan((1-f)*Math.tan(c)),k=Math.atan((1-f)*Math.tan(b)),h=Math.sin(g),g=Math.cos(g),l=Math.sin(k),k=Math.cos(k),m=e,n,r=1E3,t,q,v,p,w,u,x;do{v=Math.sin(m);p=Math.cos(m);q=Math.sqrt(k*v*k*v+(g*l-h*k*p)*(g*l-h*k*p));if(0===q)return 0;p=h*l+g*k*p;w=Math.atan2(q,
p);u=g*k*v/q;t=1-u*u;v=p-2*h*l/t;isNaN(v)&&(v=0);x=f/16*t*(4+f*(4-3*t));n=m;m=e+(1-x)*f*u*(w+x*q*(v+x*p*(-1+2*v*v)))}while(1E-12<Math.abs(m-n)&&0<--r);if(0===r)return h=d-a,{azimuth:Math.atan2(Math.sin(h)*Math.cos(b),Math.cos(c)*Math.sin(b)-Math.sin(c)*Math.cos(b)*Math.cos(h)),geodesicDistance:6371009*Math.acos(Math.sin(c)*Math.sin(b)+Math.cos(c)*Math.cos(b)*Math.cos(d-a))};c=2.7233160610754688E11*t/4.040829998466145E13;a=c/1024*(256+c*(-128+c*(74-47*c)));return{azimuth:Math.atan2(k*Math.sin(m),g*
l-h*k*Math.cos(m)),lN:6356752.31424518*(1+c/16384*(4096+c*(-768+c*(320-175*c))))*(w-a*q*(v+a/4*(p*(-1+2*v*v)-a/6*v*(-3+4*q*q)*(-3+4*v*v)))),yU:Math.atan2(g*Math.sin(m),g*l*Math.cos(m)-h*k)}};c.oT=function(c){var b=c.hasAttribute(1),d=c.hasAttribute(2),f=[],e=c.ea(),g=null,k=null;b&&(g=c.mc(1));d&&(k=c.mc(2));for(var h=new a.b,l=0;l<e;l++){for(var m=c.Ea(l),n=c.Ha(l),r=0,t=0,q=NaN,v=NaN,p=NaN,w=NaN,u=c.vc(l),x=[],B=m;B<m+n;B++){c.w(B,h);var w=p=NaN,A=[h.x,h.y];b&&(p=g.get(B),A.push(p));d&&(e=k.get(B),
A.push(w));B==m&&u&&(r=h.x,t=h.y,q=p,v=w);x.push(A)}!u||r==h.x&&t==h.y&&(!b||isNaN(q)&&isNaN(p)||q==p)&&(!d||isNaN(v)&&isNaN(w)||v==w)||x.push(x[0].slice(0));f.push(x)}return f};c.fw=function(a,b){a=c.oT(a);var d=Math.PI/180;637.100877151506>b&&(b=637.100877151506);for(var f=[],e=0;e<a.length;e++){var g=a[e],k;f.push(k=[]);k.push([g[0][0],g[0][1]]);var h,l,m,n,r,t;h=g[0][0]*d;l=g[0][1]*d;for(r=0;r<g.length-1;r++)if(m=g[r+1][0]*d,n=g[r+1][1]*d,h!==m||l!==n){n=c.cN(l,h,n,m);m=n.azimuth;n=n.lN;var q=
n/b;if(1<q){for(t=1;t<=q-1;t++){var v=c.Wu(l,h,m,t*b);k.push([v.x,v.y])}t=c.Wu(l,h,m,(n+Math.floor(q-1)*b)/2);k.push([t.x,t.y])}l=c.Wu(l,h,m,n);k.push([l.x,l.y]);h=l.x*d;l=l.y*d}}return{mF:f}};c.kN=function(b){for(var d=[],f=0;f<b.length;f++){var e=b[f],e=c.fw(e,1E4);d.push(e)}b=[];for(var g,k,h=0;h<d.length;h++){for(var e=d[h],l=0,f=0;f<e.mF.length;f++){var m=e.mF[f];g=c.Xr(a.b.Oa(m[0][0],m[0][1]));k=c.Xr(a.b.Oa(m[m.length-1][0],m[m.length-1][1]));var n=k.x*g.y-g.x*k.y,r;for(r=0;r<m.length-1;r++)g=
c.Xr(a.b.Oa(m[r+1][0],m[r+1][1])),k=c.Xr(a.b.Oa(m[r][0],m[r][1])),n+=k.x*g.y-g.x*k.y;n/=4046.87;l+=n}b.push(l/-2*4046.85642)}return b};return c}();a.oH=g;g=function(){function b(){}b.oy=function(c,a,d,f,e,g,k){b.AG[c.hc()]=a;0==isNaN(d)&&(b.CG[c.hc()]=d);0==isNaN(f)&&(b.iz[c.hc()]=f);0==isNaN(e)&&(b.lG[c.hc()]=e);b.EG[c.hc()]=g;null!==k&&(b.GG[c.hc()]=k)};b.xu=function(c,a,d){b.IG[c.hc()+"-"+a.hc()]=d};b.Em=function(c){c=b.AG[c.hc()];if(void 0==c)throw a.g.qe();return c};b.IC=function(c){c=b.CG[c.hc()];
if(void 0==c)throw a.g.qe();return c};b.ft=function(c){c=b.iz[c.hc()];if(void 0==c)throw a.g.qe();return c};b.Ts=function(c){c=b.lG[c.hc()];if(void 0==c)throw a.g.qe();return c};b.Fm=function(c){c=b.GG[c.hc()];if(void 0==c)throw a.g.qe();return a.i.Oa(c[0],c[1],c[2],c[3])};b.Qo=function(c){c=b.EG[c.hc()];if(void 0==c)throw a.g.qe();return c};b.Wl=function(c,d,f){if(d.lc(f))return c;var e=b.IG[d.hc()+"-"+f.hc()];if(void 0!==e)return e(c,d,f);throw a.g.qe();};b.tu=function(){throw a.g.qe();};b.qN=function(){throw a.g.qe();
};b.YQ=function(){throw a.g.qe();};b.TN=function(){throw a.g.qe();};b.qR=function(){var b=a.Nf.create(102100),d=a.Nf.create(3857),e=a.Nf.create(4326);a.Ya.oy(b,e,NaN,NaN,NaN,!1,null);a.Ya.oy(e,e,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);a.Ya.oy(d,e,NaN,NaN,NaN,!1,null);a.Ya.xu(b,e,c);a.Ya.xu(e,b,f);a.Ya.xu(d,e,c);a.Ya.xu(e,d,f)};b.AG=[];b.CG=[];b.iz=[];b.lG=[];b.EG=[];b.GG=[];b.IG=[];return b}();a.Ya=g})(z||(z={}));z.Ya.qR();(function(a){var b=function(){function b(a){this.f=null;this.qg=
-1;this.Xc=this.size=this.We=0;this.Ic=a}b.prototype.Jc=function(a){a<this.We?(this.f[a*this.Ic]=this.qg,this.qg=a):this.We--;this.size--};b.prototype.O=function(a,c){return this.f[a*this.Ic+c]};b.prototype.L=function(a,c,b){this.f[a*this.Ic+c]=b};b.prototype.be=function(){var b=this.qg;if(-1==b){if(this.We==this.Xc){b=0!=this.Xc?a.I.truncate(3*(this.Xc+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.Xc)throw a.g.Uc();this.Gm(b)}b=this.We;this.We++}else this.qg=this.f[b*this.Ic];this.size++;for(var c=
b*this.Ic+this.Ic,f=b*this.Ic;f<c;f++)this.f[f]=-1;return b};b.prototype.Pj=function(b){var c=this.qg;if(-1==c){if(this.We==this.Xc){c=0!=this.Xc?a.I.truncate(3*(this.Xc+1)/2):1;2147483647<c&&(c=2147483647);if(c==this.Xc)throw a.g.Uc();this.Gm(c)}c=this.We;this.We++}else this.qg=this.f[c*this.Ic];this.size++;for(var d=c*this.Ic,e=this.Ic,g=0;g<e;g++)this.f[d+g]=b[g];return c};b.prototype.Nh=function(a){this.qg=-1;this.size=this.We=0;a&&(this.f=null,this.Xc=0)};b.prototype.de=function(a){a>this.Xc&&
this.Gm(a)};b.prototype.Pu=function(a,c,b){var d=this.f[this.Ic*c+b];this.f[this.Ic*c+b]=this.f[this.Ic*a+b];this.f[this.Ic*a+b]=d};b.Zk=function(){return-2};b.lm=function(){return-3};b.Zw=function(a){return 0<=a};b.prototype.Gm=function(a){null==this.f&&(this.f=[]);this.Xc=a};return b}();a.Fc=b;b=function(){function b(a){this.f=new Int32Array(0);this.qg=-1;this.Xc=this.size=this.We=0;this.Ic=a}b.prototype.Jc=function(a){a<this.We?(this.f[a*this.Ic]=this.qg,this.qg=a):this.We--;this.size--};b.prototype.O=
function(a,c){return this.f[a*this.Ic+c]};b.prototype.L=function(a,c,b){this.f[a*this.Ic+c]=b};b.prototype.be=function(){var b=this.qg;if(-1==b){if(this.We==this.Xc){b=0!=this.Xc?a.I.truncate(3*(this.Xc+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.Xc)throw a.g.Uc();this.Gm(b)}b=this.We;this.We++}else this.qg=this.f[b*this.Ic];this.size++;for(var c=b*this.Ic;c<b*this.Ic+this.Ic;c++)this.f[c]=-1;return b};b.prototype.Pj=function(b){var c=this.qg;if(-1==c){if(this.We==this.Xc){c=0!=this.Xc?a.I.truncate(3*
(this.Xc+1)/2):1;2147483647<c&&(c=2147483647);if(c==this.Xc)throw a.g.Uc();this.Gm(c)}c=this.We;this.We++}else this.qg=this.f[c*this.Ic];this.size++;for(var d=c*this.Ic,e=0;e<b.length;e++)this.f[d+e]=b[e];return c};b.prototype.Nh=function(a){this.qg=-1;this.size=this.We=0;a&&(this.f=null,this.Xc=0)};b.prototype.de=function(a){a>this.Xc&&this.Gm(a)};b.prototype.Pu=function(a,c,b){var d=this.f[this.Ic*c+b];this.f[this.Ic*c+b]=this.f[this.Ic*a+b];this.f[this.Ic*a+b]=d};b.Zk=function(){return-2};b.lm=
function(){return-3};b.Zw=function(a){return 0<=a};b.prototype.Gm=function(a){null==this.f&&(this.f=new Int32Array(0));var c=new Int32Array(this.Ic*a);c.set(this.f,0);this.f=c;this.Xc=a};return b}();a.II=b;!0===a.ah.Sk&&(a.Fc=a.II)})(z||(z={}));(function(a){var b;(function(c){c[c.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";c[c.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";c[c.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding";c[c.enumInputModeIsSimplePolygon=
7]="enumInputModeIsSimplePolygon"})(b||(b={}));var e=function(){function c(c){this.me=c;this.Zg=NaN;this.LD=new a.Ag;this.MD=new a.Ag;this.Aq=new a.Nd;this.Bq=new a.Nd}c.prototype.compare=function(c,a,b){c=c.da(b);this.me.iy(a,this.LD);this.me.iy(c,this.MD);a=this.LD.get();c=this.MD.get();this.Aq.K(a.na,a.la);this.Bq.K(c.na,c.la);if(this.Aq.va<this.Bq.qa)return-1;if(this.Aq.qa>this.Bq.va)return 1;b=a.ja==a.ha;var d=c.ja==c.ha;if(b||d){if(b&&d)return 0;if(a.ja==c.ja&&a.na==c.na)return b?1:-1;if(a.ha==
c.ha&&a.la==c.la)return b?-1:1}b=a.xe(this.Zg,this.Aq.qa);d=c.xe(this.Zg,this.Bq.qa);b==d&&(b=Math.min(a.ha,c.ha),d=.5*(b+this.Zg),d==this.Zg&&(d=b),b=a.xe(d,this.Aq.qa),d=c.xe(d,this.Bq.qa));return b<d?-1:b>d?1:0};c.prototype.$F=function(c){this.Zg=c};return c}(),d=function(){function c(c){this.ab=c;this.uE=new a.Ag;this.nf=new a.b;this.xx=new a.Nd}c.prototype.eS=function(c){this.nf.J(c)};c.prototype.compare=function(c,a){this.ab.iy(c.da(a),this.uE);c=this.uE.get();this.xx.K(c.na,c.la);if(this.nf.x<
this.xx.qa)return-1;if(this.nf.x>this.xx.va)return 1;c=c.xe(this.nf.y,this.nf.x);return this.nf.x<c?-1:this.nf.x>c?1:0};return c}();b=function(){function c(){this.OD=this.Vh=this.Yh=this.px=this.Pm=this.je=this.xc=this.Ig=this.Td=null;this.sn=this.eg=-1;this.ND=!0;this.tx=!1;this.qx=NaN;this.ei=new a.wd;this.EK=2147483647;this.DK=a.I.truncate(-2147483648);this.Kf=this.Md=this.Ek=this.lp=this.Bl=this.kp=this.Zq=this.Be=-1;this.ta=0}c.prototype.Mv=function(c){this.qx=c};c.prototype.Ul=function(){null==
this.Td&&(this.Td=new a.Fc(8));var c=this.Td.be();this.Td.L(c,1,0);return c};c.prototype.kQ=function(){null==this.xc&&(this.xc=new a.Fc(8));var c=this.xc.be();this.xc.L(c,2,0);this.xc.L(c,3,0);var b=this.xc.be();this.xc.L(b,2,0);this.xc.L(b,3,0);this.GF(c,b);this.GF(b,c);return c};c.prototype.FE=function(){null==this.je&&(this.je=new a.Fc(8));var c=this.je.be();this.je.L(c,2,0);return c};c.prototype.QR=function(c,a){this.Td.L(c,7,a)};c.prototype.em=function(c,a){this.Td.L(c,2,a)};c.prototype.PR=function(c,
a){this.Td.L(c,1,a)};c.prototype.fS=function(c,a){this.Td.L(c,3,a)};c.prototype.cS=function(c,a){this.Td.L(c,4,a)};c.prototype.Lp=function(c,a){this.Td.L(c,5,a)};c.prototype.uN=function(c){return this.Td.O(c,5)};c.prototype.OR=function(c,a){this.Td.L(c,6,a)};c.prototype.IJ=function(c,a){this.OR(a,c)};c.prototype.FF=function(c,a){this.xc.L(c,1,a)};c.prototype.GF=function(c,a){this.xc.L(c,4,a)};c.prototype.Rk=function(c,a){this.xc.L(c,5,a)};c.prototype.Qk=function(c,a){this.xc.L(c,6,a)};c.prototype.VR=
function(c,a){this.xc.L(c,2,a)};c.prototype.Du=function(c,a){this.xc.L(c,3,a)};c.prototype.zC=function(c){return this.xc.O(c,3)};c.prototype.Ir=function(c,a){this.xc.L(c,7,a)};c.prototype.zG=function(c,a){if(-1!=this.ql(c))for(a=a?-1:c,c=this.ql(c);-1!=c;c=this.zq(c))this.a.lb(this.Gi(c),this.lp,a)};c.prototype.Tu=function(c,a){-1!=c&&(this.zG(c,a),this.zG(this.sa(c),a))};c.prototype.Gr=function(c,a){this.je.L(c,1,a)};c.prototype.yg=function(c,a){this.je.L(c,2,a)};c.prototype.cm=function(c,a){this.je.L(c,
3,a);this.LR(c,this.tN(a));this.KR(a,c)};c.prototype.KR=function(c,a){this.je.L(c,4,a)};c.prototype.LR=function(c,a){this.je.L(c,5,a)};c.prototype.AF=function(c,a){this.je.L(c,6,a)};c.prototype.yF=function(c,a){this.je.L(c,7,a)};c.prototype.xF=function(c,a){this.Pm.write(c,a)};c.prototype.zF=function(c,a){this.px.write(c,a)};c.prototype.bT=function(c){var b=0,d=0,f=this.pC(c),e=new a.b,g=new a.b,h=new a.b;this.tq(f,e);g.J(e);var l=f;do this.pl(l,h),d+=a.b.Fb(g,h),this.Pe(this.sa(l))!=c&&(b+=(h.x-
e.x-(g.x-e.x))*(h.y-e.y+(g.y-e.y))*.5),g.J(h),l=this.Wb(l);while(l!=f);this.Pm.write(c,b);this.px.write(c,d)};c.prototype.GQ=function(c){var b=new e(this),f=new a.bj;f.de(a.I.truncate(this.ta/2));f.Hn(b);for(var g=new a.ga(0),h=this.Eg(),l=null,m=0,n=new a.b,r=this.Be;-1!=r;r=this.Bf(r)){m++;var q=this.te(r);if(-1!=q){g.cf(0);if(!this.VS(f,h,g,q)){this.w(r,n);b.$F(n.y);var v=q;do{var p=this.tb(v,h);-1!=p&&(f.kd(p,-1),this.Bb(v,h,-2));v=this.Wb(this.sa(v))}while(q!=v);v=q;do p=this.tb(v,h),-1==p&&
(p=f.addElement(v,-1),g.add(p)),v=this.Wb(this.sa(v));while(q!=v)}for(q=g.size-1;0<=q;q--)p=g.get(q),v=f.da(p),this.Bb(this.sa(v),h,p),this.FQ(f,p,c)}else-1==this.mw(r)&&(null==l&&(l=new d(this)),this.w(r,n),l.eS(n),v=f.GR(l),q=this.Ek,-1!=v&&(p=f.da(v),this.Pe(p)==this.Pe(this.sa(p))&&(p=this.BC(f,v)),-1!=p&&(q=this.Pe(p))),this.IJ(q,r))}this.kh(h)};c.prototype.FQ=function(c,a,b){var d=c.da(a),f=this.Pe(d);if(-1==this.ym(f)){var e=this.BC(c,a),g=this.sa(d),k=this.Pe(g);this.yo(f);this.yo(k);var h=
this.ym(f),l=this.ym(k);-1==e&&-1==h&&(k==f?(this.cm(k,this.Ek),h=l=this.Ek):(-1==l&&(this.cm(k,this.Ek),l=this.Ek),this.cm(f,k),h=k));if(-1!=e){var m=this.Pe(e);-1==l&&(0>=this.yo(m)?(l=this.ym(m),this.cm(k,l)):(this.cm(k,m),l=m),k==f&&(h=l))}-1==h&&this.WS(f,k);0==b?this.aR(c,a,d,e,f,k):5==b?this.bR(c,a,d,g,f,k):4==b&&this.$Q(d,e,f,k)}};c.prototype.aR=function(c,a,b,d,e,g){var f=this.pj(e);if(-1!=d){var k=this.pj(g),h=this.pj(this.Pe(d));d=f&k&h;h^=h&this.Gg(b);h|=d;0!=h&&(this.yg(g,k|h),this.yg(e,
h|f),f=f||h)}for(a=c.bb(a);-1!=a;a=c.bb(a)){d=c.da(a);b=this.Pe(this.sa(d));e=this.pj(b);g=this.Gg(d);k=this.Pe(d);h=this.pj(k);d=e&h&f;f^=f&g;f|=d;if(0==f)break;this.yg(b,e|f);this.yg(k,h|f)}};c.prototype.bR=function(c,b,d,e,g,h){if(g!=h){d=this.tb(d,this.Kf);d+=this.tb(e,this.Kf);e=0;var f=new a.ga(0),k=new a.ga(0);k.add(0);for(var l=c.gc(-1);l!=b;l=c.bb(l)){var m=c.da(l),n=this.sa(m),r=this.Pe(m),t=this.Pe(n);if(r!=t){m=this.tb(m,this.Kf);m+=this.tb(n,this.Kf);e+=m;n=!1;0!=f.size&&f.tc()==t&&(k.af(),
f.af(),n=!0);if(-1==this.ym(t))throw a.g.wa();n&&this.ym(t)==r||(k.add(e),f.add(r))}}e+=d;0!=f.size&&f.tc()==h&&(k.af(),f.af());0!=e?0==k.tc()&&(c=this.a.$c,c=this.ya(c),this.yg(g,c)):0!=k.tc()&&(c=this.a.$c,c=this.ya(c),this.yg(g,c))}};c.prototype.$Q=function(c,a,b,d){var f=this.ya(this.a.$c);if(-1==a)this.yg(d,this.sn),c=this.tb(c,this.eg),0!=(c&1)?this.yg(b,f):this.yg(b,this.sn);else{var e=this.pj(d);0==e&&(e=this.pj(this.Pe(a)),this.yg(d,e));c=this.tb(c,this.eg);0!=(c&1)?this.yg(b,e==f?this.sn:
f):this.yg(b,e)}};c.prototype.VS=function(c,a,b,d){var f=d,e=-1,g=-1,k=0;do{if(2==k)return!1;var h=this.tb(f,a);if(-1!=h){if(-1!=e)return!1;e=h}else{if(-1!=g)return!1;g=f}k++;f=this.Wb(this.sa(f))}while(d!=f);if(-1==g||-1==e)return!1;this.Bb(c.da(e),a,-2);c.Vi(e,g);b.add(e);return!0};c.prototype.WS=function(c,a){var b=this.yo(c);if(0!=b){var d=this.yo(a);0<b&&0>d?this.cm(c,a):0>b&&0<d?this.cm(c,a):(b=this.ym(a),-1!=b&&this.cm(c,b))}};c.prototype.RL=function(c,b){this.lp=this.a.re();for(var d=0,f=
b.size;d<f;d++){var e=b.get(d),g=this.a.Ra(e,this.Bl),k=this.a.Vf(this.a.rd(e)),h=this.a.Lb(k);if(a.T.Kc(h)){var l=this.a.X(e);if(-1!=l){var m=this.a.Ra(l,this.Bl);if(g!=m){var n=this.kQ(),r=this.sa(n),q=this.Ig.be();this.Ig.L(q,0,e);this.Ig.L(q,1,-1);this.Ir(n,q);this.FF(n,g);q=this.te(g);-1==q?(this.em(g,n),this.Rk(n,r),this.Qk(r,n)):(g=this.fe(q),this.Rk(q,r),this.Qk(r,q),this.Qk(g,n),this.Rk(n,g));this.FF(r,m);g=this.te(m);-1==g?(this.em(m,r),this.Qk(n,r),this.Rk(r,n)):(m=this.fe(g),this.Rk(g,
n),this.Qk(n,g),this.Qk(m,r),this.Rk(r,m));k=this.ya(k);0==c?(this.Bb(r,this.Md,0),this.Bb(n,this.Md,1736==h?k:0)):5==c?(m=new a.b,this.a.w(e,m),e=new a.b,this.a.w(l,e),g=l=0,0>m.compare(e)?l=1:g=-1,this.Bb(r,this.Md,0),this.Bb(n,this.Md,0),this.Bb(n,this.Kf,l),this.Bb(r,this.Kf,g)):7==c?(this.Bb(r,this.Md,this.sn),this.Bb(n,this.Md,1736==h?k:0)):4==c&&(this.Bb(r,this.Md,0),this.Bb(n,this.Md,0),this.Bb(n,this.eg,1),this.Bb(r,this.eg,1));h=1736==h?this.DK:0;this.Du(n,k|h);this.Du(r,k|h)}}}}};c.prototype.ZP=
function(c,a){var b=this.ql(a);if(-1!=b){var d=this.ql(c);this.Ig.L(b,1,d);this.Ir(c,b);this.Ir(a,-1)}c=this.sa(c);a=this.sa(a);b=this.ql(a);-1!=b&&(d=this.ql(c),this.Ig.L(b,1,d),this.Ir(c,b),this.Ir(a,-1))};c.prototype.AS=function(c){function b(c,a){return f.lL(c,a)}var d=new a.ga(0);d.xb(10);for(var f=this,e=this.Be;-1!=e;e=this.Bf(e)){d.clear(!1);var g=this.te(e);if(-1!=g){var h=g;do d.add(h),h=this.Wb(this.sa(h));while(h!=g);if(1<d.size){h=!0;if(2<d.size)d.xd(0,d.size,b),d.add(d.get(0));else if(0<
this.kL(d.get(0),d.get(1))){var l=d.get(0);d.set(0,d.get(1));d.set(1,l)}else h=!1;for(var m=l=d.get(0),n=this.jf(m),r=this.sa(m),q=-1,v=1,p=d.size;v<p;v++){var w=d.get(v),u=this.sa(w),x=this.qj(u);if(x==n&&w!=m){if(0==c)q=this.zC(m)|this.zC(w),this.Du(m,q),this.Du(r,q),this.Bb(m,this.Md,this.tb(m,this.Md)|this.tb(w,this.Md)),this.Bb(r,this.Md,this.tb(r,this.Md)|this.tb(u,this.Md));else if(-1!=this.Kf)q=this.tb(m,this.Kf)+this.tb(w,this.Kf),u=this.tb(r,this.Kf)+this.tb(u,this.Kf),this.Bb(m,this.Kf,
q),this.Bb(r,this.Kf,u);else{if(7==c){this.ei=new a.wd(5,e,-1);return}-1!=this.eg&&(q=this.tb(m,this.eg)+this.tb(w,this.eg),u=this.tb(r,this.eg)+this.tb(u,this.eg),this.Bb(m,this.eg,q),this.Bb(r,this.eg,u))}this.ZP(m,w);this.Wv(w);q=m;d.set(v,-1);w==l&&(d.set(0,-1),l=-1)}else this.Tu(q,!1),q=-1,m=w,n=x,r=u}this.Tu(q,!1);q=-1;if(h){l=-1;v=0;for(p=d.size;v<p;v++)if(w=d.get(v),-1!=w)if(-1==l)m=l=w,n=this.jf(m),r=this.sa(m);else if(w!=m&&(u=this.sa(w),x=this.qj(u),this.Qk(r,w),this.Rk(w,r),m=w,n=x,r=
u,7==c&&(this.tb(w,this.Md)|this.tb(this.fe(w),this.Md))==(this.sn|1))){this.ei=new a.wd(5,e,-1);return}this.em(e,l)}else{l=-1;v=0;for(p=d.size;v<p;v++)if(w=d.get(v),-1!=w){l=w;break}g!=l&&this.em(e,l)}}}}};c.prototype.AK=function(){for(var c=-1,b=this.Eg(),d=this.Be;-1!=d;d=this.Bf(d)){var e=this.te(d);if(-1!=e){var g=e;do{if(1!=this.tb(g,b)){var h=this.FE();this.Gr(h,g);this.yF(h,c);-1!=c&&this.AF(c,h);var c=h,l=0,m=g;do l|=this.tb(m,this.Md),this.VR(m,h),this.Bb(m,b,1),m=this.Wb(m);while(m!=g);
this.yg(h,l)}g=this.Wb(this.sa(g))}while(g!=e)}}h=this.FE();this.Gr(h,-1);this.yF(h,c);-1!=c&&this.AF(c,h);this.Ek=h;this.Pm=a.qd.Yc(this.je.size,NaN);this.px=a.qd.Yc(this.je.size,NaN);this.xF(this.Ek,Infinity);this.zF(this.Ek,Infinity);this.kh(b)};c.prototype.EN=function(c,a,b){a=-1!=a?a:this.te(c);if(-1==a)return-1;for(c=a;;){if(1!=this.tb(a,b))return a;a=this.Wb(this.sa(a));if(a==c)return-1}};c.prototype.uR=function(){for(var c=this.Eg(),a=this.Be;-1!=a;a=this.Bf(a))for(var b=-1;;){var d=this.EN(a,
b,c);if(-1==d)break;for(var b=this.Wb(this.sa(d)),e=d;;){var g=this.Wb(e),h=this.fe(e),l=this.sa(e);if(h==l){this.bM(e);if(b==e||b==l)b=-1;if(e==d||h==d){d=g;if(e==d||h==d)break;e=g;continue}}else this.Bb(e,c,1);e=g;if(e==d)break}}};c.prototype.Ay=function(c,b,d,e){this.xg();this.ND=e;this.a=c;this.kp=this.a.RB();c=new a.ga(0);c.xb(null!=d?this.a.F(d.get(0)):this.a.pd);var f=0,g=1,k=null!=d?d.get(0):this.a.$c;for(e=1;-1!=k;){this.a.EF(k,this.kp,g);for(var g=g<<1,h=this.a.Vb(k);-1!=h;h=this.a.bc(h))for(var l=
this.a.Cb(h),m=0,n=this.a.Ha(h);m<n;m++)c.add(l),l=this.a.X(l);a.T.Km(this.a.Lb(k))||(f+=this.a.ea(k));null!=d?(k=e<d.size?d.get(e):-1,e++):k=this.a.we(k)}this.sn=g;this.ta=c.size;this.a.Mu(c,this.ta);null==this.Ig&&(this.Ig=new a.Fc(2),this.Td=new a.Fc(8),this.xc=new a.Fc(8),this.je=new a.Fc(8));this.Ig.de(this.ta);this.Td.de(this.ta+10);this.xc.de(2*this.ta+32);this.je.de(Math.max(32,f));this.Bl=this.a.re();d=new a.b;e=0;f=new a.b;d.Eh();for(g=0;g<=this.ta;g++)if(g<this.ta?(l=c.get(g),this.a.w(l,
f)):f.Eh(),!d.ub(f)){if(e<g){l=this.Ul();for(n=m=-1;e<g;e++)n=c.get(e),this.a.lb(n,this.Bl,l),k=this.Ig.be(),this.Ig.L(k,0,n),this.Ig.L(k,1,m),m=k,h=this.a.rd(n),k=this.a.Vf(h),k=this.ya(k),this.PR(l,this.md(l)|k);this.QR(l,m);this.Lp(l,this.a.gb(n));-1!=this.Zq&&this.cS(this.Zq,l);this.fS(l,this.Zq);this.Zq=l;-1==this.Be&&(this.Be=l)}e=g;d.J(f)}this.Md=this.Eg();5==b&&(this.Kf=this.Eg());4==b&&(this.eg=this.Eg());this.RL(b,c);0==this.ei.yh&&(this.AS(b),0==this.ei.yh&&(isNaN(this.qx)||this.ZK()?(this.AK(),
0==this.ei.yh&&(this.kh(this.Md),this.Md=-1,this.ND&&this.GQ(b))):this.tx=!0))};c.prototype.Wv=function(c){var a=this.Wb(c),b=this.fe(c),d=this.sa(c),f=this.Wb(d),e=this.fe(d);a!=d&&(this.Qk(e,a),this.Rk(a,e));b!=d&&(this.Qk(b,f),this.Rk(f,b));b=this.qj(c);this.te(b)==c&&(f!=c?this.em(b,f):this.em(b,-1));f=this.qj(d);this.te(f)==d&&(a!=d?this.em(f,a):this.em(f,-1));this.xc.Jc(c);this.xc.Jc(d)};c.prototype.BC=function(c,a){for(;;)if(a=c.ge(a),-1!=a){var b=c.da(a);if(this.Pe(b)!=this.Pe(this.sa(b)))return b}else return-1};
c.prototype.Mp=function(c,a,b){void 0===b&&(b=!0);this.Ay(c,0,null,b)};c.prototype.tF=function(c,b){var d=new a.ga(0);d.add(b);this.Ay(c,4,d,1736==c.Lb(b))};c.prototype.uF=function(c,b){var d=new a.ga(0);d.add(b);this.Ay(c,5,d,!0)};c.prototype.xg=function(){null!=this.a&&(-1!=this.kp&&(this.a.tR(this.kp),this.kp=-1),-1!=this.Bl&&(this.a.bf(this.Bl),this.Bl=-1),-1!=this.lp&&(this.a.bf(this.lp),this.lp=-1),-1!=this.Md&&(this.kh(this.Md),this.Md=-1),-1!=this.Kf&&(this.kh(this.Kf),this.Kf=-1),-1!=this.eg&&
(this.kh(this.eg),this.eg=-1),this.a=null,this.Td.Nh(!0),this.Ig.Nh(!0),this.Zq=this.Be=-1,null!=this.xc&&this.xc.Nh(!0),null!=this.Yh&&(this.Yh.length=0),null!=this.Vh&&(this.Vh.length=0),null!=this.OD&&(this.OD.length=0),null!=this.je&&this.je.Nh(!0),this.Ek=-1,this.Pm=null)};c.prototype.te=function(c){return this.Td.O(c,2)};c.prototype.w=function(c,a){this.a.SC(this.uN(c),a)};c.prototype.md=function(c){return this.Td.O(c,1)};c.prototype.Bf=function(c){return this.Td.O(c,4)};c.prototype.mw=function(c){return this.Td.O(c,
6)};c.prototype.ol=function(c){return this.Td.O(c,7)};c.prototype.zq=function(c){return this.Ig.O(c,1)};c.prototype.Gi=function(c){return this.Ig.O(c,0)};c.prototype.Sf=function(c,a){a=this.Vh[a];return a.size<=c?-1:a.read(c)};c.prototype.fm=function(c,a,b){a=this.Vh[a];a.size<=c&&a.resize(this.Td.size,-1);a.write(c,b)};c.prototype.uo=function(){null==this.Vh&&(this.Vh=[]);for(var c=a.ga.Yc(this.Td.Xc,-1),b=0,d=this.Vh.length;b<d;b++)if(null==this.Vh[b])return this.Vh[b]=c,b;this.Vh.push(c);return this.Vh.length-
1};c.prototype.vo=function(c){this.Vh[c]=null};c.prototype.qj=function(c){return this.xc.O(c,1)};c.prototype.jf=function(c){return this.qj(this.sa(c))};c.prototype.sa=function(c){return this.xc.O(c,4)};c.prototype.fe=function(c){return this.xc.O(c,5)};c.prototype.Wb=function(c){return this.xc.O(c,6)};c.prototype.Pe=function(c){return this.xc.O(c,2)};c.prototype.Qe=function(c){return this.pj(this.xc.O(c,2))};c.prototype.ql=function(c){return this.xc.O(c,7)};c.prototype.tq=function(c,a){this.w(this.qj(c),
a)};c.prototype.pl=function(c,a){this.w(this.jf(c),a)};c.prototype.Gg=function(c){return this.xc.O(c,3)&this.EK};c.prototype.tb=function(c,a){a=this.Yh[a];return a.size<=c?-1:a.read(c)};c.prototype.Bb=function(c,a,b){a=this.Yh[a];a.size<=c&&a.resize(this.xc.size,-1);a.write(c,b)};c.prototype.Eg=function(){null==this.Yh&&(this.Yh=[]);for(var c=a.ga.Yc(this.xc.Xc,-1),b=0,d=this.Yh.length;b<d;b++)if(null==this.Yh[b])return this.Yh[b]=c,b;this.Yh.push(c);return this.Yh.length-1};c.prototype.kh=function(c){this.Yh[c]=
null};c.prototype.bM=function(c){var a=this.Pe(c),b=this.Wb(c);b==this.sa(c)&&(b=this.Wb(b),b==c&&(b=-1));this.pC(a)==c&&this.Gr(a,b);b=this.Pm.read(a);isNaN(b)||(this.xF(a,NaN),this.zF(a,NaN));this.Tu(c,!0);this.Wv(c)};c.prototype.cM=function(c){for(var a=0,b=c.size;a<b;a++){var d=c.get(a),f=this.Pe(this.sa(d));this.Gr(this.Pe(d),-1);this.Gr(f,-1);this.Tu(d,!0);this.Wv(d)}};c.prototype.pC=function(c){return this.je.O(c,1)};c.prototype.pj=function(c){return this.je.O(c,2)};c.prototype.ym=function(c){return this.je.O(c,
3)};c.prototype.tN=function(c){return this.je.O(c,4)};c.prototype.yo=function(c){var a=this.Pm.read(c);isNaN(a)&&(this.bT(c),a=this.Pm.read(c));return a};c.prototype.ya=function(c){return this.a.yC(c,this.kp)};c.prototype.se=function(c){return this.a.Ra(c,this.Bl)};c.prototype.GN=function(c){return this.a.Ra(c,this.lp)};c.prototype.FN=function(c,a){var b=this.te(c);if(-1==b)return-1;var d=b,f=-1,e=-1;do{if(this.jf(d)==a)return d;if(-1==f){f=this.te(a);if(-1==f)break;e=f}if(this.jf(e)==c)return d=
this.sa(e);d=this.Wb(this.sa(d));e=this.Wb(this.sa(e))}while(d!=b&&e!=f);return-1};c.prototype.iy=function(c,b){b.mq();b=b.get();var d=new a.b;this.tq(c,d);b.ed(d);this.pl(c,d);b.vd(d)};c.prototype.lL=function(c,b){if(c==b)return 0;var d=new a.b;this.pl(c,d);var f=new a.b;this.pl(b,f);if(d.ub(f))return 0;b=new a.b;this.tq(c,b);c=new a.b;c.pc(d,b);d=new a.b;d.pc(f,b);return a.b.cq(c,d)};c.prototype.kL=function(c,b){if(c==b)return 0;var d=new a.b;this.pl(c,d);var f=new a.b;this.pl(b,f);if(d.ub(f))return 0;
b=new a.b;this.tq(c,b);c=new a.b;c.pc(d,b);d=new a.b;d.pc(f,b);return 0<=d.y&&0<c.y?a.b.cq(c,d):0};c.prototype.ZK=function(){for(var c=a.vi.Ty(this.qx),b=new a.b,d=new a.b,e=new a.b,g=new a.b,h=new a.b,l=this.Be;-1!=l;l=this.Bf(l)){var m=this.te(l);if(-1!=m){var n=m;this.tq(n,b);this.pl(n,d);h.pc(d,b);var r=h.Up();do{var q=n,n=this.Wb(this.sa(n));if(n!=q){this.pl(n,e);g.pc(e,b);var q=g.Up(),v=g.Ai(h);if(v*v/(q*r)*Math.min(q,r)<=c)return!1;h.J(g);r=q;d.J(e)}}while(n!=m)}}return!0};return c}();a.gs=
b})(z||(z={}));(function(a){var b=function(){function b(){this.h=null;this.TD=new a.b;this.UD=new a.b;this.Qg=null;this.Gq=!1;this.Ym=-1}b.prototype.Te=function(a){return a<this.Qg.length?this.Qg[a]:!1};b.prototype.xm=function(b,c,f,e){var d=a.T.ve(this.h.a.Lb(f));if(2==a.T.ve(this.h.a.Lb(c))&&1==d)this.WL(b,c,f,e);else throw a.g.wa();};b.prototype.Mp=function(b,c){null==this.h&&(this.h=new a.gs);this.h.Mp(b,c)};b.prototype.Np=function(b,c,f){a.aj.$(b,c,f,!0);for(c=b.$c;-1!=c;c=b.we(c))1736==b.Lb(c)&&
a.mm.$(b,c,-1,this.Gq,f);this.Mp(b,f)};b.prototype.EB=function(a,c,b,e,g){var d=this.h.a;if(1736==d.Lb(a))for(a=d.Vb(a);-1!=a;a=d.bc(a)){var f=d.Cb(a);this.h.se(f);this.h.se(d.X(f));var k=this.h.GN(f);if(-1!=k){var h=this.h.tb(k,b);if(1!=h&&2!=h)if(this.Te(this.h.Qe(k))){this.h.Bb(k,b,1);var h=d.Cf(c,-1),l=k,m=this.h.se(f),r=1;do{var n=this.tl(f,g);d.zi(h,n);-1!=e&&this.h.fm(m,e,1);this.h.Bb(l,b,1);var l=this.h.Wb(l),q;do n=1==r?d.X(f):d.Ua(f),q=-1!=n?this.h.se(n):-1;while(q==m);var t=this.h.qj(l);
if(t!=q){do n=1==r?d.Ua(f):d.X(f),q=-1!=n?this.h.se(n):-1;while(q==m);t!=q?(q=t,n=this.h.Gi(this.h.ol(q))):r=-r}m=q;f=n}while(l!=k);d.Gn(h,!0)}else this.h.Bb(k,b,2)}}};b.prototype.UB=function(){for(var b=this.h.Eg(),c=new a.ga(0),f=this.h.Be;-1!=f;f=this.h.Bf(f)){var e=this.h.te(f),g=e;if(-1!=e){do{if(1!=this.h.tb(g,b)){var h=this.h.sa(g);this.h.Bb(h,b,1);this.h.Bb(g,b,1);this.Te(this.h.Qe(g))&&this.Te(this.h.Qe(h))&&c.add(g)}g=this.h.Wb(this.h.sa(g))}while(g!=e)}}this.h.kh(b);this.h.cM(c)};b.prototype.tl=
function(a,c){return-1==c?a:this.kO(a,c)};b.prototype.kO=function(a,c){var b=this.h.a,d,e,g=this.h.ol(this.h.se(a));do{d=this.h.Gi(g);e=b.Vf(b.rd(d));if(e==c)return d;g=this.h.zq(g)}while(-1!=g);return a};b.prototype.Xp=function(b,c,f){this.UB();var d=this.h.a,e=d.jg(1736),g=this.h.Eg();this.pG(b,c,e,f,g,-1);this.h.kh(g);a.mm.$(d,e,1,this.Gq,null);return e};b.prototype.pG=function(a,c,b,e,g,h){this.EB(a,b,g,h,e);-1!=c&&this.EB(c,b,g,h,e);a=this.h.a;for(c=this.h.Be;-1!=c;c=this.h.Bf(c)){var d=this.h.te(c);
if(-1!=d){var f=d;do{var k=this.h.tb(f,g);if(1!=k&&2!=k)if(this.Te(this.h.Qe(f))){var k=a.Cf(b,-1),l=f;do{var m=this.h.ql(l);-1!=m?m=this.h.Gi(m):(m=this.h.Gi(this.h.ql(this.h.sa(l))),m=this.h.a.X(m));m=this.tl(m,e);a.zi(k,m);this.h.Bb(l,g,1);-1!=h&&(m=this.h.se(m),this.h.fm(m,h,1));l=this.h.Wb(l)}while(l!=f);a.Gn(k,!0)}else this.h.Bb(f,g,2);f=this.h.Wb(this.h.sa(f))}while(f!=d)}}};b.prototype.RS=function(b,c,f){var d=this.h.a,e=d.jg(1736),g=d.jg(1607),h=d.jg(550);this.UB();var l=-1,m=this.h.Eg(),
r=this.h.uo();this.pG(b,c,e,f,m,r);for(b=this.h.Be;-1!=b;b=this.h.Bf(b))if(c=this.h.te(b),-1!=c){var n=c;do{var q=this.h.tb(n,m),v=this.h.tb(this.h.sa(n),m),q=q|v;if(2==q)if(q=this.h.Gg(n),this.Te(q)){var p=d.Cf(g,-1),w=n,q=this.Au(b,d),q=this.tl(q,f);d.zi(p,q);this.h.fm(b,r,1);do{q=this.h.jf(w);v=this.Au(q,d);v=this.tl(v,f);d.zi(p,v);this.h.Bb(w,m,1);this.h.Bb(this.h.sa(w),m,1);this.h.fm(q,r,1);w=this.h.Wb(w);q=this.h.tb(w,m);v=this.h.tb(this.h.sa(w),m);q|=v;if(2!=q)break;q=this.h.Gg(w);if(!this.Te(q)){this.h.Bb(w,
m,1);this.h.Bb(this.h.sa(w),m,1);break}}while(w!=n)}else this.h.Bb(n,m,1),this.h.Bb(this.h.sa(n),m,1);n=this.h.Wb(this.h.sa(n))}while(n!=c)}for(b=this.h.Be;-1!=b;b=this.h.Bf(b))q=this.h.Sf(b,r),1!=q&&(q=this.h.md(b),this.Te(q)&&(-1==l&&(l=d.Cf(h,-1)),c=this.h.ol(b),-1!=c&&(c=this.h.Gi(c),q=this.tl(c,f),d.zi(l,q))));this.h.vo(r);this.h.kh(m);a.mm.$(d,e,1,this.Gq,null);f=[];f[0]=h;f[1]=g;f[2]=e;return f};b.prototype.Au=function(a,c){var b=-1;for(a=this.h.ol(a);-1!=a;a=this.h.zq(a)){var d=this.h.Gi(a);
-1==b&&(b=d);var e=this.h.ya(c.Vf(c.rd(d)));if(this.Te(e)){b=d;break}}return b};b.prototype.fy=function(b,c){for(var d=this.h.qj(c),e=this.h.jf(c),g=0,h=0,l=this.h.ol(d);-1!=l;l=this.h.zq(l)){var m=this.h.Gi(l),n=b.rd(m),r=this.h.ya(b.Vf(n)),q=b.X(m),v=b.Ua(m),n=b.Cb(n);n==m&&(this.Ym=c);-1!=q&&this.h.se(q)==e?(g++,this.Te(r)&&(n==q&&(this.Ym=this.h.Wb(c)),h++)):-1!=v&&this.h.se(v)==e&&(g--,this.Te(r)&&(n==v&&(this.Ym=this.h.Wb(c)),h--))}this.h.w(d,this.TD);this.h.w(e,this.UD);d=a.b.Fb(this.TD,this.UD);
return(0!=h?h:g)*d};b.prototype.Ao=function(a){return this.h.Gg(a)|this.h.Qe(a)|this.h.Qe(this.h.sa(a))};b.prototype.sG=function(a){for(var c=this.h.sa(this.h.fe(a)),b=-1;c!=a;){if(this.Te(this.Ao(c))){if(-1!=b)return-1;b=c}c=this.h.sa(this.h.fe(c))}return-1!=b?this.h.sa(b):-1};b.prototype.tG=function(a){for(var c=this.h.sa(this.h.Wb(a)),b=-1;c!=a;){if(this.Te(this.Ao(c))){if(-1!=b)return-1;b=c}c=this.h.sa(this.h.Wb(c))}return-1!=b?this.h.sa(b):-1};b.prototype.jF=function(b,c,f,e,g){var d=this.h.a,
k=b,h=this.h.sa(k);this.h.Bb(k,f,1);this.h.Bb(h,f,1);var l=this.fy(d,k);this.Ym=-1;for(var m=k,n=-1,r=!1,q=1;;){var t=this.h.fe(k);if(t==h)break;h=this.h.Wb(h);if(this.h.sa(t)!=h)if(k=this.sG(k),-1==k)break;else r=!0,h=this.h.sa(k);else k=t;if(k==b){n=b;break}t=this.Ao(k);if(!this.Te(t))break;this.h.Bb(k,f,1);this.h.Bb(h,f,1);m=k;l+=this.fy(d,k);q++}if(-1==n)for(k=b,h=this.h.sa(k),n=k;;){b=this.h.Wb(k);if(b==h)break;h=this.h.fe(h);if(this.h.sa(b)!=h)if(k=this.tG(k),-1==k){r=!0;break}else h=this.h.sa(k);
else k=b;t=this.Ao(k);if(!this.Te(t))break;this.h.Bb(k,f,1);this.h.Bb(h,f,1);n=k;l+=this.fy(d,k);q++}else if(-1!=this.Ym&&(m=this.Ym,n=this.h.fe(this.Ym),this.h.sa(n)!=this.h.Wb(this.h.sa(m))&&(n=this.sG(m),-1==n)))throw a.g.wa();0<=l||(k=n,n=this.h.sa(m),m=this.h.sa(k));f=d.Cf(c,-1);k=m;m=this.h.qj(m);r=this.h.jf(n)==m&&r;l=this.Au(m,d);l=this.tl(l,g);d.zi(f,l);-1!=e&&this.h.fm(m,e,1);m=0;for(q=r?a.I.truncate((q+1)/2):-1;;){b=this.h.jf(k);l=this.Au(b,d);l=this.tl(l,g);d.zi(f,l);m++;-1!=e&&this.h.fm(b,
e,1);r&&m==q&&(f=d.Cf(c,-1),d.zi(f,l));if(k==n)break;b=this.h.Wb(k);if(this.h.fe(this.h.sa(k))!=this.h.sa(b)){if(k=this.tG(k),-1==k)throw a.g.wa();}else k=b}};b.prototype.Yp=function(a){for(var c=this.h.a.jg(1607),b=this.h.Eg(),d=this.h.Be;-1!=d;d=this.h.Bf(d)){var e=this.h.te(d),g=e;do 1!=this.h.tb(g,b)&&this.Te(this.Ao(g))&&this.jF(g,c,b,-1,a),g=this.h.Wb(this.h.sa(g));while(g!=e)}this.h.kh(b);return c};b.prototype.SS=function(a){for(var c=this.h.a,b=c.jg(1607),d=c.jg(550),e=this.h.Eg(),g=this.h.uo(),
h=-1,l=this.h.Be;-1!=l;l=this.h.Bf(l)){var m=this.h.te(l),n=m;do{var r=this.h.tb(n,e);1!=r&&(r=this.Ao(n),this.Te(r)&&this.jF(n,b,e,g,a));n=this.h.Wb(this.h.sa(n))}while(n!=m)}for(l=this.h.Be;-1!=l;l=this.h.Bf(l))r=this.h.Sf(l,g),1!=r&&(r=this.h.md(l),this.Te(r)&&(-1==h&&(h=c.Cf(d,-1)),m=this.h.ol(l),-1!=m&&(m=this.h.Gi(m),m=this.tl(m,a),c.zi(h,m))));this.h.kh(e);this.h.vo(g);a=[];a[0]=d;a[1]=b;return a};b.prototype.Pn=function(){for(var a=this.h.a,c=a.jg(550),b=a.Cf(c,-1),e=this.h.Be;-1!=e;e=this.h.Bf(e))if(this.Te(this.h.md(e))){for(var g=
-1,h=this.h.ol(e);-1!=h;h=this.h.zq(h)){var l=this.h.Gi(h);-1==g&&(g=l);var m=this.h.ya(a.Vf(a.rd(l)));if(this.Te(m)){g=l;break}}a.zi(b,g)}return c};b.prototype.Im=function(a){this.Qg=[];for(var c=0;c<a;c++)this.Qg[c]=!1};b.qF=function(b,c,f,e){var d=b.Pa(),g=Array(1E3);a.I.Ps(g,null);var k=a.I.Lh(1E3,0),h=b.F(),l=!0,m=2==c.fb();if(1!=c.fb()&&2!=c.fb())throw a.g.wa();for(var n=0;n<h;){var r=a.I.truncate(b.fR(g,n)-n);m?a.gd.nG(c,g,r,f,k):a.gd.oG(c,g,r,f,k);for(var q=0,v=0;v<r;v++){var p=0==k[v];e||
(p=!p);p&&(l&&(l=!1,d.Pd(b,0,n)),q!=v&&d.Pd(b,n+q,n+v),q=v+1)}l||q==r||d.Pd(b,n+q,n+r);n+=r}return l?b:d};b.jD=function(d,c,f){return d instanceof a.pe?b.qF(d,c,f,!0):c instanceof a.Va?d.s()||c.s()?d.Pa():a.aj.HE(f,d,c)?a.aj.gL(d,c):d.Pa():b.mG(d,c,f,!0)};b.mt=function(d,c,f,e){var g=new a.i;d.o(g);var k=new a.i;c.o(k);var h=new a.i;h.K(g);h.Db(k);f=a.Ia.zd(f,h,!0);h=new a.i;h.K(k);k=a.Ia.As(f);h.P(k,k);if(!g.jc(h)){if(d.fb()<=c.fb())return b.Cc(b.ob(d.Pa()),d,"\x26");if(d.fb()>c.fb())return b.Cc(b.ob(c.Pa()),
d,"\x26")}k=new b;g=new a.fd;h=g.Eb(b.ob(d));c=g.Eb(b.ob(c));k.Np(g,f,e);e=k.mt(h,c);d=b.Cc(g.hf(e),d,"\x26");a.T.Kc(d.D())&&(d.hg(2,f),1736==d.D()&&d.hl());return d};b.mG=function(b,c,f,e){if(b.s())return b.Pa();if(c.s())return e?b.Pa():null;var d=[null],g=[0],k=2==c.fb();if(1!=c.fb()&&2!=c.fb())throw a.g.wa();d[0]=b.w();k?a.gd.nG(c,d,1,f,g):a.gd.oG(c,d,1,f,g);c=0==g[0];e||(c=!c);return c?b.Pa():b};b.PT=function(d,c,f){return d instanceof a.pe?b.qF(d,c,f,!1):c instanceof a.Va?d.s()?d.Pa():c.s()?
d:a.aj.HE(f,d,c)?d.Pa():d:b.mG(d,c,f,!1)};b.prototype.ME=function(b,c,f,e,g){if(b.s())return b;var d=new a.fd;b=d.Eb(b);return this.Qj(d,b,c,f,e,g)};b.prototype.EQ=function(b,c,f,e,g,h){if(g&&550!=b.Lb(c)){var d=new a.aA;d.KS(b,f);d.og?(a.aj.$(b,f,h,!0),g=!1):this.h.Mv(f)}else a.aj.$(b,f,h,!0),g=!1;e&&550!=b.Lb(c)?this.h.uF(b,c):this.h.tF(b,c);if(this.h.tx)return this.h.xg(),this.h=null,this.Qj(b,c,f,e,!1,h);this.h.Mv(NaN);h=this.h.ya(c);this.Im(h+1);this.Qg[h]=!0;if(1736==b.Lb(c)||e&&550!=b.Lb(c))return b.Pp(c,
0),c=this.Xp(c,-1,-1),b=b.hf(c),b.Pp(0),g?b.hg(1,0):(b.hg(2,f),b.hl()),b;if(1607==b.Lb(c))return c=this.Yp(-1),b=b.hf(c),g||b.hg(2,f),b;if(550==b.Lb(c))return c=this.Pn(),b=b.hf(c),g||b.hg(2,f),b;throw a.g.wa();};b.prototype.Qj=function(b,c,f,e,g,h){this.h=new a.gs;try{return this.EQ(b,c,f,e,g,h)}finally{this.h.xg()}};b.Qj=function(a,c,f,e,g){return(new b).ME(a,c,f,e,g)};b.prototype.DQ=function(b,c,f){this.Gq=b;this.h=new a.gs;b=c.Cm(f);var d=c.Lb(f);1!=b||550==d?this.h.tF(c,f):this.h.uF(c,f);if(!this.h.tx)if(this.h.Mv(NaN),
d=this.h.ya(f),this.Im(d+1),this.Qg[d]=!0,1736==c.Lb(f)||1==b&&550!=c.Lb(f))c.Pp(f,0),b=this.Xp(f,-1,-1),c.Vy(b,f),c.sy(b);else if(1607==c.Lb(f))b=this.Yp(-1),c.Vy(b,f),c.sy(b);else if(550==c.Lb(f))b=this.Pn(),c.Vy(b,f),c.sy(b);else throw a.g.ra("internal error");};b.Ry=function(a,c,f,e){var d=new b;d.Gq=!0;return d.ME(a,c,!1,f,e)};b.prototype.ll=function(b,c){var d=a.T.ve(this.h.a.Lb(b)),e=a.T.ve(this.h.a.Lb(c));if(d>e)return b;var g=this.h.ya(b),h=this.h.ya(c);this.Im((g|h)+1);this.Qg[this.h.ya(b)]=
!0;if(2==d&&2==e)return this.Xp(b,c,-1);if(1==d&&2==e||1==d&&1==e)return this.Yp(-1);if(0==d)return this.Pn();throw a.g.wa();};b.prototype.TB=function(b,c){var d=a.T.ve(this.h.a.Lb(b)),e=a.T.ve(this.h.a.Lb(c));if(d>e)return b;if(d<e)return c;var g=this.h.ya(b),h=this.h.ya(c);this.Im((g|h)+1);this.Qg[this.h.ya(b)]=!0;this.Qg[this.h.ya(c)]=!0;this.Qg[this.h.ya(b)|this.h.ya(c)]=!0;if(2==d&&2==e)return this.Xp(b,c,-1);if(1==d&&1==e)return this.Yp(-1);if(0==d&&0==e)return this.Pn();throw a.g.wa();};b.prototype.mt=
function(b,c){var d=a.T.ve(this.h.a.Lb(b)),e=a.T.ve(this.h.a.Lb(c)),g=this.h.ya(b),h=this.h.ya(c);this.Im((g|h)+1);this.Qg[this.h.ya(b)|this.h.ya(c)]=!0;g=-1;1<this.h.a.wp.Aa&&(g=b);if(2==d&&2==e)return this.Xp(b,c,g);if(1==d&&0<e||1==e&&0<d)return this.Yp(g);if(0==d||0==e)return this.Pn();throw a.g.wa();};b.prototype.Uw=function(b,c){var d=a.T.ve(this.h.a.Lb(b)),e=a.T.ve(this.h.a.Lb(c)),g=this.h.ya(b),h=this.h.ya(c);this.Im((g|h)+1);this.Qg[this.h.ya(b)|this.h.ya(c)]=!0;g=-1;1<this.h.a.wp.Aa&&(g=
b);if(2==d&&2==e)return this.RS(b,c,g);if(1==d&&0<e||1==e&&0<d)return this.SS(g);if(0==d||0==e)return d=[],d[0]=this.Pn(),d;throw a.g.wa();};b.prototype.On=function(b,c){var d=a.T.ve(this.h.a.Lb(b)),e=a.T.ve(this.h.a.Lb(c)),g=this.h.ya(b),h=this.h.ya(c);this.Im((g|h)+1);this.Qg[this.h.ya(b)]=!0;this.Qg[this.h.ya(c)]=!0;if(2==d&&2==e)return this.Xp(b,c,-1);if(1==d&&1==e)return this.Yp(-1);if(0==d&&0==e)return this.Pn();throw a.g.wa();};b.ob=function(b){var c=b.D();return 197==c?(c=new a.Ka(b.description),
b.s()||c.Wc(b,!1),c):33==c?(c=new a.pe(b.description),b.s()||c.add(b),c):322==c?(c=new a.Xa(b.description),b.s()||c.Bc(b,!0),c):b};b.Cc=function(b,c,f){var d=b.D();return 197==d?(c=new a.Ka(b.description),b.s()||c.Wc(b,!1),c):33!=d||"|"!=f&&"^"!=f?322==d?(c=new a.Xa(b.description),b.s()||c.Bc(b,!0),c):33==d&&"-"==f&&33==c.D()||550==d&&"\x26"==f&&33==c.D()?(c=new a.Va(b.description),b.s()||b.Sd(0,c),c):b:(c=new a.pe(b.description),b.s()||c.add(b),c)};b.ll=function(d,c,f,e){if(d.s()||c.s()||d.fb()>
c.fb())return b.Cc(b.ob(d),d,"-");var g=new a.i;d.o(g);var k=new a.i;c.o(k);if(!g.jc(k))return b.Cc(b.ob(d),d,"-");var h=new a.i;h.K(g);h.Db(k);f=a.Ia.zd(f,h,!0);k=new b;g=new a.fd;h=g.Eb(b.ob(d));c=g.Eb(b.ob(c));k.Np(g,f,e);e=k.ll(h,c);e=g.hf(e);d=b.Cc(e,d,"-");a.T.Kc(d.D())&&(d.hg(2,f),1736==d.D()&&d.hl());return d};b.TB=function(d,c,f,e){if(d.fb()>c.fb())return b.Cc(b.ob(d),d,"|");if(d.fb()<c.fb()||d.s())return b.Cc(b.ob(c),d,"|");if(c.s())return b.Cc(b.ob(d),d,"|");var g=new a.i;d.o(g);var k=
new a.i;c.o(k);var h=new a.i;h.K(g);h.Db(k);f=a.Ia.zd(f,h,!0);if(!g.jc(k.IN(f,f)))switch(d=b.ob(d),c=b.ob(c),d.D()){case 550:return d=a.T.Yj(d),d.Pd(c,0,-1),d;case 1607:return d=a.T.Yj(d),d.add(c,!1),d;case 1736:return d=a.T.Yj(d),d.add(c,!1),d;default:throw a.g.wa();}k=new b;g=new a.fd;h=g.Eb(b.ob(d));c=g.Eb(b.ob(c));k.Np(g,f,e);c=k.TB(h,c);d=b.Cc(g.hf(c),d,"|");a.T.Kc(d.D())&&(d.hg(2,f),1736==d.D()&&d.hl());return d};b.oM=function(d,c,f){if(2>d.length)throw a.g.N("not enough geometries to dissolve");
for(var e=0,g=0,h=d.length;g<h;g++)e=Math.max(d[g].fb(),e);var l=new a.i;l.Ja();for(var m=new a.fd,n=-1,r=0,q=-1,g=0,h=d.length;g<h;g++)if(d[g].fb()==e)if(d[g].s())-1==q&&(q=g);else{q=g;-1==n?n=m.Eb(b.ob(d[g])):m.YJ(n,b.ob(d[g]));var v=new a.i;d[g].dd(v);l.Db(v);r++}if(2>r)return b.ob(d[q]);d=2==e;c=a.Ia.zd(0==e?c:null,l,!0);return(new b).Qj(m,n,c,d,!0,f)};b.Uw=function(d,c,f,e){var g=[null,null,null],k=new a.i;d.o(k);var h=new a.i;c.o(h);var l=new a.i;l.K(k);l.Db(h);f=a.Ia.zd(f,l,!0);l=new a.i;l.K(h);
h=a.Ia.As(f);l.P(h,h);if(!k.jc(l)){if(d.fb()<=c.fb())return d=b.Cc(b.ob(d.Pa()),d,"\x26"),g[d.fb()]=d,g;if(d.fb()>c.fb())return d=b.Cc(b.ob(c.Pa()),d,"\x26"),g[d.fb()]=d,g}h=new b;k=new a.fd;l=k.Eb(b.ob(d));c=k.Eb(b.ob(c));h.Np(k,f,e);e=h.Uw(l,c);for(c=0;c<e.length;c++)h=b.Cc(k.hf(e[c]),d,"\x26"),a.T.Kc(h.D())&&(h.hg(2,f),1736==h.D()&&h.hl()),g[h.fb()]=h;return g};b.On=function(d,c,f,e){if(d.fb()>c.fb())return b.Cc(b.ob(d),d,"^");if(d.fb()<c.fb()||d.s())return b.Cc(b.ob(c),d,"^");if(c.s())return b.Cc(b.ob(d),
d,"^");var g=new a.i;d.o(g);var k=new a.i;c.o(k);var h=new a.i;h.K(g);h.Db(k);f=a.Ia.zd(f,h,!0);k=new b;g=new a.fd;h=g.Eb(b.ob(d));c=g.Eb(b.ob(c));k.Np(g,f,e);e=k.On(h,c);d=b.Cc(g.hf(e),d,"^");a.T.Kc(d.D())&&(d.hg(2,f),1736==d.D()&&d.hl());return d};b.uT=function(b,c,f){c=c.D();f=f.D();return 550==b.D()&&(33==c||33==f)&&1>=b.F()?(f=new a.Va(b.description),b.s()||b.Sd(0,f),f):b};b.prototype.ZM=function(a,c){var b=this.h.a;a=b.Cf(a,-1);for(var d=c.size,e=0;e<d;e++){var g=c.get(e);b.zi(a,g)}b.Gn(a,!0)};
b.prototype.WR=function(a,c){for(var b=this.h.a,d=b.$c;-1!=d;d=b.we(d))if(d==c)for(var e=b.Vb(d);-1!=e;e=b.bc(e)){var g=b.Cb(e);if(-1!=g)for(var h=b.X(g);-1!=h;){var g=this.h.se(g),l=this.h.se(h),g=this.h.FN(g,l);-1!=g&&(l=this.h.sa(g),this.h.Bb(g,a,1),this.h.Bb(l,a,2));g=h;h=b.X(g)}}};b.prototype.XQ=function(b,c,f,e){f=this.h.ya(f);e=this.h.ya(e);var d=new a.ga(0);d.xb(256);for(var g=this.h.a,h=this.h.Eg(),k=this.h.Be;-1!=k;k=this.h.Bf(k)){var l=this.h.te(k);if(-1!=l){var m=l;do{if(1!=this.h.tb(m,
h)){var n=m,r=m,q=!1,v=0;do{this.h.Bb(n,h,1);if(!q){var p=this.h.Gg(n);0!=(p&e)&&0!=(this.h.Qe(n)&f)&&(r=n,q=!0)}q&&(d.add(this.h.Gi(this.h.ol(this.h.qj(n)))),-1!=b&&(p=this.h.Gg(n),0!=(p&e)&&(p=this.h.tb(n,b),v|=p)));n=this.h.Wb(n)}while(n!=r);q&&0<this.h.yo(this.h.Pe(r))&&(n=g.jg(1736),this.ZM(n,d),-1!=c&&g.EF(n,c,v));d.clear(!1)}m=this.h.Wb(this.h.sa(m))}while(m!=l)}}this.h.kh(h)};b.prototype.WL=function(a,c,b,e){this.h.uR();var d=-1;-1!=a&&(d=this.h.Eg(),this.WR(d,b));this.XQ(d,a,c,b);var f=this.h.a;
a=0;for(d=f.$c;-1!=d;d=f.we(d))d!=c&&d!=b&&(e.add(d),a++);e.xd(0,a,function(c,a){c=f.Gw(f.Vb(c));a=f.Gw(f.Vb(a));return c<a?-1:c==a?0:1})};b.prototype.xg=function(){null!=this.h&&(this.h.xg(),this.h=null)};return b}();a.Of=b})(z||(z={}));(function(a){var b=function(){function b(a){void 0!==a?this.Ly(a):this.IF()}b.prototype.Lu=function(){this.Ob=this.Nb=this.sb=this.rb=this.eb=this.mb=0};b.prototype.lc=function(a){return this==a?!0:a instanceof b?this.mb==a.mb&&this.rb==a.rb&&this.Nb==a.Nb&&this.sb==
a.sb&&this.eb==a.eb&&this.Ob==a.Ob:!1};b.prototype.hc=function(){a.I.Rh();a.I.Rh();a.I.Rh();a.I.Rh();a.I.Rh();return a.I.Rh()};b.prototype.Zi=function(a,c){var b=this.sb*a.x+this.eb*a.y+this.Ob;c.x=this.mb*a.x+this.rb*a.y+this.Nb;c.y=b};b.prototype.multiply=function(a){b.multiply(this,a,this)};b.multiply=function(a,c,b){var d,f,e,g,h;d=a.mb*c.mb+a.sb*c.rb;f=a.rb*c.mb+a.eb*c.rb;e=a.Nb*c.mb+a.Ob*c.rb+c.Nb;g=a.mb*c.sb+a.sb*c.eb;h=a.rb*c.sb+a.eb*c.eb;a=a.Nb*c.sb+a.Ob*c.eb+c.Ob;b.mb=d;b.rb=f;b.Nb=e;b.sb=
g;b.eb=h;b.Ob=a};b.prototype.vm=function(){var a=new b;a.mb=this.mb;a.rb=this.rb;a.Nb=this.Nb;a.sb=this.sb;a.eb=this.eb;a.Ob=this.Ob;return a};b.prototype.$y=function(b){if(!b.s()){for(var c=[],d=0;4>d;d++)c[d]=new a.b;b.hy(c);this.US(c,c);b.Ey(c,4)}};b.prototype.US=function(b,c){for(var d=0;d<b.length;d++){var e=new a.b,g=b[d];e.x=this.mb*g.x+this.rb*g.y+this.Nb;e.y=this.sb*g.x+this.eb*g.y+this.Ob;c[d]=e}};b.prototype.wO=function(a,c){a.s()||c.s()||0==a.aa()||0==a.ba()?this.Lu():(this.rb=this.sb=
0,this.mb=c.aa()/a.aa(),this.eb=c.ba()/a.ba(),this.Nb=c.v-a.v*this.mb,this.Ob=c.C-a.C*this.eb)};b.prototype.TS=function(b){var c=new a.b,d=new a.b;c.ma(this.mb,this.sb);d.ma(this.rb,this.eb);c.sub(c);var e=.5*c.Up();c.ma(this.mb,this.sb);d.ma(this.rb,this.eb);c.add(d);c=.5*c.Up();return b*(e>c?Math.sqrt(e):Math.sqrt(c))};b.prototype.IF=function(){this.mb=1;this.sb=this.Nb=this.rb=0;this.eb=1;this.Ob=0};b.prototype.XO=function(){return 1==this.mb&&1==this.eb&&0==this.rb&&0==this.Nb&&0==this.sb&&0==
this.Ob};b.prototype.mg=function(a){return Math.abs(this.mb*this.eb-this.sb*this.rb)<=2*a*(Math.abs(this.mb*this.eb)+Math.abs(this.sb*this.rb))};b.prototype.Nn=function(a,c){this.mb=1;this.rb=0;this.Nb=a;this.sb=0;this.eb=1;this.Ob=c};b.prototype.Ly=function(a,c){void 0!==c?(this.mb=a,this.sb=this.Nb=this.rb=0,this.eb=c,this.Ob=0):this.Ly(a,a)};b.prototype.Oy=function(){this.mb=0;this.rb=1;this.Nb=0;this.sb=1;this.Ob=this.eb=0};b.prototype.jS=function(a){this.kS(Math.cos(a),Math.sin(a))};b.prototype.kS=
function(a,c){this.mb=a;this.rb=-c;this.Nb=0;this.sb=c;this.eb=a;this.Ob=0};b.prototype.shift=function(a,c){this.Nb+=a;this.Ob+=c};b.prototype.scale=function(a,c){this.mb*=a;this.rb*=a;this.Nb*=a;this.sb*=c;this.eb*=c;this.Ob*=c};b.prototype.rotate=function(a){var c=new b;c.jS(a);this.multiply(c)};b.prototype.inverse=function(a){if(void 0!==a){var c=this.mb*this.eb-this.rb*this.sb;0==c?a.Lu():(c=1/c,a.Nb=(this.rb*this.Ob-this.Nb*this.eb)*c,a.Ob=(this.Nb*this.sb-this.mb*this.Ob)*c,a.mb=this.eb*c,a.rb=
-this.rb*c,a.sb=-this.sb*c,a.eb=this.mb*c)}else this.inverse(this)};return b}();a.Bg=b})(z||(z={}));(function(a){var b=function(){function b(){}b.prototype.Lu=function(){this.fh=this.Ob=this.Nb=this.Le=this.Ie=this.He=this.Ke=this.eb=this.rb=this.ef=this.sb=this.mb=0};b.prototype.Ly=function(a,c,b){this.mb=a;this.rb=this.ef=this.sb=0;this.eb=c;this.Ie=this.He=this.Ke=0;this.Le=b;this.fh=this.Ob=this.Nb=0};b.prototype.$y=function(b){if(b.s())return b;for(var c=new a.ee[8],d=0;8>d;d++)c[d]=new a.ee;
b.hy(c);this.transform(c,8,c);b.Ey(c);return b};b.prototype.transform=function(b,c,f){for(var d=0;d<c;d++){var e=new a.ee,g=b[d];e.x=this.mb*g.x+this.rb*g.y+this.He*g.z+this.Nb;e.y=this.sb*g.x+this.eb*g.y+this.Ie*g.z+this.Ob;e.z=this.ef*g.x+this.Ke*g.y+this.Le*g.z+this.fh;f[d]=e}};b.prototype.Qn=function(b){var c=new a.ee;c.x=this.mb*b.x+this.rb*b.y+this.He*b.z+this.Nb;c.y=this.sb*b.x+this.eb*b.y+this.Ie*b.z+this.Ob;c.z=this.ef*b.x+this.Ke*b.y+this.Le*b.z+this.fh;return c};b.prototype.Ap=function(a){b.multiply(this,
a,this)};b.multiply=function(a,c,b){var d,f,e,g,h,l,m,n,r,q,v;d=a.mb*c.mb+a.sb*c.rb+a.ef*c.He;f=a.mb*c.sb+a.sb*c.eb+a.ef*c.Ie;e=a.mb*c.ef+a.sb*c.Ke+a.ef*c.Le;g=a.rb*c.mb+a.eb*c.rb+a.Ke*c.He;h=a.rb*c.sb+a.eb*c.eb+a.Ke*c.Ie;l=a.rb*c.ef+a.eb*c.Ke+a.Ke*c.Le;m=a.He*c.mb+a.Ie*c.rb+a.Le*c.He;n=a.He*c.sb+a.Ie*c.eb+a.Le*c.Ie;r=a.He*c.ef+a.Ie*c.Ke+a.Le*c.Le;q=a.Nb*c.mb+a.Ob*c.rb+a.fh*c.He+c.Nb;v=a.Nb*c.sb+a.Ob*c.eb+a.fh*c.Ie+c.Ob;a=a.Nb*c.ef+a.Ob*c.Ke+a.fh*c.Le+c.fh;b.mb=d;b.sb=f;b.ef=e;b.rb=g;b.eb=h;b.Ke=
l;b.He=m;b.Ie=n;b.Le=r;b.Nb=q;b.Ob=v;b.fh=a};b.inverse=function(b,c){var d=b.mb*(b.eb*b.Le-b.Ke*b.Ie)-b.sb*(b.rb*b.Le-b.Ke*b.He)+b.ef*(b.rb*b.Ie-b.eb*b.He);if(0!=d){var e,g,h,l,m,n,r,q,v,p;q=1/d;d=(b.eb*b.Le-b.Ke*b.Ie)*q;h=-(b.rb*b.Le-b.Ke*b.He)*q;n=(b.rb*b.Ie-b.eb*b.He)*q;e=-(b.sb*b.Le-b.Ie*b.ef)*q;l=(b.mb*b.Le-b.ef*b.He)*q;r=-(b.mb*b.Ie-b.sb*b.He)*q;g=(b.sb*b.Ke-b.ef*b.eb)*q;m=-(b.mb*b.Ke-b.ef*b.rb)*q;q*=b.mb*b.eb-b.sb*b.rb;v=-(b.Nb*d+b.Ob*h+b.fh*n);p=-(b.Nb*e+b.Ob*l+b.fh*r);b=-(b.Nb*g+b.Ob*m+b.fh*
q);c.mb=d;c.sb=e;c.ef=g;c.rb=h;c.eb=l;c.Ke=m;c.He=n;c.Ie=r;c.Le=q;c.Nb=v;c.Ob=p;c.fh=b}else throw a.g.ra("math singularity");};b.prototype.vm=function(){var a=new b;a.mb=this.mb;a.sb=this.sb;a.ef=this.ef;a.rb=this.rb;a.eb=this.eb;a.Ke=this.Ke;a.He=this.He;a.Ie=this.Ie;a.Le=this.Le;a.Nb=this.Nb;a.Ob=this.Ob;a.fh=this.fh;return a};return b}();a.ZT=b})(z||(z={}));(function(a){var b=function(b){function c(c){if(void 0!==c)b.call(this,c.hc(),c);else{b.call(this);this.Jf=[];this.Jf[0]=0;this.Aa=1;this.Wg=
[];for(c=0;10>c;c++)this.Wg[c]=-1;this.Wg[this.Jf[0]]=0}this.To=!0}K(c,b);c.prototype.Ne=function(c){this.hasAttribute(c)||(this.Wg[c]=0,this.xA())};c.prototype.removeAttribute=function(c){if(0==c)throw a.g.N("Position attribue cannot be removed");this.hasAttribute(c)&&(this.Wg[c]=-1,this.xA())};c.prototype.reset=function(){this.Jf[0]=0;this.Aa=1;for(var c=0;c<this.Wg.length;c++)this.Wg[c]=-1;this.Wg[this.Jf[0]]=0;this.To=!0};c.prototype.qw=function(){return e.ww().add(this)};c.Tf=function(){return e.ww().iO()};
c.Zn=function(){return e.ww().jO()};c.prototype.pJ=function(){var c=this.hc();return new a.pa(c,this)};c.prototype.xA=function(){for(var c=this.Aa=0,a=0;10>c;c++)0<=this.Wg[c]&&(this.Jf[a]=c,this.Wg[c]=a,a++,this.Aa++);this.To=!0};c.prototype.hc=function(){this.To&&(this.tk=this.jj(),this.To=!1);return this.tk};c.prototype.lc=function(a){if(null==a)return!1;if(a==this)return!0;if(!(a instanceof c)||a.Aa!=this.Aa)return!1;for(var b=0;b<this.Aa;b++)if(this.Jf[b]!=a.Jf[b])return!1;return this.To!=a.To?
!1:!0};c.prototype.qD=function(c){if(c.Aa!=this.Aa)return!1;for(var a=0;a<this.Aa;a++)if(this.Jf[a]!=c.Jf[a])return!1;return!0};c.iu=function(c,a){for(var b=[],d=0;d<c.Aa;d++)b[d]=-1;for(var d=0,f=c.Aa;d<f;d++)b[d]=a.zf(c.Hd(d));return b};c.PN=function(a,b){a=new c(a);a.Ne(b);return a.qw()};c.QN=function(a,b){for(var d=null,f=0;10>f;f++)!a.hasAttribute(f)&&b.hasAttribute(f)&&(null==d&&(d=new c(a)),d.Ne(f));return null!=d?d.qw():a};c.bo=function(a,b){a=new c(a);a.removeAttribute(b);return a.qw()};
return c}(a.pa);a.Od=b;var e=function(){function a(){this.map=[];var c=new b;this.add(c);c=new b;c.Ne(1);this.add(c)}a.ww=function(){return a.lI};a.prototype.iO=function(){return a.Yn};a.prototype.jO=function(){return a.Zn};a.prototype.add=function(c){var b=c.hc();if(null!=a.Yn&&a.Yn.hc()==b&&c.qD(a.Yn))return a.Yn;if(null!=a.Zn&&a.Zn.hc()==b&&c.qD(a.Zn))return a.Zn;var d=null;void 0!==this.map[b]&&(d=this.map[b]);null==d&&(d=c.pJ(),1==d.Aa?a.Yn=d:2==d.Aa&&1==d.Hd(1)?a.Zn=d:this.map[b]=d);return d};
a.lI=new a;return a}()})(z||(z={}));var N=0==u.version.indexOf("4."),T;(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area";a[a.LinearOrAngular=3]="LinearOrAngular"})(T||(T={}));var da={feet:9002,kilometers:9036,meters:9001,miles:9035,"nautical-miles":9030,yards:9096},Z={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},fa={degrees:9102,radians:9101};void 0===m.prototype.getCacheValue&&
g.extend(m,{cache:null,getCacheValue:function(a){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[a]},setCacheValue:function(a,b){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[a]=b}});var P=z.Nf.create(4326),aa=z.Nf.create(102100);return function(){function b(){}b.extendedSpatialReferenceInfo=function(a){if(null===a)return null;a=E(a);var b=a.Se();return{tolerance:a.xq(),unitType:null==b?-1:b.Nc,unitID:null==b?-1:b.Qc(),unitBaseFactor:null==b?0:b.Dj,unitSquareDerivative:null==
b?0:z.Tb.PC(b).Qc()}};b.clip=function(a,b){if(null===a)return null;b=z.Pb.clip(B(a),B(b),J(a));return x(b,a.spatialReference)};b.cut=function(a,b){b=B(b);b=z.Pb.xm(B(a),b,J(a));for(var d=[],c=0;c<b.length;c++)d.push(x(b[c],a.spatialReference));return d};b.contains=function(a,b){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.contains(B(a),B(b),J(a))};b.crosses=function(a,b){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.VL(B(a),B(b),J(a))};
b.distance=function(a,b,d){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.Fb(B(a),B(b),J(a),z.Tb.Qd(v(d,3)))};b.equals=function(a,b){return null===a&&null!==b||null===b&&null!==a?!1:z.Pb.lc(B(a),B(b),J(a))};b.intersects=function(a,b){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.RO(B(a),B(b),J(a))};b.touches=function(a,b){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.touches(B(a),B(b),J(a))};b.within=function(a,
b){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.jT(B(a),B(b),J(a))};b.disjoint=function(a,b){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.nM(B(a),B(b),J(a))};b.overlaps=function(a,b){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.tQ(B(a),B(b),J(a))};b.relate=function(a,b,d){if(null===a||null===b)throw Error("Illegal Argument Exception");return z.Pb.py(B(a),B(b),J(a),d)};b.isSimple=function(a){if(null===a)throw Error("Illegal Argument Exception");
return z.Pb.cP(B(a),J(a))};b.simplify=function(a){if(null===a)throw Error("Illegal Argument Exception");var b=z.Pb.Qy(B(a),J(a));return x(b,a.spatialReference)};b.convexHull=function(a,e){void 0===e&&(e=!1);if(null===a)throw Error("Illegal Argument Exception");return a instanceof m?(e=z.Pb.JL(B(a),J(a)),x(e,a.spatialReference)):b.NI(a,e)};b.NI=function(a,b){for(var d=[],c=0;c<a.length;c++)d.push(B(a[c]));d=z.Pb.KL(d,b);for(c=0;c<d.length;c++)d[c]=x(d[c],a[0].spatialReference);return d};b.difference=
function(a,e){if(null===a||null===e)throw Error("Illegal Argument Exception");return a instanceof m?(e=z.Pb.ll(B(a),B(e),J(a)),x(e,a.spatialReference)):b.XL(a,e)};b.XL=function(a,b){for(var d=[],c=0;c<a.length;c++)d.push(B(a[c]));d=z.Pb.kM(d,B(b),J(b));for(c=0;c<d.length;c++)d[c]=x(d[c],b.spatialReference);return d};b.symmetricDifference=function(a,e){if(null===a||null===e)throw Error("Illegal Argument Exception");return a instanceof m?(e=z.Pb.On(B(a),B(e),J(a)),x(e,a.spatialReference)):b.tO(a,e)};
b.tO=function(a,b){for(var d=[],c=0;c<a.length;c++)d.push(B(a[c]));d=z.Pb.MS(d,B(b),J(b));for(c=0;c<d.length;c++)d[c]=x(d[c],b.spatialReference);return d};b.intersect=function(a,e){if(null===a||null===e)throw Error("Illegal Argument Exception");return a instanceof m?(e=z.Pb.Ga(B(a),B(e),J(a)),x(e,a.spatialReference)):b.EM(a,e)};b.EM=function(a,b){for(var d=[],c=0;c<a.length;c++)d.push(B(a[c]));d=z.Pb.QO(d,B(b),J(b));for(c=0;c<d.length;c++)d[c]=x(d[c],b.spatialReference);return d};b.union=function(a,
b){void 0===b&&(b=null);if(null===a)return null;a instanceof m&&(a=[a],null!==b&&a.push(b));if(0===a.length)return null;b=[];for(var d=0;d<a.length;d++)b.push(B(a[d]));return x(z.Pb.aT(b,J(a[0])),a[0].spatialReference)};b.offset=function(a,e,d,c,f,g){var h=0;if(null!=c&&void 0!=c)switch(c){case "round":h=0;break;case "bevel":h=1;break;case "miter":h=2;break;case "square":h=3}return a instanceof m?(e=z.Pb.offset(B(a),J(a),e,h,f,g,z.Tb.Qd(v(d,3))),x(e,a.spatialReference)):b.qO(a,e,d,h,f,g)};b.qO=function(a,
b,d,c,f,e){if(null===a)return null;if(0===a.length)return[];for(var g=[],h=0;h<a.length;h++)g.push(B(a[h]));b=z.Pb.sQ(g,J(a[0]),b,c,f,e,z.Tb.Qd(v(d,3)));for(h=0;h<b.length;h++)b[h]=x(b[h],a[0].spatialReference);return b};b.buffer=function(a,e,d,c){void 0===c&&(c=!1);if(a instanceof m)return e=z.Pb.buffer(B(a),J(a),e,z.Tb.Qd(v(d,3)),!1,0,NaN),x(e,a.spatialReference);if("[object Array]"!==Object.prototype.toString.call(e)){for(var f=[],g=0;g<a.length;g++)f.push(e);e=f}if(e.length!=a.length){if(0==e.length)throw Error("Illegal Argument Exception");
for(var f=[],h=0,g=0;g<a.length;g++)void 0===e[g]?f.push(h):(f.push(e[g]),h=e[g]);e=f}return b.vG(a,e,d,!1,c,"geodesic",NaN)};b.geodesicBuffer=function(a,e,d,c,f,g){if(a instanceof m)return void 0===f&&(f=NaN),e=z.Pb.buffer(B(a),J(a),e,z.Tb.Qd(v(d,0)),!0,w(c),f),x(e,a.spatialReference);if("[object Array]"!==Object.prototype.toString.call(e)){for(var h=[],k=0;k<a.length;k++)h.push(e);e=h}if(e.length!=a.length){if(0==e.length)throw Error("Illegal Argument Exception");for(var h=[],l=0,k=0;k<a.length;k++)void 0===
e[k]?h.push(l):(h.push(e[k]),l=e[k]);e=h}return b.vG(a,e,d,!0,c,f,g)};b.vG=function(a,b,d,c,f,e,g){if(null===a)return null;if(0===a.length)return[];void 0===g&&(g=NaN);for(var h=[],k=0;k<a.length;k++)h.push(B(a[k]));b=z.Pb.rK(h,J(a[0]),b,z.Tb.Qd(v(d,0)),c,f,w(e),g);for(k=0;k<b.length;k++)b[k]=x(b[k],a[0].spatialReference);return b};b.nearestCoordinate=function(a,b,d){void 0===d&&(d=!0);b=z.Pb.zw(B(a),B(b),d);return{coordinate:x(b.pw(),a.spatialReference),distance:b.sw(),isRightSide:b.Xw(),vertexIndex:b.gb(),
isEmpty:b.s()}};b.nearestVertex=function(a,b){b=z.Pb.Aw(B(a),B(b));return{coordinate:x(b.pw(),a.spatialReference),distance:b.sw(),isRightSide:b.Xw(),vertexIndex:b.gb(),isEmpty:b.s()}};b.nearestVertices=function(a,b,d,c){b=B(b);d=z.Pb.Bw(B(a),b,d,c);c=[];for(b=0;b<d.length;b++)!1===d[b].s()&&c.push({coordinate:x(d[b].pw(),a.spatialReference),distance:d[b].sw(),isRightSide:d[b].Xw(),vertexIndex:d[b].gb(),isEmpty:d[b].s()});return c};b.generalize=function(a,b,d,c){b=z.Pb.fN(B(a),J(a),b,d,z.Tb.Qd(v(c,
3)));return x(b,a.spatialReference)};b.densify=function(a,b,d){b=z.Pb.oq(B(a),J(a),b,z.Tb.Qd(v(d,3)));return x(b,a.spatialReference)};b.geodesicDensify=function(a,b,d,c){void 0===c&&(c=0);b=z.Pb.fw(B(a),J(a),b,z.Tb.Qd(v(d,3)),c);return x(b,a.spatialReference)};b.rotate=function(b,e,d){if(void 0===d||null===d)switch(b.type){case "point":d=b;break;case "extent":d=N?b.get("center"):b.getCenter();break;default:d=N?b.get("extent").get("center"):b.getExtent().getCenter()}e=N?z.Wn.rotate(b.toJSON(),e,d.toJSON()):
z.Wn.rotate(b.toJson(),e,d.toJson());N?(e=r(e),e.set("spatialReference",b.spatialReference)):(e=a(e),e.setSpatialReference(b.spatialReference));return e};b.flipHorizontal=function(b,e){if(void 0===e||null===e)switch(b.type){case "point":e=b;break;case "extent":e=N?b.get("center"):b.getCenter();break;default:e=N?b.get("extent").get("center"):b.getExtent().getCenter()}e=N?z.Wn.eC(b.toJSON(),e.toJSON()):z.Wn.eC(b.toJson(),e.toJson());N?(e=r(e),e.set("spatialReference",b.spatialReference)):(e=a(e),e.setSpatialReference(b.spatialReference));
return e};b.flipVertical=function(b,e){if(void 0===e||null===e)switch(b.type){case "point":e=b;break;case "extent":e=N?b.get("center"):b.getCenter();break;default:e=N?b.get("extent").get("center"):b.getExtent().getCenter()}e=N?z.Wn.fC(b.toJSON(),e.toJSON()):z.Wn.fC(b.toJson(),e.toJson());N?(e=r(e),e.set("spatialReference",b.spatialReference)):(e=a(e),e.setSpatialReference(b.spatialReference));return e};b.planarArea=function(a,b){if(null===a)throw Error("Illegal Argument Exception");return z.Pb.BQ(B(a),
J(a),z.Tb.Qd(v(b,2)))};b.planarLength=function(a,b){if(null===a)throw Error("Illegal Argument Exception");return z.Pb.CQ(B(a),J(a),z.Tb.Qd(v(b,3)))};b.geodesicArea=function(a,b,d){if(null===a)throw Error("Illegal Argument Exception");return z.Pb.jN(B(a),J(a),z.Tb.Qd(v(b,2)),w(d))};b.geodesicLength=function(a,b,d){if(null===a)throw Error("Illegal Argument Exception");return z.Pb.nN(B(a),J(a),z.Tb.Qd(v(b,0)),w(d))};return b}()})},"esri/widgets/support/AnchorElementViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/watchUtils ../../core/Accessor ../../core/Evented ../../core/HandleRegistry ../../core/watchUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g){return function(a){function l(){var e=a.call(this)||this;return e._anchorHandles=new b,e.location=null,e.screenLocation=null,e.screenLocationEnabled=!1,e.view=null,e._anchorHandles.add([g.watch(e,"screenLocationEnabled,location,view.size",function(){return e._updateScreenPointAndHandle()}),g.watch(e,"view, view.ready",function(){return e._wireUpView()})]),e}return u(l,a),l.prototype.destroy=function(){this.view=null;this._anchorHandles&&this._anchorHandles.destroy();
this._viewpointHandle=this._anchorHandles=null},l.prototype._wireUpView=function(){var a=this;this._anchorHandles.remove("view");this._viewpointHandle=null;if(this.get("view.ready")){this._setScreenLocation();var b=this.view,b=e.pausable(b,"3d"===b.type?"camera":"viewpoint",function(){return a._viewpointChange()});this._anchorHandles.add(b,"view");this._viewpointHandle=b;this._toggleWatchingViewpoint()}},l.prototype._viewpointChange=function(){this._setScreenLocation();this.emit("view-change")},l.prototype._updateScreenPointAndHandle=
function(){this._setScreenLocation();this._toggleWatchingViewpoint()},l.prototype._toggleWatchingViewpoint=function(){var a=this._viewpointHandle,b=this.location,e=this.screenLocationEnabled;a&&(b&&e?a.resume():a.pause())},l.prototype._setScreenLocation=function(){var a=this.location,b=this.view,e=this.screenLocationEnabled,g=this.get("view.ready"),a=e&&a&&g?b.toScreen(a):null;this._set("screenLocation",a)},m([h.property()],l.prototype,"location",void 0),m([h.property({readOnly:!0})],l.prototype,
"screenLocation",void 0),m([h.property()],l.prototype,"screenLocationEnabled",void 0),m([h.property()],l.prototype,"view",void 0),l=m([h.subclass("esri.widgets.support.AnchorElementViewModel")],l)}(h.declared(q,l))})},"esri/widgets/Spinner":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./support/widget ../core/accessorSupport/decorators ./Widget ../core/promiseUtils ../core/watchUtils ./support/AnchorElementViewModel".split(" "),function(y,
p,u,m,h,e,q,l,b,g){return function(a){function r(b){b=a.call(this)||this;return b._animationDelay=500,b._animationPromise=null,b.location=null,b.view=null,b.visible=!1,b.viewModel=new g,b}return u(r,a),r.prototype.postInitialize=function(){var a=this;this.own([b.watch(this,"visible",function(b){return a._visibleChange(b)})])},r.prototype.destroy=function(){this._cancelAnimationPromise()},r.prototype.show=function(a){var b=this,e=a.location;a=a.promise;e&&(this.viewModel.location=e);this.visible=!0;
a&&a.always(function(){return b.hide()})},r.prototype.hide=function(){this.visible=!1},r.prototype.render=function(){var a=this.visible,b=!!this.viewModel.screenLocation,a=(e={},e["esri-spinner--start"]=a&&b,e["esri-spinner--finish"]=!a&&b,e),e=this._getPositionStyles();return h.tsx("div",{"class":"esri-spinner",classes:a,styles:e});var e},r.prototype._cancelAnimationPromise=function(){this._animationPromise&&(this._animationPromise.cancel(),this._animationPromise=null)},r.prototype._visibleChange=
function(a){var b=this;return a?void(this.viewModel.screenLocationEnabled=!0):(this._cancelAnimationPromise(),void(this._animationPromise=l.after(this._animationDelay).then(function(){b.viewModel.screenLocationEnabled=!1;b._animationPromise=null})))},r.prototype._getPositionStyles=function(){var a=this.viewModel.screenLocation;return a?{left:a.x+"px",top:a.y+"px"}:{}},m([e.aliasOf("viewModel.location")],r.prototype,"location",void 0),m([e.aliasOf("viewModel.view")],r.prototype,"view",void 0),m([e.property(),
h.renderable()],r.prototype,"visible",void 0),m([e.property({type:g}),h.renderable(["viewModel.screenLocation","viewModel.screenLocationEnabled"])],r.prototype,"viewModel",void 0),r=m([e.subclass("esri.widgets.Spinner")],r)}(e.declared(q))})},"esri/views/PopupManager":function(){define("require ../core/promiseUtils dojo/_base/array dojo/on dojo/Deferred dojo/promise/all ../layers/support/layerUtils ../geometry/support/scaleUtils ../geometry/Extent ../tasks/support/Query ../layers/GroupLayer ../core/Accessor".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r){var v;return r.createSubclass({declaredClass:"esri.views.PopupManager",properties:{map:{dependsOn:["view.map"],readOnly:!0}},constructor:function(){this._featureLayersCache={}},destroy:function(){this._featureLayersCache={};this.view=null},_clickHandle:null,_featureLayersCache:null,enabled:!1,_enabledSetter:function(a){this._clickHandle&&(a?this._clickHandle.resume():this._clickHandle.pause());this._set("enabled",a)},_mapGetter:function(){return this.get("view.map")||
null},view:null,_viewSetter:function(a){this._clickHandle&&(this._clickHandle.remove(),this._clickHandle=null);a&&(this._clickHandle=m.pausable(a,"click",this._clickHandler.bind(this)),this.enabled||this._clickHandle.pause());this._set("view",a)},getMapLayer:function(a){var b;if(a&&(b=a.findLayerById())&&(a=b.id,this._featureLayersCache[a])){var e=a.lastIndexOf("_");-1<e&&(a=a.substring(0,e),b=this.map.findLayerById(a))}return b},_closePopup:function(){var a=this.get("view.popup");a&&(a.clear(),a.close())},
_showPopup:function(e,m,r){function q(a){return x.allLayerViews.find(function(b){return b.layer===a})}function v(a){if(null==a)return!1;var b=q(a);return null==b?!1:a.loaded&&!b.suspended&&(a.popupEnabled&&a.popupTemplate||"graphics"===a.type||"geo-rss"===a.type||"map-notes"===a.type||"kml"===a.type||b.getPopupData)}function w(a){return(a=q(a))&&a.hasDraped}var x=this.view;e=x.popup;var D=this,y=[],I="3d"===x.type;u.forEach(this.map.layers.toArray(),function(b){b.isInstanceOf(a)?u.forEach(b.layers.toArray(),
function(a){!v(a)||I&&!w(a)||y.push(a)}):!v(b)||I&&!w(b)||y.push(b)});0<x.graphics.length&&y.push(x.graphics);if((r&&x.graphics.includes(r)?!r.popupTemplate:r&&!v(r.layer))&&(r=null),!y.length&&!r)return void D._closePopup();var Q=[],O=!!r,Y=D._calculateClickTolerance(y);if(!m)return void D._closePopup();var N=1;"2d"===x.type&&(N=x.state.resolution);var T=x.basemapTerrain;T&&T.overlayManager&&(N=T.overlayManager.overlayPixelSizeInMapUnits(m));Y*=N;T&&!T.spatialReference.equals(x.spatialReference)&&
(Y*=l.getMetersPerUnitForSR(T.spatialReference)/l.getMetersPerUnitForSR(x.spatialReference));var T=m.clone().offset(-Y,-Y),Y=m.clone().offset(Y,Y),da=new b(Math.min(T.x,Y.x),Math.min(T.y,Y.y),Math.max(T.x,Y.x),Math.max(T.y,Y.y),x.spatialReference),T=function(a){var b;if("imagery"===a.type){b=new g;b.geometry=m;var e=q(a),h={rasterAttributeTableFieldPrefix:"Raster.",returnDomainValues:!0};h.layerView=e;b=a.queryVisibleRasters(b,h).then(function(a){return O=O||0<a.length,a})}else if("csv"===a.type||
"scene"===a.type||!D._featureLayersCache[a.id]&&"function"!=typeof a.queryFeatures){if("map-image"===a.type||"wms"===a.type)return e=q(a),e.getPopupData(da);var l,v=[];"esri.core.Collection\x3cesri.Graphic\x3e"===a.declaredClass?(h=a,l=!0):"graphics"===a.type?(h=a.graphics,l=!0):(e=q(a),h=e&&e.loadedGraphics,l=!1);h&&(v=h.filter(function(a){return a&&(!l||a.popupTemplate)&&a.visible&&da.intersects(a.geometry)}).toArray());0<v.length&&(O=!0,b="scene"===a.type?D._fetchSceneAttributes(a,v):p.resolve(v))}else e=
a.createQuery(),e.geometry=da,b=a.queryFeatures(e).then(function(b){b=b.features;if(r&&r.layer===a&&a.objectIdField){var c=a.objectIdField,d=r.attributes[c];b=b.filter(function(a){return a.attributes[c]!==d})}if(!r&&"function"==typeof q(a).getGraphics3DGraphics){var e=[],g=q(a).getGraphics3DGraphics(),h;for(h in g)e.push(g[h].graphic.attributes[a.objectIdField]);b=b.filter(function(c){return-1!==e.indexOf(c.attributes[a.objectIdField])})}return O=O||0<b.length,b});return b};if(I&&!r||!I)var Q=y.map(T).filter(function(a){return!!a}),
Z=function(a){return a.reduce(function(a,b){return a.concat(b.items?Z(b.items):b)},[])},Q=Z(Q);r&&(r.layer&&"scene"===r.layer.type?Q.unshift(this._fetchSceneAttributes(r.layer,[r])):r.popupTemplate&&(T=new h,Q.unshift(T.resolve([r]))));return u.some(Q,function(a){return!a.isFulfilled()})||O?void(Q.length&&e.open({promises:Q,location:m})):void D._closePopup()},_fetchSceneAttributes:function(a,b){return this.view.whenLayerView(a).then(function(e){var g=this._getOutFields(a.popupTemplate),h=b.map(function(a){return e.whenGraphicAttributes(a,
g).otherwise(function(){return a})});return p.eachAlways(h)}.bind(this)).then(function(a){return a.map(function(a){return a.value})})},_getSubLayerFeatureLayers:function(a,b){var g=b||new h,l=[];b=a.length;var r=Math.floor(this.view.extent.width/this.view.width),p=this.view.scale,w=!1,x=this,M=0;a:for(;b>M;M++){var I=a[M],Q=I.dynamicLayerInfos||I.layerInfos;if(Q){var O=null;I._params&&(I._params.layers||I._params.dynamicLayers)&&(O=I.visibleLayers);for(var O=q._getVisibleLayers(Q,O),Y=q._getLayersForScale(p,
Q),N=Q.length,T=0;N>T;T++){var da=Q[T],Z=da.id,fa=I.popupTemplates[Z];if(!da.subLayerIds&&fa&&fa.popupTemplate&&-1<u.indexOf(O,Z)&&-1<u.indexOf(Y,Z)){if(!v){w=!0;break a}var P=I.id+"_"+Z,aa=this._featureLayersCache[P];aa&&aa.loadError||(aa||((aa=fa.layerUrl)||(aa=da.source?this._getLayerUrl(I.url,"/dynamicLayer"):this._getLayerUrl(I.url,Z)),aa=new v(aa,{id:P,drawMode:!1,mode:v.MODE_SELECTION,outFields:this._getOutFields(fa.popupTemplate),resourceInfo:fa.resourceInfo,source:da.source}),this._featureLayersCache[P]=
aa),aa.setDefinitionExpression(I.layerDefinitions&&I.layerDefinitions[Z]),aa.setGDBVersion(I.gdbVersion),aa.popupTemplate=fa.popupTemplate,aa.setMaxAllowableOffset(r),aa.setUseMapTime(!!I.useMapTime),I.layerDrawingOptions&&I.layerDrawingOptions[Z]&&I.layerDrawingOptions[Z].renderer&&aa.setRenderer(I.layerDrawingOptions[Z].renderer),l.push(aa))}}}}if(w){var n=new h;y(["../layers/FeatureLayer"],function(a){v=a;n.resolve()});n.then(function(){x._getSubLayerFeatureLayers(a,g)})}else{var U=[];u.forEach(l,
function(a){if(!a.loaded){var b=new h;m.once(a,"load, error",function(){b.resolve()});U.push(b.promise)}});U.length?e(U).then(function(){l=u.filter(l,function(a){return!a.loadError&&a.isVisibleAtScale(p)});g.resolve(l)}):(l=u.filter(l,function(a){return a.isVisibleAtScale(p)}),g.resolve(l))}return g.promise},_getLayerUrl:function(a,b){var e=a.indexOf("?");return-1===e?a+"/"+b:a.substring(0,e)+"/"+b+a.substring(e)},_getOutFields:function(a){var b=["*"];if("esri.PopupTemplate"===a.declaredClass){var e=
null==a.content||Array.isArray(a.content)&&a.content.every(function(a){return"attachments"===a.type||"fields"===a.type&&null==a.fieldInfos||"text"===a.type&&-1===a.text.indexOf("{")});a.fieldInfos&&!a.expressionInfos&&e&&(b=[],u.forEach(a.fieldInfos,function(a){var e=a.fieldName&&a.fieldName.toLowerCase();e&&"shape"!==e&&0!==e.indexOf("relationships/")&&b.push(a.fieldName)}))}return b},_calculateClickTolerance:function(a){var b=6;return u.forEach(a,function(a){if(a=a.renderer)"simple"===a.type?((a=
a.symbol)&&a.xoffset&&(b=Math.max(b,Math.abs(a.xoffset))),a&&a.yoffset&&(b=Math.max(b,Math.abs(a.yoffset)))):"unique-value"!==a.type&&"class-breaks"!==a.type||u.forEach(a.uniqueValueInfos||a.classBreakInfos,function(a){(a=a.symbol)&&a.xoffset&&(b=Math.max(b,Math.abs(a.xoffset)));a&&a.yoffset&&(b=Math.max(b,Math.abs(a.yoffset)))})}),b},_clickHandler:function(b){function e(a){return g.allLayerViews.find(function(b){return b.layer===a})}var g=this.view,h=g.popup,l=g.map,m=b.screenPoint,r=this;if(0===
b.button&&h&&g.ready){var q="3d"===g.type,v=l.allLayers.some(function(b){if(b.isInstanceOf(a))b=!1;else{var g;null==b?g=!1:(g=e(b),g=null==g?!1:b.loaded&&!g.suspended&&(b.popupEnabled&&b.popupTemplate||"graphics"===b.type||g.getPopupData));!(g=!g)&&(g=q)&&(b=e(b),g=!(b&&b.hasDraped));b=g?!1:!0}return b});return null!=m?void this.view.hitTest(m.x,m.y).then(function(a){v||0<a.results.length?0<a.results.length?(a=a.results[0],r._showPopup(b,a.mapPoint,a.graphic)):r._showPopup(b,b.mapPoint,null):r._closePopup()}):
void r._showPopup(b,b.mapPoint)}}})})},"esri/layers/support/layerUtils":function(){define(["dojo/_base/array"],function(y){return{_serializeLayerDefinitions:function(p){var u=[],m=!1,h=/[:;]/;if(p&&(y.forEach(p,function(e,l){e&&(u.push([l,e]),!m&&h.test(e)&&(m=!0))}),0<u.length)){var e;return m?(e={},y.forEach(u,function(h){e[h[0]]=h[1]}),e=JSON.stringify(e)):(e=[],y.forEach(u,function(h){e.push(h[0]+":"+h[1])}),e=e.join(";")),e}return null},_serializeTimeOptions:function(p,u){if(p){var m=[];return y.forEach(p,
function(h,e){h&&(h=h.toJSON(),u&&-1!==y.indexOf(u,e)&&(h.useTime=!1),m.push('"'+e+'":'+JSON.stringify(h)))}),m.length?"{"+m.join(",")+"}":void 0}},_getVisibleLayers:function(p,u){var m,h,e=[];if(!p)return e;if(u)for(e=u.concat(),h=0;h<p.length;h++)u=p[h],m=y.indexOf(p,u.id),u.subLayerIds&&-1<m&&(e.splice(m,1),e=e.concat(u.subLayerIds));else e=this._getDefaultVisibleLayers(p);return e},_getDefaultVisibleLayers:function(p){var u,m=[];if(!p)return m;for(u=0;u<p.length;u++)0<=p[u].parentLayerId&&-1===
y.indexOf(m,p[u].parentLayerId)&&y.some(p,function(h){return h.id===p[u].parentLayerId})||p[u].defaultVisibility&&m.push(p[u].id);return m},_getLayersForScale:function(p,u){var m=[];if(0<p&&u){var h;for(h=0;h<u.length;h++)if(!(0<=u[h].parentLayerId&&-1===y.indexOf(m,u[h].parentLayerId)&&y.some(u,function(b){return b.id===u[h].parentLayerId}))&&0<=u[h].id){var e=!0,q=u[h].maxScale,l=u[h].minScale;(0<q||0<l)&&(0<q&&0<l?e=p>=q&&l>=p:0<q?e=p>=q:0<l&&(e=l>=p));e&&m.push(u[h].id)}}return m}}})},"esri/layers/GroupLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Layer ../core/MultiOriginJSONSupport ./mixins/PortalLayer ./mixins/OperationalLayer ../support/LayersMixin ../core/accessorSupport/utils ../core/accessorSupport/decorators".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){return function(b){function e(a){a=b.call(this)||this;return a._visibilityHandles={},a.fullExtent=void 0,a.operationalLayerType="GroupLayer",a.spatialReference=void 0,a.type="group",a._visibilityWatcher=a._visibilityWatcher.bind(a),a}return u(e,b),e.prototype.initialize=function(){this._enforceVisibility(this.visibilityMode,this.visible);this.watch("visible",this._visibleWatcher.bind(this),!0)},e.prototype._writeLayers=function(a,b,e,g){var h=[];return a?(a.forEach(function(a){a.write&&
(a=a.write(null,g))&&a.layerType&&h.push(a)}),void(b.layers=h)):h},Object.defineProperty(e.prototype,"visibilityMode",{set:function(a){var b=this._get("visibilityMode")!==a;this._set("visibilityMode",a);b&&this._enforceVisibility(a,this.visible)},enumerable:!0,configurable:!0}),e.prototype.load=function(){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]})),this.when()},e.prototype.layerAdded=function(a,b){a.visible&&"exclusive"===
this.visibilityMode?this._turnOffOtherLayers(a):"inherited"===this.visibilityMode&&(a.visible=this.visible);this._visibilityHandles[a.uid]=a.watch("visible",this._visibilityWatcher,!0)},e.prototype.layerRemoved=function(a,b){(b=this._visibilityHandles[a.uid])&&(b.remove(),delete this._visibilityHandles[a.uid]);this._enforceVisibility(this.visibilityMode,this.visible)},e.prototype._turnOffOtherLayers=function(a){this.layers.forEach(function(b){b!==a&&(b.visible=!1)})},e.prototype._enforceVisibility=
function(a,b){if(g.getProperties(this).initialized){var e=this.layers,h=e.find(function(a){return a.visible});switch(a){case "exclusive":e.length&&!h&&(h=e.getItemAt(0),h.visible=!0);this._turnOffOtherLayers(h);break;case "inherited":e.forEach(function(a){a.visible=b})}}},e.prototype._visibleWatcher=function(a){"inherited"===this.visibilityMode&&this.layers.forEach(function(b){b.visible=a})},e.prototype._visibilityWatcher=function(a,b,e,g){switch(this.visibilityMode){case "exclusive":a?this._turnOffOtherLayers(g):
this._isAnyLayerVisible()||(g.visible=!0);break;case "inherited":g.visible=this.visible}},e.prototype._isAnyLayerVisible=function(){return this.layers.some(function(a){return a.visible})},m([a.shared({"2d":"../views/layers/GroupLayerView","3d":"../views/layers/GroupLayerView"})],e.prototype,"viewModulePaths",void 0),m([a.property()],e.prototype,"fullExtent",void 0),m([a.property({json:{read:!1,write:{ignoreOrigin:!0}}})],e.prototype,"layers",void 0),m([a.writer("layers")],e.prototype,"_writeLayers",
null),m([a.property()],e.prototype,"operationalLayerType",void 0),m([a.property({json:{write:!1}})],e.prototype,"portalItem",void 0),m([a.property()],e.prototype,"spatialReference",void 0),m([a.property({json:{read:!1},readOnly:!0,value:"group"})],e.prototype,"type",void 0),m([a.property({json:{read:!1,write:!1}})],e.prototype,"url",void 0),m([a.property({type:String,value:"independent",json:{write:!0}})],e.prototype,"visibilityMode",null),e=m([a.subclass("esri.layers.GroupLayer")],e)}(a.declared(h,
b,e,l,q))})},"esri/support/LayersMixin":function(){define(["../core/Accessor","../core/Collection","../core/Logger"],function(y,p,u){var m=function(e,h,l){for(var b,g,a=0,r=e.length;r>a;a++){if(b=e.getItemAt(a),b[h]===l)return b;if(b.layers&&(g=m(b.layers,h,l)))return g}},h=u.getLogger("esri.support.LayersMixin");return y.createSubclass({declaredClass:"esri.support.LayersMixin",destroy:function(){this._layersHandle.remove();this._layersHandle=null;this.layers.drain(this._lyrRemove,this)},properties:{layers:{type:p,
get:function(){var e=this._get("layers");return e?e:(e=new p,e.on("after-add",function(e){e=e.item;e.parent&&e.parent!==this&&e.parent.remove(e);e.parent=this;this.layerAdded(e);"elevation"===e.type&&h.error("Layer '"+e.title+", id:"+e.id+"' of type '"+e.type+"' is not supported as an operational layer and will therefore be ignored.")}.bind(this)),e.on("after-remove",function(e){e=e.item;e.parent=null;this.layerRemoved(e)}.bind(this)),e)},set:function(e){var h=this._get("layers");h&&this.remove(h.toArray());
this.addMany(e.toArray())}}},findLayerById:function(e){return m(this.layers,"id",e)},add:function(e,h){var l=this.layers;return h=l.getNextIndex(h),e.parent===this?void this.reorder(e,h):void l.add(e,h)},addMany:function(e,h){var l=this.layers;h=l.getNextIndex(h);e.slice().forEach(function(b){return b.parent===this?void this.reorder(b,h):(l.add(b,h),void(h+=1))},this)},remove:function(e){return this.layers.remove(e)},removeMany:function(e){return this.layers.removeMany(e)},removeAll:function(){return this.layers.removeAll()},
reorder:function(e,h){return this.layers.reorder(e,h)},findLayerByUid:function(e){return m(this.layers,"uid",e)},layerAdded:function(e){},layerRemoved:function(e){}})})},"esri/views/overlay/ViewOverlay":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/dom ../../core/Accessor ../../core/accessorSupport/decorators ../../core/Collection ../../widgets/libs/maquette/maquette".split(" "),function(y,p,u,m,h,e,q,l,b){return function(e){function a(){var a=
null!==e&&e.apply(this,arguments)||this;return a.items=new l,a._callbacks=new Map,a._projector=b.createProjector(),a}return u(a,e),Object.defineProperty(a.prototype,"needsRender",{get:function(){return 0<this.items.length},enumerable:!0,configurable:!0}),a.prototype.initialize=function(){var a=this,b=document.createElement("div");b.className="esri-overlay-surface";h.setSelectable(b,!1);this._set("surface",b);this._itemsChangeHandle=this.items.on("change",function(b){b.added.map(function(b){var e=
function(){return b.render()};a._callbacks.set(b,e);a._projector.append(a.surface,e)});b.removed.map(function(b){var e=a._projector.detach(a._callbacks.get(b));a.surface.removeChild(e.domNode);a._callbacks["delete"](b)})})},a.prototype.addItem=function(a){this.items.add(a)},a.prototype.removeItem=function(a){this.items.remove(a)},a.prototype.destroy=function(){this.items.removeAll();this._itemsChangeHandle.remove();this._projector=this._callbacks=null},a.prototype.render=function(){this._projector.renderNow()},
m([q.property({type:HTMLDivElement})],a.prototype,"surface",void 0),m([q.property({type:l})],a.prototype,"items",void 0),m([q.property({readOnly:!0,dependsOn:["items.length"]})],a.prototype,"needsRender",null),a=m([q.subclass("esri.views.overlay.ViewOverlay")],a)}(q.declared(e))})},"esri/views/ui/DefaultUI":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/watchUtils ./UI ./Component ../../widgets/Attribution ../../widgets/Compass ../../widgets/Zoom ../../widgets/NavigationToggle dojo/dom-geometry".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v){return function(q){function p(a){a=q.call(this)||this;return a._defaultPositionLookup=null,a.components=[],a}return u(p,q),p.prototype.initialize=function(){this._handles.add([e.init(this,"components",this._componentsWatcher.bind(this)),e.init(this,"view",this._updateViewAwareWidgets.bind(this))])},p.prototype._findComponentPosition=function(a){if(!this._defaultPositionLookup){var b=v.isBodyLtr();this._defaultPositionLookup={attribution:"manual",compass:b?"top-left":
"top-right","navigation-toggle":b?"top-left":"top-right",zoom:b?"top-left":"top-right"}}return this._defaultPositionLookup[a]},p.prototype._removeComponents=function(a){var b=this;a.forEach(function(a){(a=b.find(a))&&(b.remove(a),a.destroy())})},p.prototype._updateViewAwareWidgets=function(a){var b=this;this.components.forEach(function(e){(e=(e=b.find(e))&&e.widget)&&void 0!==e.view&&e.set("view",a)})},p.prototype._componentsWatcher=function(a,b){this._removeComponents(b);this._addComponents(a)},
p.prototype._addComponents=function(a){var b=this;this.initialized&&a.forEach(function(a){return b.add(b._createComponent(a),b._findComponentPosition(a))})},p.prototype._createComponent=function(a){var b=this._createWidget(a);return b?new l({id:a,node:b}):void 0},p.prototype._createWidget=function(a){return"attribution"===a?this._createAttribution():"compass"===a?this._createCompass():"navigation-toggle"===a?this._createNavigationToggle():"zoom"===a?this._createZoom():void 0},p.prototype._createAttribution=
function(){return new b({view:this.view})},p.prototype._createCompass=function(){return new g({view:this.view})},p.prototype._createNavigationToggle=function(){return new r({view:this.view})},p.prototype._createZoom=function(){return new a({view:this.view})},m([h.property()],p.prototype,"components",void 0),p=m([h.subclass("esri.views.ui.DefaultUI")],p)}(h.declared(q))})},"esri/views/ui/UI":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Component ../../core/Accessor ../../core/Evented ../../core/HandleRegistry ../../core/watchUtils dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-style".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w){function x(a){return"object"!=typeof a||a&&a.isInstanceOf&&a.isInstanceOf(e)||!("component"in a||"index"in a||"position"in a)?null:a}var D={left:0,top:0,bottom:0,right:0},E={bottom:30,top:15,right:15,left:15};return function(l){function q(){var a=l.call(this)||this;return a._cornerNameToContainerLookup={},a._positionNameToContainerLookup={},a._components=[],a._handles=new b,a.padding=E,a.view=null,a._initContainers(),a}return u(q,l),q.prototype.initialize=function(){this._handles.add([g.init(this,
"view.padding, container",this._applyViewPadding.bind(this)),g.init(this,"padding",this._applyUIPadding.bind(this))])},q.prototype.destroy=function(){this.container=null;this._components.forEach(function(a){a.destroy()});this._components.length=0;this._handles.destroy()},Object.defineProperty(q.prototype,"container",{set:function(a){var b=this._get("container");a!==b&&(a&&(r.add(a,"esri-ui"),this._attachContainers(a)),b&&(r.remove(b,"esri-ui"),w.set(b,{top:"",bottom:"",left:"",right:""}),v.empty(b)),
this._set("container",a))},enumerable:!0,configurable:!0}),Object.defineProperty(q.prototype,"height",{get:function(){var a=this.get("view.height")||0;if(0===a)return a;var b=this._getViewPadding();return Math.max(a-(b.top+b.bottom),0)},enumerable:!0,configurable:!0}),q.prototype.castPadding=function(b){return"number"==typeof b?{bottom:b,top:b,right:b,left:b}:a.mixin({},E,b)},Object.defineProperty(q.prototype,"width",{get:function(){var a=this.get("view.width")||0;if(0===a)return a;var b=this._getViewPadding();
return Math.max(a-(b.left+b.right),0)},enumerable:!0,configurable:!0}),q.prototype.add=function(a,b){var g,h=this;if(Array.isArray(a))return void a.forEach(function(a){return h.add(a,b)});var l=x(a);l&&(g=l.index,b=l.position,a=l.component);b&&"object"==typeof b&&(g=b.index,b=b.position);!a||b&&!this._isValidPosition(b)||(!!a&&a.isInstanceOf&&a.isInstanceOf(e)||(a=new e({node:a})),this._place({component:a,position:b,index:g}),this._components.push(a))},q.prototype.remove=function(a){if(a){if(Array.isArray(a))return a.map(this.remove,
this);if(a=this.find(a)){var b=this._components.indexOf(a);return a.node.parentNode&&a.node.parentNode.removeChild(a.node),this._components.splice(b,1)[0]}}},q.prototype.empty=function(a){var b=this;return Array.isArray(a)?a.map(function(a){return b.empty(a)}).reduce(function(a,b){return a.concat(b)}):(a=a||"manual","manual"===a)?Array.prototype.slice.call(this._manualContainer.children).filter(function(a){return!r.contains(a,"esri-ui-corner")}).map(function(a){return b.remove(a)}):this._isValidPosition(a)?
Array.prototype.slice.call(this._cornerNameToContainerLookup[a].children).map(this.remove,this):void 0},q.prototype.move=function(a,b){var e=this;if(Array.isArray(a)&&a.forEach(function(a){return e.move(a,b)}),a){var g,h=x(a)||x(b);(h&&(g=h.index,b=h.position,a=h.component||a),!b||this._isValidPosition(b))&&(a=this.remove(a))&&this.add(a,{position:b,index:g})}},q.prototype.find=function(a){return a?a&&a.isInstanceOf&&a.isInstanceOf(e)?this._findByComponent(a):"string"==typeof a?this._findById(a):
this._findByNode(a.domNode||a):null},q.prototype._getViewPadding=function(){return this.get("view.padding")||D},q.prototype._attachContainers=function(a){v.place(this._manualContainer,a);v.place(this._innerContainer,a)},q.prototype._initContainers=function(){var b=v.create("div",{className:"esri-ui-inner-container esri-ui-corner-container"}),e=v.create("div",{className:"esri-ui-inner-container esri-ui-manual-container"}),g=v.create("div",{className:"esri-ui-top-left esri-ui-corner"},b),h=v.create("div",
{className:"esri-ui-top-right esri-ui-corner"},b),l=v.create("div",{className:"esri-ui-bottom-left esri-ui-corner"},b),m=v.create("div",{className:"esri-ui-bottom-right esri-ui-corner"},b);this._innerContainer=b;this._manualContainer=e;this._cornerNameToContainerLookup={"top-left":g,"top-right":h,"bottom-left":l,"bottom-right":m};this._positionNameToContainerLookup=a.mixin({manual:e},this._cornerNameToContainerLookup)},q.prototype._isValidPosition=function(a){return!!this._positionNameToContainerLookup[a]},
q.prototype._place=function(a){var b,e=a.component,g=a.index;a=this._positionNameToContainerLookup[a.position||"manual"];return-1<g?(b=Array.prototype.slice.call(a.children),0===g?void this._placeComponent(e,a,"first"):g>=b.length?void this._placeComponent(e,a,"last"):void this._placeComponent(e,b[g],"before")):void this._placeComponent(e,a,"last")},q.prototype._placeComponent=function(a,b,e){var g=a.widget;g&&!g._started&&"function"==typeof g.postMixInProperties&&"function"==typeof g.buildRendering&&
"function"==typeof g.postCreate&&"function"==typeof g.startup&&a.widget.startup();v.place(a.node,b,e)},q.prototype._applyViewPadding=function(){var a=this.container;a&&w.set(a,this._toPxPosition(this._getViewPadding()))},q.prototype._applyUIPadding=function(){this._innerContainer&&w.set(this._innerContainer,this._toPxPosition(this.padding))},q.prototype._toPxPosition=function(a){return{top:this._toPxUnit(a.top),left:this._toPxUnit(a.left),right:this._toPxUnit(a.right),bottom:this._toPxUnit(a.bottom)}},
q.prototype._toPxUnit=function(a){return 0===a?0:a+"px"},q.prototype._findByComponent=function(a){var b,e=null;return this._components.some(function(g){return b=g===a,b&&(e=g),b}),e},q.prototype._findById=function(a){var b,e=null;return this._components.some(function(g){return b=g.id===a,b&&(e=g),b}),e},q.prototype._findByNode=function(a){var b,e=null;return this._components.some(function(g){return b=g.node===a,b&&(e=g),b}),e},m([h.property()],q.prototype,"container",null),m([h.property({dependsOn:["view.height"]})],
q.prototype,"height",null),m([h.property()],q.prototype,"padding",void 0),m([h.cast("padding")],q.prototype,"castPadding",null),m([h.property()],q.prototype,"view",void 0),m([h.property({dependsOn:["view.width"]})],q.prototype,"width",null),q=m([h.subclass("esri.views.ui.UI")],q)}(h.declared(q,l))})},"esri/views/ui/Component":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor dojo/dom dojo/dom-class".split(" "),
function(y,p,u,m,h,e,q,l){return function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;return a.widget=null,a}return u(e,b),e.prototype.destroy=function(){this.widget&&this.widget.destroy();this.node=null},Object.defineProperty(e.prototype,"id",{get:function(){return this._get("id")||this.get("node.id")},set:function(a){this._set("id",a)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"node",{set:function(a){var b=this._get("node");a!==b&&(a&&l.add(a,"esri-component"),
b&&l.remove(b,"esri-component"),this._set("node",a))},enumerable:!0,configurable:!0}),e.prototype.castNode=function(a){return a?"string"==typeof a||a&&"nodeType"in a?(this._set("widget",null),q.byId(a)):(a&&"function"==typeof a.render&&!a.domNode&&(a.domNode=document.createElement("div")),this._set("widget",a),a.domNode):(this._set("widget",null),null)},m([h.property()],e.prototype,"id",null),m([h.property()],e.prototype,"node",null),m([h.cast("node")],e.prototype,"castNode",null),m([h.property({readOnly:!0})],
e.prototype,"widget",void 0),e=m([h.subclass("esri.views.ui.Component")],e)}(h.declared(e))})},"esri/widgets/Attribution":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./support/widget ./Widget ./Attribution/AttributionViewModel ../core/watchUtils".split(" "),function(y,p,u,m,h,e,q,l,b){return function(g){function a(a){a=g.call(this)||this;return a._isOpen=!1,a._attributionTextOverflowed=!1,a._prevSourceNodeHeight=
0,a.itemDelimiter=" | ",a.view=null,a.viewModel=new l,a}return u(a,g),a.prototype.postInitialize=function(){var a=this;this.own(b.on(this,"viewModel.items","change",function(){return a.scheduleRender()}))},Object.defineProperty(a.prototype,"attributionText",{get:function(){return this.viewModel.items.map(function(a){return a.text}).join(this.itemDelimiter)},enumerable:!0,configurable:!0}),a.prototype.render=function(){var a=(b={},b["esri-attribution--open"]=this._isOpen,b);return e.tsx("div",{bind:this,
"class":"esri-attribution esri-widget",classes:a,onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),e.tsx("div",{"class":"esri-attribution__powered-by"},"Powered by ",e.tsx("a",{target:"_blank",href:"http://www.esri.com/","class":"esri-attribution__link"},"Esri")));var b},a.prototype._renderSourcesNode=function(){var a=this._isOpen,b=this._isInteractive(),g=this.attributionText,a=(h={},h["esri-attribution__sources--open"]=a,h["esri-interactive"]=b,h);return e.tsx("div",
{afterCreate:this._afterSourcesNodeCreate,afterUpdate:this._afterSourcesNodeUpdate,bind:this,"class":"esri-attribution__sources",classes:a,innerHTML:g,role:b?"button":void 0,tabIndex:b?0:-1});var h},a.prototype._afterSourcesNodeCreate=function(a){this._prevSourceNodeHeight=a.clientWidth},a.prototype._afterSourcesNodeUpdate=function(a){var b=!1,e=a.clientHeight;a=a.scrollWidth>=a.clientWidth;var g=this._attributionTextOverflowed!==a;if(this._attributionTextOverflowed=a,g&&(b=!0),this._isOpen)a=e<this._prevSourceNodeHeight,
this._prevSourceNodeHeight=e,a&&(this._isOpen=!1,b=!0);b&&this.scheduleRender()},a.prototype._toggleState=function(){this._isInteractive()&&(this._isOpen=!this._isOpen)},a.prototype._isInteractive=function(){return this._isOpen||this._attributionTextOverflowed},m([h.property({dependsOn:["viewModel.items.length","itemDelimiter"],readOnly:!0}),e.renderable()],a.prototype,"attributionText",null),m([h.property(),e.renderable()],a.prototype,"itemDelimiter",void 0),m([h.aliasOf("viewModel.view")],a.prototype,
"view",void 0),m([h.property({type:l}),e.renderable(["state","view.size"])],a.prototype,"viewModel",void 0),m([e.accessibleHandler()],a.prototype,"_toggleState",null),a=m([h.subclass("esri.widgets.Attribution")],a)}(h.declared(q))})},"esri/widgets/Attribution/AttributionViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../geometry/support/webMercatorUtils ../../core/HandleRegistry ../../core/Accessor ../../core/lang ../../core/watchUtils ../../core/Collection ../../geometry/Extent".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r){return function(l){function v(b){b=l.call(this,b)||this;return b._handles=new q,b._pendingAttributionItemsByLayerId={},b._attributionDataByLayerId={},b.items=new a,b.view=null,b._updateAttributionItems=b._updateAttributionItems.bind(b),b}return u(v,l),v.prototype.initialize=function(){this._handles.add(g.init(this,"view",this._viewWatcher))},v.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null},Object.defineProperty(v.prototype,"state",
{get:function(){return this.get("view.ready")?"ready":"disabled"},enumerable:!0,configurable:!0}),v.prototype._viewWatcher=function(a){var b=this,e=this._handles;e&&e.remove();a&&(e.add([a.allLayerViews.on("change",function(a){b._addLayerViews(a.added);0<a.removed.length&&(a.removed.forEach(function(a){e.remove(a.uid)}),b._updateAttributionItems())}),g.init(a,"stationary",this._updateAttributionItems)]),this._addLayerViews(a.allLayerViews))},v.prototype._addLayerViews=function(a){var b=this;a.forEach(function(a){b._handles.has(a.uid)||
b._handles.add(g.init(a,"suspended",b._updateAttributionItems),a.uid)})},v.prototype._updateAttributionItems=function(){var a=this,b=[];this._getActiveLayerViews().forEach(function(e){var g=e.layer;if(!g.hasAttributionData){var h=g.get("copyright");if(!h)return;e=a._findItem(b,h);return void(e?a._updateItemSource(e,g):b.push({text:h,layers:[g]}))}if(g&&g.tileInfo){var l=a._attributionDataByLayerId;if(l[g.uid]){h=a._getDynamicAttribution(l[g.uid],a.view,g);if(!h)return;e=a._findItem(b,h);return void(e?
a._updateItemSource(e,g):b.push({text:h,layers:[g]}))}var m=a._pendingAttributionItemsByLayerId;a._inProgress(m[g.uid])||(m[g.uid]=g.fetchAttributionData().then(function(b){b=a._createContributionIndex(b,a._isBingLayer(g));delete m[g.uid];l[g.uid]=b;a._updateAttributionItems()}))}});this._itemsChanged(this.items,b)&&(this.items.removeAll(),this.items.addMany(b))},v.prototype._itemsChanged=function(a,b){return a.length!==b.length||a.some(function(a,e){return a.text!==b[e].text})},v.prototype._inProgress=
function(a){return a&&!a.isFulfilled()},v.prototype._getActiveLayerViews=function(){return this.get("view.allLayerViews").filter(function(a){return!a.suspended&&a.get("layer.attributionVisible")})},v.prototype._findItem=function(a,b){var e;return a.some(function(a){var g=a.text===b;return g&&(e=a),g}),e},v.prototype._updateItemSource=function(a,b){-1===a.layers.indexOf(b)&&a.layers.push(b)},v.prototype._isBingLayer=function(a){return-1!==a.declaredClass.toLowerCase().indexOf("vetiledlayer")},v.prototype._createContributionIndex=
function(a,g){a=a.contributors;var h={};return a?(a.forEach(function(a,l){var m=a.coverageAreas;m&&m.forEach(function(m){var q=m.bbox,v=m.zoomMin-(g&&m.zoomMin?1:0),p=m.zoomMax-(g&&m.zoomMax?1:0);a={extent:e.geographicToWebMercator(new r({xmin:q[1],ymin:q[0],xmax:q[3],ymax:q[2]})),attribution:a.attribution||"",score:b.isDefined(m.score)?m.score:100,id:l};for(m=v;p>=m;m++)h[m]=h[m]||[],h[m].push(a)})}),h.maxKey=Math.max.apply(null,Object.keys(h)),h):h},v.prototype._getDynamicAttribution=function(a,
e,g){var h=e.extent;e=g.tileInfo.scaleToZoom(e.scale);if(e=Math.min(a.maxKey,Math.round(e)),!h||!b.isDefined(e)||-1>=e)return"";a=a[e];var l=h.center.clone().normalize(),m={};return a.filter(function(a){var b=!m[a.id]&&a.extent.contains(l);return b&&(m[a.id]=!0),b}).sort(function(a,b){return b.score-a.score||a.objectId-b.objectId}).map(function(a){return a.attribution}).join(", ")},m([h.property({readOnly:!0,type:a})],v.prototype,"items",void 0),m([h.property({dependsOn:["view.ready"],readOnly:!0})],
v.prototype,"state",null),m([h.property()],v.prototype,"view",void 0),v=m([h.subclass("esri.widgets.Attribution.AttributionViewModel")],v)}(h.declared(l))})},"esri/widgets/Compass":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./support/widget ./Widget ./Compass/CompassViewModel dojo/i18n!./Compass/nls/Compass".split(" "),function(y,p,u,m,h,e,q,l,b){return function(g){function a(a){a=g.call(this)||this;
return a.activeMode=null,a.modes=null,a.view=null,a.viewModel=new l,a}return u(a,g),a.prototype.reset=function(){},a.prototype.render=function(){var a=this.viewModel.orientation,g=this.viewModel.state,h="disabled"===g,l="compass"===("rotation"===g?"rotation":"compass"),g=(m={},m["esri-disabled"]=h,m["esri-compass--active"]="device-orientation"===this.viewModel.activeMode,m["esri-interactive"]=!h,m),m=(q={},q["esri-icon-compass"]=l,q["esri-icon-dial"]=!l,q);return e.tsx("div",{bind:this,"class":"esri-compass esri-widget-button esri-widget",
classes:g,onclick:this._start,onkeydown:this._start,role:"button",tabIndex:h?-1:0,"aria-label":b.reset,title:b.reset},e.tsx("span",{"aria-hidden":"true","class":"esri-compass__icon",classes:m,styles:this._toRotationTransform(a)}),e.tsx("span",{"class":"esri-icon-font-fallback-text"},b.reset));var m,q},a.prototype._start=function(){var a=this.viewModel;a.nextMode();a.startMode()},a.prototype._toRotationTransform=function(a){return{transform:"rotateZ("+a.z+"deg)"}},m([h.aliasOf("viewModel.activeMode")],
a.prototype,"activeMode",void 0),m([h.aliasOf("viewModel.modes")],a.prototype,"modes",void 0),m([h.aliasOf("viewModel.view")],a.prototype,"view",void 0),m([h.property({type:l}),e.renderable(["viewModel.orientation","viewModel.state"])],a.prototype,"viewModel",void 0),m([h.aliasOf("viewModel.reset")],a.prototype,"reset",null),m([e.accessibleHandler()],a.prototype,"_start",null),a=m([h.subclass("esri.widgets.Compass")],a)}(h.declared(q))})},"esri/widgets/Compass/CompassViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../core/HandleRegistry ../../core/Logger ../../core/promiseUtils ../../core/watchUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g){var a=l.getLogger("esri.widgets.CompassViewModel");return function(e){function l(a){a=e.call(this,a)||this;return a._handles=new q,a.canUseHeading=!1,a.orientation={x:0,y:0,z:0},a.view=null,a._updateForCamera=a._updateForCamera.bind(a),a._updateForRotation=a._updateForRotation.bind(a),a._updateRotationWatcher=a._updateRotationWatcher.bind(a),a._updateViewHeading=a._updateViewHeading.bind(a),a._checkHeadingSupport=a._checkHeadingSupport.bind(a),a._canUseHeading(),a}return u(l,
e),l.prototype.initialize=function(){this._handles.add(g.init(this,"view",this._updateRotationWatcher))},l.prototype.destroy=function(){this._removeCheckHeadingListener();this._removeOrientationListener();this._handles.destroy();this.view=this._handles=null},Object.defineProperty(l.prototype,"activeMode",{get:function(){var a=this._get("activeMode");return a?a:(a=this.modes)?a[0]:"none"},set:function(a){this.stopMode();this._set("activeMode",a);void 0===a&&this._clearOverride("activeMode")},enumerable:!0,
configurable:!0}),Object.defineProperty(l.prototype,"canShowNorth",{get:function(){var a=this.get("view.spatialReference");return a&&(a.isWebMercator||a.isWGS84)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"modes",{get:function(){return this._get("modes")||["reset"]},set:function(a){this._set("modes",a);void 0===a&&this._clearOverride("modes")},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"state",{get:function(){return this.get("view.ready")?this.canShowNorth?
"compass":"rotation":"disabled"},enumerable:!0,configurable:!0}),l.prototype.previousMode=function(){var a=this.activeMode,b=this.modes;2>b.length||(a=b.indexOf(a),this._paginateMode(a-1))},l.prototype.nextMode=function(){var a=this.activeMode,b=this.modes;2>b.length||(a=b.indexOf(a),this._paginateMode(a+1))},l.prototype.startMode=function(){var a=this.activeMode;"reset"===a&&this.reset();"device-orientation"===a&&(this._removeOrientationListener(),this._addOrientationListener())},l.prototype.stopMode=
function(){"device-orientation"===this.activeMode&&this._removeOrientationListener()},l.prototype.reset=function(){if(this.get("view.ready")){var a={};"2d"===this.view.type?a.rotation=0:a.heading=0;this.view.goTo(a)}},l.prototype._supportsDeviceOrientation=function(){return"DeviceOrientationEvent"in window},l.prototype._paginateMode=function(a){var b=this.modes;this.activeMode=b[(a+b.length)%b.length]},l.prototype._getHeading=function(a){return a.webkitCompassHeading},l.prototype._removeCheckHeadingListener=
function(){this._supportsDeviceOrientation()&&window.removeEventListener("deviceorientation",this._checkHeadingSupport)},l.prototype._checkHeadingSupport=function(a){"number"==typeof this._getHeading(a)&&this._set("canUseHeading",!0);this._removeCheckHeadingListener()},l.prototype._canUseHeading=function(){var a=this;this._supportsDeviceOrientation()&&(window.addEventListener("deviceorientation",this._checkHeadingSupport),b.after(500).then(function(){a._removeCheckHeadingListener()}))},l.prototype._updateViewHeading=
function(a){var b=this.view;a=this._getHeading(a);"number"!=typeof a||0>a||360<a||!b||("3d"===b.type&&b.goTo({heading:a}),"2d"===b.type&&(b.rotation=a))},l.prototype._removeOrientationListener=function(){this.canUseHeading&&window.removeEventListener("deviceorientation",this._updateViewHeading)},l.prototype._addOrientationListener=function(){var b=this.canShowNorth;return this.canUseHeading?b?void window.addEventListener("deviceorientation",this._updateViewHeading):void a.warn("device-orientation mode requires 'canShowNorth' to be true"):
void a.warn("The deviceorientation event is not supported in this browser")},l.prototype._updateForRotation=function(a){void 0!==a&&null!==a&&(this.orientation={z:a})},l.prototype._updateForCamera=function(a){a&&(this.orientation={x:0,y:0,z:-a.heading})},l.prototype._updateRotationWatcher=function(a){this._handles.removeAll();a&&("2d"===a.type?this._handles.add(g.init(this,"view.rotation",this._updateForRotation)):this._handles.add(g.init(this,"view.camera",this._updateForCamera)))},m([h.property({dependsOn:["modes"]})],
l.prototype,"activeMode",null),m([h.property({dependsOn:["view.spatialReference.isWebMercator","view.spatialReference.wkid"],readOnly:!0})],l.prototype,"canShowNorth",null),m([h.property({readOnly:!0})],l.prototype,"canUseHeading",void 0),m([h.property({dependsOn:["canUseHeading"]})],l.prototype,"modes",null),m([h.property()],l.prototype,"orientation",void 0),m([h.property({dependsOn:["view.ready","canShowNorth"],readOnly:!0})],l.prototype,"state",null),m([h.property()],l.prototype,"view",void 0),
m([h.property()],l.prototype,"previousMode",null),m([h.property()],l.prototype,"nextMode",null),m([h.property()],l.prototype,"startMode",null),m([h.property()],l.prototype,"stopMode",null),m([h.property()],l.prototype,"reset",null),l=m([h.subclass("esri.widgets.CompassViewModel")],l)}(h.declared(e))})},"esri/widgets/Zoom":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./support/widget ./Widget ./Zoom/IconButton ./Zoom/ZoomViewModel dojo/i18n!./Zoom/nls/Zoom".split(" "),
function(y,p,u,m,h,e,q,l,b,g){return function(a){function r(e){e=a.call(this)||this;return e.view=null,e.viewModel=new b,e}return u(r,a),r.prototype.postInitialize=function(){this._zoomInButton=new l({action:this.zoomIn,iconClass:"esri-icon-plus",title:g.zoomIn});this._zoomOutButton=new l({action:this.zoomOut,iconClass:"esri-icon-minus",title:g.zoomOut})},Object.defineProperty(r.prototype,"layout",{set:function(a){"horizontal"!==a&&(a="vertical");this._set("layout",a)},enumerable:!0,configurable:!0}),
r.prototype.render=function(){var a=this.viewModel,b=(g={},g["esri-zoom--horizontal"]="horizontal"===this.layout,g);return this._zoomInButton.enabled="ready"===a.state&&a.canZoomIn,this._zoomOutButton.enabled="ready"===a.state&&a.canZoomOut,e.tsx("div",{"class":"esri-zoom esri-widget",classes:b},this._zoomInButton.render(),this._zoomOutButton.render());var g},r.prototype.zoomIn=function(){},r.prototype.zoomOut=function(){},m([h.property({value:"vertical"}),e.renderable()],r.prototype,"layout",null),
m([h.aliasOf("viewModel.view"),e.renderable()],r.prototype,"view",void 0),m([h.property({type:b}),e.renderable(["viewModel.canZoomIn","viewModel.canZoomOut","viewModel.state"])],r.prototype,"viewModel",void 0),m([h.aliasOf("viewModel.zoomIn")],r.prototype,"zoomIn",null),m([h.aliasOf("viewModel.zoomOut")],r.prototype,"zoomOut",null),r=m([h.subclass("esri.widgets.Zoom")],r)}(h.declared(q))})},"esri/widgets/Zoom/IconButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../support/widget ../Widget".split(" "),
function(y,p,u,m,h,e,q){return function(l){function b(){var b=null!==l&&l.apply(this,arguments)||this;return b.enabled=!0,b.iconClass="",b.title="",b}return u(b,l),b.prototype.render=function(){var b=this.enabled?0:-1,a=(h={},h["esri-disabled"]=!this.enabled,h["esri-interactive"]=this.enabled,h),h=(l={},l[this.iconClass]=!!this.iconClass,l);return e.tsx("div",{bind:this,"class":"esri-widget-button esri-widget",classes:a,onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:b,
title:this.title},e.tsx("span",{"aria-hidden":"true",role:"presentation","class":"esri-icon",classes:h}),e.tsx("span",{"class":"esri-icon-font-fallback-text"},this.title));var h,l},b.prototype._triggerAction=function(){this.action.call(this)},m([h.property()],b.prototype,"action",void 0),m([h.property(),e.renderable()],b.prototype,"enabled",void 0),m([h.property(),e.renderable()],b.prototype,"iconClass",void 0),m([h.property(),e.renderable()],b.prototype,"title",void 0),m([e.accessibleHandler()],
b.prototype,"_triggerAction",null),b=m([h.subclass("esri.widgets.IconButton")],b)}(h.declared(q))})},"esri/widgets/Zoom/ZoomViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ZoomConditions3D ./ZoomConditions2D ../../core/Accessor".split(" "),function(y,p,u,m,h,e,q,l){return function(b){function g(a){a=b.call(this,a)||this;return a.canZoomIn=null,a.canZoomOut=null,a.zoomIn=a.zoomIn.bind(a),
a.zoomOut=a.zoomOut.bind(a),a}return u(g,b),g.prototype.destroy=function(){this.view=null},Object.defineProperty(g.prototype,"state",{get:function(){return this.get("view.ready")?"ready":"disabled"},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"view",{set:function(a){a?"2d"===a.type?this._zoomConditions=new q({view:a}):"3d"===a.type&&(this._zoomConditions=new e):this._zoomConditions=null;this._set("view",a)},enumerable:!0,configurable:!0}),g.prototype.zoomIn=function(){this.canZoomIn&&
this._zoomToFactor(.5)},g.prototype.zoomOut=function(){this.canZoomOut&&this._zoomToFactor(2)},g.prototype._zoomToFactor=function(a){if("ready"===this.state){var b=this.view;"3d"===this.view.type?b.goTo({zoomFactor:1/a}):b.goTo({scale:this.get("view.scale")*a})}},m([h.property()],g.prototype,"_zoomConditions",void 0),m([h.property({aliasOf:"_zoomConditions.canZoomIn",readOnly:!0})],g.prototype,"canZoomIn",void 0),m([h.property({aliasOf:"_zoomConditions.canZoomOut",readOnly:!0})],g.prototype,"canZoomOut",
void 0),m([h.property({dependsOn:["view.ready"],readOnly:!0})],g.prototype,"state",null),m([h.property()],g.prototype,"view",null),m([h.property()],g.prototype,"zoomIn",null),m([h.property()],g.prototype,"zoomOut",null),g=m([h.subclass("esri.widgets.Zoom.ZoomViewModel")],g)}(h.declared(l))})},"esri/widgets/Zoom/ZoomConditions3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor".split(" "),
function(y,p,u,m,h,e){return function(e){function l(){var b=null!==e&&e.apply(this,arguments)||this;return b.canZoomIn=!0,b.canZoomOut=!0,b}return u(l,e),m([h.property({readOnly:!0})],l.prototype,"canZoomIn",void 0),m([h.property({readOnly:!0})],l.prototype,"canZoomOut",void 0),l=m([h.subclass("esri.widgets.Zoom.ZoomConditions3D")],l)}(h.declared(e))})},"esri/widgets/Zoom/ZoomConditions2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor".split(" "),
function(y,p,u,m,h,e){return function(e){function l(){return null!==e&&e.apply(this,arguments)||this}return u(l,e),Object.defineProperty(l.prototype,"canZoomIn",{get:function(){var b=this.get("view.scale"),e=this.get("view.constraints.effectiveMaxScale");return 0===e||b>e},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"canZoomOut",{get:function(){var b=this.get("view.scale"),e=this.get("view.constraints.effectiveMinScale");return 0===e||e>b},enumerable:!0,configurable:!0}),m([h.property({dependsOn:["view.ready",
"view.scale"],readOnly:!0})],l.prototype,"canZoomIn",null),m([h.property({dependsOn:["view.ready","view.scale"],readOnly:!0})],l.prototype,"canZoomOut",null),m([h.property()],l.prototype,"view",void 0),l=m([h.subclass("esri.widgets.Zoom.ZoomConditions2D")],l)}(h.declared(e))})},"esri/widgets/NavigationToggle":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./support/widget ./Widget ./NavigationToggle/NavigationToggleViewModel dojo/i18n!./NavigationToggle/nls/NavigationToggle".split(" "),
function(y,p,u,m,h,e,q,l,b){return function(g){function a(a){a=g.call(this)||this;return a.view=null,a.viewModel=new l,a}return u(a,g),Object.defineProperty(a.prototype,"layout",{set:function(a){"horizontal"!==a&&(a="vertical");this._set("layout",a)},enumerable:!0,configurable:!0}),a.prototype.toggle=function(){},a.prototype.render=function(){var a="disabled"===this.get("viewModel.state"),g="pan"===this.get("viewModel.navigationMode"),h=(l={},l["esri-disabled"]=a,l["esri-navigation-toggle--horizontal"]=
"horizontal"===this.layout,l),l=(m={},m["esri-navigation-toggle__button--active"]=g,m),g=(q={},q["esri-navigation-toggle__button--active"]=!g,q);return e.tsx("div",{bind:this,"class":"esri-navigation-toggle esri-widget",classes:h,onclick:this._toggle,onkeydown:this._toggle,tabIndex:a?-1:0,"aria-label":b.toggle,title:b.toggle},e.tsx("div",{"class":e.join("esri-navigation-toggle__button esri-widget-button","esri-navigation-toggle__button--pan"),classes:l},e.tsx("span",{"class":"esri-icon-pan"})),e.tsx("div",
{"class":e.join("esri-navigation-toggle__button esri-widget-button","esri-navigation-toggle__button--rotate"),classes:g},e.tsx("span",{"class":"esri-icon-rotate"})));var l,m,q},a.prototype._toggle=function(){this.toggle()},m([h.property({value:"vertical"}),e.renderable()],a.prototype,"layout",null),m([h.aliasOf("viewModel.view"),e.renderable()],a.prototype,"view",void 0),m([h.property({type:l}),e.renderable(["viewModel.state","viewModel.navigationMode"])],a.prototype,"viewModel",void 0),m([h.aliasOf("viewModel.toggle")],
a.prototype,"toggle",null),m([e.accessibleHandler()],a.prototype,"_toggle",null),a=m([h.subclass("esri.widgets.NavigationToggle")],a)}(h.declared(q))})},"esri/widgets/NavigationToggle/NavigationToggleViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/watchUtils ../../core/Accessor ../../core/HandleRegistry".split(" "),function(y,p,u,m,h,e,q,l){return function(b){function g(a){a=
b.call(this,a)||this;return a._handles=new l,a.navigationMode="pan",a.view=null,a.toggle=a.toggle.bind(a),a}return u(g,b),g.prototype.initialize=function(){this._handles.add(e.when(this,"view.inputManager",this._setNavigationMode.bind(this)))},g.prototype.destroy=function(){this._handles.destroy();this.view=this._handles=null},Object.defineProperty(g.prototype,"state",{get:function(){return this.get("view.ready")&&"3d"===this.view.type?"ready":"disabled"},enumerable:!0,configurable:!0}),g.prototype.toggle=
function(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode())},g.prototype._setNavigationMode=function(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate"},m([h.property({dependsOn:["view.ready"],readOnly:!0})],g.prototype,"state",null),m([h.property()],g.prototype,"navigationMode",void 0),m([h.property()],g.prototype,"view",void 0),m([h.property()],g.prototype,"toggle",null),g=m([h.subclass("esri.widgets.NavigationToggleViewModel")],
g)}(h.declared(q))})},"esri/views/ui/2d/DefaultUI2D":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../DefaultUI dojo/_base/lang".split(" "),function(y,p,u,m,h,e,q){return function(e){function b(){return e.call(this)||this}return u(b,e),b.prototype.getDefaults=function(){return q.mixin(this.inherited(arguments),{components:["attribution","zoom"]})},b=m([h.subclass("esri.views.ui.2d.DefaultUI2D")],
b)}(h.declared(e))})},"esri/views/2d/engine/Stage":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/promiseUtils ../../../core/Scheduler ../FrameBudget ./DOMContainer ./StageGL ./Container".split(" "),function(y,p,u,m,h,e,q,l,b){function g(a){if(a instanceof l)return a;if(a instanceof b){var e=0;for(a=a.children;e<a.length;e++){var h=g(a[e]);if(h)return h}}return null}return function(a){function b(b){var g=a.call(this)||this;return g.element=b,g._budget=new e,
g._renderParameters={budget:g._budget,state:g.state,devicePixelRatio:window.devicePixelRatio,stationary:!1},g._renderRequested=!1,g._taskHandle=h.addFrameTask({render:function(){return g.renderFrame()}}),g._stationary=!0,g.attached=!0,g._taskHandle.pause(),g}return u(b,a),b.prototype.destroy=function(){this.removeAllChildren();this.renderFrame();this._taskHandle.remove();this._taskHandle=null},Object.defineProperty(b.prototype,"state",{get:function(){return this._state},set:function(a){this._state=
a;this.requestRender()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"stationary",{get:function(){return this._stationary},set:function(a){this._stationary!==a&&(this._stationary=a,this.requestRender())},enumerable:!0,configurable:!0}),b.prototype.start=function(){this._taskHandle.resume()},b.prototype.stop=function(){this._taskHandle.isPaused()||this._taskHandle.pause()},b.prototype.requestRender=function(){this._renderRequested=!0;this._taskHandle&&this._taskHandle.isPaused()&&
this._taskHandle.resume()},b.prototype.takeScreenshot=function(a){var b=g(this);return b?b.takeScreenshot(a):m.reject("Could not find an object capable of capturing screenshot!")},b.prototype.renderFrame=function(){this._renderRequested&&(this._renderRequested=!1,this._renderParameters.state=this._state,this._renderParameters.stationary=this.stationary,this._renderParameters.devicePixelRatio=window.devicePixelRatio,this.processRender(this._renderParameters));this._renderRequested||this._taskHandle.pause()},
b}(q)})},"esri/views/2d/engine/DOMContainer":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","./Container"],function(y,p,u,m){return function(h){function e(){return null!==h&&h.apply(this,arguments)||this}return u(e,h),e.prototype.createElement=function(){var e=document.createElement("div");return e.setAttribute("class","esri-display-object"),e},e.prototype.setElement=function(e){this.element=e},e.prototype.doRender=function(e){var l=this.element.style;return this.visible?
(l.display="block",e.opacity=this.opacity,h.prototype.doRender.call(this,e),void 0):void(l.display="none")},e.prototype.prepareChildrenRenderParameters=function(e){return e},e.prototype.attachChild=function(e,h){var b=e.element;return b||(b=e.createElement(),e.setElement(b)),e.attach(h)},e.prototype.detachChild=function(e,h){e.detach(h);this.element.contains(e.element)&&this.element.removeChild(e.element);e.setElement(null)},e.prototype.renderChildren=function(e){for(var l=this.children,b=this.element.childNodes,
g=0,a=l.length,m=0;a>m;m++)if(l[m].attached){var q=l[m].element;b[g]!==q&&(null!=b[g+1]?this.element.insertBefore(q,b[g]):this.element.appendChild(q));g+=1}h.prototype.renderChildren.call(this,e)},e}(m)})},"esri/views/2d/engine/Container":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","./DisplayObject"],function(y,p,u,m){var h;!function(e){e[e.BEFORE=0]="BEFORE";e[e.ATTACHING=1]="ATTACHING";e[e.DETACHING=2]="DETACHING";e[e.RENDERING=3]="RENDERING";e[e.AFTER=4]="AFTER";
e[e.DONE=5]="DONE"}(h||(h={}));return function(e){function m(){var l=null!==e&&e.apply(this,arguments)||this;return l._childrenSet=new Set,l._childrenToAttach=[],l._childrenToDetach=[],l._renderPhase=h.DONE,l.children=[],l}return u(m,e),Object.defineProperty(m.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),m.prototype.detach=function(e){var b=this.children;e=this.prepareChildrenRenderParameters(e);for(var g=b.length,a=0;g>a;a++){var h=b[a];h.attached&&
(this.detachChild(h,e),h.attached=!1,h.parent=null)}},m.prototype.doRender=function(e){var b=this.prepareChildrenRenderParameters(e);this._renderPhase=h.BEFORE;this.beforeRenderChildren(e,b);this._renderPhase=h.ATTACHING;this.attachChildren(b)||this.requestRender();this._renderPhase=h.DETACHING;for(var g=this._childrenToDetach;0<g.length;){var a=g.shift();this.detachChild(a,b);a.attached=!1;a.parent=null}this._renderPhase=h.RENDERING;this.renderChildren(b);this._renderPhase=h.AFTER;this.afterRenderChildren(e,
b);this._renderPhase=h.DONE},m.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},m.prototype.addChildAt=function(e,b){if((void 0===b&&(b=this.numChildren),!e)||this.contains(e))return e;var g=e.parent;g&&g!==this&&g.removeChild(e);b>=this.numChildren?this.children.push(e):this.children.splice(b,0,e);this._childrenSet.add(e);b=this._childrenToDetach.indexOf(e);return-1<b&&this._childrenToDetach.splice(b,1),this._childrenToAttach.push(e),this._renderPhase>=h.RENDERING&&
this.requestRender(),e},m.prototype.contains=function(e){return this._childrenSet.has(e)},m.prototype.getChildIndex=function(e){return this.children.indexOf(e)},m.prototype.getChildAt=function(e){return 0>e||e>this.children.length?null:this.children[e]},m.prototype.removeAllChildren=function(){for(var e=this.numChildren;e--;)this.removeChildAt(0)},m.prototype.removeChild=function(e){return this.contains(e)?this.removeChildAt(this.getChildIndex(e)):e},m.prototype.removeChildAt=function(e){if(0>e||
e>=this.children.length)return null;e=this.children.splice(e,1)[0];this._childrenSet["delete"](e);if(e.attached)this._childrenToDetach.push(e),this._renderPhase>=h.RENDERING&&this.requestRender();else{var b=this._childrenToAttach.indexOf(e);-1<b&&this._childrenToAttach.splice(b,1)}return e},m.prototype.requestChildRender=function(e){e&&e.parent===this&&this._renderPhase>=h.RENDERING&&this.requestRender()},m.prototype.setChildIndex=function(e,b){var g=this.getChildIndex(e);-1<g&&(this.children.splice(g,
1),this.children.splice(b,0,e),this._renderPhase>=h.RENDERING&&this.requestRender())},m.prototype.sortChildren=function(e){return this._renderPhase>h.RENDERING&&this.requestRender(),this.children.sort(e)},m.prototype.attachChildren=function(e){var b=this._childrenToAttach;if(0===b.length)return!0;for(var g=0===b.length;!g;)g=b.shift(),this.attachChild(g,e)&&(g.attached=!0,g.parent=this),g=0===b.length;return 0===b.length},m.prototype.renderChildren=function(e){for(var b=this.children,g=b.length,a=
0;g>a;a++){var h=b[a];h.attached&&this.renderChild(h,e)}},m.prototype.beforeRenderChildren=function(e,b){},m.prototype.attachChild=function(e,b){return e.attach(b)},m.prototype.detachChild=function(e,b){e.detach(b)},m.prototype.renderChild=function(e,b){e.processRender(b)},m.prototype.afterRenderChildren=function(e,b){},m}(m)})},"esri/views/2d/engine/StageGL":function(){define("require exports ../../../core/tsSupport/extendsHelper ../libs/gl-matrix/common ../libs/gl-matrix/vec2 ../libs/gl-matrix/mat2d ./webgl/BitBlitRenderer ../../support/screenshotUtils ../../../core/promiseUtils ../../webgl/RenderingContext ../../webgl/FramebufferObject ../../webgl/webgl-utils ../../webgl/Program ../../webgl/VertexArrayObject ../../webgl/BufferObject ./webgl/painter/WGLPainter ./Container ./webgl/shaders/glShaderSnippets".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B){function J(a){return{budget:a.budget,state:a.state,devicePixelRatio:a.devicePixelRatio,stationary:a.stationary}}var K={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"};return function(p){function z(){var a=null!==p&&p.apply(this,arguments)||this;return a._clipData=new Float32Array(8),a._upperLeft=h.create(),a._upperRight=h.create(),a._lowerLeft=h.create(),a._lowerRight=h.create(),a._mat2=e.create(),a._clipRendererInitialized=!1,a}return u(z,p),Object.defineProperty(z.prototype,
"glPainter",{get:function(){return this._painter},enumerable:!0,configurable:!0}),z.prototype.createElement=function(){var a=document.createElement("canvas");return a.setAttribute("class","esri-display-object"),a},z.prototype.setElement=function(a){this.element=a},z.prototype.attach=function(a){if(this.attached)return!0;this._resizeCanvas(a);var b=r.setupWebGL(this.element,{alpha:!0,antialias:!1,depth:!0,stencil:!0});return this._renderingContext=new g(b[0]),this.attached=!0,this._cachedRenderParams=
J(a),this._painter||(this._painter=new D,this._painter.initialize(this._renderingContext)),p.prototype.attach.call(this,a)},z.prototype.detach=function(a){p.prototype.detach.call(this,a);this._renderingContext&&(this._renderingContext.dispose(),this._renderingContext=null);this._cachedRenderParams=null},z.prototype.beforeRenderChildren=function(b,g){var l=b.state,r=this._painter;if(r){g=this._renderingContext;g.enforceState();r.update(l,b.devicePixelRatio);if(!(l.spatialReference&&(l.spatialReference._isWrappable?
l.spatialReference._isWrappable():l.spatialReference.isWrappable)))return void(this._clipFrame=!1);var q=l.width,r=l.height,v=l.rotation,q=Math.round(q*b.devicePixelRatio),r=Math.round(r*b.devicePixelRatio),p=m.toRadian(v),u=Math.abs(Math.cos(p)),w=Math.abs(Math.sin(p)),x=Math.round(l.worldScreenWidth);if(x>=Math.round(q*u+r*w))return void(this._clipFrame=!1);this._clipFBO&&this._clipFBO.width===q&&this._clipFBO.height===r||(this._clipFBO=new a(g,{colorTarget:0,depthStencilTarget:3,width:q,height:r}));
var B=.5*q,n=.5*r,l=1/q,D=1/r;b=.5*x*b.devicePixelRatio;var z=.5*(q*w+r*u),q=this._upperLeft,u=this._upperRight,w=this._lowerLeft,x=this._lowerRight;h.set(q,-b,-z);h.set(u,b,-z);h.set(w,-b,z);h.set(x,b,z);e.identity(this._mat2);e.translate(this._mat2,this._mat2,[B,n]);0!==v&&e.rotate(this._mat2,this._mat2,p);h.transformMat2d(q,q,this._mat2);h.transformMat2d(u,u,this._mat2);h.transformMat2d(w,w,this._mat2);h.transformMat2d(x,x,this._mat2);v=this._clipData;v.set([2*w[0]*l-1,2*(r-w[1])*D-1,2*x[0]*l-
1,2*(r-x[1])*D-1,2*q[0]*l-1,2*(r-q[1])*D-1,2*u[0]*l-1,2*(r-u[1])*D-1]);this._clipRendererInitialized||this._initializeClipRenderer(g);this._clipVBO.setData(v);this._boundFBO=g.getBoundFramebufferObject();g.bindFramebuffer(this._clipFBO);g.setDepthWriteEnabled(!0);g.setStencilWriteMask(255);g.setClearColor(0,0,0,0);g.setClearDepth(1);g.setClearStencil(0);g.clear(g.gl.COLOR_BUFFER_BIT|g.gl.DEPTH_BUFFER_BIT|g.gl.STENCIL_BUFFER_BIT);g.setDepthWriteEnabled(!1);this._clipFrame=!0}},z.prototype.afterRenderChildren=
function(a,b){this._clipFrame&&this._clipRendererInitialized&&(a=this._renderingContext,a.bindFramebuffer(this._boundFBO),this._boundFBO=null,a.bindVAO(this._clipVAO),a.bindProgram(this._clipStencilProgram),a.setDepthWriteEnabled(!1),a.setDepthTestEnabled(!1),a.setStencilTestEnabled(!0),a.setBlendingEnabled(!1),a.setColorMask(!1,!1,!1,!1),a.setStencilOp(7680,7680,7681),a.setStencilWriteMask(255),a.setStencilFunction(519,1,255),a.drawElements(4,6,5123,0),a.bindVAO(),a.setColorMask(!0,!0,!0,!0),a.setBlendingEnabled(!0),
a.setStencilFunction(514,1,255),this._blitRenderer.render(a,this._clipFBO.colorTexture,9728,1),a.setStencilTestEnabled(!1))},z.prototype.doRender=function(a){var b=this.element.style;return this.visible?(b.display="block",b.opacity=""+this.opacity,this._resizeCanvas(a),p.prototype.doRender.call(this,a),void(this._cachedRenderParams=J(a))):void(b.display="none")},z.prototype.takeScreenshot=function(e){void 0===e&&(e={});var g=e.pixelRatio||1;this._cachedRenderParams.devicePixelRatio=g;var h=Math.round(g*
this._cachedRenderParams.state.width),m=Math.round(g*this._cachedRenderParams.state.height),r=0,q=0,v=h,p=m,u=h,w=m,u=e.area;(u&&(r=Math.round(g*u.x),q=Math.round(g*u.y),v=Math.round(g*u.width),p=Math.round(g*u.height)),void 0!==e.width&&void 0!==e.height)?(u=e.width/e.height,p*u<v?(u*=p,r+=Math.floor((v-u)/2),v=Math.floor(u)):(u=v/u,q+=Math.floor((p-u)/2),p=Math.floor(u)),u=e.width,w=e.height):(u=v,w=p);g=document.createElement("canvas");g.width=u;g.height=w;var x=g.getContext("2d"),n=new Uint8Array(v*
p*4),B=this._renderingContext,D=a.create(B,{colorTarget:1,depthStencilTarget:3,width:h,height:m});B.bindFramebuffer(D);B.setViewport(0,0,h,m);this._cachedRenderParams.budget&&this._cachedRenderParams.budget.reset(Number.MAX_VALUE);var d=this._cachedRenderParams,c=this._renderingContext.gl;if(this._renderingContext.setClearColor(0,0,0,0),this._renderingContext.setClearDepth(1),this._renderingContext.setClearStencil(0),this._renderingContext.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT|c.STENCIL_BUFFER_BIT),
d.context=this._renderingContext,this.beforeRenderChildren(d,d),void 0!==e.rotation&&null!==e.rotation){var c=d.state,f=c.clone();f.viewpoint.rotation=e.rotation;d.state=f;this.renderChildren(d);d.state=c}else this.renderChildren(d);this.afterRenderChildren(d,d);D.readPixels(r,m-(q+p),v,p,6408,5121,n);B.bindFramebuffer();B=x.getImageData(0,0,u,w);if(0!==r||0!==q||v!==h||p!==m||u!==h||w!==m)l.resampleHermite(n,v,p,B.data,u,w,!0);else{q=p-1;p=0;D=4*v;for(f=c=r=m=h=v=d=void 0;q>p;){c=p*D;f=q*D;for(d=
0;D>d;d+=4)v=n[c+d],h=n[c+d+1],m=n[c+d+2],r=n[c+d+3],n[c+d]=n[f+d],n[c+d+1]=n[f+d+1],n[c+d+2]=n[f+d+2],n[c+d+3]=n[f+d+3],n[f+d]=v,n[f+d+1]=h,n[f+d+2]=m,n[f+d+3]=r;p++;q--}v=B.data;h=n.length;for(q=0;h>q;q++)v[q]=n[q]}n=B.data;p=n.length;for(q=0;p>q;q+=4)r=n[q+3],0<r&&(m=r/255,v=Math.floor(n[q+0]/m),h=Math.floor(n[q+1]/m),m=Math.floor(n[q+2]/m),n[q+0]=255>=v?v:255,n[q+1]=255>=h?h:255,n[q+2]=255>=m?m:255);x.putImageData(B,0,0);x=K[e.format?e.format.toLowerCase():"png"];n=1;void 0!==e.quality&&(n=e.quality/
100);e=g.toDataURL(x,n);return b.resolve({dataURL:e,x:0,y:0,width:u,height:w})},z.prototype.prepareChildrenRenderParameters=function(a){if(!this.attached||!this._renderingContext)return null;a=J(a);var b=this._renderingContext,e=b.gl;return b.setDepthWriteEnabled(!0),b.setStencilWriteMask(255),b.setClearColor(0,0,0,0),b.setClearDepth(1),b.setClearStencil(0),b.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),b.setViewport(0,0,this.element.width,this.element.height),b.setDepthWriteEnabled(!1),
a.context=b,a},z.prototype.attachChild=function(a,b){return a.attach(b)},z.prototype.detachChild=function(a,b){return a.detach(b)},z.prototype.renderChild=function(a,b){return a.processRender(b)},z.prototype._resizeCanvas=function(a){var b=this.element,e=b.style,g=a.state,h=a.devicePixelRatio;a=Math.round(g.width*h);h=Math.round(g.height*h);(b.width!==a||b.height!==h)&&(b.width=a,b.height=h);e.width=g.width+"px";e.height=g.height+"px"},z.prototype._initializeClipRenderer=function(a){if(this._clipRendererInitialized)return!0;
this._blitRenderer=new q;var b={a_pos:0},e=new v(a,B.stencilVS,B.stencilFS,b);if(!e)return!1;var g=x.createVertex(a,35040,32),h=new Uint16Array([0,1,2,2,1,3]),h=x.createIndex(a,35044,h);a=new w(a,b,{geometry:[{name:"a_pos",count:2,type:5126,offset:0,stride:8,normalized:!1,divisor:0}]},{geometry:g},h);return this._clipStencilProgram=e,this._clipVBO=g,this._clipVAO=a,this._clipRendererInitialized=!0,!0},z}(E)})},"esri/views/2d/engine/webgl/BitBlitRenderer":function(){define("require exports ../../../webgl/Program ../../../webgl/VertexArrayObject ../../../webgl/BufferObject ./shaders/glShaderSnippets".split(" "),
function(y,p,u,m,h,e){return function(){function q(){this._initialized=!1}return q.prototype.render=function(e,b,g,a){e&&(this._initialized||this._initialize(e),e.setBlendFunctionSeparate(1,771,1,771),e.bindVAO(this._vertexArrayObject),e.bindProgram(this._program),b.setSamplingMode(g),e.bindTexture(b,0),this._program.setUniform1i("u_tex",0),this._program.setUniform1f("u_opacity",a),e.drawArrays(5,0,4),e.bindVAO())},q.prototype._initialize=function(l){if(this._initialized)return!0;var b={a_pos:0,a_tex:1},
g=new u(l,e.bitblitVS,e.bitblitFS,b);if(!g)return!1;var a=new Int8Array(16);a[0]=-1;a[1]=-1;a[2]=0;a[3]=0;a[4]=1;a[5]=-1;a[6]=1;a[7]=0;a[8]=-1;a[9]=1;a[10]=0;a[11]=1;a[12]=1;a[13]=1;a[14]=1;a[15]=1;l=new m(l,b,{geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:4,normalized:!1,divisor:0},{name:"a_tex",count:2,type:5120,offset:2,stride:4,normalized:!1,divisor:0}]},{geometry:h.createVertex(l,35044,a)});return this._program=g,this._vertexArrayObject=l,this._initialized=!0,!0},q}()})},"esri/views/2d/engine/webgl/shaders/glShaderSnippets":function(){define("require exports ../../../../webgl/ShaderSnippets dojo/text!./bitblit.vs.glsl dojo/text!./bitblit.fs.glsl dojo/text!./stencil.vs.glsl dojo/text!./stencil.fs.glsl dojo/text!./background.vs.glsl dojo/text!./background.fs.glsl dojo/text!./tileInfo.vs.glsl dojo/text!./tileInfo.fs.glsl".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){function r(a,b){v+='\x3csnippet name\x3d"'+a+'"\x3e\x3c![CDATA[';v+=b;v+="]]\x3e\x3c/snippet\x3e"}var v="",v=v+'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e',v=v+"\x3csnippets\x3e";r("bitblitVS",m);r("bitblitFS",h);r("stencilVS",e);r("stencilFS",q);r("backgroundVS",l);r("backgroundFS",b);r("tileInfoVS",g);r("tileInfoFS",a);v+="\x3c/snippets\x3e";y=new u;return u.parse(v,y),y})},"esri/views/support/screenshotUtils":function(){define(["require","exports","dojo/_base/lang"],
function(y,p,u){Object.defineProperty(p,"__esModule",{value:!0});p.adjustScreenshotSettings=function(m,h){m=u.mixin({format:"png",quality:100},m||{});var e,q;m.includePadding?(e=h.width,q=h.height):(e=h.width-h.padding.left-h.padding.right,q=h.height-h.padding.top-h.padding.bottom);var l=e/q;return void 0!==m.width&&void 0===m.height?m.height=m.width/l:void 0!==m.height&&void 0===m.width&&(m.width=l*m.height),void 0!==m.height&&(m.height=Math.floor(m.height)),void 0!==m.width&&(m.width=Math.floor(m.width)),
m.area||m.includePadding||(m.area={x:h.padding.left,y:h.padding.top,width:e,height:q}),m};p.resampleHermite=function(m,h,e,q,l,b,g){void 0===g&&(g=!0);var a=h/l;e/=b;for(var r=Math.ceil(a/2),v=Math.ceil(e/2),p=0;b>p;p++)for(var u=0;l>u;u++){for(var D=4*(u+(g?b-p-1:p)*l),E=0,B=0,y=0,K=0,z=0,M=0,I=0,Q=(p+.5)*e,O=Math.floor(p*e);(p+1)*e>O;O++)for(var Y=Math.abs(Q-(O+.5))/v,N=(u+.5)*a,Y=Y*Y,T=Math.floor(u*a);(u+1)*a>T;T++){var da=Math.abs(N-(T+.5))/r,Z=Math.sqrt(Y+da*da);-1<=Z&&1>=Z&&(E=2*Z*Z*Z-3*Z*Z+
1,0<E&&(da=4*(T+O*h),I+=E*m[da+3],y+=E,255>m[da+3]&&(E=E*m[da+3]/250),K+=E*m[da],z+=E*m[da+1],M+=E*m[da+2],B+=E))}q[D]=K/B;q[D+1]=z/B;q[D+2]=M/B;q[D+3]=I/y}}})},"esri/views/webgl/RenderingContext":function(){define(["require","exports","./enums","./Extensions"],function(y,p,u,m){return function(){function h(e,h){this.gl=null;this._extensions=void 0;this._blendEnabled=!1;this._blendColorState={r:0,g:0,b:0,a:0};this._blendFunctionState={srcRGB:1,dstRGB:0,srcAlpha:1,dstAlpha:0};this._blendEquationState=
{mode:32774,modeAlpha:32774};this._colorMaskState={r:!0,g:!0,b:!0,a:!0};this._polygonCullingEnabled=!1;this._cullFace=1029;this._frontFace=2305;this._scissorTestEnabled=!1;this._scissorRect={x:0,y:0,width:0,height:0};this._depthTestEnabled=!1;this._depthFunction=513;this._clearDepth=1;this._depthWriteEnabled=!0;this._depthRange={zNear:0,zFar:1};this._viewport=null;this._polygonOffsetFillEnabled=this._stencilTestEnabled=!1;this._polygonOffset=[0,0];this._stencilFunction={face:1032,func:519,ref:0,mask:1};
this._clearStencil=0;this._stencilWriteMask=1;this._stencilOperation={face:1032,fail:7680,zFail:7680,zPass:7680};this._lineWidth=1;this._clearColor={r:0,g:0,b:0,a:0};this._activeFramebuffer=this._activeIndexBuffer=this._activeVertexBuffer=this._activeShaderProgram=null;this._activeTextureUnit=0;this._textureUnitMap={};this.gl=e;this._extensions=new m(e,h);h=e.getParameter(e.VIEWPORT);this._viewport={x:h[0],y:h[1],width:h[2],height:h[3]};h=this.extensions.textureFilterAnisotropic;this._parameters=
{versionString:e.getParameter(e.VERSION),maxVertexTextureImageUnits:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxVertexAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxMaxAnisotropy:h?e.getParameter(h.MAX_TEXTURE_MAX_ANISOTROPY_EXT):void 0,maxTextureImageUnits:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)};this.enforceState()}return Object.defineProperty(h.prototype,"extensions",{get:function(){return this._extensions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"contextAttributes",
{get:function(){return this.gl.getContextAttributes()},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"parameters",{get:function(){return this._parameters},enumerable:!0,configurable:!0}),h.prototype.dispose=function(){this.bindVAO(null);this.unbindBuffer(34962);this.unbindBuffer(34963);this._textureUnitMap={};this.gl=null},h.prototype.setBlendingEnabled=function(e){this._blendEnabled!==e&&(!0===e?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._blendEnabled=e)},
h.prototype.setBlendColor=function(e,h,l,b){(e!==this._blendColorState.r||h!==this._blendColorState.g||l!==this._blendColorState.b||b!==this._blendColorState.a)&&(this.gl.blendColor(e,h,l,b),this._blendColorState.r=e,this._blendColorState.g=h,this._blendColorState.b=l,this._blendColorState.a=b)},h.prototype.setBlendFunction=function(e,h){(e!==this._blendFunctionState.srcRGB||h!==this._blendFunctionState.dstRGB)&&(this.gl.blendFunc(e,h),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=
e,this._blendFunctionState.dstRGB=h,this._blendFunctionState.dstAlpha=h)},h.prototype.setBlendFunctionSeparate=function(e,h,l,b){(this._blendFunctionState.srcRGB!==e||this._blendFunctionState.srcAlpha!==l||this._blendFunctionState.dstRGB!==h||this._blendFunctionState.dstAlpha!==b)&&(this.gl.blendFuncSeparate(e,h,l,b),this._blendFunctionState.srcRGB=e,this._blendFunctionState.srcAlpha=l,this._blendFunctionState.dstRGB=h,this._blendFunctionState.dstAlpha=b)},h.prototype.setBlendEquation=function(e){this._blendEquationState.mode!==
e&&(this.gl.blendEquation(e),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=e)},h.prototype.setBlendEquationSeparate=function(e,h){(this._blendEquationState.mode!==e||this._blendEquationState.modeAlpha!==h)&&(this.gl.blendEquationSeparate(e,h),this._blendEquationState.mode=e,this._blendEquationState.modeAlpha=h)},h.prototype.setColorMask=function(e,h,l,b){(this._colorMaskState.r!==e||this._colorMaskState.g!==h||this._colorMaskState.b!==l||this._colorMaskState.a!==b)&&(this.gl.colorMask(e,
h,l,b),this._colorMaskState.r=e,this._colorMaskState.g=h,this._colorMaskState.b=l,this._colorMaskState.a=b)},h.prototype.setClearColor=function(e,h,l,b){(this._clearColor.r!==e||this._clearColor.g!==h||this._clearColor.b!==l||this._clearColor.a!==b)&&(this.gl.clearColor(e,h,l,b),this._clearColor.r=e,this._clearColor.g=h,this._clearColor.b=l,this._clearColor.a=b)},h.prototype.setFaceCullingEnabled=function(e){this._polygonCullingEnabled!==e&&(!0===e?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),
this._polygonCullingEnabled=e)},h.prototype.setPolygonOffsetFillEnabled=function(e){this._polygonOffsetFillEnabled!==e&&(!0===e?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._polygonOffsetFillEnabled=e)},h.prototype.setPolygonOffset=function(e,h){this._polygonOffset[0]===e&&this._polygonOffset[1]===h||(this._polygonOffset[0]=e,this._polygonOffset[1]=h,this.gl.polygonOffset(e,h))},h.prototype.setCullFace=function(e){this._cullFace!==e&&(this.gl.cullFace(e),
this._cullFace=e)},h.prototype.setFrontFace=function(e){this._frontFace!==e&&(this.gl.frontFace(e),this._frontFace=e)},h.prototype.setScissorTestEnabled=function(e){this._scissorTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._scissorTestEnabled=e)},h.prototype.setScissorRect=function(e,h,l,b){(this._scissorRect.x!==e||this._scissorRect.y!==h||this._scissorRect.width!==l||this._scissorRect.height!==b)&&(this.gl.scissor(e,h,l,b),this._scissorRect.x=
e,this._scissorRect.y=h,this._scissorRect.width=l,this._scissorRect.height=b)},h.prototype.setDepthTestEnabled=function(e){this._depthTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._depthTestEnabled=e)},h.prototype.setClearDepth=function(e){this._clearDepth!==e&&(this.gl.clearDepth(e),this._clearDepth=e)},h.prototype.setDepthFunction=function(e){this._depthFunction!==e&&(this.gl.depthFunc(e),this._depthFunction=e)},h.prototype.setDepthWriteEnabled=
function(e){this._depthWriteEnabled!==e&&(this.gl.depthMask(e),this._depthWriteEnabled=e)},h.prototype.setDepthRange=function(e,h){(this._depthRange.zNear!==e||this._depthRange.zFar!==h)&&(this.gl.depthRange(e,h),this._depthRange.zNear=e,this._depthRange.zFar=h)},h.prototype.setStencilTestEnabled=function(e){this._stencilTestEnabled!==e&&(!0===e?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._stencilTestEnabled=e)},h.prototype.setClearStencil=function(e){e!==this._clearStencil&&
(this.gl.clearStencil(e),this._clearStencil=e)},h.prototype.setStencilFunction=function(e,h,l){(this._stencilFunction.func!==e||this._stencilFunction.ref!==h||this._stencilFunction.mask!==l)&&(this.gl.stencilFunc(e,h,l),this._stencilFunction.face=1032,this._stencilFunction.func=e,this._stencilFunction.ref=h,this._stencilFunction.mask=l)},h.prototype.setStencilFunctionSeparate=function(e,h,l,b){(this._stencilFunction.face!==e||this._stencilFunction.func!==h||this._stencilFunction.ref!==l||this._stencilFunction.mask!==
b)&&(this.gl.stencilFuncSeparate(e,h,l,b),this._stencilFunction.face=e,this._stencilFunction.func=h,this._stencilFunction.ref=l,this._stencilFunction.mask=b)},h.prototype.setStencilWriteMask=function(e){this._stencilWriteMask!==e&&(this.gl.stencilMask(e),this._stencilWriteMask=e)},h.prototype.setStencilOp=function(e,h,l){(this._stencilOperation.fail!==e||this._stencilOperation.zFail!==h||this._stencilOperation.zPass!==l)&&(this.gl.stencilOp(e,h,l),this._stencilOperation.face=1032,this._stencilOperation.fail=
e,this._stencilOperation.zFail=h,this._stencilOperation.zPass=l)},h.prototype.setStencilOpSeparate=function(e,h,l,b){(this._stencilOperation.face!==e||this._stencilOperation.fail!==h||this._stencilOperation.zFail!==l||this._stencilOperation.zPass!==b)&&(this.gl.stencilOpSeparate(e,h,l,b),this._stencilOperation.face=e,this._stencilOperation.face=e,this._stencilOperation.fail=h,this._stencilOperation.zFail=l,this._stencilOperation.zPass=b)},h.prototype.setLineWidth=function(e){var h=this._lineWidth;
return this._lineWidth!==e&&(this.gl.lineWidth(e),this._lineWidth=e),h},h.prototype.setActiveTexture=function(e){var h=this._activeTextureUnit;return 0<=e&&e!==this._activeTextureUnit&&(this.gl.activeTexture(u.BASE_TEXTURE_UNIT+e),this._activeTextureUnit=e),h},h.prototype.clear=function(e){e&&this.gl.clear(e)},h.prototype.drawArrays=function(e,h,l){this.gl.drawArrays(e,h,l)},h.prototype.drawElements=function(e,h,l,b){return 5123===l?void this.gl.drawElements(e,h,l,b):void(5125===l&&this._extensions.elementIndexUint?
this.gl.drawElements(e,h,l,b):console.warn("Data type is uint however extension OES_Element_index_unit is not supported therefore this draw call cannot be made"))},h.prototype.drawArraysInstanced=function(e,h,l,b){this._extensions.angleInstancedArrays?this._extensions.angleInstancedArrays.drawArraysInstancedANGLE(e,h,l,b):console.error("Extension ANGLE_instanced_arrays isn't supported!")},h.prototype.drawElementsInstanced=function(e,h,l,b,g){this._extensions.angleInstancedArrays?5125!==l||this._extensions.elementIndexUint?
this._extensions.angleInstancedArrays.drawElementsInstancedANGLE(e,h,l,b,g):console.error("Extension OES_Element_index_unit is not supported!"):console.error("Extension ANGLE_instanced_arrays isn't supported!")},h.prototype.setViewport=function(e,h,l,b){var g=this._viewport;g.x===e&&g.y===h&&g.width===l&&g.height===b||(g.x=e,g.y=h,g.width=l,g.height=b,this.gl.viewport(e,h,l,b))},h.prototype.getViewport=function(){return{x:this._viewport.x,y:this._viewport.y,width:this._viewport.width,height:this._viewport.height}},
h.prototype.bindProgram=function(e){return e?void(this._activeShaderProgram!==e&&(e.initialize(),this.gl.useProgram(e.glName),this._activeShaderProgram=e)):(this.gl.useProgram(null),void(this._activeShaderProgram=null))},h.prototype.bindTexture=function(e,m){void 0===m&&(m=0);-1===h._MAX_TEXTURE_IMAGE_UNITS&&(h._MAX_TEXTURE_IMAGE_UNITS=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS));(m>=h._MAX_TEXTURE_IMAGE_UNITS||0>m)&&console.error("Input texture unit is out of range of available units!");
var l=this._textureUnitMap[m];return this.setActiveTexture(m),null==e||null==e.glName?(null!=l&&(this.gl.bindTexture(l.descriptor.target,null),l.setBoundToUnit(m,!1)),void(this._textureUnitMap[m]=null)):l&&l.id===e.id?void e.applyChanges():(this.gl.bindTexture(e.descriptor.target,e.glName),e.setBoundToUnit(m,!0),e.applyChanges(),void(this._textureUnitMap[m]=e))},h.prototype.bindFramebuffer=function(e){return e?void(this._activeFramebuffer!==e&&(e.initialize()||this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,
e.glName),this._activeFramebuffer=e)):(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),void(this._activeFramebuffer=null))},h.prototype.bindBuffer=function(e){e&&(34962===e.bufferType?this._activeVertexBuffer=h._bindBuffer(this.gl,e,e.bufferType,this._activeVertexBuffer):this._activeIndexBuffer=h._bindBuffer(this.gl,e,e.bufferType,this._activeIndexBuffer))},h.prototype.unbindBuffer=function(e){34962===e?this._activeVertexBuffer=h._bindBuffer(this.gl,null,e,this._activeVertexBuffer):this._activeIndexBuffer=
h._bindBuffer(this.gl,null,e,this._activeIndexBuffer)},h.prototype.bindVAO=function(e){return e?void(this._activeVertexArrayObject&&this._activeVertexArrayObject.id===e.id||(e.bind(),this._activeVertexArrayObject=e)):void(this._activeVertexArrayObject&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null))},h.prototype.getBoundTexture=function(e){return this._textureUnitMap[e]},h.prototype.getBoundFramebufferObject=function(){return this._activeFramebuffer},h.prototype.getBoundVAO=
function(){return this._activeVertexArrayObject},h.prototype.resetState=function(){this.bindProgram(null);this.bindVAO(null);this.bindFramebuffer(null);this.unbindBuffer(34962);this.unbindBuffer(34963);for(var e=0;e<this.parameters.maxTextureImageUnits;e++)this.bindTexture(null,e);this.setBlendingEnabled(!1);this.setBlendFunction(1,0);this.setBlendEquation(32774);this.setBlendColor(0,0,0,0);this.setFaceCullingEnabled(!1);this.setCullFace(1029);this.setFrontFace(2305);this.setPolygonOffsetFillEnabled(!1);
this.setPolygonOffset(0,0);this.setScissorTestEnabled(!1);this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height);this.setDepthTestEnabled(!1);this.setDepthFunction(513);this.setDepthRange(0,1);this.setStencilTestEnabled(!1);this.setStencilFunction(519,0,0);this.setStencilOp(7680,7680,7680);this.setClearColor(0,0,0,0);this.setClearDepth(1);this.setClearStencil(0);this.setColorMask(!0,!0,!0,!0);this.setStencilWriteMask(4294967295);this.setDepthWriteEnabled(!0);this.setViewport(0,0,this.gl.canvas.width,
this.gl.canvas.height)},h.prototype.enforceState=function(){var e=this.gl,h=this._extensions.vao;h&&h.bindVertexArrayOES(null);for(var l=0;l<this.parameters.maxVertexAttributes;l++)e.disableVertexAttribArray(l);if(this._activeVertexBuffer?e.bindBuffer(this._activeVertexBuffer.bufferType,this._activeVertexBuffer.glName):e.bindBuffer(34962,null),this._activeIndexBuffer?e.bindBuffer(this._activeIndexBuffer.bufferType,this._activeIndexBuffer.glName):e.bindBuffer(34963,null),h&&this._activeVertexArrayObject)(h=
this._activeVertexArrayObject)&&(this._activeVertexArrayObject.unbind(),this._activeVertexArrayObject=null),this.bindVAO(h);e.bindFramebuffer(e.FRAMEBUFFER,this._activeFramebuffer?this._activeFramebuffer.glName:null);e.useProgram(this._activeShaderProgram?this._activeShaderProgram.glName:null);e.blendColor(this._blendColorState.r,this._blendColorState.g,this._blendColorState.b,this._blendColorState.a);!0===this._blendEnabled?e.enable(this.gl.BLEND):e.disable(this.gl.BLEND);e.blendEquationSeparate(this._blendEquationState.mode,
this._blendEquationState.modeAlpha);e.blendFuncSeparate(this._blendFunctionState.srcRGB,this._blendFunctionState.dstRGB,this._blendFunctionState.srcAlpha,this._blendFunctionState.dstAlpha);e.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearColor.a);e.clearDepth(this._clearDepth);e.clearStencil(this._clearStencil);e.colorMask(this._colorMaskState.r,this._colorMaskState.g,this._colorMaskState.b,this._colorMaskState.a);e.cullFace(this._cullFace);e.depthFunc(this._depthFunction);
e.depthRange(this._depthRange.zNear,this._depthRange.zFar);!0===this._depthTestEnabled?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST);e.depthMask(this._depthWriteEnabled);e.frontFace(this._frontFace);e.lineWidth(this._lineWidth);!0===this._polygonCullingEnabled?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE);e.polygonOffset(this._polygonOffset[0],this._polygonOffset[1]);!0===this._polygonOffsetFillEnabled?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL);e.scissor(this._scissorRect.x,
this._scissorRect.y,this._scissorRect.width,this._scissorRect.height);!0===this._scissorTestEnabled?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST);e.stencilFunc(this._stencilFunction.func,this._stencilFunction.ref,this._stencilFunction.mask);e.stencilOpSeparate(this._stencilOperation.face,this._stencilOperation.fail,this._stencilOperation.zFail,this._stencilOperation.zPass);!0===this._stencilTestEnabled?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST);e.stencilMask(this._stencilWriteMask);for(h=
0;h<this.parameters.maxTextureImageUnits;h++)e.activeTexture(u.BASE_TEXTURE_UNIT+h),e.bindTexture(3553,null),(l=this._textureUnitMap[h])&&e.bindTexture(l.descriptor.target,l.glName);e.activeTexture(u.BASE_TEXTURE_UNIT+this._activeTextureUnit);e.viewport(this._viewport.x,this._viewport.y,this._viewport.width,this._viewport.height)},h._bindBuffer=function(e,h,l,b){return h?b===h?b:(e.bindBuffer(l,h.glName),h):(e.bindBuffer(l,null),null)},h._MAX_TEXTURE_IMAGE_UNITS=-1,h}()})},"esri/views/webgl/enums":function(){define(["require",
"exports"],function(y,p){Object.defineProperty(p,"__esModule",{value:!0});p.BASE_TEXTURE_UNIT=33984})},"esri/views/webgl/Extensions":function(){define(["require","exports"],function(y,p){return function(){function p(m,h){if(this._vaoInit=!1,this._angleInstancedArraysInit=!1,this._standardDerivativesInit=!1,this._elementIndexUintInit=!1,this._depthTextureInit=!1,this._textureFilterAnisotropicInit=!1,this._shaderTextureLODInit=!1,this._compressedTextureS3TCInit=!1,this._disjointTimerQueryInit=!1,this._textureFloatInit=
!1,this._textureFloatLinearInit=!1,this._colorBufferFloatInit=!1,this._gl=m,h&&h.disabledExtensions)m=h.disabledExtensions,m.vao&&(this._vao=null,this._vaoInit=!0),m.angleInstancedArrays&&(this._angleInstancedArrays=null,this._angleInstancedArraysInit=!0),m.standardDerivatives&&(this._standardDerivatives=null,this._standardDerivativesInit=!0),m.elementIndexUint&&(this._elementIndexUint=null,this._elementIndexUintInit=!0),m.depthTexture&&(this._depthTexture=null,this._depthTextureInit=!0),m.textureFilterAnisotropic&&
(this._textureFilterAnisotropic=null,this._textureFilterAnisotropicInit=!0),m.compressedTextureS3TC&&(this._compressedTextureS3TC=null,this._compressedTextureS3TCInit=!0),m.shaderTextureLOD&&(this._shaderTextureLOD=null,this._shaderTextureLODInit=!0),m.disjointTimerQuery&&(this._disjointTimerQuery=null,this._disjointTimerQueryInit=!0),m.textureFloat&&(this._textureFloat=null,this._textureFloatInit=!0),m.textureFloatLinear&&(this._textureFloatLinear=null,this._textureFloatLinearInit=!0),m.colorBufferFloat&&
(this._colorBufferFloat=null,this._colorBufferFloatInit=!0)}return Object.defineProperty(p.prototype,"vao",{get:function(){return this._vaoInit||(this._vao=this._gl.getExtension("OES_vertex_array_object")||this._gl.getExtension("MOZ_OES_vertex_array_object")||this._gl.getExtension("WEBKIT_OES_vertex_array_object"),this._vaoInit=!0),this._vao},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"angleInstancedArrays",{get:function(){return this._angleInstancedArraysInit||(this._angleInstancedArrays=
this._gl.getExtension("ANGLE_instanced_arrays"),this._angleInstancedArraysInit=!0),this._angleInstancedArrays},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"standardDerivatives",{get:function(){return this._standardDerivativesInit||(this._standardDerivatives=this._gl.getExtension("OES_standard_derivatives"),this._standardDerivativesInit=!0),this._standardDerivatives},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"elementIndexUint",{get:function(){return this._elementIndexUintInit||
(this._elementIndexUint=this._gl.getExtension("OES_element_index_uint"),this._elementIndexUintInit=!0),this._elementIndexUint},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"depthTexture",{get:function(){return this._depthTextureInit||(this._depthTexture=this._gl.getExtension("WEBGL_depth_texture")||this._gl.getExtension("MOZ_WEBGL_depth_texture")||this._gl.getExtension("WEBKIT_WEBGL_depth_texture"),this._depthTextureInit=!0),this._depthTexture},enumerable:!0,configurable:!0}),
Object.defineProperty(p.prototype,"textureFilterAnisotropic",{get:function(){return this._textureFilterAnisotropicInit||(this._textureFilterAnisotropic=this._gl.getExtension("EXT_texture_filter_anisotropic")||this._gl.getExtension("MOZ_EXT_texture_filter_anisotropic")||this._gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this._textureFilterAnisotropicInit=!0),this._textureFilterAnisotropic},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"shaderTextureLOD",{get:function(){return this._shaderTextureLODInit||
(this._shaderTextureLOD=this._gl.getExtension("EXT_shader_texture_lod"),this._shaderTextureLODInit=!0),this._shaderTextureLOD},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"compressedTextureS3TC",{get:function(){return this._compressedTextureS3TCInit||(this._compressedTextureS3TC=this._gl.getExtension("WEBGL_compressed_texture_s3tc"),this._compressedTextureS3TCInit=!0),this._compressedTextureS3TC},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"disjointTimerQuery",
{get:function(){return this._disjointTimerQueryInit||(this._disjointTimerQuery=this._gl.getExtension("EXT_disjoint_timer_query"),this._disjointTimerQueryInit=!0),this._disjointTimerQuery},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"textureFloat",{get:function(){return this._textureFloatInit||(this._textureFloat=this._gl.getExtension("OES_texture_float"),this._textureFloatInit=!0),this._textureFloat},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"textureFloatLinear",
{get:function(){return this._textureFloatLinearInit||(this._textureFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._textureFloatLinearInit=!0),this._textureFloatLinear},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"colorBufferFloat",{get:function(){return this._colorBufferFloatInit||(this._colorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this._colorBufferFloatInit=!0),this._colorBufferFloat},enumerable:!0,configurable:!0}),p}()})},"esri/views/webgl/webgl-utils":function(){define([],
function(){var y=function(p,u){for(var m=["webgl","experimental-webgl","webkit-3d","moz-webgl"],h=null,e=0;e<m.length;++e){try{h=p.getContext(m[e],u)}catch(q){}if(h)break}return h};return{create3DContext:y,setupWebGL:function(p,u){function m(h){var e=p.parentNode;e&&(e.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+h+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}
return window.WebGLRenderingContext?(u=y(p,u))?[u]:(m('It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'),[null,'It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e']):(m('This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'),
[null,'This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'])},detectWebGL:function(){var p;try{p=window.WebGLRenderingContext}catch(m){p=[!1,0]}var u;try{u=y(document.createElement("canvas"))}catch(m){u=[!1,1]}p?u?(p=u,p=[!0,{VERSION:p.getParameter(p.VERSION),SHADING_LANGUAGE_VERSION:p.getParameter(p.SHADING_LANGUAGE_VERSION),VENDOR:p.getParameter(p.VENDOR),RENDERER:p.getParameter(p.RENDERER),EXTENSIONS:p.getSupportedExtensions(),
MAX_TEXTURE_SIZE:p.getParameter(p.MAX_TEXTURE_SIZE),MAX_RENDERBUFFER_SIZE:p.getParameter(p.MAX_RENDERBUFFER_SIZE),MAX_VERTEX_TEXTURE_IMAGE_UNITS:p.getParameter(p.MAX_VERTEX_TEXTURE_IMAGE_UNITS)}]):p=[!1,1]:p=[!1,0];return p}}})},"esri/views/2d/engine/webgl/painter/WGLPainter":function(){define("require exports dojo/has ../../../../../core/libs/gl-matrix/mat4 ../../../../webgl/FramebufferObject ../Dispatcher ../GeometryUtils ../MaterialManager ../enums ./WGLTextPainter ./WGLIconPainter ./WGLFillPainter ./WGLLinePainter ./WGLBackgroundPainter ./TileInfoRenderer ./WGLHighlightPainter ./WGLHeatmapPainter ../Utils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B){var J=new Uint8Array(4*B.C_HITTEST_SEARCH_SIZE*B.C_HITTEST_SEARCH_SIZE),K=new Uint32Array(J.buffer),z=new e;return function(){function e(){this._textPainter=new g;this._iconPainter=new a;this._fillPainter=new r;this._linePainter=new v;this._backgroundPainter=new w;this._hlPainter=new D;this._heatmapPainter=new E;this._extrudeMatrix=new Float32Array(16);this._extrudeNoRotationMatrix=new Float32Array(16);this._extrudeRotateVector=new Float32Array([0,0,1]);
this._extrudeScaleVector=new Float32Array([1,1,1]);this._state={rotation:0,width:0,height:0};this._cachedRotation=this._cachedHeight=this._cachedWidth=0;this._materialManager=new l}return e.prototype.initialize=function(a){this._materialManager.initialize(a)},e.prototype.update=function(a,b){this._state=a;(this._state.width!==this._cachedWidth||this._state.height!==this._cachedHeight||this._state.rotation!==this._cachedRotation)&&(this._extrudeScaleVector[0]=2/a.width,this._extrudeScaleVector[1]=
-2/a.height,m.identity(this._extrudeMatrix),m.rotate(this._extrudeMatrix,this._extrudeMatrix,-a.rotation*q.C_DEG_TO_RAD,this._extrudeRotateVector),m.scale(this._extrudeMatrix,this._extrudeMatrix,this._extrudeScaleVector),m.transpose(this._extrudeMatrix,this._extrudeMatrix),m.identity(this._extrudeNoRotationMatrix),m.scale(this._extrudeNoRotationMatrix,this._extrudeNoRotationMatrix,this._extrudeScaleVector),m.transpose(this._extrudeNoRotationMatrix,this._extrudeNoRotationMatrix),this._cachedWidth=
this._state.width,this._cachedHeight=this._state.height,this._cachedRotation=this._state.rotation)},e.prototype.setHighlightOptions=function(a){this._hlPainter.setHighlightOptions(a)},e.prototype.drawHeatmap=function(a,e,g,h){var l=this;if(this._heatmapPainter.bindHeatmapSurface(a,e.displayWidth*h,e.displayHeight*h),this._drawClippingRects(a,e.children),a.setBlendingEnabled(!0),a.setStencilWriteMask(0),a.setBlendFunctionSeparate(1,1,1,0),a.setStencilTestEnabled(!0),e.wglRendererInfo.symbolLevels.forEach(function(m){e.children.forEach(function(r){z.replayList(a,
r.displayList,m,l,r,e.textureManager,e.wglRendererInfo,b.WGLDrawPhase.GEOMETRY,g,h,!1)})}),a.setStencilTestEnabled(!1),this._heatmapPainter.drawHeatmap(a,e.wglRendererInfo,.75),u("esri-feature-tiles-debug")){this._tileInforenderer||(this._tileInforenderer=new x);for(var m=this._tileInforenderer,r=0,q=e.children;r<q.length;r++){var v=q[r];v.attached&&v.visible&&m.render(a,v)}}},e.prototype.draw=function(a,e,g,h,l){var m=this;if(this._drawClippingRects(a,e.children),a.setBlendingEnabled(!0),a.setStencilWriteMask(0),
a.setBlendFunctionSeparate(1,771,1,771),a.setStencilTestEnabled(!0),e.wglRendererInfo.symbolLevels.forEach(function(r){e.children.forEach(function(n){n.displayList&&!n.displayList.empty&&z.replayList(a,n.displayList,r,m,n,e.textureManager,e.wglRendererInfo,b.WGLDrawPhase.GEOMETRY,g,h,l)})}),a.setStencilTestEnabled(!1),u("esri-feature-tiles-debug")){this._tileInforenderer||(this._tileInforenderer=new x);for(var r=this._tileInforenderer,q=0,v=e.children;q<v.length;q++){var p=v[q];p.attached&&p.visible&&
r.render(a,p)}}},e.prototype.highlight=function(a,e,g,h){var l=this,m=a.getViewport();this._hlPainter.setup(a,m.width,m.height);this._hlPainter.startMaskDraw(a);this._drawClippingRects(a,e.children);a.setBlendingEnabled(!0);a.setStencilWriteMask(0);a.setBlendFunctionSeparate(1,771,1,771);a.setStencilTestEnabled(!0);e.wglRendererInfo.symbolLevels.forEach(function(m){e.children.forEach(function(r){r.hlDisplayList&&!r.hlDisplayList.empty&&z.replayList(a,r.hlDisplayList,m,l,r,e.textureManager,e.wglRendererInfo,
b.WGLDrawPhase.HIGHLIGHT,g,h,!1)})});this._hlPainter.draw(a)},e.prototype.hitTest=function(a,e,g,l,m){var r=this,q=B.C_HITTEST_SEARCH_SIZE,v=[0,0],p=[0,0];e=a.state;e.toMap(v,[0,0]);e.toMap(p,[q,q]);var u=l.children.filter(function(a){return!(v[0]>a.bounds[2]||p[0]<a.bounds[0]||v[1]<a.bounds[1]||p[1]>a.bounds[3])});if(0===u.length)return[];var w=a.context;this._hittestFBO||(this._hittestFBO=h.create(w,{colorTarget:0,depthStencilTarget:3,width:q,height:q}));e=w.getViewport();g=w.getBoundFramebufferObject();
w.bindFramebuffer(this._hittestFBO);w.setViewport(0,0,q,q);var n=w.gl;w.setClearColor(1,1,1,1);w.clear(n.COLOR_BUFFER_BIT);this._drawClippingRects(w,u);w.setBlendingEnabled(!1);w.setStencilWriteMask(0);w.setStencilTestEnabled(!0);l.wglRendererInfo.symbolLevels.forEach(function(c){u.forEach(function(d){d.displayList&&!d.displayList.empty&&z.replayList(w,d.displayList,c,r,d,l.textureManager,l.wglRendererInfo,b.WGLDrawPhase.HITTEST,m,a.devicePixelRatio,!1)})});w.setStencilTestEnabled(!1);w.setBlendingEnabled(!0);
this._hittestFBO.readPixels(0,0,q,q,6408,5121,J);for(var q=q*q,n=new Set,x=0;q>x;x++){var D=K[x];4294967295!==D&&n.add(D)}w.bindFramebuffer(g);w.setViewport(e.x,e.y,e.width,e.height);var d=[];return n.forEach(function(a){d.push(a)}),d},e.prototype.drawFill=function(a,b,e,g,h,l,m,r,q,v,p){this._fillPainter.draw(a,b,e,h,l,m,r,q,v,p,this._materialManager,g)},e.prototype.drawLine=function(a,b,e,g,h,l,m,r,q,v){this._linePainter.draw(a,b,e,h,l,m,r,q,v,this._materialManager,g,this._extrudeMatrix)},e.prototype.drawIcon=
function(a,b,e,g,h,l,m,r){this._iconPainter.draw(a,b,e,h,l,m,r,this._materialManager,g,this._extrudeMatrix,this._extrudeNoRotationMatrix)},e.prototype.drawText=function(a,b,e,g,h,l,m,r){this._textPainter.draw(a,b,e,h,l,m,r,this._materialManager,g,this._extrudeMatrix,this._extrudeNoRotationMatrix)},e.prototype._drawClippingRects=function(a,b){if(0!==b.length){a.setDepthWriteEnabled(!1);a.setDepthTestEnabled(!1);a.setStencilTestEnabled(!0);a.setBlendingEnabled(!1);a.setColorMask(!1,!1,!1,!1);a.setStencilOp(7680,
7680,7681);a.setClearStencil(0);a.clear(a.gl.STENCIL_BUFFER_BIT);a.setStencilWriteMask(255);for(var e,g=b.length,h=g,l=0;g>l;l++)e=b[l],e.stencilRef=h,a.setStencilFunctionSeparate(1032,519,h,255),h--,this._backgroundPainter.draw(a,e);a.setColorMask(!0,!0,!0,!0)}},e}()})},"esri/views/2d/engine/webgl/Dispatcher":function(){define(["require","exports","./enums"],function(y,p,u){return function(){function m(){}return m.prototype.replayList=function(h,e,m,l,b,g,a,r,v,p,u){var q=this;e=e.symbolLevels;e.length<=
m||(m=e[m])&&(h.setStencilTestEnabled(!0),h.setStencilFunction(514,b.stencilRef,255),m.zLevels.forEach(function(e){e=e.geometryDPInfo;e.fill&&q._draw(h,e.fill,l,b,g,a,v,p,r,u);e.line&&q._draw(h,e.line,l,b,g,a,v,p,r,u);e.marker&&q._draw(h,e.marker,l,b,g,a,v,p,r,u);e.text&&q._draw(h,e.text,l,b,g,a,v,p,r,u)}))},m.prototype._draw=function(h,e,m,l,b,g,a,r,v,p){e.forEach(function(e){switch(e.geometryType){case u.WGLGeometryType.FILL:m.drawFill(h,e.materialInfo,l,b,g,v,a,r,p,e.indexFrom,e.indexCount);break;
case u.WGLGeometryType.LINE:m.drawLine(h,e.materialInfo,l,b,g,v,a,r,e.indexFrom,e.indexCount);break;case u.WGLGeometryType.MARKER:m.drawIcon(h,e.materialInfo,l,b,g,v,e.indexFrom,e.indexCount);break;case u.WGLGeometryType.TEXT:m.drawText(h,e.materialInfo,l,b,g,v,e.indexFrom,e.indexCount)}})},m}()})},"esri/views/2d/engine/webgl/enums":function(){define(["require","exports"],function(y,p){Object.defineProperty(p,"__esModule",{value:!0});!function(p){p[p.FILL=0]="FILL";p[p.LINE=1]="LINE";p[p.MARKER=2]=
"MARKER";p[p.TEXT=3]="TEXT";p[p.UNKNOWN=4]="UNKNOWN"}(p.WGLGeometryType||(p.WGLGeometryType={}));!function(p){p[p.SUCCEEDED=0]="SUCCEEDED";p[p.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(p.WGLGeometryTransactionStatus||(p.WGLGeometryTransactionStatus={}));!function(p){p[p.GEOMETRY=1]="GEOMETRY";p[p.TEXT=2]="TEXT";p[p.HITTEST=3]="HITTEST";p[p.HIGHLIGHT=4]="HIGHLIGHT"}(p.WGLDrawPhase||(p.WGLDrawPhase={}));!function(p){p[p.NONE=0]="NONE";p[p.OPACITY=1]="OPACITY";p[p.COLOR=2]="COLOR";p[p.ROTATION=
4]="ROTATION";p[p.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE";p[p.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS";p[p.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS";p[p.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(p.WGLVVFlag||(p.WGLVVFlag={}))})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(y,p){function u(h,e){return h%=e,0<=h?h:h+e}Object.defineProperty(p,"__esModule",{value:!0});p.C_INFINITY=Number.POSITIVE_INFINITY;p.C_PI=Math.PI;p.C_2PI=2*p.C_PI;p.C_PI_BY_2=p.C_PI/2;p.C_RAD_TO_256=
128/p.C_PI;p.C_256_TO_RAD=p.C_PI/128;p.C_DEG_TO_256=256/360;p.C_DEG_TO_RAD=p.C_PI/180;p.C_SQRT2=1.414213562;p.C_SQRT2_INV=1/p.C_SQRT2;var m=1/Math.LN2;p.positiveMod=u;p.radToByte=function(h){return u(h*p.C_RAD_TO_256,256)};p.degToByte=function(h){return u(h*p.C_DEG_TO_256,256)};p.log2=function(h){return Math.log(h)*m};p.sqr=function(h){return h*h};p.clamp=function(h,e,m){return Math.min(Math.max(h,e),m)};p.interpolate=function(h,e,m){return h*(1-m)+e*m};p.between=function(h,e,m){return h>=e&&m>=h||
h>=m&&e>=h}})},"esri/views/2d/engine/webgl/MaterialManager":function(){define("require exports ../../../webgl/ShaderVariations ./shaders/textShaderSnippets ./shaders/iconShaderSnippets ./shaders/fillShaderSnippets ./shaders/lineShaderSnippets ./MaterialInfoUtils ./enums".split(" "),function(y,p,u,m,h,e,q,l,b){return function(){function g(){this._programRep=new Map;this.isInitialize=!1}return g.prototype.initialize=function(a){if(!this.isInitialize){var b=new u("text",["textVS","textFS"],[],m,a);b.addDefine("ID",
"ID",[!1,!1],"ID");b.addDefine("HIGHLIGHT","HIGHLIGHT",[!1,!1],"HIGHLIGHT");b.addDefine("SDF","SDF",[!1,!1],"SDF");b.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!1,!1],"VV_SIZE_MIN_MAX_VALUE");b.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!1,!1],"VV_SIZE_SCALE_STOPS");b.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!1,!1],"VV_SIZE_FIELD_STOPS");b.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!1,!1],"VV_SIZE_UNIT_VALUE");b.addDefine("VV_COLOR","VV_COLOR",[!1,
!1],"VV_COLOR");b.addDefine("VV_ROTATION","VV_ROTATION",[!1,!1],"VV_ROTATION");b.addDefine("VV_OPACITY","VV_OPACITY",[!1,!1],"VV_OPACITY");b.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");b.addDefine("PATTERN","PATTERN",[!1,!1],"PATTERN");b.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var g=new u("icon",["iconVS","iconFS"],[],h,a);g.addDefine("ID","ID",[!0,!0],"ID");g.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT");g.addDefine("SDF","SDF",[!0,!0],"SDF");
g.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE");g.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS");g.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS");g.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE");g.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR");g.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION");g.addDefine("VV_OPACITY","VV_OPACITY",
[!0,!1],"VV_OPACITY");g.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");g.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");g.addDefine("HEATMAP","HEATMAP",[!0,!0],"HEATMAP");var l=new u("fill",["fillVS","fillFS"],[],e,a);l.addDefine("ID","ID",[!0,!0],"ID");l.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT");l.addDefine("SDF","SDF",[!1,!1],"SDF");l.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!1,!1],"VV_SIZE_MIN_MAX_VALUE");l.addDefine("VV_SIZE_SCALE_STOPS",
"VV_SIZE_SCALE_STOPS",[!1,!1],"VV_SIZE_SCALE_STOPS");l.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!1,!1],"VV_SIZE_FIELD_STOPS");l.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!1,!1],"VV_SIZE_UNIT_VALUE");l.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR");l.addDefine("VV_ROTATION","VV_ROTATION",[!1,!1],"VV_ROTATION");l.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY");l.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");l.addDefine("PATTERN",
"PATTERN",[!0,!0],"PATTERN");l.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");a=new u("line",["lineVS","lineFS"],[],q,a);a.addDefine("ID","ID",[!0,!0],"ID");a.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT");a.addDefine("SDF","SDF",[!0,!0],"SDF");a.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE");a.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS");a.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS");
a.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE");a.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR");a.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION");a.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY");a.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY");a.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN");a.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");this._textShaderVariations=b;this._fillShaderVariations=l;
this._iconShaderVariations=g;this._lineShaderVariations=a;this.isInitialize=!0}},g.prototype.getProgram=function(a,e,g){if(a|=e===b.WGLDrawPhase.HITTEST?4:0,a|=e===b.WGLDrawPhase.HIGHLIGHT?8:0,this._programRep[a])return this._programRep[a];if(!this._iconShaderVariations||!this._fillShaderVariations||!this._lineShaderVariations)return null;var h;e=l.getMaterialVariations(a);switch(e.geometryType){case b.WGLGeometryType.MARKER:h=this._iconShaderVariations.getProgram(e.variations,null,null,g);break;
case b.WGLGeometryType.TEXT:h=this._textShaderVariations.getProgram(e.variations,null,null,g);break;case b.WGLGeometryType.FILL:h=this._fillShaderVariations.getProgram(e.variations,null,null,g);break;case b.WGLGeometryType.LINE:h=this._lineShaderVariations.getProgram(e.variations,null,null,g)}return h&&(this._programRep[a]=h),h},g}()})},"esri/views/2d/engine/webgl/shaders/textShaderSnippets":function(){define(["require","exports","../../../../webgl/ShaderSnippets","dojo/text!./textShaders.xml"],function(y,
p,u,m){y=new u;return u.parse(m,y),y})},"esri/views/2d/engine/webgl/shaders/iconShaderSnippets":function(){define(["require","exports","../../../../webgl/ShaderSnippets","dojo/text!./iconShaders.xml"],function(y,p,u,m){y=new u;return u.parse(m,y),y})},"esri/views/2d/engine/webgl/shaders/fillShaderSnippets":function(){define(["require","exports","../../../../webgl/ShaderSnippets","dojo/text!./fillShaders.xml"],function(y,p,u,m){y=new u;return u.parse(m,y),y})},"esri/views/2d/engine/webgl/shaders/lineShaderSnippets":function(){define(["require",
"exports","../../../../webgl/ShaderSnippets","dojo/text!./lineShaders.xml"],function(y,p,u,m){y=new u;return u.parse(m,y),y})},"esri/views/2d/engine/webgl/MaterialInfoUtils":function(){define(["require","exports","./MaterialKeyInfo","./enums","./MaterialInfo"],function(y,p,u,m,h){function e(e){var b=[];return b[0]=e.sdf?!0:!1,b[1]=e.vvSizeMinMaxValue?!0:!1,b[2]=e.vvSizeScaleStops?!0:!1,b[3]=e.vvSizeFieldStops?!0:!1,b[4]=e.vvSizeUnitValue?!0:!1,b[5]=e.vvColor?!0:!1,b[6]=e.vvRotation?!0:!1,b[7]=e.vvOpacity?
!0:!1,b[8]=e.visibility?!0:!1,b[9]=e.pattern?!0:!1,b[10]=e.heatmap?!0:!1,b.reduce(function(b,a,e){return a&&(b|=1<<e+2),b},0)}function q(h){if(h.geometryType===m.WGLGeometryType.UNKNOWN)return-1;var b=e(h)<<2;return h.geometryType+b}Object.defineProperty(p,"__esModule",{value:!0});p.createTextMaterialInfo=function(e,b){var g=h.pool.acquire(),a=u.pool.acquire();return a.geometryType=m.WGLGeometryType.TEXT,a.sdf=!0,a.pattern=!1,a.visibility=!0,a.heatmap=!1,g.texBindingInfo.push({unit:2,pageId:e.page,
semantic:"u_texture"}),0===b?a.vvOpacity=a.vvSizeMinMaxValue=a.vvSizeScaleStops=a.vvSizeFieldStops=a.vvSizeUnitValue=a.vvColor=a.vvRotation=!1:(a.vvOpacity=0!==(b&m.WGLVVFlag.OPACITY),a.vvSizeMinMaxValue=0!==(b&m.WGLVVFlag.SIZE_MINMAX_VALUE),a.vvSizeScaleStops=0!==(b&m.WGLVVFlag.SIZE_SCALE_STOPS),a.vvSizeFieldStops=0!==(b&m.WGLVVFlag.SIZE_FIELD_STOPS),a.vvSizeUnitValue=0!==(b&m.WGLVVFlag.SIZE_UNIT_VALUE),a.vvColor=0!==(b&m.WGLVVFlag.COLOR),a.vvRotation=0!==(b&m.WGLVVFlag.ROTATION)),g.materialKey=
q(a),g.materialKeyInfo=a,g};p.createMaterialInfo=function(e,b,g,a){var l=h.pool.acquire(),p=u.pool.acquire();p.geometryType=g;b=b.spriteMosaicItem;return b?(p.sdf=b.sdf,p.pattern=!0,l.texBindingInfo.push({unit:1,pageId:b.page,semantic:"u_texture"})):(p.sdf=!1,p.pattern=!1),0===a?p.vvOpacity=p.vvSizeMinMaxValue=p.vvSizeScaleStops=p.vvSizeFieldStops=p.vvSizeUnitValue=p.vvColor=p.vvRotation=!1:(p.vvOpacity=0!==(a&m.WGLVVFlag.OPACITY),p.vvSizeMinMaxValue=0!==(a&m.WGLVVFlag.SIZE_MINMAX_VALUE),p.vvSizeScaleStops=
0!==(a&m.WGLVVFlag.SIZE_SCALE_STOPS),p.vvSizeFieldStops=0!==(a&m.WGLVVFlag.SIZE_FIELD_STOPS),p.vvSizeUnitValue=0!==(a&m.WGLVVFlag.SIZE_UNIT_VALUE),p.vvColor=0!==(a&m.WGLVVFlag.COLOR),p.vvRotation=0!==(a&m.WGLVVFlag.ROTATION)),p.visibility=!1,p.heatmap=null!=e.heatmapInfo,l.materialKey=q(p),l.materialKeyInfo=p,l};p.getMaterialKey=q;p.updateMaterialVariations=function(e,b){return e.geometryType=3&b,b>>=2,e.sdf=0!==(4&b),e.vvSizeMinMaxValue=0!==(8&b),e.vvSizeScaleStops=0!==(16&b),e.vvSizeFieldStops=
0!==(32&b),e.vvSizeUnitValue=0!==(64&b),e.vvColor=0!==(128&b),e.vvRotation=0!==(256&b),e.vvOpacity=0!==(512&b),e.visibility=0!==(1024&b),e.pattern=0!==(2048&b),e.heatmap=0!==(4096&b),e};p.getMaterialVariations=function(e){var b=3&e;e>>=2;return{geometryType:b,variations:[0!==(1&e),0!==(2&e),0!==(4&e),0!==(8&e),0!==(16&e),0!==(32&e),0!==(64&e),0!==(128&e),0!==(256&e),0!==(512&e),0!==(1024&e),0!==(2048&e),0!==(4096&e)]}}})},"esri/views/2d/engine/webgl/MaterialKeyInfo":function(){define(["require","exports",
"../../../../core/ObjectPool","./enums"],function(y,p,u,m){return function(){function h(){this.heatmap=this.pattern=this.visibility=this.vvOpacity=this.vvRotation=this.vvColor=this.vvSizeUnitValue=this.vvSizeFieldStops=this.vvSizeScaleStops=this.vvSizeMinMaxValue=this.sdf=!1}return h.prototype.copy=function(e){this.geometryType=e.geometryType;this.sdf=e.sdf;this.vvSizeMinMaxValue=e.vvSizeMinMaxValue;this.vvSizeScaleStops=e.vvSizeScaleStops;this.vvSizeFieldStops=e.vvSizeFieldStops;this.vvSizeUnitValue=
e.vvSizeUnitValue;this.vvColor=e.vvColor;this.vvRotation=e.vvRotation;this.vvOpacity=e.vvOpacity;this.visibility=e.visibility;this.pattern=e.pattern;this.heatmap=e.heatmap},h.prototype.release=function(){this.geometryType=m.WGLGeometryType.UNKNOWN;this.heatmap=this.pattern=this.visibility=this.vvOpacity=this.vvRotation=this.vvColor=this.vvSizeUnitValue=this.vvSizeFieldStops=this.vvSizeScaleStops=this.vvSizeMinMaxValue=this.sdf=!1},h.pool=new u(h),h}()})},"esri/views/2d/engine/webgl/MaterialInfo":function(){define("require exports ../../../../core/ObjectPool ./MaterialKeyInfo ./MaterialInfoUtils ./Utils".split(" "),
function(y,p,u,m,h,e){return function(){function q(){this.texBindingInfo=[];this.materialParams=[]}return q.prototype.release=function(){this.materialKey=null;this.texBindingInfo.length=0;this.materialParams.length=0;this.materialKeyInfo&&m.pool.release(this.materialKeyInfo)},q.prototype.copy=function(e){var b=this;e.materialParams.forEach(function(e,a){b.materialParams[a]={name:e.name,value:e.value}});e.texBindingInfo.forEach(function(e,a){b.texBindingInfo[a]={unit:e.unit,pageId:e.pageId,semantic:e.semantic}});
this.materialKeyInfo&&(m.pool.release(this.materialKeyInfo),this.materialKeyInfo=null);e.materialKeyInfo&&(this.materialKeyInfo=m.pool.acquire(),this.materialKeyInfo.copy(e.materialKeyInfo));this.materialKey=e.materialKey},q.serialize=function(h,b,g){var a=0;return a+=e.serializeInteger(h.materialKey,b,g+a),a+=q._serializeTexBindingInfo(h.texBindingInfo,b,g+a),a+=q._serializeMaterialParams(h.materialParams,b,g+a)},q.deserialize=function(l,b,g){var a=0;l.materialInfo=q.pool.acquire();var r={n:0};return a+=
e.deserializeInteger(r,b,g+a),l.materialInfo.materialKey=r.n,a+=q._deserializeTexBindingInfo(l.materialInfo.texBindingInfo,b,g+a),a+=q._deserializeMaterialParams(l.materialInfo.materialParams,b,g+a),l.materialInfo.materialKeyInfo=m.pool.acquire(),h.updateMaterialVariations(l.materialInfo.materialKeyInfo,l.materialInfo.materialKey),a},q._serializeTexBindingInfo=function(h,b,g){for(var a=0,l=h.length,a=a+e.serializeInteger(l,b,g+a),m=0;l>m;++m)b&&(b[g+a]=h[m].unit),++a,a+=e.serializeInteger(h[m].pageId,
b,g+a),a+=e.serializeString(h[m].semantic,b,g+a);return a},q._serializeMaterialParams=function(h,b,g){for(var a=0,l=h.length,a=a+e.serializeInteger(l,b,g+a),m=0;l>m;++m)a+=e.serializeString(h[m].name,b,g+a),a+=e.serializeUniform(h[m].value,b,g+a);return a},q._deserializeTexBindingInfo=function(h,b,g){var a=0,l={n:void 0},a=a+e.deserializeInteger(l,b,g+a);h.length=l.n;for(var m={n:void 0},q={s:void 0},p=0;p<l.n;++p)h[p]={unit:void 0,pageId:void 0,semantic:void 0},h[p].unit=b[g+a],++a,a+=e.deserializeInteger(m,
b,g+a),h[p].pageId=m.n,a+=e.deserializeString(q,b,g+a),h[p].semantic=q.s;return a},q._deserializeMaterialParams=function(h,b,g){var a=0,l={n:void 0},a=a+e.deserializeInteger(l,b,g+a);h.length=l.n;for(var m={s:void 0},q={n:void 0},p=0;p<l.n;++p)h[p]={name:void 0,value:void 0},a+=e.deserializeString(m,b,g+a),h[p].name=m.s,a+=e.deserializeUniform(q,b,g+a),h[p].value=q.n;return a},q.pool=new u(q),q}()})},"esri/views/2d/engine/webgl/Utils":function(){define(["require","exports","./enums"],function(y,p,
u){function m(a){for(var b={},e=0;e<a.length;e++){var g=a[e];b[g.name]=g.strideInBytes}return b}function h(a){switch(a){case "esriSMS":return"simple-marker";case "esriPMS":return"picture-marker";case "esriSLS":return"simple-line";case "esriPLS":return"picture-line";case "esriSFS":return"simple-fill";case "esriPFS":return"picture-fill";case "esriTS":return"text"}return a}function e(a){if(a=h(a.type)){switch(a){case "simple-marker":case "picture-marker":return!0;case "CIMPointSymbol":return!0}return!1}}
function q(a){if(a=h(a.type)){switch(a){case "simple-fill":case "picture-fill":return!0;case "CIMPolygonSymbol":return!0}return!1}}function l(a){if(a=h(a.type)){switch(a){case "simple-line":case "picture-line":return!0;case "CIMLineSymbol":return!0}return!1}}function b(a){if(a=h(a.type)){switch(a){case "text":return!0;case "CIMTextSymbol":return!0}return!1}}function g(a){return a&&a.length||0}function a(a,b,e){var g=0;do{var h=a%128;a-=h;a/=128;0<a&&(h+=128);b&&(b[e+g]=h);++g}while(0<a);return g}
function r(a,b,e){for(var g=0,h=0,l=!0,m=1;l;){var r=b[e+g];++g;128<=r?(r-=128,l=!0):l=!1;h+=r*m;m*=128}return a.n=h,g}function v(a,b,e){void 0===b&&(b=0);void 0===e&&(e=!1);var g=a[b+3];return a[b+0]*=g,a[b+1]*=g,a[b+2]*=g,e||(a[b+3]*=255),a}function w(a){return"string"==typeof a}Object.defineProperty(p,"__esModule",{value:!0});p.C_HITTEST_SEARCH_SIZE=4;p.C_TILE_SIZE=512;p.C_VBO_GEOMETRY="geometry";p.C_VBO_PERINSTANCE="per_instance";p.C_VBO_PERINSTANCE_VV="per_instance_vv";p.C_VBO_VISIBILITY="visibility";
p.C_ICON_VERTEX_DEF=[{name:p.C_VBO_GEOMETRY,strideInBytes:24,divisor:0}];p.C_ICON_VERTEX_DEF_VV=[{name:p.C_VBO_GEOMETRY,strideInBytes:40,divisor:0}];p.C_ICON_HEATMAP=[{name:p.C_VBO_GEOMETRY,strideInBytes:28,divisor:0}];p.C_FILL_VERTEX_DEF=[{name:p.C_VBO_GEOMETRY,strideInBytes:24,divisor:0}];p.C_FILL_VERTEX_DEF_VV=[{name:p.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}];p.C_LINE_VERTEX_DEF=[{name:p.C_VBO_GEOMETRY,strideInBytes:32,divisor:0}];p.C_LINE_VERTEX_DEF_VV=[{name:p.C_VBO_GEOMETRY,strideInBytes:44,
divisor:0}];p.C_TEXT_VERTEX_DEF=[{name:p.C_VBO_GEOMETRY,strideInBytes:20,divisor:0},{name:p.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}];p.C_TEXT_VERTEX_DEF_VV=[{name:p.C_VBO_GEOMETRY,strideInBytes:40,divisor:0},{name:p.C_VBO_VISIBILITY,strideInBytes:1,divisor:0}];p.C_ICON_STRIDE_SPEC=m(p.C_ICON_VERTEX_DEF);p.C_ICON_STRIDE_SPEC_VV=m(p.C_ICON_VERTEX_DEF_VV);p.C_ICON_STRIDE_SPEC_HEATMAP=m(p.C_ICON_HEATMAP);p.C_FILL_STRIDE_SPEC=m(p.C_FILL_VERTEX_DEF);p.C_FILL_STRIDE_SPEC_VV=m(p.C_FILL_VERTEX_DEF_VV);
p.C_LINE_STRIDE_SPEC=m(p.C_LINE_VERTEX_DEF);p.C_LINE_STRIDE_SPEC_VV=m(p.C_LINE_VERTEX_DEF_VV);p.C_TEXT_STRIDE_SPEC=m(p.C_TEXT_VERTEX_DEF);p.C_TEXT_STRIDE_SPEC_VV=m(p.C_TEXT_VERTEX_DEF_VV);p.getStrides=function(a,b,e){switch(void 0===e&&(e=!1),a){case u.WGLGeometryType.MARKER:return b?p.C_ICON_STRIDE_SPEC_VV:e?p.C_ICON_STRIDE_SPEC_HEATMAP:p.C_ICON_STRIDE_SPEC;case u.WGLGeometryType.FILL:return b?p.C_FILL_STRIDE_SPEC_VV:p.C_FILL_STRIDE_SPEC;case u.WGLGeometryType.LINE:return b?p.C_LINE_STRIDE_SPEC_VV:
p.C_LINE_STRIDE_SPEC;case u.WGLGeometryType.TEXT:return b?p.C_TEXT_STRIDE_SPEC_VV:p.C_TEXT_STRIDE_SPEC}return null};p.getSymbolGeometryType=function(a){return e(a)?u.WGLGeometryType.MARKER:l(a)?u.WGLGeometryType.LINE:q(a)?u.WGLGeometryType.FILL:b(a)?u.WGLGeometryType.TEXT:u.WGLGeometryType.UNKNOWN};p.normalizeSymbolType=h;p.isMarkerSymbol=e;p.isFillSymbol=q;p.isLineSymbol=l;p.isPictureSymbol=function(a){if(a=h(a.type))switch(a){case "picture-marker":case "picture-line":case "picture-fill":return!0}return!1};
p.isTextSymbol=b;p.isSameUniformValue=function(a,b){return!1};p.isSameMaterialInfo=function(a,b){if(a.materialKey!==b.materialKey||g(a.texBindingInfo)!==g(b.texBindingInfo)||g(a.materialParams)!==g(b.materialParams))return!1;for(var e=a.texBindingInfo.length,h=0;e>h;++h){var l=a.texBindingInfo[h],m=b.texBindingInfo[h];if(l.unit!==m.unit||l.pageId!==m.pageId||l.semantic!==m.semantic)return!1}a=a.materialParams.length;for(h=0;a>h;)return!1;return!0};p.i1616to32=function(a,b){return 65535&a|b<<16};p.i8888to32=
function(a,b,e,g){return 255&a|(255&b)<<8|(255&e)<<16|g<<24};p.i8816to32=function(a,b,e){return 255&a|(255&b)<<8|e<<16};p.numTo32=function(a){return 0|a};p.serializeInteger=a;p.deserializeInteger=r;p.serializeString=function(a,b,e){for(var g=0,h=a.length,l=0;h>l;++l)b&&(b[e+g]=a.charCodeAt(l)),++g;return b&&(b[e+g]=0),++g,g};p.deserializeString=function(a,b,e){var g=0;a.s="";for(var h=!0;h;){var l=b[e+g];++g;0!==l?a.s+=String.fromCharCode(l):h=!1}return g};p.serializeUniform=function(b,e,g){return a(b,
e,g)};p.deserializeUniform=function(a,b,e){return r(a,b,e)};p.premultiplyAlpha=v;p.copyAndPremultiply=function(a){a=Array.isArray(a)?[a[0],a[1],a[2],a[3]]:[a.r,a.g,a.b,a.a];return v(a),a};p.nextHighestPowerOfTwo=function(a){return a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a++,a};p.isDefined=function(a){return null!==a&&void 0!==a};p.isNumber=function(a){return"number"==typeof a};p.isString=w;p.isStringOrNull=function(a){return null==a||w(a)};p.lerp=function(a,b,e){return a+(b-a)*e};p.multimapAdd=
function(a,b,e){var g;a.has(b)?g=a.get(b):(g=new Set,a.set(b,g));g.add(e)};p.multimapRemove=function(a,b,e){if(a.has(b)){var g=a.get(b);g["delete"](e);0===g.size&&a["delete"](b)}}})},"esri/views/2d/engine/webgl/painter/WGLTextPainter":function(){define(["require","exports","../../../../webgl/VertexArrayObject","../Utils"],function(y,p,u,m){return function(){function h(){this._attributeLocations={a_pos:0,a_id:1,a_color:2,a_vertexOffset:3,a_texFontSize:4,a_visible:5};this._attributeLocationsVV={a_pos:0,
a_id:1,a_color:2,a_vertexOffset:3,a_texFontSize:4,a_visible:5,a_vv:6};this._vertexAttributeLayout={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:20,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:20,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:20,normalized:!0,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:12,stride:20,normalized:!1,divisor:0},{name:"a_texFontSize",count:4,type:5120,offset:16,stride:20,normalized:!1,divisor:0}],
visibility:[{name:"a_visible",count:1,type:5120,offset:0,stride:1,normalized:!1,divisor:0}]};this._vertexAttributeLayoutVV={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:36,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:36,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:36,normalized:!0,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:12,stride:36,normalized:!1,divisor:0},{name:"a_texFontSize",count:4,type:5120,offset:16,stride:36,
normalized:!1,divisor:0},{name:"a_vv",count:4,type:5126,offset:20,stride:36,normalized:!1,divisor:0}],visibility:[{name:"a_visible",count:1,type:5120,offset:0,stride:1,normalized:!1,divisor:0}]};this._glyphsTextureSize=new Float32Array(2)}return h.prototype.draw=function(e,h,l,b,g,a,m,p,u,x,D){if(l.canDisplay){var r=h.materialKeyInfo,q=r.vvSizeMinMaxValue||r.vvSizeScaleStops||r.vvSizeFieldStops||r.vvSizeUnitValue||r.vvColor||r.vvRotation||r.vvOpacity;if(g=p.getProgram(h.materialKey,g,q?this._attributeLocationsVV:
this._attributeLocations))e.bindProgram(g),q=this._getVAO(e,l,q),e.bindVAO(q),h=h.texBindingInfo[0],u.bindGlyphsPage(e,h.pageId,h.unit),g.setUniform1i(h.semantic,h.unit),u=u.glyphs,this._glyphsTextureSize[0]=u.width/4,this._glyphsTextureSize[1]=u.height/4,x=b.vvMaterialParameters.vvRotationEnabled&&"geographic"===b.vvMaterialParameters.vvRotationType?x:D,g.setUniformMatrix4fv("u_transformMatrix",l.tileTransform.transform),g.setUniformMatrix4fv("u_extrudeMatrix",x),g.setUniform2fv("u_normalized_origin",
l.tileTransform.displayCoord),g.setUniform2fv("u_mosaicSize",this._glyphsTextureSize),g.setUniform1f("u_pixelRatio",1),g.setUniform1f("u_opacity",1),r.vvSizeMinMaxValue&&g.setUniform4fv("u_vvSizeInfo",b.vvSizeMinMaxValue),r.vvSizeScaleStops,r.vvSizeFieldStops,r.vvSizeUnitValue,r.vvColor&&(g.setUniform1fv("u_vvColorValues",b.vvColorValues),g.setUniform4fv("u_vvColors",b.vvColors)),r.vvOpacity&&(g.setUniform1fv("u_vvOpacityValues",b.vvOpacityValues),g.setUniform1fv("u_vvOpacities",b.vvOpacities)),e.drawElements(4,
m,5125,4*a),e.bindVAO(null)}},h.prototype._getVAO=function(e,h,l){if(h.textGeometry.vao)return h.textGeometry.vao;var b=h.textGeometry.vertexBufferMap[m.C_VBO_GEOMETRY],g=h.textGeometry.vertexBufferMap[m.C_VBO_VISIBILITY],a=h.textGeometry.indexBuffer;return b&&a?(l?h.textGeometry.vao=new u(e,this._attributeLocationsVV,this._vertexAttributeLayoutVV,{geometry:b,visibility:g},a):h.textGeometry.vao=new u(e,this._attributeLocations,this._vertexAttributeLayout,{geometry:b,visibility:g},a),h.textGeometry.vao):
null},h}()})},"esri/views/2d/engine/webgl/painter/WGLIconPainter":function(){define(["require","exports","../../../../webgl/VertexArrayObject","../../../../webgl/Texture","../Utils"],function(y,p,u,m,h){return function(){function e(){this._iconAttributeLocations={a_pos:0,a_vertexOffsetAndTex:1,a_id:2,a_color:3,a_outlineColor:4,a_sizeAndOutlineWidth:5};this._iconAttributeLocationsVV={a_pos:0,a_vertexOffsetAndTex:1,a_id:2,a_color:3,a_outlineColor:4,a_sizeAndOutlineWidth:5,a_vv:6};this._iconAttributeLocationsHeatmap=
{a_pos:0,a_vertexOffsetAndTex:1,a_id:2,a_color:3,a_outlineColor:4,a_sizeAndOutlineWidth:5,a_weight:6};this._iconVertexAttributes={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:24,normalized:!1,divisor:0},{name:"a_vertexOffsetAndTex",count:4,type:5120,offset:4,stride:24,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:8,stride:24,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:12,stride:24,normalized:!0,divisor:0},{name:"a_outlineColor",count:4,type:5121,
offset:16,stride:24,normalized:!0,divisor:0},{name:"a_sizeAndOutlineWidth",count:4,type:5121,offset:20,stride:24,normalized:!1,divisor:0}]};this._iconVertexAttributesWithVV={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:40,normalized:!1,divisor:0},{name:"a_vertexOffsetAndTex",count:4,type:5120,offset:4,stride:40,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:8,stride:40,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:12,stride:40,normalized:!0,divisor:0},
{name:"a_outlineColor",count:4,type:5121,offset:16,stride:40,normalized:!0,divisor:0},{name:"a_sizeAndOutlineWidth",count:4,type:5121,offset:20,stride:40,normalized:!1,divisor:0},{name:"a_vv",count:4,type:5126,offset:24,stride:40,normalized:!1,divisor:0}]};this._iconVertexAttributesWithHeatmap={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:28,normalized:!1,divisor:0},{name:"a_vertexOffsetAndTex",count:4,type:5120,offset:4,stride:28,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,
offset:8,stride:28,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:12,stride:28,normalized:!0,divisor:0},{name:"a_outlineColor",count:4,type:5121,offset:16,stride:28,normalized:!0,divisor:0},{name:"a_sizeAndOutlineWidth",count:4,type:5121,offset:20,stride:28,normalized:!1,divisor:0},{name:"a_weight",count:1,type:5126,offset:24,stride:28,normalized:!1,divisor:0}]};this._spritesTextureSize=new Float32Array(2)}return e.prototype.draw=function(e,h,b,g,a,r,p,u,x,D,E){if(b.canDisplay){var l=
h.materialKeyInfo,q=l.heatmap,v=l.vvSizeMinMaxValue||l.vvSizeScaleStops||l.vvSizeFieldStops||l.vvSizeUnitValue||l.vvColor||l.vvRotation||l.vvOpacity;if(a=u.getProgram(h.materialKey,a,v?this._iconAttributeLocationsVV:this._iconAttributeLocations)){e.bindProgram(a);v=this._getVAO(e,b,v,q);if(e.bindVAO(v),q){x=g.heatmapParameters;if(x.intensityKernel&&!x.refreshIntensityKernel)x=x.intensityKernel;else{x.intensityKernel&&(x.intensityKernel.dispose(),x.intensityKernel=null);u=x.radius;h=x.kernelSize;for(var w=
x.blurRadius,y=u*u,q=[],v=-1;++v<h;)q[v]=Math.exp(-Math.pow(v-w,2)/(2*y))/(u/2*Math.sqrt(2*Math.PI));for(var I=[],Q=0;h>Q;Q++)for(w=q[Q],v=0;h>v;v++)y=Q*h+v,u=q[v],I[4*y+0]=w*u,I[4*y+1]=0,I[4*y+2]=0,I[4*y+3]=1;h=new m(e,{target:3553,pixelFormat:6408,internalFormat:34836,dataType:5126,samplingMode:e.extensions.textureFloatLinear?9729:9728,wrapMode:33071,width:h,height:h},new Float32Array(I));x=(x.intensityKernel=h,x.refreshIntensityKernel=!1,h)}e.bindTexture(x,1);a.setUniform1i("u_texture",1);this._spritesTextureSize[0]=
Math.round(g.heatmapParameters.radius);this._spritesTextureSize[1]=Math.round(g.heatmapParameters.radius)}else q=h.texBindingInfo[0],h=q.pageId,x.bindSpritePage(e,h,q.unit),a.setUniform1i(q.semantic,q.unit),x=x.sprites,this._spritesTextureSize[0]=x.getWidth(h)/4,this._spritesTextureSize[1]=x.getHeight(h)/4;D=g.vvMaterialParameters.vvRotationEnabled&&"geographic"===g.vvMaterialParameters.vvRotationType?D:E;a.setUniformMatrix4fv("u_transformMatrix",b.tileTransform.transform);a.setUniformMatrix4fv("u_extrudeMatrix",
D);a.setUniform2fv("u_normalized_origin",b.tileTransform.displayCoord);a.setUniform2fv("u_mosaicSize",this._spritesTextureSize);a.setUniform1f("u_opacity",1);l.vvSizeMinMaxValue&&a.setUniform4fv("u_vvSizeMinMaxValue",g.vvSizeMinMaxValue);l.vvSizeScaleStops&&a.setUniform1f("u_vvSizeScaleStopsValue",g.vvSizeScaleStopsValue);l.vvSizeFieldStops&&(a.setUniform1fv("u_vvSizeFieldStopsValues",g.vvSizeFieldStopsValues),a.setUniform1fv("u_vvSizeFieldStopsSizes",g.vvSizeFieldStopsSizes));l.vvSizeUnitValue&&
a.setUniform1f("u_vvSizeUnitValueWorldToPixelsRatio",g.vvSizeUnitValueToPixelsRatio);l.vvColor&&(a.setUniform1fv("u_vvColorValues",g.vvColorValues),a.setUniform4fv("u_vvColors",g.vvColors));l.vvOpacity&&(a.setUniform1fv("u_vvOpacityValues",g.vvOpacityValues),a.setUniform1fv("u_vvOpacities",g.vvOpacities));e.drawElements(4,p,5125,4*r);e.bindVAO(null)}}},e.prototype._getVAO=function(e,l,b,g){if(l.iconGeometry.vao)return l.iconGeometry.vao;var a=l.iconGeometry.vertexBufferMap[h.C_VBO_GEOMETRY],m=l.iconGeometry.indexBuffer;
return a&&m?(b?l.iconGeometry.vao=new u(e,this._iconAttributeLocationsVV,this._iconVertexAttributesWithVV,{geometry:a},m):g?l.iconGeometry.vao=new u(e,this._iconAttributeLocationsHeatmap,this._iconVertexAttributesWithHeatmap,{geometry:a},m):l.iconGeometry.vao=new u(e,this._iconAttributeLocations,this._iconVertexAttributes,{geometry:a},m),l.iconGeometry.vao):null},e}()})},"esri/views/2d/engine/webgl/painter/WGLFillPainter":function(){define(["require","exports","../../../../webgl/VertexArrayObject",
"../Utils"],function(y,p,u,m){return function(){function h(){this._isInitialized=!1;this._fillAttributeLocations={a_pos:0,a_id:1,a_color:2,a_tlbr:3,a_aux:4};this._fillAttributeLocationsVV={a_pos:0,a_id:1,a_color:2,a_tlbr:3,a_aux:4,a_vv:5};this._spritesTextureSize=new Float32Array(2)}return h.prototype.draw=function(e,h,l,b,g,a,r,p,u,x,D,E){if(l.canDisplay){this._initialize();var q=h.materialKeyInfo,v=q.vvColor||q.vvOpacity;if(g=D.getProgram(h.materialKey,g,v?this._fillAttributeLocationsVV:this._fillAttributeLocations)){e.bindProgram(g);
v=this._getVAO(e,l,v);if(e.bindVAO(v),0<h.texBindingInfo.length)h=h.texBindingInfo[0],v=h.pageId,D=E.sprites,this._spritesTextureSize[0]=D.getWidth(v),this._spritesTextureSize[1]=D.getHeight(v),g.setUniform1f("u_zoomFactor",l.coordRange/m.C_TILE_SIZE/Math.pow(2,a-l.key.level)/r),E.bindSpritePage(e,v,h.unit,p?9728:9729),g.setUniform1i(h.semantic,h.unit),g.setUniform2fv("u_mosaicSize",this._spritesTextureSize);g.setUniformMatrix4fv("u_transformMatrix",l.tileTransform.transform);g.setUniform2fv("u_normalized_origin",
l.tileTransform.displayCoord);g.setUniform1f("u_opacity",1);q.vvColor&&(g.setUniform1fv("u_vvColorValues",b.vvColorValues),g.setUniform4fv("u_vvColors",b.vvColors));q.vvOpacity&&(g.setUniform1fv("u_vvOpacityValues",b.vvOpacityValues),g.setUniform1fv("u_vvOpacities",b.vvOpacities));e.drawElements(4,x,5125,4*u);e.bindVAO(null)}}},h.prototype._initialize=function(){if(this._isInitialized)return!0;this._fillVertexAttributeLayout={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:24,normalized:!1,
divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:24,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:24,normalized:!0,divisor:0},{name:"a_tlbr",count:4,type:5123,offset:12,stride:24,normalized:!1,divisor:0},{name:"a_aux",count:4,type:5121,offset:20,stride:24,normalized:!1,divisor:0}]};this._fillVertexAttributeLayoutVV={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:32,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:32,normalized:!0,
divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:32,normalized:!0,divisor:0},{name:"a_tlbr",count:4,type:5123,offset:12,stride:32,normalized:!1,divisor:0},{name:"a_aux",count:4,type:5121,offset:20,stride:32,normalized:!1,divisor:0},{name:"a_vv",count:2,type:5126,offset:24,stride:32,normalized:!1,divisor:0}]};this._isInitialized=!0},h.prototype._getVAO=function(e,h,l){if(h.fillGeometry.vao)return h.fillGeometry.vao;var b=h.fillGeometry.vertexBufferMap[m.C_VBO_GEOMETRY],g=h.fillGeometry.indexBuffer;
return b&&g?(l?h.fillGeometry.vao=new u(e,this._fillAttributeLocationsVV,this._fillVertexAttributeLayoutVV,{geometry:b},g):h.fillGeometry.vao=new u(e,this._fillAttributeLocations,this._fillVertexAttributeLayout,{geometry:b},g),h.fillGeometry.vao):null},h}()})},"esri/views/2d/engine/webgl/painter/WGLLinePainter":function(){define(["require","exports","../../../../webgl/VertexArrayObject","../Utils"],function(y,p,u,m){return function(){function h(){this._lineAttributeLocations={a_pos:0,a_id:1,a_color:2,
a_offsetAndNormal:3,a_accumulatedDistanceAndHalfWidth:4,a_tlbr:5,a_segmentDirection:6};this._lineAttributeLocationsVV={a_pos:0,a_id:1,a_color:2,a_offsetAndNormal:3,a_accumulatedDistanceAndHalfWidth:4,a_tlbr:5,a_segmentDirection:6,a_vv:7};this._lineVertexAttributeLayout={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:32,normalized:!1,divisor:0},{name:"a_id",count:4,type:5121,offset:4,stride:32,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:32,normalized:!0,divisor:0},
{name:"a_offsetAndNormal",count:4,type:5120,offset:12,stride:32,normalized:!1,divisor:0},{name:"a_accumulatedDistanceAndHalfWidth",count:2,type:5123,offset:16,stride:32,normalized:!1,divisor:0},{name:"a_tlbr",count:4,type:5123,offset:20,stride:32,normalized:!1,divisor:0},{name:"a_segmentDirection",count:4,type:5120,offset:28,stride:32,normalized:!1,divisor:0}]};this._lineVertexAttributeLayoutVV={geometry:[{name:"a_pos",count:2,type:5122,offset:0,stride:44,normalized:!1,divisor:0},{name:"a_id",count:4,
type:5121,offset:4,stride:44,normalized:!0,divisor:0},{name:"a_color",count:4,type:5121,offset:8,stride:44,normalized:!0,divisor:0},{name:"a_offsetAndNormal",count:4,type:5120,offset:12,stride:44,normalized:!1,divisor:0},{name:"a_accumulatedDistanceAndHalfWidth",count:2,type:5123,offset:16,stride:44,normalized:!1,divisor:0},{name:"a_tlbr",count:4,type:5123,offset:20,stride:44,normalized:!1,divisor:0},{name:"a_segmentDirection",count:4,type:5120,offset:28,stride:44,normalized:!1,divisor:0},{name:"a_vv",
count:3,type:5126,offset:32,stride:44,normalized:!1,divisor:0}]};this._spritesTextureSize=new Float32Array(2)}return h.prototype.draw=function(e,h,l,b,g,a,r,p,u,x,D,E){var q=h.materialKeyInfo,v=q.vvSizeMinMaxValue||q.vvSizeScaleStops||q.vvSizeFieldStops||q.vvSizeUnitValue||q.vvColor||q.vvOpacity;if(g=x.getProgram(h.materialKey,g,v?this._lineAttributeLocationsVV:this._lineAttributeLocations)){e.bindProgram(g);v=this._getVAO(e,l,v);e.bindVAO(v);v=1/r;if(0<h.texBindingInfo.length){h=h.texBindingInfo[0];
x=h.pageId;var w=D.sprites;this._spritesTextureSize[0]=w.getWidth(x);this._spritesTextureSize[1]=w.getHeight(x);D.bindSpritePage(e,x,h.unit);g.setUniform1i(h.semantic,h.unit);g.setUniform2fv("u_mosaicSize",this._spritesTextureSize);g.setUniform1f("u_zoomFactor",Math.pow(2,a-l.key.level)/r);g.setUniform1f("u_tileCoordRatio",m.C_TILE_SIZE/l.coordRange)}g.setUniformMatrix4fv("u_transformMatrix",l.tileTransform.transform);g.setUniformMatrix4fv("u_extrudeMatrix",E);g.setUniform2fv("u_normalized_origin",
l.tileTransform.displayCoord);g.setUniform1f("u_opacity",1);g.setUniform1f("u_blur",0+v);g.setUniform1f("u_antialiasing",v);q.vvSizeMinMaxValue&&g.setUniform4fv("u_vvSizeMinMaxValue",b.vvSizeMinMaxValue);q.vvSizeScaleStops&&g.setUniform1f("u_vvSizeScaleStopsValue",b.vvSizeScaleStopsValue);q.vvSizeFieldStops&&(g.setUniform1fv("u_vvSizeFieldStopsValues",b.vvSizeFieldStopsValues),g.setUniform1fv("u_vvSizeFieldStopsSizes",b.vvSizeFieldStopsSizes));q.vvSizeUnitValue&&g.setUniform1f("u_vvSizeUnitValueWorldToPixelsRatio",
b.vvSizeUnitValueToPixelsRatio);q.vvColor&&(g.setUniform1fv("u_vvColorValues",b.vvColorValues),g.setUniform4fv("u_vvColors",b.vvColors));q.vvOpacity&&(g.setUniform1fv("u_vvOpacityValues",b.vvOpacityValues),g.setUniform1fv("u_vvOpacities",b.vvOpacities));e.setFaceCullingEnabled(!0);e.setFrontFace(2305);e.setCullFace(1029);e.drawElements(4,u,5125,4*p);e.setFaceCullingEnabled(!1);e.bindVAO(null)}},h.prototype._getVAO=function(e,h,l){if(h.lineGeometry.vao)return h.lineGeometry.vao;var b=h.lineGeometry.vertexBufferMap[m.C_VBO_GEOMETRY],
g=h.lineGeometry.indexBuffer;return b&&g?(l?h.lineGeometry.vao=new u(e,this._lineAttributeLocationsVV,this._lineVertexAttributeLayoutVV,{geometry:b},g):h.lineGeometry.vao=new u(e,this._lineAttributeLocations,this._lineVertexAttributeLayout,{geometry:b},g),h.lineGeometry.vao):null},h}()})},"esri/views/2d/engine/webgl/painter/WGLBackgroundPainter":function(){define("require exports ../../../../../core/libs/gl-matrix/vec4 ../../../../webgl/Program ../../../../webgl/VertexArrayObject ../../../../webgl/BufferObject ../shaders/glShaderSnippets".split(" "),
function(y,p,u,m,h,e,q){return function(){function l(){this._color=u.create();this._initialized=!1;this._color.set([1,0,0,1])}return l.prototype.dispose=function(){this._solidProgram&&(this._solidProgram.dispose(),this._solidProgram=null);this._solidVertexArrayObject&&(this._solidVertexArrayObject.dispose(),this._solidVertexArrayObject=null)},l.prototype.draw=function(b,e,a){this._initialized||this._initialize(b);a&&(this._color[0]=a[0],this._color[1]=a[1],this._color[2]=a[2],this._color[3]=a[3]);
b.bindVAO(this._solidVertexArrayObject);b.bindProgram(this._solidProgram);this._solidProgram.setUniformMatrix4fv("u_transformMatrix",e.tileTransform.transform);this._solidProgram.setUniform2fv("u_normalized_origin",e.tileTransform.displayCoord);this._solidProgram.setUniform1f("u_coord_range",e.coordRange);this._solidProgram.setUniform1f("u_depth",0);this._solidProgram.setUniform4fv("u_color",this._color);b.drawArrays(5,0,4);b.bindVAO()},l.prototype._initialize=function(b){if(this._initialized)return!0;
var g={a_pos:0},a=new m(b,q.backgroundVS,q.backgroundFS,g);if(!a)return!1;var l=new Int8Array([0,0,1,0,0,1,1,1]),l=e.createVertex(b,35044,l);b=new h(b,g,{geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:2,normalized:!1,divisor:0}]},{geometry:l});return this._solidProgram=a,this._solidVertexArrayObject=b,this._initialized=!0,!0},l}()})},"esri/views/2d/engine/webgl/painter/TileInfoRenderer":function(){define("require exports ../../../../webgl/Program ../../../../webgl/VertexArrayObject ../../../../webgl/BufferObject ../../../../webgl/Texture ../GeometryUtils ../shaders/glShaderSnippets".split(" "),
function(y,p,u,m,h,e,q,l){return function(){function b(){this._initialized=!1;this._maxWidth=0;this._color=new Float32Array([1,0,0,1])}return b.prototype.render=function(b,a){this._initialized||this._initialize(b);b.bindVAO(this._outlineVertexArrayObject);b.bindProgram(this._outlineProgram);this._outlineProgram.setUniformMatrix4fv("u_transformMatrix",a.tileTransform.transform);this._outlineProgram.setUniform2fv("u_normalized_origin",a.tileTransform.displayCoord);this._outlineProgram.setUniform1f("u_coord_range",
a.coordRange);this._outlineProgram.setUniform1f("u_depth",0);this._outlineProgram.setUniform4fv("u_color",this._color);b.setLineWidth(2);b.drawArrays(3,0,4);b.bindVAO();var e=this._getTexture(b,a);e&&(b.bindVAO(this._tileInfoVertexArrayObject),b.bindProgram(this._tileInfoProgram),b.bindTexture(e,0),this._tileInfoProgram.setUniformMatrix4fv("u_transformMatrix",a.tileTransform.transform),this._tileInfoProgram.setUniform2fv("u_normalized_origin",a.tileTransform.displayCoord),this._tileInfoProgram.setUniform1f("u_depth",
0),this._tileInfoProgram.setUniform1f("u_coord_ratio",a.coordRange/512),this._tileInfoProgram.setUniform2f("u_delta",8,8),this._tileInfoProgram.setUniform2f("u_dimensions",e.descriptor.width,e.descriptor.height),b.drawArrays(5,0,4),b.bindVAO())},b.prototype._initialize=function(b){if(this._initialized)return!0;var a={a_pos:0},e=new u(b,l.backgroundVS,l.backgroundFS,a),g=new u(b,l.tileInfoVS,l.tileInfoFS,a),q={geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:2,normalized:!1,divisor:0}]},p=
new Int8Array([0,0,1,0,1,1,0,1]),p=h.createVertex(b,35044,p),p=new m(b,a,q,{geometry:p}),D=new Int8Array([0,0,1,0,0,1,1,1]),D=h.createVertex(b,35044,D);b=new m(b,a,q,{geometry:D});return this._outlineProgram=e,this._tileInfoProgram=g,this._outlineVertexArrayObject=p,this._tileInfoVertexArrayObject=b,this._initialized=!0,!0},b.prototype._getTexture=function(b,a){if(a.texture)return a.texture;this._canvas||(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("id","canvas2d"),this._canvas.setAttribute("width",
"256"),this._canvas.setAttribute("height","32"),this._canvas.setAttribute("style","display:none"));var g=a.key.id,h=this._canvas.getContext("2d");h.font="24px sans-serif";h.textAlign="left";h.textBaseline="middle";var l=h.measureText(g),l=Math.pow(2,Math.ceil(q.log2(l.width+2)));l>this._maxWidth&&(this._maxWidth=l);return h.clearRect(0,0,this._maxWidth,32),h.fillStyle="blue",h.fillText(g,0,16),a.texture=new e(b,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728},this._canvas),a.texture},
b}()})},"esri/views/2d/engine/webgl/painter/WGLHighlightPainter":function(){define(["require","exports","dojo/has","./highlight/HighlightRenderer","./highlight/HighlightSurfaces"],function(y,p,u,m,h){return function(){function e(){this._hlRenderer=new m;this._hlSurfaces=new h;this._height=this._width=void 0}return e.prototype.setup=function(e,h,b){this._width=h;this._height=b;h=Math.round(.7*h);b=Math.round(.7*b);this._hlRenderer.setup(e,h,b);this._hlSurfaces.setup(e,h,b)},e.prototype.setHighlightOptions=
function(e){this._hlRenderer.setHighlightOptions({fillColor:e.fillColor,outlineColor:e.outlineColor,outlineWidth:.7*e.outlineWidth,outerHaloWidth:.7*e.outerHaloWidth,innerHaloWidth:.7*e.innerHaloWidth,outlinePosition:.7*e.outlinePosition})},e.prototype.startMaskDraw=function(e){e.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo);e.setClearColor(0,0,0,0);e.setClearStencil(0);e.clear(e.gl.COLOR_BUFFER_BIT|e.gl.STENCIL_BUFFER_BIT);e.setViewport(0,0,.7*this._width,.7*this._height)},e.prototype.draw=function(e){e.setStencilTestEnabled(!1);
e.setBlendingEnabled(!1);e.bindFramebuffer(this._hlSurfaces.sharedBlur2Fbo);e.setClearColor(0,0,0,0);e.clear(e.gl.COLOR_BUFFER_BIT);this._hlRenderer.preBlur(e,this._hlSurfaces.sharedBlur1Tex);u("esri-feature-highlight-debug")?(e.bindFramebuffer(null),e.clear(e.gl.COLOR_BUFFER_BIT),this._hlRenderer.finalBlur(e,this._hlSurfaces.sharedBlur2Tex)):(e.bindFramebuffer(this._hlSurfaces.sharedBlur1Fbo),e.setClearColor(0,0,0,0),e.clear(e.gl.COLOR_BUFFER_BIT),this._hlRenderer.finalBlur(e,this._hlSurfaces.sharedBlur2Tex),
e.setBlendingEnabled(!0),e.bindFramebuffer(null),e.setViewport(0,0,this._width,this._height),this._hlRenderer.renderHighlight(e,this._hlSurfaces.sharedBlur1Tex))},e}()})},"esri/views/2d/engine/webgl/painter/highlight/HighlightRenderer":function(){define("require exports ../../../../../webgl/BufferObject ../../../../../webgl/VertexArrayObject ../../../../../webgl/Texture ../../../../../webgl/enums ../../../../../webgl/ShaderVariations ../../shaders/hlShaderSnippets".split(" "),function(y,p,u,m,h,e,
q,l){var b=[void 0,void 0,void 0,1],g=[3,4],a=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return function(){function e(){this._height=this._width=void 0;this._highlightOptions={fillColor:[.2,.6,.9,.75],outlineColor:[.2,.6,.9,.9],outlinePosition:0,outlineWidth:3.4,innerHaloWidth:2,outerHaloWidth:3.3};this._resources=null}return e.prototype._initialize=function(a,e,r){this._width=e;this._height=r;e=new u(a,34962,35044,(new Int8Array([-128,-128,0,0,127,-128,255,0,-128,127,0,
255,127,127,255,255])).buffer);r=new m(a,{a_position:0,a_texcoord:1},{geometry:[{name:"a_position",count:2,type:5120,offset:0,stride:4,normalized:!0},{name:"a_texcoord",count:2,type:5121,offset:2,stride:4,normalized:!0}]},{geometry:e});var p=(new q("hl",["texturedVS","highlightFS"],[],l,a,{a_position:0,a_texcoord:1})).getProgram([]),v=(new q("hl",["texturedVS","blurFS"],[],l,a,{a_position:0,a_texcoord:1})).getProgram([]);p.setUniform1i("u_texture",g[0]);p.setUniform1i("u_shade",g[1]);p.setUniform4fv("u_sigmas",
b);v.setUniform1i("u_texture",g[0]);v.setUniform4fv("u_sigmas",b);a=new h(a,{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,width:256,height:1,samplingMode:9728});this._resources={quadGeometry:e,quadVAO:r,highlightProgram:p,blurProgram:v,shadeTex:a}},e.prototype.setHighlightOptions=function(a){function e(a,b,e){p[0]=(1-e)*a[0]+e*b[0];p[1]=(1-e)*a[1]+e*b[1];p[2]=(1-e)*a[2]+e*b[2];p[3]=(1-e)*a[3]+e*b[3]}if(this._highlightOptions=a,this._resources){var g=a.outlinePosition-a.outlineWidth/2-
a.outerHaloWidth,h=a.outlinePosition-a.outlineWidth/2,l=a.outlinePosition+a.outlineWidth/2,m=a.outlinePosition+a.outlineWidth/2+a.innerHaloWidth,r=Math.sqrt(Math.PI/2)*b[3],q=Math.abs(g)>r?Math.round(10*(Math.abs(g)-r))/10:0,r=Math.abs(m)>r?Math.round(10*(Math.abs(m)-r))/10:0;q&&!r?console.warn("The outer rim of the highlight is "+q+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!q&&r?console.warn("The inner rim of the highlight is "+
r+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):q&&r&&console.warn("The highlight is "+Math.max(q,r)+"px away from the edge of the feature; consider reducing some width values.");for(var r=new Uint8Array(1024),p=[void 0,void 0,void 0,void 0],v=0;256>v;++v)q=g+v/255*(m-g),g>q?(r[4*v+0]=0,r[4*v+1]=0,r[4*v+2]=0,r[4*v+3]=0):h>q?e([0,0,0,0],a.outlineColor,(q-g)/(h-g)):l>q?(p[0]=a.outlineColor[0],p[1]=a.outlineColor[1],
p[2]=a.outlineColor[2],p[3]=a.outlineColor[3]):m>q?e(a.outlineColor,a.fillColor,(q-l)/(m-l)):(r[4*v+0]=a.fillColor[0],r[4*v+1]=a.fillColor[1],r[4*v+2]=a.fillColor[2],r[4*v+3]=a.fillColor[3]),r[4*v+0]=255*p[0]*p[3],r[4*v+1]=255*p[1]*p[3],r[4*v+2]=255*p[2]*p[3],r[4*v+3]=255*p[3];this._resources.highlightProgram.setUniform2fv("u_minMaxDistance",[g,m]);this._resources.shadeTex.updateData(0,0,0,256,1,r)}},e.prototype.setup=function(a,b,e){this._resources?(this._width=b,this._height=e):(this._initialize(a,
b,e),this.setHighlightOptions(this._highlightOptions))},e.prototype._teardown=function(){this._resources.quadGeometry.dispose();this._resources.quadVAO.dispose();this._resources.highlightProgram.dispose();this._resources.blurProgram.dispose();this._resources.shadeTex.dispose();this._resources=null},e.prototype.dispose=function(){this._resources&&this._teardown()},e.prototype.preBlur=function(b,e){b.bindTexture(e,g[0]);b.bindProgram(this._resources.blurProgram);this._resources.blurProgram.setUniform4fv("u_direction",
[1,0,1/this._width,0]);this._resources.blurProgram.setUniformMatrix4fv("u_channelSelector",a);b.bindVAO(this._resources.quadVAO);b.drawArrays(5,0,4);b.bindVAO()},e.prototype.finalBlur=function(a,b){a.bindTexture(b,g[0]);a.bindProgram(this._resources.blurProgram);this._resources.blurProgram.setUniform4fv("u_direction",[0,1,0,1/this._height]);this._resources.blurProgram.setUniformMatrix4fv("u_channelSelector",r);a.bindVAO(this._resources.quadVAO);a.drawArrays(5,0,4);a.bindVAO()},e.prototype.renderHighlight=
function(a,b){a.bindTexture(b,g[0]);a.bindTexture(this._resources.shadeTex,g[1]);a.bindProgram(this._resources.highlightProgram);a.bindVAO(this._resources.quadVAO);a.drawArrays(5,0,4);a.bindVAO()},e}()})},"esri/views/2d/engine/webgl/shaders/hlShaderSnippets":function(){define(["require","exports","../../../../webgl/ShaderSnippets","dojo/text!./hlShaders.xml"],function(y,p,u,m){y=new u;return u.parse(m,y),y})},"esri/views/2d/engine/webgl/painter/highlight/HighlightSurfaces":function(){define(["require",
"exports","../../../../../webgl/FramebufferObject","../../../../../webgl/Texture"],function(y,p,u,m){function h(e,h,l){h=new m(e,{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,width:h,height:l,samplingMode:9729});e=u.createWithAttachments(e,h,{colorTarget:0,depthStencilTarget:2});return[h,e]}return function(){function e(){this._height=this._width=void 0;this._resources=null}return e.prototype._initialize=function(e,l,b){this._width=l;this._height=b;var g=h(e,l,b),a=g[0],g=g[1];e=h(e,l,
b);this._resources={sharedBlur1Tex:a,sharedBlur1Fbo:g,sharedBlur2Tex:e[0],sharedBlur2Fbo:e[1]}},e.prototype.setup=function(e,h,b){!this._resources||this._width===h&&this._height===b||this._teardown();this._resources||this._initialize(e,h,b)},e.prototype._teardown=function(){this._resources.sharedBlur1Tex.dispose();this._resources.sharedBlur1Fbo.dispose();this._resources.sharedBlur2Tex.dispose();this._resources.sharedBlur2Fbo.dispose();this._resources=null},e.prototype.dispose=function(){this._resources&&
this._teardown()},Object.defineProperty(e.prototype,"sharedBlur1Tex",{get:function(){return this._resources.sharedBlur1Tex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharedBlur1Fbo",{get:function(){return this._resources.sharedBlur1Fbo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharedBlur2Tex",{get:function(){return this._resources.sharedBlur2Tex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharedBlur2Fbo",{get:function(){return this._resources.sharedBlur2Fbo},
enumerable:!0,configurable:!0}),e}()})},"esri/views/2d/engine/webgl/painter/WGLHeatmapPainter":function(){define("require exports ../../../../webgl/Program ../../../../webgl/VertexArrayObject ../../../../webgl/BufferObject ../../../../webgl/Texture ../../../../webgl/FramebufferObject dojo/text!../shaders/heatmap.vs.glsl dojo/text!../shaders/heatmap.fs.glsl".split(" "),function(y,p,u,m,h,e,q,l,b){return function(){function g(){this._initWGLExtensions=this._initialized=!1}return g.prototype.bindHeatmapSurface=
function(a,b,g){if(!this._initWGLExtensions){var h=a.extensions;if(!h.textureFloatLinear||!h.colorBufferFloat)throw Error("Required WebGL extensions needed for the heatmap drawing are not available!");this._initWGLExtensions=!0}b=Math.round(b/4);g=Math.round(g/4);this._intensityFBO&&this._intensityFBO.width===b&&this._intensityFBO.height===g||(this._intensityFBO&&this._intensityFBO.dispose(),h=new e(a,{target:3553,internalFormat:34836,pixelFormat:6408,dataType:5126,samplingMode:a.extensions.textureFloatLinear?
9729:9728,wrapMode:33071,width:b,height:g}),this._intensityFBO=q.createWithAttachments(a,h,{colorTarget:0,depthStencilTarget:3,width:b,height:g,multisampled:!1}));this._boundFBO=a.getBoundFramebufferObject();a.bindFramebuffer(this._intensityFBO);this._prevVP=a.getViewport();a.setViewport(0,0,b,g);a.setStencilWriteMask(255);a.setClearColor(0,0,0,0);a.setClearStencil(0);a.clear(a.gl.COLOR_BUFFER_BIT|a.gl.STENCIL_BUFFER_BIT)},g.prototype.drawHeatmap=function(a,b,e){a.bindFramebuffer(this._boundFBO);
this._boundFBO=null;a.setViewport(this._prevVP.x,this._prevVP.y,this._prevVP.width,this._prevVP.height);this._initialized||(this._initialized=this._initialize(a));a.setBlendFunctionSeparate(1,771,1,771);a.setBlendingEnabled(!0);a.bindVAO(this._vertexArrayObject);a.bindProgram(this._program);a.bindTexture(this._intensityFBO.colorTexture,2);this._program.setUniform1i("u_texture",2);this._program.setUniform1f("u_opacity",e);b=b.heatmapParameters;this._updateGradient(a,b);this._program.setUniform2f("u_minmax",
b.minPixelIntensity,b.maxPixelIntensity);a.setActiveTexture(5);a.bindTexture(this._gradientTex,5);this._program.setUniform1i("u_gradient",5);a.drawArrays(5,0,4);a.bindVAO()},g.prototype._initialize=function(a){if(this._initialized)return!0;var e={a_pos:0,a_tex:1},g=new u(a,l,b,e);if(!g)return!1;var q=new Int8Array(16);q[0]=-1;q[1]=-1;q[2]=0;q[3]=0;q[4]=1;q[5]=-1;q[6]=1;q[7]=0;q[8]=-1;q[9]=1;q[10]=0;q[11]=1;q[12]=1;q[13]=1;q[14]=1;q[15]=1;a=new m(a,e,{geometry:[{name:"a_pos",count:2,type:5120,offset:0,
stride:4,normalized:!1,divisor:0},{name:"a_tex",count:2,type:5120,offset:2,stride:4,normalized:!1,divisor:0}]},{geometry:h.createVertex(a,35044,q)});return this._program=g,this._vertexArrayObject=a,this._initialized=!0,!0},g.prototype._updateGradient=function(a,b){if(!this._gradientTex||b.color.refreshColorRamp){this._gradientTex&&(this._gradientTex.dispose(),this._gradientTex=null);this._gradientTex=new e(a,{target:3553,internalFormat:6408,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,
width:1,height:512});a=document.createElement("CANVAS");a.width=1;a.height=512;for(var g=a.getContext("2d"),h=b.color,l=[],m=0;m<h.values.length;++m)l.push({ratio:h.values[m],color:"rgba("+Math.floor(255*h.colors[4*m+0])+", "+Math.floor(255*h.colors[4*m+1])+", "+Math.floor(255*h.colors[4*m+2])+", "+h.colors[4*m+3]+")"});h=g.createLinearGradient(0,0,0,512);for(m=0;m<l.length;m++){var r=l[m];h.addColorStop(r.ratio,r.color)}g.fillStyle=h;g.fillRect(0,0,1,512);this._gradientTex.setData(a);b.color.refreshColorRamp=
!1}},g}()})},"esri/views/2d/layers/support/GraphicsView2D":function(){define("require exports ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/accessorSupport/decorators ../../../../core/Collection ../../../../core/HandleRegistry ../../../../core/promiseUtils ../../../../Graphic ../../../layers/GraphicsView ../../engine/graphics/GFXSurface ../../engine/graphics/GFXGroup ../../engine/graphics/GFXObject".split(" "),function(y,p,u,m,h,e,q,l,b,
g,a,r,v){return function(g){function p(){for(var b=[],e=0;e<arguments.length;e++)b[e]=arguments[e];var h=g.apply(this,b)||this;return h._frontGroup=new r,h._handles=new q,h._objects=new Map,h.container=new a,h.container.addChild(h._frontGroup),h.watch("graphics",function(){return h._reset()},!0),h}return u(p,g),p.prototype.hitTest=function(a,b){if(!this.view||!this.view.position)return null;a+=this.view.position[0]-window.pageXOffset;b+=this.view.position[1]-window.pageYOffset;return(a=this.container.hitTest(a,
b))?l.resolve(a.graphic):null},p.prototype._reset=function(){var a=this;this._handles.remove("graphics");this._objects.forEach(function(b,e){a._frontGroup.removeChild(b)});this._objects.clear();this.graphics&&(this.graphics.forEach(this._add,this),this._handles.add(this.graphics.on("change",function(b){return a._graphicsChangeHandler(b)}),"graphics"))},p.prototype._add=function(a){if(!this._objects.has(a)){var b=new v;b.graphic=a;b.renderingInfo={symbol:a.symbol};this._objects.set(a,b);this._frontGroup.addChild(b)}},
p.prototype._remove=function(a){var b=this._objects.get(a);b&&(this._objects["delete"](a),this._frontGroup.removeChild(b))},p.prototype._graphicsChangeHandler=function(a){for(var b=a.removed,e=0,g=a.added;e<g.length;e++)a=g[e],this._add(a);for(e=0;e<b.length;e++)a=b[e],this._remove(a)},m([h.cast(e.ofType(b))],p.prototype,"graphics",void 0),m([h.property()],p.prototype,"view",void 0),p=m([h.subclass("esri.views.2d.layers.support.GraphicsView2D")],p)}(h.declared(g))})},"esri/views/layers/GraphicsView":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../core/Collection ../../Graphic".split(" "),
function(y,p,u,m,h,e,q,l){return function(b){function e(){var a=null!==b&&b.apply(this,arguments)||this;return a.graphics=null,a.renderer=null,a.view=null,a}return u(e,b),m([h.property({type:q.ofType(l)})],e.prototype,"graphics",void 0),m([h.property()],e.prototype,"renderer",void 0),m([h.property()],e.prototype,"view",void 0),e=m([h.subclass("esri.views.layers.GraphicsView")],e)}(h.declared(e))})},"esri/views/2d/engine/graphics/GFXSurface":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/assignHelper ../../libs/gl-matrix/mat2d ../../libs/gl-matrix/common ../../libs/gfx ../../viewpointUtils ../Container ./Projector ../cssUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){var r=h.identity(h.create());return function(b){function p(){var a=null!==b&&b.apply(this,arguments)||this;return a._transform=h.create(),a._projector=new g,a._prevStateId=null,a}return u(p,b),p.prototype.createElement=function(){var a=document.createElement("div");return a.setAttribute("class","esri-display-object"),a},p.prototype.setElement=function(a){this.surface&&(this.surface.destroy(),this.surface=null);(this.element=a)&&(this.surface=q.createSurface(this.element,
400,400))},p.prototype.doRender=function(g){var m=this.element.style;if(!this.visible)return void(m.display="none");m.display="block";m.opacity=""+g.opacity;var q=this._transform,p=g.state,v=this._prevStateId!==p.id;if(this.renderRequested||v){if(g.stationary)v&&(this._prevStateId=p.id),l.getMatrix(q,p.center,p.size,p.resolution,e.toRadian(p.rotation),1),this.surface.setDimensions(p.size[0],p.size[1]),this._projector.update(q,p.resolution),this.children.forEach(function(a){a.g&&a.g.setTransform(r)}),
b.prototype.doRender.call(this,g);else{var u=h.invert(h.create(),q);h.multiply(u,p.transform,u);this.children.forEach(function(a){a.g&&a.g.setTransform(u)})}a.clip(m,p.clipRect);m.transform=a.cssMatrix3d(h.fromRotation(h.create(),e.toRadian(p.rotation)));this.surface.rawNode.style.transform=a.cssMatrix(h.fromRotation(h.create(),e.toRadian(-p.rotation)))}},p.prototype.hitTest=function(a,b){if(!this.attached)return null;var e=this.surface.rawNode,e=e.parentElement||e.parentNode;e.style.zIndex="9000";
a=document.elementFromPoint(a,b);return(a=(e.style.zIndex="",a))&&a.gfxObject||null},p.prototype.prepareChildrenRenderParameters=function(a){return m({},a,{projector:this._projector,surface:this.surface})},p.prototype.beforeRenderChildren=function(a,b){this.surface.openBatch()},p.prototype.attachChild=function(a,b){return a.attach(b)},p.prototype.detachChild=function(a,b){return a.detach()},p.prototype.renderChild=function(a,b){return a.processRender(b)},p.prototype.afterRenderChildren=function(a,
b){this.surface.closeBatch()},p}(b)})},"esri/views/2d/libs/gfx":function(){define("require exports ./gfx/svg ./gfx/Circle ./gfx/Group ./gfx/Path ./gfx/Image ./gfx/Rect ./gfx/Shape ./gfx/Surface ./gfx/Text".split(" "),function(y,p,u,m,h,e,q,l,b,g,a){Object.defineProperty(p,"__esModule",{value:!0});p.createSurface=u.createSurface;p.Circle=m["default"];p.Group=h["default"];p.Path=e["default"];p.Image=q["default"];p.Rect=l["default"];p.Shape=b["default"];p.Surface=g["default"];p.Text=a["default"]})},
"esri/views/2d/libs/gfx/svg":function(){define(["require","exports","dojo/dom","./Surface"],function(y,p,u,m){function h(e,h){return document.createElementNS?document.createElementNS(e,h):document.createElement(h)}Object.defineProperty(p,"__esModule",{value:!0});p.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};p.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,
1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};p._createElementNS=h;p._setAttributeNS=function(e,h,l,b){return e.setAttributeNS?e.setAttributeNS(h,l,b):e.setAttribute(l,b)};p._createTextNode=function(e){return document.createTextNode(e)};p._createFragment=function(){return document.createDocumentFragment()};p.getRef=function(e){return e&&"none"!==e?e.match(/^url\(#.+\)$/)?u.byId(e.slice(5,-1)):e.match(/^#dojoUnique\d+$/)?u.byId(e.slice(1)):null:null};p.createSurface=function(e,q,l){var b=
new m["default"];b.rawNode=h(p.xmlns.svg,"svg");b.rawNode.setAttribute("overflow","hidden");q&&b.rawNode.setAttribute("width",0>q?0:q);l&&b.rawNode.setAttribute("height",0>l?0:l);q=h(p.xmlns.svg,"defs");return b.rawNode.appendChild(q),b.defNode=q,b._parent=u.byId(e),b._parent.appendChild(b.rawNode),b}})},"esri/views/2d/libs/gfx/Surface":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojo/has dojo/_base/array dojo/dom-construct dojox/gfx/_base ./svg ./Container ./Circle ./Group ./Path ./Image ./Rect ./Text".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x){Object.defineProperty(p,"__esModule",{value:!0});var D=navigator.userAgent,E=534<function(){var a=/WebKit\/(\d*)/.exec(D);return a?parseInt(a[1],10):0}();y=function(b){function p(){var a=null!==b&&b.apply(this,arguments)||this;return a.rawNode=null,a._parent=null,a._nodes=[],a._events=[],a}return u(p,b),p.prototype.destroy=function(){if(h.forEach(this._nodes,e.destroy),this._nodes=[],h.forEach(this._events,function(a){a&&a.remove()}),this._events=[],this.rawNode=
null,m("ie"))for(;this._parent.lastChild;)e.destroy(this._parent.lastChild);else this._parent.innerHTML="";this.defNode=this._parent=null},p.prototype.setDimensions=function(a,b){if(!this.rawNode)return this;a=0>a?0:a;b=0>b?0:b;return this.rawNode.setAttribute("width",a),this.rawNode.setAttribute("height",b),E&&(this.rawNode.style.width=a,this.rawNode.style.height=b),this},p.prototype.getDimensions=function(){return this.rawNode?{width:q.normalizedLength(this.rawNode.getAttribute("width")),height:q.normalizedLength(this.rawNode.getAttribute("height"))}:
null},p.prototype.getEventSource=function(){return this.rawNode},p.prototype._getRealMatrix=function(){return null},p.prototype.createShape=function(a){switch(a.type){case q.defaultPath.type:return this.createPath(a);case q.defaultRect.type:return this.createRect(a);case q.defaultCircle.type:return this.createCircle(a);case q.defaultImage.type:return this.createImage(a);case q.defaultText.type:return this.createText(a)}return console.error("[gfx] unknown shape",a),null},p.prototype.createGroup=function(){return this.createObject(a["default"])},
p.prototype.createRect=function(a){return this.createObject(w["default"],a)},p.prototype.createCircle=function(a){return this.createObject(g["default"],a)},p.prototype.createImage=function(a){return this.createObject(v["default"],a)},p.prototype.createText=function(a){return this.createObject(x["default"],a)},p.prototype.createPath=function(a){return this.createObject(r["default"],a)},p.prototype.createObject=function(a,b){if(!this.rawNode)return null;var e=new a;a=l._createElementNS(l.xmlns.svg,
a.nodeType);return e.setRawNode(a),e.setShape(b),this.add(e),e},p}(b["default"]);p["default"]=y})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(y,p,u,m,h,e,q,l,b){var g=p.getObject("dojox.gfx",!0),a=g._base={};g._hasClass=function(a,b){return(a=a.getAttribute("className"))&&0<=(" "+a+" ").indexOf(" "+b+" ")};g._addClass=function(a,b){var e=
a.getAttribute("className")||"";(!e||0>(" "+e+" ").indexOf(" "+b+" "))&&a.setAttribute("className",e+(e?" ":"")+b)};g._removeClass=function(a,b){var e=a.getAttribute("className");e&&a.setAttribute("className",e.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};a._getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b,e;m("ie")&&(e=h.doc.documentElement.style.fontSize||"",e||(h.doc.documentElement.style.fontSize=
"100%"));var g=l.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},h.body());for(b in a)g.style.fontSize=b,a[b]=16*Math.round(12*g.offsetHeight/16)/12/1E3;m("ie")&&(h.doc.documentElement.style.fontSize=e);h.body().removeChild(g);return a};var r=null;a._getCachedFontMeasurements=function(b){if(b||!r)r=a._getFontMeasurements();return r};var v=null,w={};a._getTextBox=function(a,
e,g){var m,r,q=arguments.length,p;v||(v=l.create("div",{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},h.body()));m=v;m.className="";r=m.style;r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";if(1<q&&e)for(p in e)p in w||(r[p]=e[p]);2<q&&g&&(m.className=g);m.innerHTML=a;m.getBoundingClientRect?(r=m.getBoundingClientRect(),r={l:r.left,t:r.top,w:r.width||r.right-r.left,h:r.height||r.bottom-r.top}):r=b.getMarginBox(m);m.innerHTML="";return r};a._computeTextLocation=
function(a,b,e,g){var h={};switch(a.align){case "end":h.x=a.x-b;break;case "middle":h.x=a.x-b/2;break;default:h.x=a.x}h.y=a.y-e*(g?.75:1);return h};a._computeTextBoundingBox=function(b){if(!g._base._isRendered(b))return{x:0,y:0,width:0,height:0};var e;e=b.getShape();var h=b.getFont()||g.defaultFont;b=b.getTextWidth();h=g.normalizedLength(h.size);e=a._computeTextLocation(e,b,h,!0);return{x:e.x,y:e.y,width:b,height:h}};a._isRendered=function(a){for(a=a.parent;a&&a.getParent;)a=a.parent;return null!==
a};var x=0;a._getUniqueId=function(){var a;do a=y._scopeName+"xUnique"+ ++x;while(q.byId(a));return a};a._fixMsTouchAction=function(a){a.rawNode.style.touchAction="none"};p.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,
y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},
{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var a={};return function(b){var e=a[b];if(e)return new e;e=a[b]=new Function;e.prototype=g["default"+b];return new e}}(),normalizeColor:function(a){return a instanceof u?a:new u(a)},normalizeParameters:function(a,b){var e;if(b){var g={};for(e in a)e in b&&!(e in g)&&(a[e]=b[e])}return a},
makeParameters:function(a,b){var e=null;if(!b)return p.delegate(a);var g={};for(e in a)e in g||(g[e]=p.clone(e in b?b[e]:a[e]));return g},formatNumber:function(a,b){var e=a.toString();if(0<=e.indexOf("e"))e=a.toFixed(4);else{var g=e.indexOf(".");0<=g&&5<e.length-g&&(e=a.toFixed(4))}return 0>a?e:b?" "+e:e},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(a){var b=g.getDefault("Font");a=a.split(/\s+/);if(!(5>a.length)){b.style=a[0];
b.variant=a[1];b.weight=a[2];var e=a[3].indexOf("/");b.size=0>e?a[3]:a[3].substring(0,e);var h=4;0>e&&("/"==a[4]?h=6:"/"==a[4].charAt(0)&&(h=5));h<a.length&&(b.family=a.slice(h).join(" "))}return b},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(a){return a*g.px_in_pt()},px2pt:function(a){return a/g.px_in_pt()},normalizedLength:function(a){if(0===a.length)return 0;if(2<a.length){var b=g.px_in_pt(),e=parseFloat(a);switch(a.slice(-2)){case "px":return e;
case "pt":return e*b;case "in":return 72*e*b;case "pc":return 12*e*b;case "mm":return e*g.mm_in_pt*b;case "cm":return e*g.cm_in_pt*b}}return parseFloat(a)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(a){var b="string"==typeof a?g[a]:a;b&&(e.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath EsriPath Surface createSurface fixTarget".split(" "),
function(a){g[a]=b[a]}),"string"==typeof a?g.renderer=a:e.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(a){return g.renderer=g[a]&&g[a].Surface===g.Surface?a:null}))}});return g})},"esri/views/2d/libs/gfx/Container":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojox/gfx/matrix ./Shape ./svg".split(" "),function(y,p,u,m,h,e){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function l(){var b=null!==h&&h.apply(this,arguments)||this;
return b.children=[],b._batch=0,b}return u(l,h),l.prototype.openBatch=function(){return this._batch||(this.fragment=e._createFragment()),++this._batch,this},l.prototype.closeBatch=function(){return this._batch=0<this._batch?--this._batch:0,this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),this.fragment=null),this},l.prototype.add=function(b){if(this===b.getParent())return this;this.fragment?this.fragment.appendChild(b.rawNode):this.rawNode.appendChild(b.rawNode);var e=b.getParent();
return e&&e.remove(b,!0),this.children.push(b),b._setParent(this,this._getRealMatrix()),this},l.prototype.remove=function(b,e){if(void 0===e&&(e=!1),this!==b.getParent())return this;this.rawNode===b.rawNode.parentNode&&this.rawNode.removeChild(b.rawNode);this.fragment&&this.fragment===b.rawNode.parentNode&&this.fragment.removeChild(b.rawNode);for(var a=0;a<this.children.length;++a)if(this.children[a]===b){e||(b.parent=null,b.parentMatrix=null);this.children.splice(a,1);break}return this},l.prototype.clear=
function(b){void 0===b&&(b=!1);for(var e=this.rawNode;e.lastChild;)e.removeChild(e.lastChild);var a=this.defNode;if(a){for(;a.lastChild;)a.removeChild(a.lastChild);e.appendChild(a)}for(a=0;a<this.children.length;++a)e=this.children[a],e.parent=null,e.parentMatrix=null,b&&e.destroy();return this.children=[],this},l.prototype.getBoundingBox=function(){if(!this.children)return null;var b=null;return this.children.forEach(function(e){var a=e.getBoundingBox();a&&((e=e.getTransform())&&(a=m.multiplyRectangle(e,
a)),b?(b.x=Math.min(b.x,a.x),b.y=Math.min(b.y,a.y),b.endX=Math.max(b.endX,a.x+a.width),b.endY=Math.max(b.endY,a.y+a.height)):b={x:a.x,y:a.y,endX:a.x+a.width,endY:a.y+a.height,width:0,height:0})}),b&&(b.width=b.endX-b.x,b.height=b.endY-b.y),b},l.prototype._moveChildToFront=function(b){for(var e=0;e<this.children.length;++e)if(this.children[e]===b){this.children.splice(e,1);this.children.push(b);break}return this},l.prototype._moveChildToBack=function(b){for(var e=0;e<this.children.length;++e)if(this.children[e]===
b){this.children.splice(e,1);this.children.unshift(b);break}return this},l}(h["default"]);p["default"]=y})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(y,p){var u=y.matrix={},m={};u._degToRad=function(h){return m[h]||(m[h]=Math.PI*h/180)};u._radToDeg=function(h){return h/Math.PI*180};u.Matrix2D=function(h){if(h)if("number"==typeof h)this.xx=this.yy=h;else if(h instanceof Array){if(0<h.length){for(var e=u.normalize(h[0]),m=1;m<h.length;++m){var l=e,b=u.normalize(h[m]),
e=new u.Matrix2D;e.xx=l.xx*b.xx+l.xy*b.yx;e.xy=l.xx*b.xy+l.xy*b.yy;e.yx=l.yx*b.xx+l.yy*b.yx;e.yy=l.yx*b.xy+l.yy*b.yy;e.dx=l.xx*b.dx+l.xy*b.dy+l.dx;e.dy=l.yx*b.dx+l.yy*b.dy+l.dy}p.mixin(this,e)}}else p.mixin(this,h)};p.extend(u.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});p.mixin(u,{identity:new u.Matrix2D,flipX:new u.Matrix2D({xx:-1}),flipY:new u.Matrix2D({yy:-1}),flipXY:new u.Matrix2D({xx:-1,yy:-1}),translate:function(h,e){return 1<arguments.length?new u.Matrix2D({dx:h,dy:e}):new u.Matrix2D({dx:h.x,
dy:h.y})},scale:function(h,e){return 1<arguments.length?new u.Matrix2D({xx:h,yy:e}):"number"==typeof h?new u.Matrix2D({xx:h,yy:h}):new u.Matrix2D({xx:h.x,yy:h.y})},rotate:function(h){var e=Math.cos(h);h=Math.sin(h);return new u.Matrix2D({xx:e,xy:-h,yx:h,yy:e})},rotateg:function(h){return u.rotate(u._degToRad(h))},skewX:function(h){return new u.Matrix2D({xy:Math.tan(h)})},skewXg:function(h){return u.skewX(u._degToRad(h))},skewY:function(h){return new u.Matrix2D({yx:Math.tan(h)})},skewYg:function(h){return u.skewY(u._degToRad(h))},
reflect:function(h,e){1==arguments.length&&(e=h.y,h=h.x);var m=h*h,l=e*e,b=m+l,g=2*h*e/b;return new u.Matrix2D({xx:2*m/b-1,xy:g,yx:g,yy:2*l/b-1})},project:function(h,e){1==arguments.length&&(e=h.y,h=h.x);var m=h*h,l=e*e,b=m+l,g=h*e/b;return new u.Matrix2D({xx:m/b,xy:g,yx:g,yy:l/b})},normalize:function(h){return h instanceof u.Matrix2D?h:new u.Matrix2D(h)},isIdentity:function(h){return 1==h.xx&&0==h.xy&&0==h.yx&&1==h.yy&&0==h.dx&&0==h.dy},clone:function(h){var e=new u.Matrix2D,m;for(m in h)"number"==
typeof h[m]&&"number"==typeof e[m]&&e[m]!=h[m]&&(e[m]=h[m]);return e},invert:function(h){h=u.normalize(h);var e=h.xx*h.yy-h.xy*h.yx;return h=new u.Matrix2D({xx:h.yy/e,xy:-h.xy/e,yx:-h.yx/e,yy:h.xx/e,dx:(h.xy*h.dy-h.yy*h.dx)/e,dy:(h.yx*h.dx-h.xx*h.dy)/e})},_multiplyPoint:function(h,e,m){return{x:h.xx*e+h.xy*m+h.dx,y:h.yx*e+h.yy*m+h.dy}},multiplyPoint:function(h,e,m){h=u.normalize(h);return"number"==typeof e&&"number"==typeof m?u._multiplyPoint(h,e,m):u._multiplyPoint(h,e.x,e.y)},multiplyRectangle:function(h,
e){var m=u.normalize(h);e=e||{x:0,y:0,width:0,height:0};if(u.isIdentity(m))return{x:e.x,y:e.y,width:e.width,height:e.height};h=u.multiplyPoint(m,e.x,e.y);var l=u.multiplyPoint(m,e.x,e.y+e.height),b=u.multiplyPoint(m,e.x+e.width,e.y);e=u.multiplyPoint(m,e.x+e.width,e.y+e.height);var m=Math.min(h.x,l.x,b.x,e.x),g=Math.min(h.y,l.y,b.y,e.y);return{x:m,y:g,width:Math.max(h.x,l.x,b.x,e.x)-m,height:Math.max(h.y,l.y,b.y,e.y)-g}},multiply:function(h){for(var e=u.normalize(h),m=1;m<arguments.length;++m){var l=
e,b=u.normalize(arguments[m]),e=new u.Matrix2D;e.xx=l.xx*b.xx+l.xy*b.yx;e.xy=l.xx*b.xy+l.xy*b.yy;e.yx=l.yx*b.xx+l.yy*b.yx;e.yy=l.yx*b.xy+l.yy*b.yy;e.dx=l.xx*b.dx+l.xy*b.dy+l.dx;e.dy=l.yx*b.dx+l.yy*b.dy+l.dy}return e},_sandwich:function(h,e,m){return u.multiply(u.translate(e,m),h,u.translate(-e,-m))},scaleAt:function(h,e,m,l){switch(arguments.length){case 4:return u._sandwich(u.scale(h,e),m,l);case 3:return"number"==typeof m?u._sandwich(u.scale(h),e,m):u._sandwich(u.scale(h,e),m.x,m.y)}return u._sandwich(u.scale(h),
e.x,e.y)},rotateAt:function(h,e,m){return 2<arguments.length?u._sandwich(u.rotate(h),e,m):u._sandwich(u.rotate(h),e.x,e.y)},rotategAt:function(h,e,m){return 2<arguments.length?u._sandwich(u.rotateg(h),e,m):u._sandwich(u.rotateg(h),e.x,e.y)},skewXAt:function(h,e,m){return 2<arguments.length?u._sandwich(u.skewX(h),e,m):u._sandwich(u.skewX(h),e.x,e.y)},skewXgAt:function(h,e,m){return 2<arguments.length?u._sandwich(u.skewXg(h),e,m):u._sandwich(u.skewXg(h),e.x,e.y)},skewYAt:function(h,e,m){return 2<arguments.length?
u._sandwich(u.skewY(h),e,m):u._sandwich(u.skewY(h),e.x,e.y)},skewYgAt:function(h,e,m){return 2<arguments.length?u._sandwich(u.skewYg(h),e,m):u._sandwich(u.skewYg(h),e.x,e.y)}});y.Matrix2D=u.Matrix2D;return u})},"esri/views/2d/libs/gfx/Shape":function(){define("require exports dojox/gfx/_base dojo/_base/lang dojo/_base/Color dojo/dom dojo/dom-attr ./svg ./Surface ../gl-matrix/mat2d".split(" "),function(y,p,u,m,h,e,q,l,b,g){Object.defineProperty(p,"__esModule",{value:!0});y=function(){function a(){this.parentMatrix=
this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null}return a.prototype.destroy=function(){if(this.fillStyle&&"type"in this.fillStyle){var a=this.rawNode.getAttribute("fill");(a=l.getRef(a))&&a.parentNode.removeChild(a)}this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},a.prototype.getNode=function(){return this.rawNode},a.prototype.getShape=function(){return this.shape},a.prototype.getTransform=function(){return this.matrix},
a.prototype.getFill=function(){return this.fillStyle},a.prototype.getStroke=function(){return this.strokeStyle},a.prototype.getParent=function(){return this.parent},a.prototype.getBoundingBox=function(){return this.bbox},a.prototype.setTransform=function(a){return this.matrix=this.matrix?g.copy(this.matrix,a):g.clone(a),this._applyTransform()},a.prototype.setFill=function(a){if(!a)return this.fillStyle=null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;
var b;if("object"==typeof a&&"type"in a){switch(a.type){case "linear":b=u.makeParameters(u.defaultLinearGradient,a);a=this._setFillObject(b,"linearGradient");a.setAttribute("x1",b.x1.toFixed(8));a.setAttribute("y1",b.y1.toFixed(8));a.setAttribute("x2",b.x2.toFixed(8));a.setAttribute("y2",b.y2.toFixed(8));break;case "radial":b=u.makeParameters(u.defaultRadialGradient,a);a=this._setFillObject(b,"radialGradient");a.setAttribute("cx",b.cx.toFixed(8));a.setAttribute("cy",b.cy.toFixed(8));a.setAttribute("r",
b.r.toFixed(8));break;case "pattern":b=u.makeParameters(u.defaultPattern,a),a=this._setFillObject(b,"pattern"),a.setAttribute("x",b.x.toFixed(8)),a.setAttribute("y",b.y.toFixed(8)),a.setAttribute("width",b.width.toFixed(8)),a.setAttribute("height",b.height.toFixed(8))}return this.fillStyle=b,this}return b=u.normalizeColor(a),this.fillStyle=b,this.rawNode.setAttribute("fill",b.toCss()),this.rawNode.setAttribute("fill-opacity",b.a),this.rawNode.setAttribute("fill-rule","evenodd"),this},a.prototype.setStroke=
function(a){var b=this.rawNode;if(!a)return this.strokeStyle=null,b.setAttribute("stroke","none"),b.setAttribute("stroke-opacity",0),this;("string"==typeof a||m.isArray(a)||a instanceof h)&&(a={color:a});a=this.strokeStyle=u.makeParameters(u.defaultStroke,a);if(a.color=u.normalizeColor(a.color),a){var e=0>a.width?0:a.width;b.setAttribute("stroke",a.color.toCss());b.setAttribute("stroke-opacity",a.color.a);b.setAttribute("stroke-width",e);b.setAttribute("stroke-linecap",a.cap);"number"==typeof a.join?
(b.setAttribute("stroke-linejoin","miter"),b.setAttribute("stroke-miterlimit",a.join)):b.setAttribute("stroke-linejoin",a.join);var g=a.style.toLowerCase();if(g in l.dasharray&&(g=l.dasharray[g]),g instanceof Array){for(var g=m._toArray(g),r=0;r<g.length;++r)g[r]*=e;if("butt"!==a.cap){for(r=0;r<g.length;r+=2)g[r]-=e,1>g[r]&&(g[r]=1);for(r=1;r<g.length;r+=2)g[r]+=e}g=g.join(",")}b.setAttribute("stroke-dasharray",g);b.setAttribute("dojoGfxStrokeStyle",a.style)}return this},a.prototype._getParentSurface=
function(){for(var a=this.parent;a&&!(a instanceof b["default"]);a=a.parent);return a},a.prototype._setFillObject=function(a,b){var e=l.xmlns.svg;this.fillStyle=a;var g=this._getParentSurface().defNode,h=this.rawNode.getAttribute("fill"),m=l.getRef(h);if(m)if(h=m,h.tagName.toLowerCase()!==b.toLowerCase())m=h.id,h.parentNode.removeChild(h),h=l._createElementNS(e,b),h.setAttribute("id",m),g.appendChild(h);else for(;h.childNodes.length;)h.removeChild(h.lastChild);else h=l._createElementNS(e,b),h.setAttribute("id",
u._base._getUniqueId()),g.appendChild(h);if("pattern"===b)h.setAttribute("patternUnits","userSpaceOnUse"),e=l._createElementNS(e,"image"),e.setAttribute("x",0),e.setAttribute("y",0),e.setAttribute("width",(0>a.width?0:a.width).toFixed(8)),e.setAttribute("height",(0>a.height?0:a.height).toFixed(8)),l._setAttributeNS(e,l.xmlns.xlink,"xlink:href",a.src),h.appendChild(e);else for(h.setAttribute("gradientUnits","userSpaceOnUse"),b=0;b<a.colors.length;++b){var g=a.colors[b],m=l._createElementNS(e,"stop"),
r=g.color=u.normalizeColor(g.color);m.setAttribute("offset",g.offset.toFixed(8));m.setAttribute("stop-color",r.toCss());m.setAttribute("stop-opacity",r.a);h.appendChild(m)}return this.rawNode.setAttribute("fill","url(#"+h.getAttribute("id")+")"),this.rawNode.removeAttribute("fill-opacity"),this.rawNode.setAttribute("fill-rule","evenodd"),h},a.prototype._applyTransform=function(){var a=this.matrix;return a?this.rawNode.setAttribute("transform","matrix("+a[0].toFixed(8)+","+a[1].toFixed(8)+","+a[2].toFixed(8)+
","+a[3].toFixed(8)+","+a[4].toFixed(8)+","+a[5].toFixed(8)+")"):this.rawNode.removeAttribute("transform"),this},a.prototype.setRawNode=function(a){a=this.rawNode=a;"image"!==this.shape.type&&a.setAttribute("fill","none");a.setAttribute("fill-opacity",0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this},a.prototype.setShape=
function(a){this.shape=u.makeParameters(this.shape,a);for(var b in this.shape)"type"!==b&&(a=this.shape[b],"width"!==b&&"height"!==b||(a=0>a?0:a),this.rawNode.setAttribute(b,a));return this.bbox=null,this},a.prototype._moveToFront=function(){return this.rawNode.parentNode.appendChild(this.rawNode),this},a.prototype._moveToBack=function(){return this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild),this},a.prototype._removeClipNode=function(){var a,b=q.get(this.rawNode,
"clip-path");return b&&(a=e.byId(b.match(/gfx_clip[\d]+/)[0]),a&&a.parentNode.removeChild(a)),a},a.prototype.moveToFront=function(){var a=this.getParent();return a&&(a._moveChildToFront(this),this._moveToFront()),this},a.prototype.moveToBack=function(){var a=this.getParent();return a&&(a._moveChildToBack(this),this._moveToBack()),this},a.prototype.removeShape=function(a){return this.parent&&this.parent.remove(this,a),this},a.prototype._setParent=function(a,b){return this.parent=a,this._updateParentMatrix(b)},
a.prototype._updateParentMatrix=function(a){return this.parentMatrix=a?g.clone(a):null,this._applyTransform()},a.prototype._getRealMatrix=function(){for(var a=g.clone(this.matrix||g.create()),b=this.parent;b;)b.matrix&&a&&g.multiply(a,b.matrix,a),b=b.parent;return a},a}();p["default"]=y})},"esri/views/2d/libs/gfx/Circle":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Shape","dojox/gfx/_base"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});
y=function(e){function m(l){var b=e.call(this)||this;return b.shape=h.getDefault("Circle"),b.rawNode=l,b}return u(m,e),m.prototype.getBoundingBox=function(){if(!this.bbox){var e=this.shape;this.bbox={x:e.cx-e.r,y:e.cy-e.r,width:2*e.r,height:2*e.r}}return this.bbox},m.nodeType="circle",m}(m["default"]);p["default"]=y})},"esri/views/2d/libs/gfx/Group":function(){define("require exports ../../../../core/tsSupport/extendsHelper ./Container dojox/gfx/_base ./svg ./Circle ./Path ./Image ./Rect ./Text".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a){Object.defineProperty(p,"__esModule",{value:!0});y=function(m){function r(){return null!==m&&m.apply(this,arguments)||this}return u(r,m),r.prototype.setRawNode=function(a){this.rawNode=a;this.rawNode.__gfxObject__=this},r.prototype.destroy=function(){m.prototype.clear.call(this,!0);m.prototype.destroy.call(this)},r.prototype.createShape=function(a){switch(a.type){case h.defaultPath.type:return this.createPath(a);case h.defaultRect.type:return this.createRect(a);case h.defaultCircle.type:return this.createCircle(a);
case h.defaultImage.type:return this.createImage(a);case h.defaultText.type:return this.createText(a)}return console.error("[gfx] unknown shape",a),null},r.prototype.createGroup=function(){return this.createObject(r)},r.prototype.createRect=function(a){return this.createObject(g["default"],a)},r.prototype.createCircle=function(a){return this.createObject(q["default"],a)},r.prototype.createImage=function(a){return this.createObject(b["default"],a)},r.prototype.createText=function(b){return this.createObject(a["default"],
b)},r.prototype.createPath=function(a){return this.createObject(l["default"],a)},r.prototype.createObject=function(a,b){if(!this.rawNode)return null;var g=new a;a=e._createElementNS(e.xmlns.svg,a.nodeType);return g.setRawNode(a),g.setShape(b),this.add(g),g},r.nodeType="g",r}(m["default"]);p["default"]=y})},"esri/views/2d/libs/gfx/Path":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojo/_base/lang dojox/gfx/_base dojox/gfx/matrix ./Shape".split(" "),function(y,p,u,m,h,
e,q){Object.defineProperty(p,"__esModule",{value:!0});y=function(l){function b(b){var a=l.call(this)||this;return a.segments=[],a.tbbox=null,a.absolute=!0,a.last={},a.segmented=!1,a._validSegments={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},a._2PI=2*Math.PI,a.rawNode=b,a.shape=m.clone(h.defaultPath),a}return u(b,l),b.prototype.setAbsoluteMode=function(b){return this._confirmSegmented(),this.absolute="string"==typeof b?"absolute"===b:b,this},b.prototype.getAbsoluteMode=function(){return this._confirmSegmented(),
this.absolute},b.prototype.getBoundingBox=function(){return this._confirmSegmented(),this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},b.prototype._getRealBBox=function(){if(this._confirmSegmented(),this.tbbox)return this.tbbox;var b=this.bbox,a=this._getRealMatrix();this.bbox=null;for(var e=this.segments.length,h=0;e>h;++h)this._updateWithSegment(this.segments[h],a);a=this.bbox;return this.bbox=b,this.tbbox=a?[{x:a.l,y:a.t},
{x:a.r,y:a.t},{x:a.r,y:a.b},{x:a.l,y:a.b}]:null,this.tbbox},b.prototype.getLastPosition=function(){return this._confirmSegmented(),"x"in this.last?this.last:null},b.prototype._applyTransform=function(){return this.tbbox=null,l.prototype._applyTransform.call(this),this},b.prototype._updateBBox=function(b,a,h){h&&(a=e.multiplyPoint(h,b,a),b=a.x,a=a.y);this.bbox&&"l"in this.bbox?(this.bbox.l>b&&(this.bbox.l=b),this.bbox.r<b&&(this.bbox.r=b),this.bbox.t>a&&(this.bbox.t=a),this.bbox.b<a&&(this.bbox.b=
a)):this.bbox={l:b,b:a,r:b,t:a}},b.prototype._updateWithSegment=function(b,a){var e,g=b.args,l=g.length;switch(b.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(e=0;l>e;e+=2)this._updateBBox(g[e],g[e+1],a);this.last.x=g[l-2];this.last.y=g[l-1];this.absolute=!0;break;case "H":for(e=0;l>e;++e)this._updateBBox(g[e],this.last.y,a);this.last.x=g[l-1];this.absolute=!0;break;case "V":for(e=0;l>e;++e)this._updateBBox(this.last.x,g[e],a);this.last.y=g[l-1];this.absolute=!0;break;case "m":e=
0;"x"in this.last||(this._updateBBox(this.last.x=g[0],this.last.y=g[1],a),e=2);for(;l>e;e+=2)this._updateBBox(this.last.x+=g[e],this.last.y+=g[e+1],a);this.absolute=!1;break;case "l":case "t":for(e=0;l>e;e+=2)this._updateBBox(this.last.x+=g[e],this.last.y+=g[e+1],a);this.absolute=!1;break;case "h":for(e=0;l>e;++e)this._updateBBox(this.last.x+=g[e],this.last.y,a);this.absolute=!1;break;case "v":for(e=0;l>e;++e)this._updateBBox(this.last.x,this.last.y+=g[e],a);this.absolute=!1;break;case "c":for(e=
0;l>e;e+=6)this._updateBBox(this.last.x+g[e],this.last.y+g[e+1],a),this._updateBBox(this.last.x+g[e+2],this.last.y+g[e+3],a),this._updateBBox(this.last.x+=g[e+4],this.last.y+=g[e+5],a);this.absolute=!1;break;case "s":case "q":for(e=0;l>e;e+=4)this._updateBBox(this.last.x+g[e],this.last.y+g[e+1],a),this._updateBBox(this.last.x+=g[e+2],this.last.y+=g[e+3],a);this.absolute=!1;break;case "A":for(e=0;l>e;e+=7)this._updateBBox(g[e+5],g[e+6],a);this.last.x=g[l-2];this.last.y=g[l-1];this.absolute=!0;break;
case "a":for(e=0;l>e;e+=7)this._updateBBox(this.last.x+=g[e+5],this.last.y+=g[e+6],a);this.absolute=!1}b=[b.action];for(e=0;l>e;++e)b.push(h.formatNumber(g[e],!0));if("string"==typeof this.shape.path)this.shape.path+=b.join("");else for(e=0,l=b.length;l>e;++e)this.shape.path.push(b[e]);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},b.prototype._pushSegment=function(b,a){this.tbbox=null;var e,g=this._validSegments[b.toLowerCase()];"number"==typeof g&&(g?a.length>=
g&&(e={action:b,args:a.slice(0,a.length-a.length%g)},this.segments.push(e),this._updateWithSegment(e)):(e={action:b,args:[]},this.segments.push(e),this._updateWithSegment(e)))},b.prototype._collectArgs=function(b,a){for(var e=0;e<a.length;++e){var g=a[e];"boolean"==typeof g?b.push(g?1:0):"number"==typeof g?b.push(g):g instanceof Array?this._collectArgs(b,g):"x"in g&&"y"in g&&b.push(g.x,g.y)}},b.prototype._confirmSegmented=function(){if(!this.segmented){var b=this.shape.path;this.shape.path=[];this._setPath(b);
this.shape.path=this.shape.path.join("");this.segmented=!0}},b.prototype._setPath=function(b){b=m.isArray(b)?b:b.match(h.pathSvgRegExp);if(this.segments=[],this.absolute=!0,this.bbox={},this.last={},b){for(var a="",e=[],g=b.length,l=0;g>l;++l){var q=b[l],p=parseFloat(q);isNaN(p)?(a&&this._pushSegment(a,e),e=[],a=q):e.push(p)}this._pushSegment(a,e)}},b.prototype.setShape=function(b){return l.prototype.setShape.call(this,"string"==typeof b?{path:b}:b),this.segmented=!1,this.segments=[],this.shape.path?
this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d"),this},b.nodeType="path",b}(q["default"]);p["default"]=y})},"esri/views/2d/libs/gfx/Image":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojox/gfx/_base ./Shape ./svg".split(" "),function(y,p,u,m,h,e){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function l(b){var e=h.call(this)||this;return e.shape=m.getDefault("Image"),e.rawNode=b,e}return u(l,h),l.prototype.setShape=function(b){this.shape=
m.makeParameters(this.shape,b);this.bbox=null;b=this.rawNode;for(var g in this.shape)if("type"!==g&&"src"!==g){var a=this.shape[g];"width"!==g&&"height"!==g||(a=0>a?0:a);b.setAttribute(g,a)}return b.setAttribute("preserveAspectRatio","none"),e._setAttributeNS(b,e.xmlns.xlink,"xlink:href",this.shape.src),b.__gfxObject__=this,this},l.prototype.getBoundingBox=function(){return this.shape},l.prototype.setStroke=function(){return this},l.prototype.setFill=function(){return this},l.nodeType="image",l}(h["default"]);
p["default"]=y})},"esri/views/2d/libs/gfx/Rect":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","dojox/gfx/_base","./Shape"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});y=function(e){function h(h){var b=e.call(this)||this;return b.shape=m.getDefault("Rect"),b.rawNode=h,b}return u(h,e),h.prototype.getBoundingBox=function(){return this.shape},h.prototype.setShape=function(e){this.shape=m.makeParameters(this.shape,e);this.bbox=null;for(var b in this.shape)"type"!==
b&&"r"!==b&&(e=this.shape[b],"width"!==b&&"height"!==b||(e=0>e?0:e),this.rawNode.setAttribute(b,e));return null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r)),this},h.nodeType="rect",h}(h["default"]);p["default"]=y})},"esri/views/2d/libs/gfx/Text":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojo/has dojox/gfx/_base ./Shape ./svg".split(" "),function(y,p,u,m,h,e,q){Object.defineProperty(p,"__esModule",{value:!0});
y=m("android");var l=m("chrome")||y&&4<=y?"auto":"optimizeLegibility";m=function(b){function e(a){var e=b.call(this)||this;return e.fontStyle=null,e.shape=h.getDefault("Text"),e.rawNode=a,e}return u(e,b),e.prototype.getFont=function(){return this.fontStyle},e.prototype.setFont=function(a){return this.fontStyle="string"==typeof a?h.splitFontString(a):h.makeParameters(h.defaultFont,a),this._setFont(),this},e.prototype._setFont=function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);
this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)},e.prototype.setShape=function(a){this.shape=h.makeParameters(this.shape,a);this.bbox=null;a=this.rawNode;var b=this.shape;return a.setAttribute("x",b.x),a.setAttribute("y",b.y),a.setAttribute("text-anchor",b.align),a.setAttribute("text-decoration",b.decoration),a.setAttribute("rotate",b.rotated?90:0),a.setAttribute("kerning",b.kerning?"auto":0),a.setAttribute("text-rendering",
l),a.firstChild?a.firstChild.nodeValue=b.text:a.appendChild(q._createTextNode(b.text)),this},e.prototype.getTextWidth=function(){var a=this.rawNode,b=a.parentNode,a=a.cloneNode(!0);a.style.visibility="hidden";var e=0,g=a.firstChild.nodeValue;if(b.appendChild(a),""!==g)for(;!e;)e=a.getBBox?parseInt(a.getBBox().width,10):68;return b.removeChild(a),e},e.prototype.getBoundingBox=function(){var a=null;if(this.getShape().text)try{a=this.rawNode.getBBox()}catch(r){a={x:0,y:0,width:0,height:0}}return a},
e.nodeType="text",e}(e["default"]);p["default"]=m})},"esri/views/2d/engine/graphics/Projector":function(){define(["require","exports"],function(y,p){function u(m,l,b,g,a){void 0===g&&(g=0);void 0===a&&(a=m.length);for(var r,q=m[g],p=m[a-1],x=0,y=0,E=g+1;a-1>E;E++){var B=m[E];r=B[0];var B=B[1],J=q[0],K=q[1],z=p[0],M=p[1];J===z?r=h(r-J):(z=(M-K)/(z-J),r=h(z*r-B+(K-z*J))/e(z*z+1));r>x&&(y=E,x=r)}x>l?(u(m,l,b,g,y+1),u(m,l,b,y,a)):(b(q[0],q[1]),b(p[0],p[1]))}var m=Math.round,h=Math.abs,e=Math.sqrt;return function(){function e(){this._transform=
null}return e.prototype.update=function(e,b){this._transform=e;this._resolution=b},e.prototype.toScreenPoint=function(e,b,g){return this.transformPoint(b.x+g*this._resolution,b.y,function(a,b){e.x=a;e.y=b}),e},e.prototype.toScreenPath=function(e,b){var g=this,a=null!=e.paths;e=a?e.paths:e.rings;var h="",l=function(a,e){a+=b*g._resolution;g.transformPoint(a,e,function(a,b){isNaN(a)||isNaN(b)||(h+=a,h+=",",h+=b,h+=" ")})};if(e)for(var m=e.length,q=0;m>q;q++)h+="M ",u(e[q],this._resolution,l),a||(h+=
"Z ");return h},e.prototype.transformPoint=function(e,b,g){var a=this._transform,h=a[1],l=a[3],q=a[5];g(m(a[0]*e+a[2]*b+a[4]),m(h*e+l*b+q))},e}()})},"esri/views/2d/engine/cssUtils":function(){define(["require","exports","dojo/has"],function(y,p,u){function m(b){return"matrix3d(\n                    "+b[0].toFixed(10)+", "+b[1].toFixed(10)+", 0, 0,\n                    "+b[2].toFixed(10)+", "+b[3].toFixed(10)+", 0, 0,\n                    0, 0, 1, 0,\n                    "+Math.round(b[4]).toFixed(10)+
", "+Math.round(b[5]).toFixed(10)+", 0, 1\n                  )"}function h(b){return"translate("+Math.round(b[0])+"px, "+Math.round(b[1])+"px)"}function e(b){return"rotateZ( "+b+" deg)"}Object.defineProperty(p,"__esModule",{value:!0});y=u("ff");var q=u("ie"),l=u("webkit");u=u("opera");var b=l&&"-webkit-transform"||y&&"-moz-transform"||u&&"-o-transform"||q&&"-ms-transform"||"transform";p.clip=function(b,a){a?b.clip="rect( "+a.top+"px, "+a.right+"px, "+a.bottom+"px, "+a.left+"px)":b.clip=""};p.setTransform=
function(e,a){var g=null;2===a.length&&(g=h(a));6===a.length&&(g=m(a));e.transform=e[b]=g};p.setOrigin=function(b,a){b.transformOrigin=a[0]+"px "+a[1]+"px 0"};p.cssMatrix=function(b){return"matrix(\n                  "+b[0].toFixed(10)+", "+b[1].toFixed(10)+",\n                  "+b[2].toFixed(10)+", "+b[3].toFixed(10)+",\n                  "+b[4]+", "+b[5]+"\n                )"};p.cssMatrix3d=m;p.translate=h;p.rotate=function(b){return e(b.toFixed(3))};p.rotateZ=e})},"esri/views/2d/engine/graphics/GFXGroup":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","dojo/_base/lang","../Container"],function(y,p,u,m,h){return function(e){function h(){return null!==e&&e.apply(this,arguments)||this}return u(h,e),h.prototype.attach=function(h){return this.g=h.surface.createGroup(),e.prototype.attach.call(this,h)},h.prototype.detach=function(h){e.prototype.detach.call(this,h);this.g.destroy();this.g=null},h.prototype.prepareChildrenRenderParameters=function(e){return m.mixin({},e,{surface:this.g})},h.prototype.detachChild=
function(e,b){return e.detach(b)},h.prototype.attachChild=function(e,b){return e.attach(b)},h.prototype.renderChild=function(e,b){return e.processRender(b)},h}(h)})},"esri/views/2d/engine/graphics/GFXObject":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../geometry ../../../../geometry/support/webMercatorUtils ../../../../geometry/support/spatialReferenceUtils ../DisplayObject ./gfxUtils".split(" "),function(y,p,u,m,h,e,q,l){var b=new Set,g=[];return function(a){function r(){var b=
null!==a&&a.apply(this,arguments)||this;return b._prevStateId=null,b.visible=!0,b}return u(r,a),Object.defineProperty(r.prototype,"graphic",{get:function(){return this._graphic},set:function(a){this._geometry=(this._graphic=a)&&a.geometry||null;this._projected=null;this.requestRender()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPolygonMarkerSymbol",{get:function(){var a=
this.renderingInfo.symbol.type,b=this.geometry;return b&&"polygon"===b.type&&("simple-marker"===a||"picture-marker"===a||"text"===a)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderingInfo",{get:function(){return this._renderingInfo},set:function(a){this._renderingInfo=a;this.requestRender()},enumerable:!0,configurable:!0}),r.prototype.detach=function(){this._removeShape();this._drawInfo=this._projected=null},r.prototype.doRender=function(a){var b=a.surface,e=a.state,g=a.projector,
h=this._prevStateId!==e.id;if(this.renderRequested||h){h&&a.stationary&&(this._prevStateId=e.id);h=this.visible&&this._projectGeometry(this.geometry,a.state.spatialReference);a=this._getScreenOffsets([],a.state);if(l.isShapeInvalid(this.renderingInfo.symbol,this._shape)&&this._removeShape(),!a.length)return void this._removeShape();var m=this._shape,r=h.type;(!m||this._showRedraw(a,e))&&("point"===r?(m=l.drawPoint(g,b,h,m,this.renderingInfo,e.rotation,a),l.stylePoint(m,this.renderingInfo)):"multipoint"===
r?(m=l.drawMarkers(g,b,h,m,this.renderingInfo,e.rotation,a),l.styleMarkers(m,this.renderingInfo)):(m=l.drawShape(g,b,h,m,a),l.styleShape(m,this.renderingInfo)),this._shape=m,m.getNode().gfxObject=this)}},r.prototype._getScreenOffsets=function(a,h){var l=h.clippedExtent,m=this._projected.outExtent,r=h.spatialReference;if(a.length=0,!m)return a;if(r.isWrappable){var r=e.getInfo(r),q=m.cache._partwise,l=l._getParts(r);if(g.length=0,q&&q.length)for(m=0;m<q.length;m++)g.push.apply(g,q[m]._getParts(r));
else g.push.apply(g,m._getParts(r));h=h.worldScreenWidth;a.length=0;b.clear();m=g.length;for(r=0;m>r;r++)for(var p=g[r],q=p.extent,p=p.frameIds,v=p.length,u=l.length,w=0;u>w;w++){var y=l[w];if(y.extent.intersects(q))for(var Q=v,O=0;Q>O;O++){var Y=(y.frameIds[0]-p[O])*h;b.has(Y)||(a.push(Y),b.add(Y))}}a.sort()}else l.intersects(m)&&a.push(0);return a},r.prototype._projectGeometry=function(a,b){var e=this._projected;a=this.isPolygonMarkerSymbol?a.centroid:a;return e&&e.inGeometry===a&&e.outSpatialReference===
b?e.outGeometry:a&&a.spatialReference.equals(b)?(this._projected={inGeometry:a,outGeometry:a,outSpatialReference:b,outExtent:this._getExtent(a)},this._projected.outGeometry):h.canProject(a,b)?(this._projected={inGeometry:a,outGeometry:h.project(a,b),outSpatialReference:b,outExtent:this._getExtent(a)},this._projected.outGeometry):(this._projected={inGeometry:a,outGeometry:null,outSpatialReference:b,outExtent:null},this._projected.outGeometry)},r.prototype._getExtent=function(a){var b=a.extent;if(!b){var e=
b=void 0;"esri.geometry.Point"===a.declaredClass?(b=a.x,e=a.y):"esri.geometry.Multipoint"===a.declaredClass&&(b=a.points[0][0],e=a.points[0][1]);b=new m.Extent(b,e,b,e,a.spatialReference)}return b},r.prototype._removeShape=function(){var a=this._shape;a&&(a.removeShape(),a.getNode().gfxObject=null,a.destroy());this._shape=this._drawInfo=null},r.prototype._showRedraw=function(a,b){return!0},r}(q)})},"esri/views/2d/engine/graphics/gfxUtils":function(){define("require exports dojo/_base/lang ../../libs/gl-matrix/mat2d ../../libs/gl-matrix/mat2dExtras ../../../../core/screenUtils ../../../../geometry/Polygon ../../../../symbols/SimpleMarkerSymbol ../../../../symbols/support/gfxUtils ../../../../Color".split(" "),
function(y,p,u,m,h,e,q,l,b,g){function a(a,b){return b.toRgba?(a[0]=b.r,a[1]=b.g,a[2]=b.b,a[3]=b.a):(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]),a}function r(a,b,e){return null!=e&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=e),a}function v(a,b,e){var g=b[0]/b[1];return a[0]=a[1]=1,isNaN(e)||(1<g?(a[0]=e/b[0],a[1]=e/g/b[1]):(a[1]=e/b[1],a[0]=e*g/b[0])),a}function w(a,g,r,q,p,u,w){var z,n,y=p.symbol;r=a.toScreenPoint(M,r,w[0]);w=[r.x,r.y];a=r.x;r=r.y;var C=p.heading,d=p.size&&p.size[0];m.identity(I);"number"==
typeof d&&(n=isFinite(d)&&d);n=(d=n&&isFinite(n)&&!isNaN(n))?e.pt2px(n):NaN;u&&h.rotategAt(I,I,u,w);C&&h.rotategAt(I,I,C,w);var c;u=e.pt2px(y.xoffset);C=e.pt2px(y.yoffset);0===u&&0===C||(c=[u,-C]);u=null;0!==y.angle&&(u=m.create(),h.rotategAt(u,u,y.angle,w));var f;if("simple-marker"===y.type)switch(z=y.style,p=Math.round,n=d?n:e.pt2px(y.size),d=void 0,z){case l.STYLE_SQUARE:case l.STYLE_CROSS:case l.STYLE_X:case l.STYLE_DIAMOND:d=isNaN(n)?16:.5*n;z=E(g,q,K(z,a,r,p(a-d),p(a+d),p(r-d),p(r+d)));break;
case l.STYLE_PATH:z=f=E(g,q,y.path);f=f.getBoundingBox();n=v(m.create(),[f.width,f.height],n);1===n[0]&&1===n[3]||h.scaleAt(I,I,n,w);f=[-(f.x+.5*f.width)+a,-(f.y+.5*f.height)+r];break;default:d=isNaN(n)?16:.5*n,z=D(g,q,{cx:a,cy:r,r:d})}else if("picture-marker"===y.type){w=z=null;var C=e.pt2px(y.width),k=e.pt2px(y.height);d?(w=n,z=C/k*w):(z=C,w=k);c&&(null!=c[0]&&(c[0]=c[0]/C*z),null!=c[1]&&(c[1]=c[1]/k*w));z=x(g,q,{x:a-.5*z,y:r-.5*w,width:z,height:w,src:y.url});(n=z.getNode())&&(null!=p.opacity?n.setAttribute("opacity",
p.opacity.toString()):n.setAttribute("opacity","1"))}else"text"===y.type&&((p=y.font&&y.font.clone())&&(p.size=d?n:e.pt2px(p.size)),z=B(g,q,{type:"text",text:y.text,x:a,y:r,align:b.getSVGAlign(y),decoration:y.decoration||p&&p.decoration,rotated:y.rotated,kerning:y.kerning}),p&&z.setFont(p),n=z.getNode(),g=b.getSVGBaseline(y),y=b.getSVGBaselineShift(y),n&&(n.setAttribute("dominant-baseline",g),y&&n.setAttribute("baseline-shift",y)));return c&&m.translate(I,I,c),u&&m.multiply(I,I,u),f&&m.translate(I,
I,f),z.setTransform(I),z}function x(a,b,e){return b?b.setShape(e):a.createImage(e)}function D(a,b,e){return b?b.setShape(e):a.createCircle(e)}function E(a,b,e){e=Array.isArray(e)?e.join(" "):e;return b?b.setShape(e):a.createPath(e)}function B(a,b,e){return b?b.setShape(e):a.createText(e)}function J(a,b){b=b&&b.shape&&b.shape.type;var e=a&&a.type;a=a&&a.style;return e&&(a=Q[e]||a),O[a]&&(a="path"),!(!b||!a||b===a)}function K(a,b,e,g,h,m,r,q){switch(a){case l.STYLE_SQUARE:return["M",g+","+m,h+","+m,
h+","+r,g+","+r,"Z"];case l.STYLE_CROSS:return["M",b+","+m,b+","+r,"M",g+","+e,h+","+e];case l.STYLE_X:return["M",g+","+m,h+","+r,"M",g+","+r,h+","+m];case l.STYLE_DIAMOND:return["M",b+","+m,h+","+e,b+","+r,g+","+e,"Z"];case l.STYLE_TARGET:return["M",g+","+m,h+","+m,h+","+r,g+","+r,g+","+m,"M",g-q+","+e,g+","+e,"M",b+","+(m-q),b+","+m,"M",h+q+","+e,h+","+e,"M",b+","+(r+q),b+","+r]}}function z(e,g){var h=g.symbol;if("picture-marker"!==h.type){var m=b.getFill(h);if("simple-marker"===h.type){var q=h.style,
p=(h=b.getStroke(h))&&h.color,q=q===l.STYLE_X||q===l.STYLE_CROSS,v=g.opacity;(g=g.color||a([0,0,0,0],q?p:m))&&null!=v&&(g=r([0,0,0,0],g,v));g&&(q?g!==p&&(h=h?u.mixin({},h):{},h.color=g):g!==m&&(m=g));e.setFill(m).setStroke(h)}else"text"===h.type&&(v=g.opacity,(g=g.color||a([0,0,0,0],m))&&null!=v&&(g=r([0,0,0,0],g,v)),g&&g!==m&&(m=g),e.setFill(m))}}Object.defineProperty(p,"__esModule",{value:!0});p.getScalingVector=v;var M={x:0,y:0},I=m.create();p.drawPoint=w;p.drawMarkers=function(a,b,e,g,h,l,m){var r=
h.symbol;e=e.points;b=g||b.createGroup();g=[0];b.children[0]&&J(r,b.children[0])&&b.clear();for(var n=0,q=e.length,r=0;q>r;r++)for(var p=e[r],d=m.length,c=0;d>c;c++)g[0]=m[c],b.add(w(a,b,{x:p[0],y:p[1]},b.children[n++],h,l,g));a=b.children.length;if(e.length*m.length<a)for(m=e.length*m.length,r=a-1;r>=m;r--)b.children[r].removeShape();return b};p.drawShape=function(a,b,e,g,h){var l=[];if("extent"===e.type&&(e=q.fromExtent(e)),"polyline"===e.type||"polygon"===e.type){for(var m=h.length,r=0;m>r;r++)l=
l.concat(a.toScreenPath(e,h[r]));g=E(b,g,l)}return g};p.drawRect=function(a,b,e){return b?b.setShape(e):a.createRect(e)};p.drawImage=x;p.drawCircle=D;p.drawPath=E;p.drawText=B;var Q={"picture-marker":"image","picture-fill":"path","simple-fill":"path","simple-line":"path",text:"text"},O={square:1,cross:1,x:1,diamond:1,target:1};p.isShapeInvalid=J;p.smsToPath=K;p.stylePoint=z;p.styleMarkers=function(a,b){for(var e=a.children.length,g=0;e>g;g++)z(a.children[g],b)};p.styleShape=function(h,l){var m,q=
l.symbol,p=l.size,v=l.color,w=l.opacity,x=l.outlineSize;l=b.getStroke(q);var n=b.getFill(q),z=!1;"simple-line"===q.type?(z=!0,m="none"!==q.style):m=q.outline&&"none"!==q.outline.style;var B,d,c;if(null!=p||null!=x)p=p&&isFinite(p[0])&&p[0],x=z?null:x,null==p&&null==x||(c=e.pt2px(x||p));p="picture-fill"===q.type;!v&&null==w||p||(z?(B=v||l&&l.color&&a([0,0,0,0],l.color),B&&null!=w&&(B=r(B,B,w))):n&&(d=v||a([0,0,0,0],n),d&&null!=w&&(d=r(d,d,w))));!m||null==c&&!B?h.setStroke(l):h.setStroke(u.mixin({},
l,null!=c?{width:c}:null,B&&{color:B}));m=v&&new g(v)||q.color;n&&"pattern"===n.type&&m&&!p?b.getPatternUrlWithColor(n.src,m.toCss(!0)).then(function(a){n.src=a;h.setFill(n)}):h.setFill(d||n);h.rawNode.setAttribute("vector-effect","non-scaling-stroke")}})},"esri/views/2d/libs/gl-matrix/mat2dExtras":function(){define(["require","exports","./mat2d","./vec2","./common"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});var e=function(){var e=u.create(),h=m.create();return function(b,
g,a){return u.fromTranslation(e,a),u.multiply(b,e,g),m.negate(h,a),u.translate(b,b,h),b}}();p.rotategAt=function(){var m=u.create();return function(l,b,g,a){return u.fromRotation(m,h.toRadian(g)),e(m,m,a),u.multiply(l,m,b),l}}();p.scaleAt=function(){var h=u.create();return function(l,b,g,a){return u.fromScaling(h,g),e(h,h,a),u.multiply(l,h,b),l}}()})},"esri/symbols/support/gfxUtils":function(){define("require exports dojo/_base/lang dojox/gfx/_base ../../Color ../../core/screenUtils ../../request ../../core/promiseUtils ../../core/LRUMap".split(" "),
function(y,p,u,m,h,e,q,l,b){function g(b){if(!b)return null;var h,l=b.constructor,m=e.pt2px(b.width);switch(b.type){case r:case a:case w:h=g(b.outline);break;case v:b.style!==l.STYLE_NULL&&0!==m&&(h={color:b.color,style:J(b.style),width:m,cap:b.cap,join:b.join===l.JOIN_MITER?e.pt2px(b.miterLimit):b.join});break;default:h=null}return h}Object.defineProperty(p,"__esModule",{value:!0});var a="picture-fill",r="simple-fill",v="simple-line",w="simple-marker",x=y.toUrl("../../symbols/patterns/"),D={left:"start",
center:"middle",right:"end",justify:"start"},E={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},B=new b(1E3);p.getSVGAlign=function(a){return a=(a=a.horizontalAlignment)&&D[a.toLowerCase()]||"middle"};p.getSVGBaseline=function(a){return(a=a.verticalAlignment)&&E[a.toLowerCase()]||"alphabetic"};p.getSVGBaselineShift=function(a){return"bottom"===a.verticalAlignment?"super":null};p.getFill=function(b){var g=b.style,h=null;if(b){var l=b.constructor;switch(b.type){case w:g!==
l.STYLE_CROSS&&g!==l.STYLE_X&&(h=b.color);break;case r:g===l.STYLE_SOLID?h=b.color:g!==l.STYLE_NULL&&(h=u.mixin({},m.defaultPattern,{src:x+g+".png",width:8,height:8}));break;case a:h=u.mixin({},m.defaultPattern,{src:b.url,width:e.pt2px(b.width)*b.xscale,height:e.pt2px(b.height)*b.yscale,x:e.pt2px(b.xoffset),y:e.pt2px(b.yoffset)});break;case "text":h=b.color}}return h};p.getPatternUrlWithColor=function(a,b){var e=a+"-"+b;return B.has(e)?l.resolve(B.get(e)):q(a,{responseType:"image",allowImageDataAccess:!0}).then(function(a){a=
a.data;var g=a.naturalWidth,h=a.naturalHeight,l=document.createElement("canvas");l.width=g;l.height=h;var m=l.getContext("2d");m.fillStyle=b;m.fillRect(0,0,g,h);m.globalCompositeOperation="destination-in";m.drawImage(a,0,0);a=l.toDataURL();return B.set(e,a),a})};p.getStroke=g;var J=function(){var a={};return function(b){if(a[b])return a[b];var e=b.replace(/-/g,"");return a[b]=e,e}}();p.defaultThematicColor=new h([128,128,128])})},"esri/views/2d/input/MapViewInputManager":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/watchUtils ../../../core/Accessor ../../../core/HandleRegistry ../../../core/accessorSupport/decorators ../../input/InputManager ../../input/BrowserEventSource ../../input/ViewEvents ../../input/handlers/PreventContextMenu ../input/handlers/DoubleClickZoom ../input/handlers/DragPan ../input/handlers/DragRotate ../input/handlers/KeyPan ../input/handlers/KeyZoom ../input/handlers/KeyRotate ../input/handlers/MouseWheelZoom ../input/handlers/PinchAction".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J,K){var z={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},M={zoomIn:["\x3d","+"],zoomOut:["-","_"]},I={dragRotate:"Alt",clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"};return function(e){function p(){var a=null!==e&&e.apply(this,arguments)||this;return a._handles=new q,a}return u(p,e),p.prototype.initialize=function(){var b=this;this.viewEvents=new a.ViewEvents(this.view);
this._handles.add([h.whenNot(this.view,"ready",function(){return b._disconnect()}),h.when(this.view,"ready",function(){return b._connect()})])},p.prototype.destroy=function(){this._handles&&(this._handles.removeAll(),this._handles=null);this._disconnect();this.viewEvents.destroy();this.viewEvents=null},p.prototype._disconnect=function(){this._inputManager&&(this.viewEvents.disconnect(),this._source.destroy(),this._inputManager.destroy(),this._source=null,this._inputManager=null)},p.prototype._connect=
function(){var a=new g.BrowserEventSource(this.view.surface),e=new b.InputManager(a);e.installHandlers("prevent-context-menu",[new r.PreventContextMenu]);e.installHandlers("navigation",[new K.PinchRotateAndZoom(this.view),new J.MouseWheelZoom(this.view),new v.DoubleClickZoom(this.view),new w.DragPan(this.view,"primary"),new D.KeyPan(this.view,z),new E.KeyZoom(this.view,M),new B.KeyRotate(this.view,I),new x.DragRotate(this.view,"secondary"),new v.DoubleClickZoom(this.view,["Ctrl"]),new x.DragRotate(this.view,
"primary",[I.dragRotate])]);this.viewEvents.connect(e);this._source=a;this._inputManager=e},m([l.property()],p.prototype,"view",void 0),p=m([l.subclass("esri.views.2d.input.MapViewInputManager")],p)}(l.declared(e))})},"esri/views/input/InputManager":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../core/now dojo/has ./keys ./recognizers ../../core/Logger ./handlers/LatestPointerType".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r){Object.defineProperty(p,"__esModule",{value:!0});var v=a.getLogger("esri.views.input.InputManager");y=function(a){function e(e,g){e=a.call(this)||this;return e._pointerCaptures=new Map,e._nameToGroup={},e._handlers=[],e._currentPropagation=null,e._sourceEvents=new Set,e._keyModifiers=new Set,e._activeKeyModifiers=new Set,e.primaryKey=b.primaryKey,e.latestPointerType="mouse",e._installRecognizers(),e}return u(e,a),e.prototype.normalizeCtorArgs=function(a,b){return this._browserEvents=
a,this._browserEvents.onEventReceived=this._onEventReceived.bind(this),this._recognizers=b,this._recognizers||(this._recognizers=g.defaults.map(function(a){return new a})),{}},e.prototype.destroy=function(){for(var a=0,b=Object.keys(this._nameToGroup);a<b.length;a++)this.uninstallHandlers(b[a])},e.prototype.installHandlers=function(a,b){var e=this;if(this._nameToGroup[a])return void v.error("There is already an InputHandler group registered under the name `"+a+"`");if(0===b.length)return void v.error("Can't register a group of zero handlers");
var g={name:a,handlers:b.map(function(a,b){return{handler:a,active:!0,removed:!1,priorityIndex:0,eventCallback:null,uninstallCallback:null}})};this._nameToGroup[a]=g;a=function(a){var b=g.handlers[a];h._handlers.push(b);b.handler.onInstall({updateDependencies:function(){e.updateDependencies()},emit:function(a,g,h,l){e._emitInputEvent(b.priorityIndex,a,g,h,l)},setPointerCapture:function(a,h){e._setPointerCapture(g,b,a,h)},setEventCallback:function(a){b.eventCallback=a},setUninstallCallback:function(a){b.uninstallCallback=
a}})};var h=this;for(b=g.handlers.length-1;0<=b;b--)a(b);this.updateDependencies()},e.prototype.uninstallHandlers=function(a){var b=this._nameToGroup[a];return b?(b.handlers.forEach(function(a){a.removed=!0;a.uninstallCallback()}),delete this._nameToGroup[a],void(this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers())):void v.error("There is no InputHandler group registered under the name `"+a+"`")},e.prototype.hasHandlers=function(a){return void 0!==
this._nameToGroup[a]},e.prototype.updateDependencies=function(){var a=new Set,e=new Set;this._handlersPriority=[];for(var g=this._handlers.length-1;0<=g;g--){var h=this._handlers[g];h.priorityIndex=g;this._handlersPriority.push(h)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(g=this._handlersPriority.length-1;0<=g;g--){h=this._handlersPriority[g];h.priorityIndex=g;var l=h.handler.hasSideEffects;if(!l)for(var m=0,r=h.handler.outgoingEventTypes;m<r.length;m++)if(a.has(r[m])){l=
!0;break}if(l)for(m=0,r=h.handler.incomingEventMatches;m<r.length;m++){var q=r[m];a.add(q.eventType);for(var p=0,q=q.keyModifiers;p<q.length;p++){var v=q[p];b.isSystemModifier(v)||e.add(v)}}h.active=l}this._sourceEvents=a;this._keyModifiers=e;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this._browserEvents&&(this._browserEvents.activeEvents=this._sourceEvents)},e.prototype._setLatestPointerType=
function(a){this._set("latestPointerType",a)},e.prototype._onEventReceived=function(a,b){if("pointer-capture-lost"===a)this._pointerCaptures["delete"](b["native"].pointerId);this._updateKeyModifiers(a,b);this._emitInputEventFromSource(a,b,b["native"].timestamp)},e.prototype._updateKeyModifiers=function(a,b){var e=this;if(b){var g=!1,h=function(){if(!g){var a=new Set;e._activeKeyModifiers.forEach(function(b){a.add(b)});e._activeKeyModifiers=a;g=!0}},l=function(a,b){b&&!e._activeKeyModifiers.has(a)?
(h(),e._activeKeyModifiers.add(a)):!b&&e._activeKeyModifiers.has(a)&&(h(),e._activeKeyModifiers["delete"](a))};if("key-down"===a||"key-up"===a){var m=b.key;this._keyModifiers.has(m)&&l(m,"key-down"===a)}a=b["native"];l("Alt",!(!a||!a.altKey));l("Ctrl",!(!a||!a.ctrlKey));l("Shift",!(!a||!a.shiftKey));l("Meta",!(!a||!a.metaKey));l("Primary",this._activeKeyModifiers.has(this.primaryKey))}},e.prototype._installRecognizers=function(){var a=this;this._latestPointerTypeHandler=new r.LatestPointerType(function(b){return a._setLatestPointerType(b)});
0<this._recognizers.length&&this.installHandlers("default",this._recognizers);this.installHandlers("input-manager-logic",[this._latestPointerTypeHandler])},e.prototype.allowPointerCapture=function(a){return 2!==a.button?!0:!(l("mac")&&l("chrome"))},e.prototype._setPointerCapture=function(a,b,e,g){a=a.name+"-"+b.priorityIndex;b=this._pointerCaptures.get(e.pointerId)||new Set;this._pointerCaptures.set(e.pointerId,b);g&&this.allowPointerCapture(e)?(b.add(a),1===b.size&&this._browserEvents&&this._browserEvents.setPointerCapture(e,
!0)):!g&&b.has(a)&&(b["delete"](a),0===b.size&&(this._pointerCaptures["delete"](e.pointerId),this._browserEvents&&this._browserEvents.setPointerCapture(e,!1)))},e.prototype._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(function(a){return!a.removed});this.updateDependencies()},e.prototype._emitInputEventFromSource=function(a,b,e){this._emitInputEvent(0,a,b,e)},e.prototype._emitInputEvent=function(a,b,e,g,h){g=void 0!==g?g:this._currentPropagation?this._currentPropagation.timestamp:
q();b=new w(b,e,g,h||this._activeKeyModifiers);return this._currentPropagation?void this._currentPropagation.addedEvents.push(b):void this._doNewPropagation(a,b)},e.prototype._doNewPropagation=function(a,b){for(a=this._currentPropagation={events:[b],addedEvents:[],currentHandler:this._handlersPriority[a],needsHandlerGarbageCollect:!1,timestamp:b.timestamp};a.currentHandler;){if(a.currentHandler.removed)a.needsHandlerGarbageCollect=!0;else{b=a.events;var e=[];a.addedEvents=[];for(var g=0;g<b.length;g++){var h=
b[g];a.currentHandler.active&&a.currentHandler.eventCallback(h);h.shouldStopPropagation()||e.push(h)}a.events=e.concat(a.addedEvents)}a.currentHandler=this._handlersPriority[a.currentHandler.priorityIndex+1]}a.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this._currentPropagation=null},e.prototype._compareHandlerPriority=function(a,b){if(a.handler.hasSideEffects!==b.handler.hasSideEffects)return a.handler.hasSideEffects?1:-1;for(var e=0,g=a.handler.incomingEventMatches;e<g.length;e++)for(var h=
g[e],l=function(a){if(h.eventType!==a.eventType)return"continue";var b=h.keyModifiers.filter(function(b){return-1!==a.keyModifiers.indexOf(b)});return b.length===h.keyModifiers.length!==(b.length===a.keyModifiers.length)?{value:h.keyModifiers.length>a.keyModifiers.length?-1:1}:void 0},m=0,r=b.handler.incomingEventMatches;m<r.length;m++){var q=l(r[m]);if("object"==typeof q)return q.value}return a.priorityIndex>b.priorityIndex?-1:1},e.prototype._sortHandlersPriority=function(a){for(var b=[],e=0;e<a.length;e++){for(var g=
a[e],h=0;h<b.length&&0<=this._compareHandlerPriority(g,b[h]);)h++;b.splice(h,0,g)}return b},m([h.property({readOnly:!0})],e.prototype,"latestPointerType",void 0),e=m([h.subclass("esri.views.input.InputManager")],e)}(h.declared(e));p.InputManager=y;var w=function(){function a(a,b,e,g){this.type=a;this.data=b;this.timestamp=e;this.modifiers=g;this._stopPropagation=!1}return a.prototype.stopPropagation=function(){this._stopPropagation=!0},a.prototype.shouldStopPropagation=function(){return this._stopPropagation},
a}()})},"esri/views/input/keys":function(){define(["require","exports","../../core/sniff"],function(y,p,u){Object.defineProperty(p,"__esModule",{value:!0});p.primaryKey=u("mac")?"Meta":"Ctrl";var m={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(y=48;58>y;y++)m[y]=String.fromCharCode(y);for(y=1;25>y;y++)m[111+y]="F"+y;for(y=65;91>y;y++)m[y]=[String.fromCharCode(y+32),
String.fromCharCode(y)];var h={Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"};p.eventKey=function(e){if(void 0!==e.key)return h[e.key]||e.key;var q=m[e.keyCode];return Array.isArray(q)?e.shiftKey?q[1]:q[0]:q};p.isSystemModifier=function(e){switch(e){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}}})},"esri/views/input/recognizers":function(){define("require exports ./recognizers/Drag ./recognizers/PointerClickHoldAndDrag ./recognizers/SingleAndDoubleClick ./recognizers/VerticalTwoFingerDrag".split(" "),
function(y,p,u,m,h,e){Object.defineProperty(p,"__esModule",{value:!0});p.defaults=[m.PointerClickHoldAndDrag,h.SingleAndDoubleClick,u.Drag,e.VerticalTwoFingerDrag]})},"esri/views/input/recognizers/Drag":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler","./support"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});y=function(e){function m(){var h=e.call(this,!1)||this;return h._startStateModifiers=new Set,h._activePointers=[],h._activePointerMap=
new Map,h._isDragging=!1,h._drag=h.registerOutgoing("drag"),h.registerIncoming("pointer-drag",h._handlePointerDrag.bind(h)),h.registerIncoming("pointer-down",h._handlePointerDown.bind(h)),h.registerIncoming("pointer-up",h._handlePointerUpAndPointerLost.bind(h)),h.registerIncoming("pointer-capture-lost",h._handlePointerUpAndPointerLost.bind(h)),h}return u(m,e),m.prototype._createPayload=function(e,b){return{action:e,pointers:this._activePointers.map(function(b){return b.data}),startState:this._startState,
previousState:this._previousState,currentState:b}},m.prototype._fitCircleLSQ=function(){var e=this._activePointers.map(function(b){return b.data.currentEvent});return h.fitCircleLSQ(e)},m.prototype._createDragState=function(e){for(var b=this._fitCircleLSQ(),g=0,a=0,h=this._activePointers;a<h.length;a++){for(var l=h[a],m=this._pointerAngle(l,b),m=m-l.lastAngle;m>Math.PI;)m-=2*Math.PI;for(;m<-Math.PI;)m+=2*Math.PI;m=l.lastAngle+m;l.lastAngle=m;g+=m-l.initialAngle}return g/=this._activePointers.length,
{angle:g,radius:b.radius,center:b.center,timestamp:e}},m.prototype._updateMultiPointer=function(e,b){var g=e.startEvent["native"].pointerId,a=this._activePointerMap.get(g),h=!a;h?(a={data:null,initialAngle:0,lastAngle:0},this._activePointers.push(a),this._activePointerMap.set(g,a),a.data={startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:e.currentEvent},e=this._fitCircleLSQ(),a.initialAngle=this._pointerAngle(a,e),a.lastAngle=a.initialAngle):a.data={startEvent:a.data.startEvent,previousEvent:e.previousEvent,
currentEvent:e.currentEvent};return h&&this._isDragging&&this._updateInitialAngles(b),a},m.prototype._pointerAngle=function(e,b){e=e.data.currentEvent;return Math.atan2(e.y-b.center.y,e.x-b.center.x)},m.prototype._updateInitialAngles=function(e){e=this._createDragState(e);for(var b=0,g=this._activePointers;b<g.length;b++){var a=g[b];a.initialAngle=this._pointerAngle(a,e)}},m.prototype._emitStart=function(e){this._updateInitialAngles(e.timestamp);var b=this._createDragState(e.timestamp);this._previousState=
this._startState=b;this._startStateModifiers=e.modifiers;this._isDragging=!0;for(var g=0,a=this._activePointers;g<a.length;g++){var h=a[g];h.data={previousEvent:h.data.currentEvent,startEvent:h.data.currentEvent,currentEvent:h.data.currentEvent}}this._drag.emit(this._createPayload("start",b),e.timestamp)},m.prototype._emitUpdate=function(e){e=this._createDragState(e.timestamp);this._drag.emit(this._createPayload("update",e),void 0,this._startStateModifiers);this._previousState=e},m.prototype._emitEnd=
function(e){e=this._createDragState(e);this._drag.emit(this._createPayload("end",e),void 0,this._startStateModifiers);this._startState=this._previousState=null;this._isDragging=!1},m.prototype._handlePointerDown=function(e){var b=e.data;this._isDragging&&this._emitEnd(e.timestamp);this._updateMultiPointer({startEvent:b,previousEvent:b,currentEvent:b},e.timestamp)},m.prototype._removeMultiPointer=function(e,b){var g=this,a=e["native"].pointerId,h=this._activePointerMap.get(a);if(h){var l=function(){g._activePointerMap["delete"](a);
var e=g._activePointers.indexOf(h);g._activePointers.splice(e,1);g._isDragging&&g._updateInitialAngles(b)};this._isDragging?(this._updateMultiPointer({startEvent:h.data.startEvent,previousEvent:h.data.currentEvent,currentEvent:e},b),this._emitEnd(b),l()):l()}},m.prototype._handlePointerUpAndPointerLost=function(e){this._removeMultiPointer(e.data,e.timestamp)},m.prototype._handlePointerDrag=function(e){var b=e.data;switch(b.action){case "start":this._isDragging||this._emitStart(e);break;case "update":this._isDragging||
this._emitStart(e),this._updateMultiPointer(b,e.timestamp),this._emitUpdate(e)}},m}(m.InputHandler);p.Drag=y})},"esri/views/input/InputHandler":function(){define(["require","exports","./EventMatch","../../core/Logger"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});var h=m.getLogger("esri.views.input.InputHandler");y=function(){function l(b){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;
this._hasSideEffects=b}return Object.defineProperty(l.prototype,"incomingEventMatches",{get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(var b in this._incoming)for(var e=0,a=this._incoming[b];e<a.length;e++)this._incomingEventMatches.push(a[e].match)}return this._incomingEventMatches},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"incomingEventTypes",{get:function(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(function(b){return b.eventType})),
this._incomingEventTypes},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"outgoingEventTypes",{get:function(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"hasSideEffects",{get:function(){return this._hasSideEffects},enumerable:!0,configurable:!0}),l.prototype.onInstall=function(b){var e=this;return this._manager?void h.error("This InputHandler has already been registered with an InputManager"):
(b.setEventCallback(function(a){return e._handleEvent(a)}),b.setUninstallCallback(function(){return e._onUninstall()}),void(this._manager=b))},l.prototype.onUninstall=function(){},l.prototype.registerIncoming=function(b,g,a){var h,l=this;"function"==typeof g?(a=g,h=[]):h=g||[];b="string"==typeof b?new u.EventMatch(b,h):b;var m=function(){l._incomingEventTypes=null;l._incomingEventMatches=null};g=function(a){var b=l._incoming[a.match.eventType];b&&(a=b.indexOf(a),b.splice(a,1),m(),l._manager&&l._manager.updateDependencies())};
a=new e(b,a,{onPause:g,onRemove:g,onResume:function(a){var b=l._incoming[a.match.eventType];b&&-1===b.indexOf(a)&&(b.push(a),m(),l._manager&&l._manager.updateDependencies())}});g=this._incoming[b.eventType];return g||(g=[],this._incoming[b.eventType]=g),g.push(a),m(),this._manager&&this._manager.updateDependencies(),a},l.prototype.registerOutgoing=function(b){var e=this;if(this._outgoing[b])throw Error("There is already a callback registered for this outgoing InputEvent: "+b);var a=new q(b,{onEmit:function(a,
b,g,h){e._manager.emit(a.eventType,b,g,h)},onRemove:function(a){delete e._outgoing[a.eventType];e._manager.updateDependencies()}});return this._outgoing[b]=a,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),a},l.prototype.startCapturingPointer=function(b){this._manager.setPointerCapture(b,!0)},l.prototype.stopCapturingPointer=function(b){this._manager.setPointerCapture(b,!1)},l.prototype._onUninstall=function(){return this._manager?(this.onUninstall(),void(this._manager=
null)):void h.error("This InputHandler is not registered with an InputManager")},l.prototype._handleEvent=function(b){var e=this._incoming[b.type];if(e)for(var a=0;a<e.length;a++){var h=e[a];if(h.match.matches(b)&&(h.callback(b),b.shouldStopPropagation()))break}},l}();p.InputHandler=y;var e=function(){function e(b,e,a){this.match=b;this._callback=e;this._handler=a}return e.prototype.pause=function(){this._handler.onPause(this)},e.prototype.resume=function(){this._handler.onResume(this)},e.prototype.remove=
function(){this._handler.onRemove(this)},Object.defineProperty(e.prototype,"callback",{get:function(){return this._callback},enumerable:!0,configurable:!0}),e}(),q=function(){function e(b,e){this.eventType=b;this._removed=!1;this._handler=e}return e.prototype.emit=function(b,e,a){this._removed||this._handler.onEmit(this,b,e,a)},e.prototype.remove=function(){this._removed=!0;this._handler.onRemove(this)},e}()})},"esri/views/input/EventMatch":function(){define(["require","exports"],function(y,p){Object.defineProperty(p,
"__esModule",{value:!0});y=function(){function p(m,h){void 0===h&&(h=[]);this.eventType=m;this.keyModifiers=h}return p.prototype.matches=function(m){if(m.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;m=m.modifiers;for(var h=0,e=this.keyModifiers;h<e.length;h++)if(!m.has(e[h]))return!1;return!0},p}();p.EventMatch=y})},"esri/views/input/recognizers/support":function(){define(["require","exports"],function(y,p){Object.defineProperty(p,"__esModule",{value:!0});p.manhattanDistance=
function(p,m){return Math.abs(m.x-p.x)+Math.abs(m.y-p.y)};p.euclideanDistance=function(p,m){var h=m.x-p.x;p=m.y-p.y;return Math.sqrt(h*h+p*p)};p.fitCircleLSQ=function(p,m){if(m?(m.radius=0,m.center.x=0,m.center.y=0):m={radius:0,center:{x:0,y:0}},0===p.length)return m;if(1===p.length)return m.center.x=p[0].x,m.center.y=p[0].y,m;if(2===p.length){var h=p[0];p=p[1];var e=[p.x-h.x,p.y-h.y],q=e[0],e=e[1];return m.radius=Math.sqrt(q*q+e*e)/2,m.center.x=(h.x+p.x)/2,m.center.y=(h.y+p.y)/2,m}for(var l=0,b=
0,g=0;g<p.length;g++)l+=p[g].x,b+=p[g].y;for(var l=l/p.length,b=b/p.length,a=p.map(function(a){return a.x-l}),r=p.map(function(a){return a.y-b}),v=h=m=0,u=0,x=q=0,g=e=0;g<a.length;g++){var y=a[g],E=r[g],B=y*y,J=E*E;m+=B;h+=J;v+=y*E;u+=B*y;q+=J*E;x+=y*J;e+=E*B}g=m;a=v;r=h;u=.5*(u+x);q=.5*(q+e);e=g*r-v*a;x=(u*r-q*a)/e;q=(g*q-v*u)/e;return{radius:Math.sqrt(x*x+q*q+(m+h)/p.length),center:{x:x+l,y:q+b}}}})},"esri/views/input/recognizers/PointerClickHoldAndDrag":function(){define(["require","exports","../../../core/tsSupport/extendsHelper",
"../InputHandler","./support"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});p.DefaultParameters={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilTouchDrag:6,holdDelay:500};y=function(e){function m(h,b,g,a){void 0===h&&(h=p.DefaultParameters.maximumClickDelay);void 0===b&&(b=p.DefaultParameters.movementUntilMouseDrag);void 0===g&&(g=p.DefaultParameters.movementUntilTouchDrag);void 0===a&&(a=p.DefaultParameters.holdDelay);var l=e.call(this,!1)||this;return l.maximumClickDelay=
h,l.movementUntilMouseDrag=b,l.movementUntilTouchDrag=g,l.holdDelay=a,l._pointerState=new Map,l._modifiers=new Set,l._pointerDrag=l.registerOutgoing("pointer-drag"),l._pointerClick=l.registerOutgoing("pointer-click"),l._pointerHold=l.registerOutgoing("hold"),l.registerIncoming("pointer-down",l._handlePointerDown.bind(l)),l.registerIncoming("pointer-up",l._handlePointerUpOrLost.bind(l)),l.registerIncoming("pointer-capture-lost",l._handlePointerUpOrLost.bind(l)),l._moveHandle=l.registerIncoming("pointer-move",
l._handlePointerMove.bind(l)),l._moveHandle.pause(),l}return u(m,e),m.prototype.onUninstall=function(){this._pointerState.forEach(function(e){0!==e.holdTimeout&&(clearTimeout(e.holdTimeout),e.holdTimeout=0)});e.prototype.onUninstall.call(this)},m.prototype._handlePointerDown=function(e){var b=this,g=e.data,a=g["native"].pointerId,h=0;0===this._pointerState.size&&(h=setTimeout(function(){var g=b._pointerState.get(a);g&&(g.isDragging||(b._pointerHold.emit(g.previousEvent,void 0,e.modifiers),g.holdEmitted=
!0),g.holdTimeout=0)},this.holdDelay));1===this._pointerState.size&&this._pointerState.forEach(function(a){0!==a.holdTimeout&&(clearTimeout(a.holdTimeout),a.holdTimeout=0)});this._pointerState.set(a,{startEvent:g,previousEvent:g,startTimestamp:e.timestamp,isDragging:!1,downButton:g["native"].button,holdTimeout:h});this.startCapturingPointer(g["native"]);this._moveHandle.resume()},m.prototype._createPointerDragData=function(e,b,g){return{action:e,startEvent:b.startEvent,previousEvent:b.previousEvent,
currentEvent:g}},m.prototype._handlePointerMove=function(e){var b=e.data,g=this._pointerState.get(b["native"].pointerId);g&&(g.isDragging?this._pointerDrag.emit(this._createPointerDragData("update",g,b),void 0,this._modifiers):h.euclideanDistance(b,g.startEvent)>("touch"===b["native"].pointerType?this.movementUntilTouchDrag:this.movementUntilMouseDrag)&&(g.isDragging=!0,g.previousEvent=g.startEvent,this._modifiers=e.modifiers,0!==g.holdTimeout&&clearTimeout(g.holdTimeout),this._pointerDrag.emit(this._createPointerDragData("start",
g,g.startEvent),g.startTimestamp),this._pointerDrag.emit(this._createPointerDragData("update",g,b))),g.previousEvent=b)},m.prototype._handlePointerUpOrLost=function(e){var b=e.data,g=b["native"].pointerId,a=this._pointerState.get(g);a&&((0!==a.holdTimeout&&clearTimeout(a.holdTimeout),a.isDragging)?this._pointerDrag.emit(this._createPointerDragData("end",a,b),void 0,this._modifiers):a.downButton===b["native"].button&&e.timestamp-a.startTimestamp<=this.maximumClickDelay&&!a.holdEmitted&&this._pointerClick.emit(b),
this._pointerState["delete"](g),this.stopCapturingPointer(b["native"]),0===this._pointerState.size&&this._moveHandle.pause())},m}(m.InputHandler);p.PointerClickHoldAndDrag=y})},"esri/views/input/recognizers/SingleAndDoubleClick":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler","./support"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});p.DefaultParameters={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,
maximumDoubleTouchDistance:35};y=function(e){function m(h,b,g,a){void 0===h&&(h=p.DefaultParameters.maximumDoubleClickDelay);void 0===b&&(b=p.DefaultParameters.maximumDoubleClickDistance);void 0===g&&(g=p.DefaultParameters.maximumDoubleTouchDelay);void 0===a&&(a=p.DefaultParameters.maximumDoubleTouchDistance);var l=e.call(this,!1)||this;return l.maximumDoubleClickDelay=h,l.maximumDoubleClickDistance=b,l.maximumDoubleTouchDelay=g,l.maximumDoubleTouchDistance=a,l._pointerState=new Map,l._click=l.registerOutgoing("click"),
l._doubleClick=l.registerOutgoing("double-click"),l._firstClick=l.registerOutgoing("first-click"),l.registerIncoming("pointer-click",l._handlePointerClick.bind(l)),l}return u(m,e),m.prototype.onUninstall=function(){this._pointerState.forEach(function(e){0!==e.doubleClickTimeout&&(clearTimeout(e.doubleClickTimeout),e.doubleClickTimeout=0)})},m.prototype._pointerId=function(e){e=e["native"];return"mouse"===e.pointerType?e.pointerId+":"+e.button:""+e.pointerType},m.prototype._handlePointerClick=function(e){var b=
e.data,g=this._pointerId(b),a=this._pointerState.get(g);if(a){clearTimeout(a.doubleClickTimeout);a.doubleClickTimeout=0;var l="touch"===b["native"].pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;h.manhattanDistance(a.event.data,b)>l?(this._doubleClickTimeoutExceeded(g),this._startClick(e)):(this._doubleClick.emit(b,void 0,a.event.modifiers),this._pointerState["delete"](g))}else this._startClick(e)},m.prototype._startClick=function(e){var b=this,g=e.data,a=this._pointerId(e.data);
this._pointerState.set(a,{event:e,doubleClickTimeout:setTimeout(function(){return b._doubleClickTimeoutExceeded(a)},"touch"===g["native"].pointerType?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay)});this._firstClick.emit(e.data,void 0,e.modifiers)},m.prototype._doubleClickTimeoutExceeded=function(e){var b=this._pointerState.get(e);this._click.emit(b.event.data,void 0,b.event.modifiers);b.doubleClickTimeout=0;this._pointerState["delete"](e)},m}(m.InputHandler);p.SingleAndDoubleClick=y})},
"esri/views/input/recognizers/VerticalTwoFingerDrag":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function e(e,l){void 0===e&&(e=20);void 0===l&&(l=40);var b=h.call(this,!1)||this;return b._threshold=e,b._maxDelta=l,b._failed=!1,b._active=!1,b._vertical=b.registerOutgoing("vertical-two-finger-drag"),b._artificalDragEnd=b.registerOutgoing("drag"),b.registerIncoming("drag",
b._handleDrag.bind(b)),b}return u(e,h),Object.defineProperty(e.prototype,"failed",{get:function(){return this._failed},enumerable:!0,configurable:!0}),e.prototype._handleDrag=function(e){if(2===e.data.pointers.length)switch(e.data.action){case "start":this._handleDragStart(e);break;case "update":this._handleDragUpdate(e);break;case "end":this._handleDragEnd(e)}},e.prototype._handleDragStart=function(e){this._failed=!1},e.prototype._handleDragUpdate=function(e){this._failed||(this._active?(this._vertical.emit({delta:e.data.currentState.center.y-
this._thresholdReachedCenter.y,action:"update"}),e.stopPropagation()):(this._failed=!this._checkDeltaConstraint(e.data),this._failed||this._checkThresholdReached(e.data)&&(this._active=!0,this._thresholdReachedCenter=e.data.currentState.center,this._artificalDragEnd.emit({action:"end",currentState:e.data.currentState,previousState:e.data.previousState,startState:e.data.startState,pointers:e.data.pointers}),this._vertical.emit({delta:e.data.currentState.center.y-this._thresholdReachedCenter.y,action:"begin"}),
e.stopPropagation())))},e.prototype._handleDragEnd=function(e){this._active&&(this._vertical.emit({delta:e.data.currentState.center.y-this._thresholdReachedCenter.y,action:"end"}),e.stopPropagation());this._active=!1},e.prototype._checkDeltaConstraint=function(e){var h=Math.abs(e.pointers[0].startEvent.x-e.pointers[1].startEvent.x),b=Math.abs(e.pointers[0].startEvent.y-e.pointers[1].startEvent.y),g=Math.abs(e.pointers[0].currentEvent.y-e.pointers[1].currentEvent.y),a=Math.abs(e.pointers[0].currentEvent.x-
e.pointers[1].currentEvent.x);return Math.abs(e.currentState.center.x-e.startState.center.x)<this._threshold&&Math.abs(a-h)<=this._maxDelta&&Math.abs(g-b)<=this._maxDelta},e.prototype._checkThresholdReached=function(e){return Math.min(Math.abs(e.pointers[0].currentEvent.y-e.pointers[0].startEvent.y),Math.abs(e.pointers[1].currentEvent.y-e.pointers[1].startEvent.y),Math.abs(e.currentState.center.y-e.startState.center.y))>=this._threshold},e}(m.InputHandler);p.VerticalTwoFingerDrag=y})},"esri/views/input/handlers/LatestPointerType":function(){define(["require",
"exports","../../../core/tsSupport/extendsHelper","../InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function e(e){var l=h.call(this,!0)||this;return l._onChange=e,l._value="mouse",l.registerIncoming("pointer-down",function(b){l._setValue("touch"===b.data["native"].pointerType?"touch":"mouse")}),l._moveHandler=l.registerIncoming("pointer-move",function(b){l._setValue("touch"===b.data["native"].pointerType?"touch":"mouse")}),l._moveHandler.pause(),l}
return u(e,h),e.prototype._setValue=function(e){e!==this._value&&("touch"===e?this._moveHandler.resume():this._moveHandler.pause(),this._value=e,this._onChange(e))},e}(m.InputHandler);p.LatestPointerType=y})},"esri/views/input/BrowserEventSource":function(){define(["require","exports","./keys","../../core/libs/pep/pep","dojo/sniff"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});var e=h("trident"),q=h("edge"),l=h("chrome"),b=h("ff"),g=h("safari");y=function(){function h(a){this._active=
{};this._activePointerCaptures=new Set;this._keyDownState=new Set;this._element=a;m.applyLocal(a);a.getAttribute("tabindex")||a.setAttribute("tabindex","0");this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost};
this._initialCssTouchAction=a.style.touchAction;a.style.touchAction="none"}return h.prototype.destroy=function(){var a=this;this.activeEvents=this._callback=null;this._activePointerCaptures.forEach(function(b){a._element.releasePointerCapture(b)});this._activePointerCaptures=null;this._element.style.touchAction=this._initialCssTouchAction},Object.defineProperty(h.prototype,"onEventReceived",{set:function(a){this._callback=a},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"activeEvents",
{set:function(b){var e=this,g;for(g in this._active)b&&b.has(g)||(this._element.removeEventListener(a[g],this._active[g]),delete this._active[g]);b&&b.forEach(function(b){if(!e._active[b]&&a[b]){var g=(e._eventHandlers[b]||e._handleDefault).bind(e,b);e._element.addEventListener(a[b],g);e._active[b]=g}})},enumerable:!0,configurable:!0}),h.prototype.setPointerCapture=function(a,b){b?(this._element.setPointerCapture(a.pointerId),this._activePointerCaptures.add(a.pointerId)):(this._element.releasePointerCapture(a.pointerId),
this._activePointerCaptures["delete"](a.pointerId))},h.prototype._updateNormalizedPointerLikeEvent=function(a,b){var e=this._element.getBoundingClientRect();return b.x=a.clientX-Math.round(e.left),b.y=a.clientY-Math.round(e.top),b},h.prototype._handleKey=function(a,b){var e=u.eventKey(b);e&&"key-up"===a&&this._keyDownState["delete"](e);b={"native":b,key:e,repeat:e&&this._keyDownState.has(e)};e&&"key-down"===a&&this._keyDownState.add(b.key);this._callback(a,b)},h.prototype._handlePointer=function(a,
b){b=this._updateNormalizedPointerLikeEvent(b,{"native":b,x:0,y:0});this._callback(a,b)},h.prototype._handlePointerPreventDefault=function(a,b){var e=this._updateNormalizedPointerLikeEvent(b,{"native":b,x:0,y:0});b.preventDefault();this._callback(a,e)},h.prototype._handleMouseWheel=function(a,h){h.preventDefault();var m=h.deltaY;switch(h.deltaMode){case 0:(e||q)&&(m=m/document.documentElement.clientHeight*600);break;case 1:m*=30;break;case 2:m*=900}e||q?m*=.7:l||g?m*=.6:b&&(m*=1.375);var r=Math.abs(m);
100<r&&(m=m/r*200/(1+Math.exp(-.02*(r-100))));h=this._updateNormalizedPointerLikeEvent(h,{"native":h,x:0,y:0,deltaY:m});this._callback(a,h)},h.prototype._handlePointerCaptureLost=function(a,b){this._activePointerCaptures["delete"](b.pointerId);this._handleDefault(a,b)},h.prototype._handleDefault=function(a,b){var e={"native":b};b.preventDefault();this._callback(a,e)},h}();p.BrowserEventSource=y;var a={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove",
"mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave"}})},"esri/core/libs/pep/pep":function(){define([],function(){function y(c,b){b=b||Object.create(null);var d=document.createEvent("Event");d.initEvent(c,b.bubbles||!1,b.cancelable||!1);for(var e=2;e<g.length;e++)c=g[e],d[c]=b[c]||a[e];d.buttons=b.buttons||0;c=0;return c=b.pressure?b.pressure:d.buttons?
.5:0,d.x=d.clientX,d.y=d.clientY,d.pointerId=b.pointerId||0,d.width=b.width||0,d.height=b.height||0,d.pressure=c,d.tiltX=b.tiltX||0,d.tiltY=b.tiltY||0,d.pointerType=b.pointerType||"",d.hwTimestamp=b.hwTimestamp||0,d.isPrimary=b.isPrimary||!1,d}function p(){this.array=[];this.size=0}function u(a,c,b,d){this.addCallback=a.bind(d);this.removeCallback=c.bind(d);this.changedCallback=b.bind(d);I&&(this.observer=new I(this.mutationWatcher.bind(this)))}function m(a){return"body /shadow-deep/ "+h(a)}function h(a){return'[touch-action\x3d"'+
a+'"]'}function e(a){return"{ -ms-touch-action: "+a+"; touch-action: "+a+"; touch-action-delay: none; }"}function q(){if(N){O.forEach(function(a){String(a)===a?(Y+=h(a)+e(a)+"\n",T&&(Y+=m(a)+e(a)+"\n")):(Y+=a.selectors.map(h)+e(a.rule)+"\n",T&&(Y+=a.selectors.map(m)+e(a.rule)+"\n"))});var a=document.createElement("style");a.textContent=Y;document.head.appendChild(a)}}function l(a){if(!E.pointermap.has(a))throw a=Error("InvalidPointerId"),a.name="InvalidPointerId",a;}function b(a){if(!a.ownerDocument.contains(a))throw a=
Error("InvalidStateError"),a.name="InvalidStateError",a;}var g="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget pageX pageY".split(" "),a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0],r=window.Map&&window.Map.prototype.forEach?Map:p;p.prototype={set:function(a,c){return void 0===c?this["delete"](a):(this.has(a)||this.size++,void(this.array[a]=c))},has:function(a){return void 0!==this.array[a]},"delete":function(a){this.has(a)&&
(delete this.array[a],this.size--)},get:function(a){return this.array[a]},clear:function(){this.size=this.array.length=0},forEach:function(a,c){return this.array.forEach(function(b,d){a.call(c,b,d,this)},this)}};var v="bubbles cancelable view detail screenX screenY clientX clientY ctrlKey altKey shiftKey metaKey button relatedTarget buttons pointerId width height pressure tiltX tiltY pointerType hwTimestamp isPrimary type target currentTarget which pageX pageY timeStamp".split(" "),w=[!1,!1,null,
null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],x={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},D="undefined"!=typeof SVGElementInstance,E={pointermap:new r,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(a,c){var b=c.events;b&&(b.forEach(function(a){c[a]&&(this.eventMap[a]=c[a].bind(c))},this),this.eventSources[a]=c,this.eventSourceList.push(c))},register:function(a){for(var c,
b=this.eventSourceList.length,d=0;b>d&&(c=this.eventSourceList[d]);d++)c.register.call(c,a)},unregister:function(a){for(var c,b=this.eventSourceList.length,d=0;b>d&&(c=this.eventSourceList[d]);d++)c.unregister.call(c,a)},contains:function(a,c){try{return a.contains(c)}catch(ca){return!1}},down:function(a){a.bubbles=!0;this.fireEvent("pointerdown",a)},move:function(a){a.bubbles=!0;this.fireEvent("pointermove",a)},up:function(a){a.bubbles=!0;this.fireEvent("pointerup",a)},enter:function(a){a.bubbles=
!1;this.fireEvent("pointerenter",a)},leave:function(a){a.bubbles=!1;this.fireEvent("pointerleave",a)},over:function(a){a.bubbles=!0;this.fireEvent("pointerover",a)},out:function(a){a.bubbles=!0;this.fireEvent("pointerout",a)},cancel:function(a){a.bubbles=!0;this.fireEvent("pointercancel",a)},leaveOut:function(a){this.out(a);this.propagate(a,this.leave,!1)},enterOver:function(a){this.over(a);this.propagate(a,this.enter,!0)},eventHandler:function(a){if(!a._handledByPE){var c=a.type;(c=this.eventMap&&
this.eventMap[c])&&c(a);a._handledByPE=!0}},listen:function(a,c){c.forEach(function(c){this.addEvent(a,c)},this)},unlisten:function(a,c){c.forEach(function(c){this.removeEvent(a,c)},this)},addEvent:function(a,c){a.addEventListener(c,this.boundHandler)},removeEvent:function(a,c){a.removeEventListener(c,this.boundHandler)},makeEvent:function(a,c){this.captureInfo[c.pointerId]&&(c.relatedTarget=null);a=new y(a,c);return c.preventDefault&&(a.preventDefault=c.preventDefault),a._target=a._target||c.target,
a},fireEvent:function(a,c){a=this.makeEvent(a,c);return this.dispatchEvent(a)},cloneEvent:function(a){for(var c,b=Object.create(null),d=0;d<v.length;d++)c=v[d],b[c]=a[c]||w[d],!D||"target"!==c&&"relatedTarget"!==c||b[c]instanceof SVGElementInstance&&(b[c]=b[c].correspondingUseElement);return a.preventDefault&&(b.preventDefault=function(){a.preventDefault()}),b},getTarget:function(a){var c=this.captureInfo[a.pointerId];return c?a._target!==c&&a.type in x?void 0:c:a._target},propagate:function(a,c,
b){for(var d=a.target,e=[];!d.contains(a.relatedTarget)&&d!==document;)e.push(d),d=d.parentNode;b&&e.reverse();e.forEach(function(b){a.target=b;c.call(this,a)},this)},setCapture:function(a,c){this.captureInfo[a]&&this.releaseCapture(a);this.captureInfo[a]=c;var b=new y("gotpointercapture");b.pointerId=a;this.implicitRelease=this.releaseCapture.bind(this,a);document.addEventListener("pointerup",this.implicitRelease);document.addEventListener("pointercancel",this.implicitRelease);b._target=c;this.asyncDispatchEvent(b)},
releaseCapture:function(a){var c=this.captureInfo[a];if(c){var b=new y("lostpointercapture");b.pointerId=a;this.captureInfo[a]=void 0;document.removeEventListener("pointerup",this.implicitRelease);document.removeEventListener("pointercancel",this.implicitRelease);b._target=c;this.asyncDispatchEvent(b)}},dispatchEvent:function(a){var c=this.getTarget(a);return c?c.dispatchEvent(a):void 0},asyncDispatchEvent:function(a){requestAnimationFrame(this.dispatchEvent.bind(this,a))}};E.boundHandler=E.eventHandler.bind(E);
var B={shadow:function(a){return a?a.shadowRoot||a.webkitShadowRoot:void 0},canTarget:function(a){return a&&!!a.elementFromPoint},targetingShadow:function(a){a=this.shadow(a);return this.canTarget(a)?a:void 0},olderShadow:function(a){var c=a.olderShadowRoot;c||(a=a.querySelector("shadow"))&&(c=a.olderShadowRoot);return c},allShadows:function(a){var c=[];for(a=this.shadow(a);a;)c.push(a),a=this.olderShadow(a);return c},searchRoot:function(a,c,b){if(a){var d,e=a.elementFromPoint(c,b);for(d=this.targetingShadow(e);d;){if(a=
d.elementFromPoint(c,b))return d=this.targetingShadow(a),this.searchRoot(d,c,b)||a;d=this.olderShadow(d)}return e}},owner:function(a){for(;a.parentNode;)a=a.parentNode;return a.nodeType!==Node.DOCUMENT_NODE&&a.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(a=document),a},findTarget:function(a){var c=a.clientX,b=a.clientY;a=this.owner(a.target);return a.elementFromPoint(c,b)||(a=document),this.searchRoot(a,c,b)}},J=Array.prototype.forEach.call.bind(Array.prototype.forEach),K=Array.prototype.map.call.bind(Array.prototype.map),
z=Array.prototype.slice.call.bind(Array.prototype.slice),M=Array.prototype.filter.call.bind(Array.prototype.filter),I=window.MutationObserver||window.WebKitMutationObserver,Q={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};u.prototype={watchSubtree:function(a){this.observer&&B.canTarget(a)&&this.observer.observe(a,Q)},enableOnSubtree:function(a){this.watchSubtree(a);a===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(a)},
installNewSubtree:function(a){J(this.findElements(a),this.addElement,this)},findElements:function(a){return a.querySelectorAll?a.querySelectorAll("[touch-action]"):[]},removeElement:function(a){this.removeCallback(a)},addElement:function(a){this.addCallback(a)},elementChanged:function(a,c){this.changedCallback(a,c)},concatLists:function(a,c){return a.concat(z(c))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},
isElement:function(a){return a.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(a){var c=K(a,this.findElements,this);return c.push(M(a,this.isElement)),c.reduce(this.concatLists,[])},mutationWatcher:function(a){a.forEach(this.mutationHandler,this)},mutationHandler:function(a){"childList"===a.type?(this.flattenMutationTree(a.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(a.removedNodes).forEach(this.removeElement,this)):"attributes"===a.type&&this.elementChanged(a.target,
a.oldValue)}};var O=["none","auto","pan-x","pan-y",{rule:"pan-x pan-y",selectors:["pan-x pan-y","pan-y pan-x"]}],Y="",N=window.PointerEvent||window.MSPointerEvent,T=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,da=E.pointermap,Z=[1,4,2,8,16],fa=!1;try{fa=1===(new MouseEvent("test",{buttons:1})).buttons}catch(H){}var P,aa={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(a){E.listen(a,this.events)},unregister:function(a){E.unlisten(a,
this.events)},lastTouches:[],isEventSimulatedFromTouch:function(a){var c,b=this.lastTouches,d=a.clientX;a=a.clientY;for(var e=0,f=b.length;f>e&&(c=b[e]);e++){var g=Math.abs(a-c.y);if(25>=Math.abs(d-c.x)&&25>=g)return!0}},prepareEvent:function(a){var c=E.cloneEvent(a),b=c.preventDefault;return c.preventDefault=function(){a.preventDefault();b()},c.pointerId=this.POINTER_ID,c.isPrimary=!0,c.pointerType=this.POINTER_TYPE,c},prepareButtonsForMove:function(a,c){var b=da.get(this.POINTER_ID);0!==c.which&&
b?a.buttons=b.buttons:a.buttons=0;c.buttons=a.buttons},mousedown:function(a){if(!this.isEventSimulatedFromTouch(a)){var c=da.get(this.POINTER_ID),b=this.prepareEvent(a);fa||(b.buttons=Z[b.button],c&&(b.buttons|=c.buttons),a.buttons=b.buttons);da.set(this.POINTER_ID,a);c&&0!==c.buttons?E.move(b):E.down(b)}},mousemove:function(a){if(!this.isEventSimulatedFromTouch(a)){var c=this.prepareEvent(a);fa||this.prepareButtonsForMove(c,a);c.button=-1;da.set(this.POINTER_ID,a);E.move(c)}},mouseup:function(a){if(!this.isEventSimulatedFromTouch(a)){var c=
da.get(this.POINTER_ID),b=this.prepareEvent(a);if(!fa){var d=Z[b.button];b.buttons=c?c.buttons&~d:0;a.buttons=b.buttons}da.set(this.POINTER_ID,a);b.buttons&=~Z[b.button];0===b.buttons?E.up(b):E.move(b)}},mouseover:function(a){if(!this.isEventSimulatedFromTouch(a)){var c=this.prepareEvent(a);fa||this.prepareButtonsForMove(c,a);c.button=-1;da.set(this.POINTER_ID,a);E.enterOver(c)}},mouseout:function(a){if(!this.isEventSimulatedFromTouch(a)){var c=this.prepareEvent(a);fa||this.prepareButtonsForMove(c,
a);c.button=-1;E.leaveOut(c)}},cancel:function(a){a=this.prepareEvent(a);E.cancel(a);this.deactivateMouse()},deactivateMouse:function(){da["delete"](this.POINTER_ID)}},n=E.captureInfo,U=B.findTarget.bind(B),C=B.allShadows.bind(B),d=E.pointermap,c={events:["touchstart","touchmove","touchend","touchcancel"],register:function(a){P.enableOnSubtree(a)},unregister:function(a){},elementAdded:function(a){var c=a.getAttribute("touch-action"),b=this.touchActionToScrollType(c);b&&(a._scrollType=b,E.listen(a,
this.events),C(a).forEach(function(a){a._scrollType=b;E.listen(a,this.events)},this))},elementRemoved:function(a){a._scrollType=void 0;E.unlisten(a,this.events);C(a).forEach(function(a){a._scrollType=void 0;E.unlisten(a,this.events)},this)},elementChanged:function(a,c){var b=a.getAttribute("touch-action"),d=this.touchActionToScrollType(b);c=this.touchActionToScrollType(c);d&&c?(a._scrollType=d,C(a).forEach(function(a){a._scrollType=d},this)):c?this.elementRemoved(a):d&&this.elementAdded(a)},scrollTypes:{EMITTER:"none",
XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(a){var c=this.scrollTypes;return"none"===a?"none":a===c.XSCROLLER?"X":a===c.YSCROLLER?"Y":c.SCROLLER.exec(a)?"XY":void 0},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(a){return this.firstTouch===a.identifier},setPrimaryTouch:function(a){(0===d.size||1===d.size&&d.has(1))&&(this.firstTouch=a.identifier,this.firstXY={X:a.clientX,Y:a.clientY},this.scrolling=!1,this.cancelResetClickCount())},
removePrimaryPointer:function(a){a.isPrimary&&(this.firstTouch=null,this.firstXY=null,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var a=function(){this.clickCount=0;this.resetId=null}.bind(this);this.resetId=setTimeout(a,200)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(a){var c=0;return("touchstart"===a||"touchmove"===a)&&(c=1),c},touchToPointer:function(a){var c=this.currentTouchEvent,b=E.cloneEvent(a),d=b.pointerId=
a.identifier+2;b.target=n[d]||U(b);b.bubbles=!0;b.cancelable=!0;b.detail=this.clickCount;b.button=0;b.buttons=this.typeToButtons(c.type);b.width=a.radiusX||a.webkitRadiusX||0;b.height=a.radiusY||a.webkitRadiusY||0;b.pressure=a.force||a.webkitForce||.5;b.isPrimary=this.isPrimaryTouch(a);b.pointerType=this.POINTER_TYPE;b.altKey=c.altKey;b.ctrlKey=c.ctrlKey;b.metaKey=c.metaKey;b.shiftKey=c.shiftKey;var e=this;return b.preventDefault=function(){e.scrolling=!1;e.firstXY=null;c.preventDefault()},b},processTouches:function(a,
c){var b=a.changedTouches;this.currentTouchEvent=a;for(var d=0;d<b.length;d++)a=b[d],c.call(this,this.touchToPointer(a))},shouldScroll:function(a){if(this.firstXY){var c;c=a.currentTarget._scrollType;if("none"===c)c=!1;else if("XY"===c)c=!0;else{a=a.changedTouches[0];var b="Y"===c?"X":"Y";c=Math.abs(a["client"+c]-this.firstXY[c])>=Math.abs(a["client"+b]-this.firstXY[b])}return this.firstXY=null,c}},findTouch:function(a,c){for(var b,d=0,e=a.length;e>d&&(b=a[d]);d++)if(b.identifier===c)return!0},vacuumTouches:function(a){var c=
a.touches;if(d.size>=c.length){var b=[];d.forEach(function(a,d){1===d||this.findTouch(c,d-2)||b.push(a.out)},this);b.forEach(this.cancelOut,this)}},touchstart:function(a){this.vacuumTouches(a);this.setPrimaryTouch(a.changedTouches[0]);this.dedupSynthMouse(a);this.scrolling||(this.clickCount++,this.processTouches(a,this.overDown))},overDown:function(a){d.set(a.pointerId,{target:a.target,out:a,outTarget:a.target});E.enterOver(a);E.down(a)},touchmove:function(a){this.scrolling||(this.shouldScroll(a)?
(this.scrolling=!0,this.touchcancel(a)):(a.preventDefault(),this.processTouches(a,this.moveOverOut)))},moveOverOut:function(a){var c=d.get(a.pointerId);if(c){var b=c.out,e=c.outTarget;E.move(a);b&&e!==a.target&&(b.relatedTarget=a.target,a.relatedTarget=e,b.target=e,a.target?(E.leaveOut(b),E.enterOver(a)):(a.target=e,a.relatedTarget=null,this.cancelOut(a)));c.out=a;c.outTarget=a.target}},touchend:function(a){this.dedupSynthMouse(a);this.processTouches(a,this.upOut)},upOut:function(a){this.scrolling||
(E.up(a),E.leaveOut(a));this.cleanUpPointer(a)},touchcancel:function(a){this.processTouches(a,this.cancelOut)},cancelOut:function(a){E.cancel(a);E.leaveOut(a);this.cleanUpPointer(a)},cleanUpPointer:function(a){d["delete"](a.pointerId);this.removePrimaryPointer(a)},dedupSynthMouse:function(a){var c=aa.lastTouches;a=a.changedTouches[0];this.isPrimaryTouch(a)&&(a={x:a.clientX,y:a.clientY},c.push(a),c=function(a,c){c=a.indexOf(c);-1<c&&a.splice(c,1)}.bind(null,c,a),setTimeout(c,2500))}};P=new u(c.elementAdded,
c.elementRemoved,c.elementChanged,c);var f,k,t=E.pointermap,A=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,G={events:"MSPointerDown MSPointerMove MSPointerUp MSPointerOut MSPointerOver MSPointerCancel MSGotPointerCapture MSLostPointerCapture".split(" "),register:function(a){E.listen(a,this.events)},unregister:function(a){E.unlisten(a,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(a){var c=a;return A&&(c=E.cloneEvent(a),
c.pointerType=this.POINTER_TYPES[a.pointerType]),c},cleanup:function(a){t["delete"](a)},MSPointerDown:function(a){t.set(a.pointerId,a);a=this.prepareEvent(a);E.down(a)},MSPointerMove:function(a){a=this.prepareEvent(a);E.move(a)},MSPointerUp:function(a){var c=this.prepareEvent(a);E.up(c);this.cleanup(a.pointerId)},MSPointerOut:function(a){a=this.prepareEvent(a);E.leaveOut(a)},MSPointerOver:function(a){a=this.prepareEvent(a);E.enterOver(a)},MSPointerCancel:function(a){var c=this.prepareEvent(a);E.cancel(c);
this.cleanup(a.pointerId)},MSLostPointerCapture:function(a){a=E.makeEvent("lostpointercapture",a);E.dispatchEvent(a)},MSGotPointerCapture:function(a){a=E.makeEvent("gotpointercapture",a);E.dispatchEvent(a)}};window.navigator.msPointerEnabled?(f=function(a){l(a);b(this);0!==E.pointermap.get(a).buttons&&this.msSetPointerCapture(a)},k=function(a){l(a);this.msReleasePointerCapture(a)}):(f=function(a){l(a);b(this);0!==E.pointermap.get(a).buttons&&E.setCapture(a,this)},k=function(a){l(a);E.releaseCapture(a,
this)});var F=window.PointerEvent||window.MSPointerEvent;return{dispatcher:E,Installer:u,PointerEvent:y,PointerMap:r,targetFinding:B,applyGlobal:function(){q();window.PointerEvent||((window.PointerEvent=y,window.navigator.msPointerEnabled)?(Object.defineProperty(window.navigator,"maxTouchPoints",{value:window.navigator.msMaxTouchPoints,enumerable:!0}),E.registerSource("ms",G)):(E.registerSource("mouse",aa),void 0!==window.ontouchstart&&E.registerSource("touch",c)),E.register(document));window.Element&&
!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:f},releasePointerCapture:{value:k}})},applyLocal:function(a){F||(window.PointerEvent||(window.navigator.msPointerEnabled?E.registerSource("ms",G):(E.registerSource("mouse",aa),void 0!==window.ontouchstart&&E.registerSource("touch",c)),E.register(document)),window.Element&&!Element.prototype.setPointerCapture&&(a.setPointerCapture=f.bind(a),a.releasePointerCapture=k.bind(a)),a.getAttribute("touch-action")||
a.setAttribute("touch-action","none"))}}})},"esri/views/input/ViewEvents":function(){define(["require","exports","../../core/tsSupport/extendsHelper","./InputHandler","../../geometry/ScreenPoint"],function(y,p,u,m,h){function e(a){return!!b[a]}function q(a){for(var b=0;b<a.length;b++)if(!e(a[b]))return!1;return!0}Object.defineProperty(p,"__esModule",{value:!0});var l,b={click:!0,"double-click":!0,hold:!0,drag:!0,"key-down":!0,"key-up":!0,"pointer-down":!0,"pointer-move":!0,"pointer-up":!0,"mouse-wheel":!0,
"pointer-enter":!0,"pointer-leave":!0};!function(a){a[a.Left=0]="Left";a[a.Middle=1]="Middle";a[a.Right=2]="Right"}(l||(l={}));y=function(){function a(a){this.handlers=new Map;this.counter=0;this.view=a;this.inputManager=null}return a.prototype.connect=function(a){var b=this;a&&this.disconnect();this.inputManager=a;this.handlers.forEach(function(a,e){return b.inputManager.installHandlers(e,[a])})},a.prototype.disconnect=function(){var a=this;this.inputManager&&this.handlers.forEach(function(b,e){return a.inputManager.uninstallHandlers(e)});
this.inputManager=null},a.prototype.destroy=function(){this.disconnect();this.handlers.clear();this.view=null},a.prototype.register=function(a,b,h){var l=this;a=Array.isArray(a)?a:a.split(",");if(!q(a))return a.some(e)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;var m=Array.isArray(b)?b:[];h=Array.isArray(b)?h:b;var r=this.createUniqueGroupName();b=new g(this.view,a,m,h);return this.handlers.set(r,b),this.inputManager&&this.inputManager.installHandlers(r,
[b]),{remove:function(){return l.removeHandler(r)}}},a.prototype.removeHandler=function(a){this.handlers.has(a)&&this.handlers["delete"](a);this.inputManager&&this.inputManager.uninstallHandlers(a)},a.prototype.createUniqueGroupName=function(){return this.counter+=1,"viewEvents_"+this.counter},a}();p.ViewEvents=y;var g=function(a){function b(b,e,g,h){var l=a.call(this,!0)||this;l.view=b;for(b=0;b<e.length;b++)switch(e[b]){case "click":l.registerIncoming("click",g,function(a){return h(l.wrapClick(a))});
break;case "double-click":l.registerIncoming("double-click",g,function(a){return h(l.wrapDoubleClick(a))});break;case "hold":l.registerIncoming("hold",g,function(a){return h(l.wrapHold(a))});break;case "drag":l.registerIncoming("drag",g,function(a){return h(l.wrapDrag(a))});break;case "key-down":l.registerIncoming("key-down",g,function(a){return h(l.wrapKeyDown(a))});break;case "key-up":l.registerIncoming("key-up",g,function(a){return h(l.wrapKeyUp(a))});break;case "pointer-down":l.registerIncoming("pointer-down",
g,function(a){return h(l.wrapPointer(a,"pointer-down"))});break;case "pointer-move":l.registerIncoming("pointer-move",g,function(a){return h(l.wrapPointer(a,"pointer-move"))});break;case "pointer-up":l.registerIncoming("pointer-up",g,function(a){return h(l.wrapPointer(a,"pointer-up"))});break;case "mouse-wheel":l.registerIncoming("mouse-wheel",g,function(a){return h(l.wrapMouseWheel(a))});break;case "pointer-enter":l.registerIncoming("pointer-enter",g,function(a){return h(l.wrapPointer(a,"pointer-enter"))});
break;case "pointer-leave":l.registerIncoming("pointer-leave",g,function(a){return h(l.wrapPointer(a,"pointer-leave"))})}return l}return u(b,a),b.prototype.wrapClick=function(a){var b=a.data.x,e=a.data.y;return{type:"click",button:"touch"===a.data["native"].pointerType?0:a.data["native"].button,x:b,y:e,"native":a.data["native"],timestamp:a.timestamp,screenPoint:new h(b,e),mapPoint:this.view.toMap(b,e),stopPropagation:function(){return a.stopPropagation()}}},b.prototype.wrapDoubleClick=function(a){var b=
a.data.x,e=a.data.y;return{type:"double-click",button:"touch"===a.data["native"].pointerType?0:a.data["native"].button,x:b,y:e,"native":a.data["native"],timestamp:a.timestamp,mapPoint:this.view.toMap(b,e),stopPropagation:function(){return a.stopPropagation()}}},b.prototype.wrapHold=function(a){var b=a.data.x,e=a.data.y;return{type:"hold",button:"touch"===a.data["native"].pointerType?0:a.data["native"].button,x:b,y:e,"native":a.data["native"],timestamp:a.timestamp,mapPoint:this.view.toMap(b,e),stopPropagation:function(){return a.stopPropagation()}}},
b.prototype.wrapDrag=function(a){return{type:"drag",action:a.data.action,x:a.data.currentState.center.x,y:a.data.currentState.center.y,origin:{x:a.data.startState.center.x,y:a.data.startState.center.y},"native":a.data.pointers[0].currentEvent["native"],timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}},b.prototype.wrapKeyDown=function(a){return{type:"key-down",key:a.data.key,repeat:a.data.repeat,"native":a.data["native"],timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}},
b.prototype.wrapKeyUp=function(a){return{type:"key-up",key:a.data.key,"native":a.data["native"],timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}},b.prototype.wrapPointer=function(a,b){return{type:b,x:a.data.x,y:a.data.y,pointerId:a.data["native"].pointerId,pointerType:a.data["native"].pointerType,"native":a.data["native"],timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}},b.prototype.wrapMouseWheel=function(a){return{type:"mouse-wheel",x:a.data.x,
y:a.data.y,deltaY:a.data.deltaY,"native":a.data["native"],timestamp:a.timestamp,stopPropagation:function(){return a.stopPropagation()}}},b}(m.InputHandler)})},"esri/views/input/handlers/PreventContextMenu":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function e(){var e=h.call(this,!0)||this;return e.registerIncoming("context-menu",function(e){e.data["native"].preventDefault()}),
e}return u(e,h),e}(m.InputHandler);p.PreventContextMenu=y;p["default"]=y})},"esri/views/2d/input/handlers/DoubleClickZoom":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler","../../../input/handlers/support"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});y=function(e){function m(h,b){var g=e.call(this,!0)||this;return g.view=h,g.registerIncoming("double-click",b,function(a){return g._handleDoubleClick(a,b)}),g}return u(m,
e),m.prototype._handleDoubleClick=function(e,b){h.eventMatchesPointerType(e.data["native"],"primary")&&(e.stopPropagation(),b?this.view.navigation.zoomOut([e.data.x,e.data.y]):this.view.navigation.zoomIn([e.data.x,e.data.y]))},m}(m.InputHandler);p.DoubleClickZoom=y})},"esri/views/input/handlers/support":function(){define(["require","exports"],function(y,p){Object.defineProperty(p,"__esModule",{value:!0});p.eventMatchesPointerType=function(p,m){switch(m){case "primary":return"touch"===p.pointerType||
0===p.button;case "secondary":return"touch"!==p.pointerType&&2===p.button;case "tertiary":return"touch"!==p.pointerType&&1===p.button}};p.eventMatchesMousePointerType=function(p,m){if("touch"===p.pointerType)return!1;switch(m){case "primary":return 0===p.button;case "secondary":return 2===p.button;case "tertiary":return 1===p.button}}})},"esri/views/2d/input/handlers/DragPan":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler","../../../input/handlers/support"],
function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});y=function(e){function m(h,b,g){var a=e.call(this,!0)||this;return a.view=h,a.pointerType=b,a.registerIncoming("drag",g,function(b){return a._handleDrag(b)}),a.registerIncoming("pointer-down",function(b){return a.stopMomentumNavigation()}),a}return u(m,e),m.prototype._handleDrag=function(e){var b=e.data,g=this.view.navigation;if(1<b.pointers.length||g.pinch.zoomMomentum||g.pinch.rotateMomentum)return void this.stopMomentumNavigation();
if(h.eventMatchesPointerType(b.pointers[0].startEvent["native"],this.pointerType)){g=g.pan;switch(b.action){case "start":g.begin(this.view,b);break;case "update":g.update(this.view,b);break;case "end":g.end(this.view,b)}e.stopPropagation()}},m.prototype.stopMomentumNavigation=function(){this.view.navigation.pan.stopMomentumNavigation()},m}(m.InputHandler);p.DragPan=y})},"esri/views/2d/input/handlers/DragRotate":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler",
"../../../input/handlers/support"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});y=function(e){function m(h,b,g){var a=e.call(this,!0)||this;return a.view=h,a.pointerType=b,a.registerIncoming("drag",g,function(b){return a._handleDrag(b)}),a}return u(m,e),m.prototype._handleDrag=function(e){var b=e.data;if(!(1<b.pointers.length)&&h.eventMatchesPointerType(b.pointers[0].startEvent["native"],this.pointerType)){var g=this.view.navigation.rotate;switch(b.action){case "start":g.begin(this.view,
b);break;case "update":g.update(this.view,b);break;case "end":g.end(this.view,b)}e.stopPropagation()}},m}(m.InputHandler);p.DragRotate=y})},"esri/views/2d/input/handlers/KeyPan":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function e(e,l,b){var g=h.call(this,!0)||this;return g.view=e,g.keys=l,g._keyMap=(a={},a[l.left]="left",a[l.right]="right",a[l.up]=
"up",a[l.down]="down",a),g.registerIncoming("key-down",b,function(a){return g._handleKeyDown(a)}),g.registerIncoming("key-up",b,function(a){return g._handleKeyUp(a)}),g;var a}return u(e,h),e.prototype._handleKeyDown=function(e){e.data.repeat||this._handleKey(e,!0)},e.prototype._handleKeyUp=function(e){this._handleKey(e,!1)},e.prototype._handleKey=function(e,h){var b=this._keyMap[e.data.key];if(null!=b){if(h)switch(b){case "left":this.view.navigation.continousPanLeft();break;case "right":this.view.navigation.continousPanRight();
break;case "up":this.view.navigation.continousPanUp();break;case "down":this.view.navigation.continousPanDown()}else this.view.navigation.stop();e.stopPropagation()}},e}(m.InputHandler);p.KeyPan=y})},"esri/views/2d/input/handlers/KeyZoom":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});var h;!function(e){e[e.IN=0]="IN";e[e.OUT=1]="OUT"}(h||(h={}));y=function(e){function m(l,
b,g){var a=e.call(this,!0)||this;return a.view=l,a.keys=b,a._keysToZoomAction={},a.registerIncoming("key-down",g,function(b){return a._handleKeyDown(b)}),b.zoomIn.forEach(function(b){return a._keysToZoomAction[b]=h.IN}),b.zoomOut.forEach(function(b){return a._keysToZoomAction[b]=h.OUT}),a}return u(m,e),m.prototype._handleKeyDown=function(e){this._handleKey(e)},m.prototype._handleKey=function(e){var b=e.modifiers;0<b.size&&!b.has("Shift")||(b=this._keysToZoomAction[e.data.key],b===h.IN?(this.view.navigation.zoomIn(),
e.stopPropagation()):b===h.OUT&&(this.view.navigation.zoomOut(),e.stopPropagation()))},m}(m.InputHandler);p.KeyZoom=y})},"esri/views/2d/input/handlers/KeyRotate":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function e(e,l,b){var g=h.call(this,!0)||this;return g.view=e,g.keys=l,g._keyToDirection=(a={},a[l.clockwiseOption1]="clockwise",a[l.clockwiseOption2]=
"clockwise",a[l.counterClockwiseOption1]="counterClockwise",a[l.counterClockwiseOption2]="counterClockwise",a[l.resetOption1]="reset",a[l.resetOption2]="reset",a),g.registerIncoming("key-down",b,function(a){return g._handleKeyDown(a)}),g.registerIncoming("key-up",b,function(a){return g._handleKeyUp(a)}),g;var a}return u(e,h),e.prototype._handleKeyDown=function(e){e.data.repeat||this._handleKey(e,!0)},e.prototype._handleKeyUp=function(e){this._handleKey(e,!1)},e.prototype._handleKey=function(e,h){var b=
e.modifiers;0<b.size&&!b.has("Shift")||!this.view.constraints.rotationEnabled||(b=this._keyToDirection[e.data.key])&&(h?"clockwise"===b?this.view.navigation.continousRotateClockwise():"counterClockwise"===b?this.view.navigation.continousRotateCounterclockwise():this.view.navigation.resetRotation():this.view.navigation.stop(),e.stopPropagation())},e}(m.InputHandler);p.KeyRotate=y})},"esri/views/2d/input/handlers/MouseWheelZoom":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper",
"../../../input/InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function e(e,l){var b=h.call(this,!0)||this;return b.view=e,b._canZoom=!0,b.registerIncoming("mouse-wheel",l,function(e){return b._handleMouseWheel(e)}),b}return u(e,h),e.prototype._handleMouseWheel=function(e){var h=this;if(this._canZoom){var b=e.data;(b=this.view.navigation.zoom(1/Math.pow(.6,1/60*b.deltaY),[b.x,b.y]))&&(this._canZoom=!1,b.always(function(){h._canZoom=!0}));e.stopPropagation()}},
e}(m.InputHandler);p.MouseWheelZoom=y})},"esri/views/2d/input/handlers/PinchAction":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler"],function(y,p,u,m){Object.defineProperty(p,"__esModule",{value:!0});y=function(h){function e(e){var l=h.call(this,!0)||this;return l.view=e,l.registerIncoming("drag",function(b){return l._handleDrag(b)}),l.registerIncoming("pointer-down",function(b){return l.stopMomentumNavigation()}),l}return u(e,h),e.prototype._handleDrag=
function(e){var h=e.data;if(!(2>h.pointers.length)){var b=this.view.navigation.pinch;switch(h.action){case "start":b.begin(this.view,h);break;case "update":b.update(this.view,h);break;case "end":b.end(this.view,h)}e.stopPropagation()}},e.prototype.stopMomentumNavigation=function(){this.view.navigation.pinch.stopMomentumNavigation()},e}(m.InputHandler);p.PinchRotateAndZoom=y})},"esri/views/2d/navigation/MapViewNavigation":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Accessor ../../../Viewpoint ../../../geometry/Point ./actions/Pan ./actions/Rotate ./actions/Pinch ./ZoomBox ../viewpointUtils".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v){var w=new q({targetGeometry:new l}),x=[0,0];return function(e){function l(a){a=e.call(this)||this;return a.animationManager=null,a}return u(l,e),l.prototype.initialize=function(){this.pan=new b({navigation:this});this.rotate=new g({navigation:this});this.pinch=new a({navigation:this});this.zoomBox=new r({view:this.view,navigation:this})},l.prototype.destroy=function(){this.zoomBox.destroy();this.animationManager=this.zoomBox=null},l.prototype.begin=function(){this._set("interacting",
!0)},l.prototype.end=function(){this._set("interacting",!1)},l.prototype.zoom=function(a,b){return void 0===b&&(b=this._getDefaultAnchor()),this.stop(),this.begin(),this.view.constraints.snapToZoom&&this.view.constraints.effectiveLODs?1>a?this.zoomIn(b):this.zoomOut(b):void this.setViewpoint(b,a,0)},l.prototype.zoomIn=function(a){void 0===a&&(a=this._getDefaultAnchor());this.begin();var b=this.view,e=b.scale,g=b.constraints.snapToNextScale(e);a=b.goTo(this._scaleAndRotateViewpoint(w,a,g/e,0));return this.end(),
a},l.prototype.zoomOut=function(a){void 0===a&&(a=this._getDefaultAnchor());this.begin();var b=this.view,e=b.scale,g=b.constraints.snapToPreviousScale(e);a=b.goTo(this._scaleAndRotateViewpoint(w,a,g/e,0));return this.end(),a},l.prototype.setViewpoint=function(a,b,e){this.begin();this.view.state.viewpoint=this._scaleAndRotateViewpoint(w,a,b,e);this.end()},l.prototype.animateViewpoint=function(a,b,e){return this.view.goTo(this._scaleAndRotateViewpoint(w,a,b,e))},l.prototype.continousRotateClockwise=
function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){v.rotateBy(a,a,-1)})},l.prototype.continousRotateCounterclockwise=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){v.rotateBy(a,a,1)})},l.prototype.resetRotation=function(){this.view.rotation=0},l.prototype.continousPanLeft=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){v.translateBy(a,a,[-10,0])})},l.prototype.continousPanRight=
function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){v.translateBy(a,a,[10,0])})},l.prototype.continousPanUp=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){v.translateBy(a,a,[0,10])})},l.prototype.continousPanDown=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){v.translateBy(a,a,[0,-10])})},l.prototype.stop=function(){this.pan.stopMomentumNavigation();this.animationManager.stop();
this.end()},l.prototype._getDefaultAnchor=function(){var a=this.view.size;return x[0]=.5*a[0],x[1]=.5*a[1],x},l.prototype._scaleAndRotateViewpoint=function(a,b,e,g){var h=this.view,l=h.size,m=h.padding,r=h.constraints,q=h.viewpoint,p=h.scale*e,h=r.canZoomInTo(p),r=r.canZoomOutTo(p);return 1>e&&!h||1<e&&!r?q:v.padAndScaleAndRotateBy(a,q,e,g,b,l,m)},m([h.property()],l.prototype,"animationManager",void 0),m([h.property({type:Boolean,readOnly:!0})],l.prototype,"interacting",void 0),m([h.property()],l.prototype,
"pan",void 0),m([h.property()],l.prototype,"pinch",void 0),m([h.property()],l.prototype,"rotate",void 0),m([h.property()],l.prototype,"view",void 0),m([h.property()],l.prototype,"zoomBox",void 0),l=m([h.subclass("esri.views.2d.navigation.MapViewNavigation")],l)}(h.declared(e))})},"esri/views/2d/navigation/actions/Pan":function(){define("require exports ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/accessorSupport/decorators ../../../../core/Accessor ../../viewpointUtils ../../../navigation/Momentum ../../../3d/lib/glMatrix".split(" "),
function(y,p,u,m,h,e,q,l,b){return function(e){function a(a){var b=e.call(this)||this;return b.animationTime=0,b.momentumEstimator=new l.ScreenspaceMomentumEstimator(.05,600,6,.92),b.momentum=null,b.momentumVelocityX=0,b.momentumVelocityY=0,b.momentumFinished=!1,b.viewpoint=q.create(),b.watch("momentumFinished",function(a){a&&b.navigation.stop()}),b}return u(a,e),a.prototype.begin=function(a,b){this.navigation.begin();this.momentumEstimator.reset();this.addToEstimator(b)},a.prototype.update=function(a,
b){this.addToEstimator(b);var e=b.pointers[0];b=e.currentEvent.x;var g=e.currentEvent.y;b=(e=e.previousEvent)?e.x-b:-b;g=e?g-e.y:g;a.viewpoint=q.translateBy(this.viewpoint,a.viewpoint,[b||0,g||0])},a.prototype.end=function(a,b){this.addToEstimator(b);this.momentum=this.momentumEstimator.evaluateMomentum();this.animationTime=0;this.momentum&&(this.momentumVelocityX=(this.momentum.dataNewest[0]-this.momentum.dataOldest[0])/this.momentum.dataTimeDelta,this.momentumVelocityY=(this.momentum.dataNewest[1]-
this.momentum.dataOldest[1])/this.momentum.dataTimeDelta,this.onAnimationUpdate(a));this.navigation.end()},a.prototype.addToEstimator=function(a){var e=a.pointers[0],g=e.currentEvent.x,e=e.currentEvent.y;this.momentumEstimator.add(g,e,b.vec3.createFrom(g,e,0),.001*a.currentState.timestamp)},a.prototype.onAnimationUpdate=function(a){var b=this;this.navigation.animationManager.animateContinous(a.viewpoint,function(e,g){b.momentumFinished=!b.momentum||b.momentum.isFinished(b.animationTime);g*=.001;if(!b.momentumFinished){var h=
b.momentum.velocityFactor(b.animationTime);a.viewpoint=q.translateBy(e,e,[-(h*b.momentumVelocityX*g),h*b.momentumVelocityY*g])}b.animationTime+=g})},a.prototype.stopMomentumNavigation=function(){this.momentum&&(this.momentumEstimator.reset(),this.momentum=null,this.navigation.stop())},m([h.property()],a.prototype,"momentumFinished",void 0),m([h.property()],a.prototype,"viewpoint",void 0),m([h.property()],a.prototype,"navigation",void 0),a=m([h.subclass("esri.views.2d.navigation.actions.Pan")],a)}(h.declared(e))})},
"esri/views/navigation/Momentum":function(){define(["require","exports","../../core/tsSupport/extendsHelper","./ValueHistory","../3d/lib/glMatrix"],function(y,p,u,m,h){Object.defineProperty(p,"__esModule",{value:!0});var e=function(){function b(a,b,e){this._initialVelocity=a;this._stopVelocity=b;this._friction=e;this._duration=Math.abs(Math.log(Math.abs(this._initialVelocity)/this._stopVelocity)/Math.log(1-this._friction))}return Object.defineProperty(b.prototype,"duration",{get:function(){return this._duration},
enumerable:!0,configurable:!0}),b.prototype.isFinished=function(a){return a>this.duration},Object.defineProperty(b.prototype,"friction",{get:function(){return this._friction},enumerable:!0,configurable:!0}),b.prototype.value=function(a){a=Math.min(a,this.duration);var b=1-this._friction;return this._initialVelocity*(Math.pow(b,a)-1)/Math.log(b)},b.prototype.valueDelta=function(a,b){var e=this.value(a);return this.value(a+b)-e},b}();p.Momentum=e;y=function(){function b(a,b,e,g){void 0===a&&(a=.05);
this._minimumInitialVelocity=b;this._stopVelocity=e;this._friction=g;this._history=new m.ValueHistory(1E3*a)}return b.prototype.add=function(a,b){void 0!==b&&(b*=1E3);this._history.add(a,b)},b.prototype.reset=function(){this._history.reset()},Object.defineProperty(b.prototype,"stopVelocity",{get:function(){return this._stopVelocity},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"friction",{get:function(){return this._friction},enumerable:!0,configurable:!0}),b.prototype.evaluateMomentum=
function(){var a=this._evaluateVelocity();return null!==a?new e(a,this._stopVelocity,this._friction):null},b.prototype._evaluateVelocity=function(){var a=this._history,b=a.oldest,a=a.newest;if(b&&a){var e=(a.timeStamp-b.timeStamp)/1E3;if(0<e&&(b=(a.value-b.value)/e,Math.abs(b)>=this._minimumInitialVelocity))return b}return null},b}();p.MomentumEstimator=y;var q=function(b){function a(a,e,g){return b.call(this,a,e,g)||this}return u(a,b),a.prototype.value=function(a){a=b.prototype.value.call(this,a);
return Math.exp(a)},a.prototype.valueDelta=function(a,e){var g=b.prototype.value.call(this,a);a=b.prototype.value.call(this,a+e);return Math.exp(a-g)},a}(e);p.ZoomMomentum=q;var l=function(b){function a(a,e,g,h){return void 0===a&&(a=.05),void 0===e&&(e=4),void 0===g&&(g=.01),void 0===h&&(h=.95),b.call(this,a,e,g,h)||this}return u(a,b),a.prototype.add=function(a,e){b.prototype.add.call(this,Math.log(a),e)},a.prototype.evaluateMomentum=function(){var a=this._evaluateVelocity();return null!==a?new q(a,
this.stopVelocity,this.friction):null},a}(y);p.ZoomMomentumEstimator=l;y=function(b){function a(a,e,g,h){return void 0===a&&(a=.05),void 0===e&&(e=4),void 0===g&&(g=.01),void 0===h&&(h=.95),b.call(this,a,e,g,h)||this}return u(a,b),a.prototype.add=function(a,e){var g=this._history.newest;if(g){g=g.value;for(a-=g;a>Math.PI;)a-=2*Math.PI;for(;a<-Math.PI;)a+=2*Math.PI;a=g+a}b.prototype.add.call(this,a,e)},a}(y);p.RotationMomentumEstimator=y;var b=function(b){function a(a,e,g,h,l,m){a=b.call(this,a,e,
g)||this;return a.dataOldest=h,a.dataNewest=l,a.dataTimeDelta=m,a}return u(a,b),a.prototype.velocityFactor=function(a){return a=Math.min(a,this.duration),Math.pow(1-this.friction,a)},a.prototype.valueFromInitialVelocity=function(a,b){b=Math.min(b,this.duration);var e=1-this.friction;return a*(Math.pow(e,b)-1)/Math.log(e)},a}(e);p.ScreenspaceMomentum=b;y=function(){function e(a,b,e,g){void 0===a&&(a=.05);this._minimumInitialVelocity=b;this._stopVelocity=e;this._friction=g;this._entryPool=[];this._history=
new m.ValueHistory(1E3*a)}return e.prototype.add=function(a,b,e,g){void 0!==g&&(g*=1E3);var l;0!==this._entryPool.length?(l=this._entryPool.pop(),l.x=a,l.y=b,h.vec3d.set(e,l.data)):l={x:a,y:b,data:h.vec3d.create(e)};this._history.add(l,g)},e.prototype.reset=function(){for(var a=0,b=this._history.values;a<b.length;a++)this._entryPool.push(b[a].value);this._history.reset()},Object.defineProperty(e.prototype,"stopVelocity",{get:function(){return this._stopVelocity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,
"friction",{get:function(){return this._friction},enumerable:!0,configurable:!0}),e.prototype.evaluateMomentum=function(){var a=this._evaluateVelocity(),e=this._history.oldest,g=this._history.newest;return null!==a?new b(a,this._stopVelocity,this._friction,e.value.data,g.value.data,.001*(g.timeStamp-e.timeStamp)):null},e.prototype._evaluateVelocity=function(){var a=this._history,b=a.oldest,e=a.newest;if(b&&e&&(a=.001*(e.timeStamp-b.timeStamp),0<a)){var g=e.value.x-b.value.x,b=e.value.y-b.value.y,
b=Math.sqrt(g*g+b*b)/a;if(Math.abs(b)>=this._minimumInitialVelocity)return b}return null},e}();p.ScreenspaceMomentumEstimator=y})},"esri/views/navigation/ValueHistory":function(){define(["require","exports","../../core/now"],function(y,p,u){Object.defineProperty(p,"__esModule",{value:!0});y=function(){function m(h){this._maximumAge=h;this._values=[]}return Object.defineProperty(m.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),m.prototype.reset=function(){this._values=
[]},m.prototype.add=function(h,e){e=void 0!==e?e:u();this._values.push({value:h,timeStamp:e});this._cleanup(e)},Object.defineProperty(m.prototype,"newest",{get:function(){var h=this._values.length;return 0<h?this._values[h-1]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"oldest",{get:function(){return 0<this._values.length?this._values[0]:void 0},enumerable:!0,configurable:!0}),m.prototype._cleanup=function(h){for(;0<this._values.length&&this._values[0].timeStamp+this._maximumAge<
h;)this._values.shift()},m}();p.ValueHistory=y})},"esri/views/2d/navigation/actions/Rotate":function(){define("require exports ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/accessorSupport/decorators ../../../../core/Accessor ../../viewpointUtils ../../libs/gl-matrix/vec2".split(" "),function(y,p,u,m,h,e,q,l){return function(b){function e(a){a=b.call(this)||this;return a.animationTime=0,a.viewpoint=q.create(),a}return u(e,b),e.prototype.begin=
function(a,b){this.navigation.begin()},e.prototype.update=function(a,b){var e=b.pointers[0];b=l.create();l.set(b,e.currentEvent.x+a.padding.left-a.padding.right,a.height-e.currentEvent.y+a.padding.top-a.padding.bottom);var e=e.previousEvent,g=l.create();l.set(g,e.x+a.padding.left-a.padding.right,a.height-e.y+a.padding.top-a.padding.bottom);b=q.angleBetween([a.state.paddedScreenCenter[0]+a.padding.left-a.padding.right,a.state.paddedScreenCenter[1]],b,g);a.viewpoint=q.rotateBy(this.viewpoint,a.content.viewpoint,
b)},e.prototype.end=function(a,b){this.navigation.end()},m([h.property()],e.prototype,"viewpoint",void 0),m([h.property()],e.prototype,"navigation",void 0),e=m([h.subclass("esri.views.2d.actions.Rotate")],e)}(h.declared(e))})},"esri/views/2d/navigation/actions/Pinch":function(){define("require exports ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/accessorSupport/decorators ../../../../core/Accessor ../../viewpointUtils ../../../navigation/Momentum ../../libs/gl-matrix/vec2".split(" "),
function(y,p,u,m,h,e,q,l,b){return function(e){function a(a){var b=e.call(this,a)||this;return b.animationTime=0,b.momentumFinished=!1,b.rotateMomentumEstimator=new l.RotationMomentumEstimator(.05,6,.15,.95),b.rotateMomentum=null,b.rotationDirection=1,b.zoomMomentumEstimator=new l.ZoomMomentumEstimator(.05),b.zoomMomentum=null,b.zoomDirection=1,b.viewpoint=q.create(),b.watch("momentumFinished",function(a){a&&b.navigation.stop()}),b}return u(a,e),a.prototype.begin=function(a,b){this.navigation.begin();
this.rotateMomentumEstimator.reset();this.zoomMomentumEstimator.reset();this.addToRotateEstimator(b,0);this.addToZoomEstimator(b,b.startState.radius/b.currentState.radius)},a.prototype.update=function(a,b){var e=b.currentState,g=e.angle,h=e.radius,e=e.center,l=b.previousState,m=l.radius,r=l.angle,l=b.startState.radius/h;m&&(h/=m,g=180*(g-r)/Math.PI,this.rotationDirection=0<=g?1:-1,this.zoomDirection=1<=h?1:-1,a.constraints.rotationEnabled||(g=0),this.addToRotateEstimator(b,g),this.addToZoomEstimator(b,
l),this.center=e,this.navigation.setViewpoint([e.x,e.y],1/h,g))},a.prototype.end=function(a,b){this.addToRotateEstimator(b,0);this.addToZoomEstimator(b,b.startState.radius/b.currentState.radius);this.rotateMomentum=this.rotateMomentumEstimator.evaluateMomentum();this.zoomMomentum=this.zoomMomentumEstimator.evaluateMomentum();this.animationTime=0;(this.rotateMomentum||this.zoomMomentum)&&this.onAnimationUpdate(a);this.navigation.end()},a.prototype.addToRotateEstimator=function(a,b){this.rotateMomentumEstimator.add(b,
.001*a.currentState.timestamp)},a.prototype.addToZoomEstimator=function(a,b){this.zoomMomentumEstimator.add(b,.001*a.currentState.timestamp)},a.prototype.canZoomIn=function(a){var b=a.scale;a=a.constraints.effectiveMaxScale;return 0===a||b>a},a.prototype.canZoomOut=function(a){var b=a.scale;a=a.constraints.effectiveMinScale;return 0===a||a>b},a.prototype.onAnimationUpdate=function(a){var e=this;this.navigation.animationManager.animateContinous(a.viewpoint,function(g,h){var l=!e.canZoomIn(a)&&1<e.zoomDirection||
!e.canZoomOut(a)&&1>e.zoomDirection;e.momentumFinished=!e.rotateMomentum||e.rotateMomentum.isFinished(e.animationTime)||l;h*=.001;if(e.notifyChange("momentumFinished"),!e.momentumFinished){var l=Math.abs(e.rotateMomentum.valueDelta(e.animationTime,h))*e.rotationDirection*2,m=e.zoomMomentum?Math.abs(e.zoomMomentum.valueDelta(e.animationTime,h)):1,r=b.create(),p=b.create();b.set(r,e.center.x,e.center.y);q.getPaddingScreenTranslation(p,a.size,a.padding);b.add(r,r,p);q.scaleAndRotateBy(g,a.viewpoint,
m,l,r,a.size)}e.animationTime+=h})},a.prototype.stopMomentumNavigation=function(){(this.rotateMomentum||this.zoomMomentum)&&(this.rotateMomentum&&(this.rotateMomentumEstimator.reset(),this.rotateMomentum=null),this.zoomMomentum&&(this.zoomMomentumEstimator.reset(),this.zoomMomentum=null),this.navigation.stop())},m([h.property()],a.prototype,"momentumFinished",void 0),m([h.property()],a.prototype,"viewpoint",void 0),m([h.property()],a.prototype,"navigation",void 0),a=m([h.subclass("esri.views.2d.navigation.actions.Pinch")],
a)}(h.declared(e))})},"esri/views/2d/navigation/ZoomBox":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Accessor".split(" "),function(y,p,u,m,h,e){return function(e){function l(b){b=e.call(this,b)||this;return b._container=null,b._overlay=null,b._backgroundShape=null,b._boxShape=null,b._box={x:0,y:0,width:0,height:0},b._redraw=b._redraw.bind(b),b}return u(l,e),l.prototype.destroy=
function(){this.view=null},Object.defineProperty(l.prototype,"view",{set:function(b){var e=this;this._handles&&this._handles.forEach(function(a){a.remove()});this._handles=null;this._destroyOverlay();this._set("view",b);b&&(b.on("drag",["Shift"],function(a){return e._handleDrag(a,1)}),b.on("drag",["Shift","Ctrl"],function(a){return e._handleDrag(a,-1)}))},enumerable:!0,configurable:!0}),l.prototype._start=function(b,e,a,h){this._createContainer();this._createOverlay();this.navigation.begin()},l.prototype._update=
function(b,e,a,h){this._box.x=b;this._box.y=e;this._box.width=a;this._box.height=h;this._rafId||(this._rafId=requestAnimationFrame(this._redraw))},l.prototype._end=function(b,e,a,h,l){var g=this.view;b=g.toMap(b+.5*a,e+.5*h);a=Math.max(a/g.width,h/g.height);-1===l&&(a=1/a);this._destroyOverlay();this.navigation.end();g.goTo({center:b,scale:g.scale*a})},l.prototype._updateBox=function(b,e,a,h){var g=this._boxShape;g.setAttributeNS(null,"x",""+b);g.setAttributeNS(null,"y",""+e);g.setAttributeNS(null,
"width",""+a);g.setAttributeNS(null,"height",""+h);g.setAttributeNS(null,"class","esri-zoom-box__outline")},l.prototype._updateBackground=function(b,e,a,h){this._backgroundShape.setAttributeNS(null,"d",this._toSVGPath(b,e,a,h,this.view.width,this.view.height))},l.prototype._createContainer=function(){var b=document.createElement("div");b.className="esri-zoom-box__container";this.view.root.appendChild(b);this._container=b},l.prototype._createOverlay=function(){var b=this.view.width,e=this.view.height,
a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d","M 0 0 L "+b+" 0 L "+b+" "+e+" L 0 "+e+" Z");a.setAttributeNS(null,"class","esri-zoom-box__overlay-background");b=document.createElementNS("http://www.w3.org/2000/svg","rect");e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");e.setAttributeNS(null,"class","esri-zoom-box__overlay");e.appendChild(a);e.appendChild(b);
this._container.appendChild(e);this._backgroundShape=a;this._boxShape=b;this._overlay=e},l.prototype._destroyOverlay=function(){this._container&&this._container.parentNode&&this._container.parentNode.removeChild(this._container);this._container=this._backgroundShape=this._boxShape=this._overlay=null},l.prototype._toSVGPath=function(b,e,a,h,l,m){a=b+a;h=e+h;return"M 0 0 L "+l+" 0 L "+l+" "+m+" L 0 "+m+" ZM "+b+" "+e+" L "+b+" "+h+" L "+a+" "+h+" L "+a+" "+e+" Z"},l.prototype._handleDrag=function(b,
e){var a,g,h,l,m=b.x,q=b.y,p=b.origin.x,u=b.origin.y;switch(m>p?(a=p,h=m-p):(a=m,h=p-m),q>u?(g=u,l=q-u):(g=q,l=u-q),b.action){case "start":this._start(a,g,h,l);break;case "update":this._update(a,g,h,l);break;case "end":this._end(a,g,h,l,e)}b.stopPropagation()},l.prototype._redraw=function(){if(this._rafId&&(this._rafId=null,this._overlay)){var b=this._box,e=b.x,a=b.y,h=b.width,b=b.height;this._updateBox(e,a,h,b);this._updateBackground(e,a,h,b);this._rafId=requestAnimationFrame(this._redraw)}},m([h.property()],
l.prototype,"navigation",void 0),m([h.property()],l.prototype,"view",null),l=m([h.subclass("esri.views.2d.navigation.ZoomBox")],l)}(h.declared(e))})},"esri/views/2d/support/HighlightOptions":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Accessor ../../../Color".split(" "),function(y,p,u,m,h,e,q){return function(e){function b(){var b=null!==e&&e.apply(this,arguments)||this;
return b.color=new q([0,255,255]),b.haloOpacity=1,b.fillOpacity=.5,b}return u(b,e),m([h.property({type:q})],b.prototype,"color",void 0),m([h.property()],b.prototype,"haloOpacity",void 0),m([h.property()],b.prototype,"fillOpacity",void 0),b=m([h.subclass("esri.views.2d.support.HighlightOptions")],b)}(h.declared(e))})},"esri/views/BreakpointsOwner":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/accessorSupport/decorators ../core/watchUtils ./DOMContainer ../core/Accessor ../core/ArrayPool ../core/HandleRegistry dojo/dom-class".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r){var v={widthBreakpoint:{getValue:function(a){var b=a.viewSize[0];a=a.breakpoints;var e=this.values;return b<=a.xsmall?e.xsmall:b<=a.small?e.small:b<=a.medium?e.medium:b<=a.large?e.large:e.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",
medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},
heightBreakpoint:{getValue:function(a){var b=a.viewSize[1];a=a.breakpoints;var e=this.values;return b<=a.xsmall?e.xsmall:b<=a.small?e.small:b<=a.medium?e.medium:b<=a.large?e.large:e.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",
medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},
orientation:{getValue:function(a){a=a.viewSize;var b=this.values;return a[1]>=a[0]?b.portrait:b.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},w={xsmall:544,small:768,medium:992,large:1200};return function(b){function l(){var e=null!==b&&b.apply(this,arguments)||this;return e._breakpointsHandles=new a,e.breakpoints=w,e.orientation=null,e.widthBreakpoint=null,e.heightBreakpoint=
null,e}return u(l,b),l.prototype.initialize=function(){this._breakpointsHandles.add([q.init(this,["breakpoints","size"],this._updateClassNames)])},l.prototype.destroy=function(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)},l.prototype._updateClassNames=function(){if(this.container){var a,b,e,h=g.acquire(),l=g.acquire(),m=!1;for(a in v)b=this[a],e=v[a].getValue({viewSize:this.size,breakpoints:this.breakpoints}),b!==e&&(m=!0,this[a]=
e,l.push(v[a].valueToClassName[b]),h.push(v[a].valueToClassName[e]));m&&(this._applyClassNameChanges(h,l),g.release(h),g.release(l))}},l.prototype._applyClassNameChanges=function(a,b){var e=this.container;e&&(r.remove(e,b),r.add(e,a))},l.prototype._removeActiveClassNames=function(){var a=this.container;if(a)for(var b in v)r.remove(a,v[b].valueToClassName[this[b]])},m([e.property({set:function(a){var b=this._get("breakpoints");if(a!==b){b=(b=a)&&b.xsmall<b.small&&b.small<b.medium&&b.medium<b.large;
if(!b){var e=JSON.stringify(w,null,2);console.warn("provided breakpoints are not valid, using defaults:"+e)}a=b?a:w;this._set("breakpoints",h({},a))}}})],l.prototype,"breakpoints",void 0),m([e.property()],l.prototype,"orientation",void 0),m([e.property()],l.prototype,"widthBreakpoint",void 0),m([e.property()],l.prototype,"heightBreakpoint",void 0),l=m([e.subclass("esri.views.BreakpointsOwner")],l)}(e.declared(b,l))})},"esri/views/2d/layers/GraphicsLayerView2D":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./LayerView2D ./support/GraphicsView2D".split(" "),
function(y,p,u,m,h,e,q){return function(e){function b(){var b=null!==e&&e.apply(this,arguments)||this;return b.graphicsView=new q,b.container=b.graphicsView.container,b}return u(b,e),b.prototype.hitTest=function(b,a){return this.graphicsView.hitTest(b,a)},b.prototype.attach=function(){var b=this;this.layer.createGraphicsController({layerView:this}).then(function(a){b.graphicsView.view=b.view;b.graphicsView.graphics=a.graphics})},b.prototype.detach=function(){this.graphicsView.graphics=null},b.prototype.update=
function(b){},b.prototype.moveStart=function(){},b.prototype.viewChange=function(){},b.prototype.moveEnd=function(){},b=m([h.subclass("esri.views.2d.layers.GraphicsLayerView2D")],b)}(h.declared(e))})},"esri/views/2d/layers/LayerView2D":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/watchUtils ../../layers/LayerView".split(" "),function(y,p,u,m,h,e,q){return function(l){function b(){var b=
null!==l&&l.apply(this,arguments)||this;return b.attached=!1,b.moving=!1,b.updateRequested=!1,b}return u(b,l),b.prototype.initialize=function(){var b=this;this.when(function(){b.requestUpdate()});e.init(this,"suspended",function(a){b.container.visible=!a;!a&&b.updateRequested&&b.view.requestLayerViewUpdate(b)},!0);e.init(this,"fullOpacity",function(a){b.container.opacity=a},!0);var a=function(){this.notifyChange("rendering")}.bind(this);this.container.on("post-render",a);this.container.on("will-render",
a)},b.prototype.destroy=function(){this.attached&&(this.attached=!1,this.detach());this.updateRequested=!1;this.layer=null},Object.defineProperty(b.prototype,"rendering",{get:function(){return this.isRendering()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"updating",{get:function(){return!this.suspended&&(!this.attached||this.updateRequested||this.isUpdating())},enumerable:!0,configurable:!0}),b.prototype.requestUpdate=function(){this.updateRequested||(this.updateRequested=
!0,this.suspended||this.view.requestLayerViewUpdate(this))},b.prototype.processUpdate=function(b){return this.isFulfilled()&&!this.isResolved()?void(this.updateRequested=!1):(this._set("updateParameters",b),void(this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(b))))},b.prototype.isUpdating=function(){return!1},b.prototype.isRendering=function(){return this.attached&&(this.moving||this.container.renderRequested)},b.prototype.canResume=function(){var b=this.inherited(arguments),
a=this.layer;if(b&&null!=a.minScale&&null!=a.minScale){var b=this.view.scale,e=a.minScale,a=a.maxScale,h=!e,l=!a;!h&&e>=b&&(h=!0);!l&&b>=a&&(l=!0);b=h&&l}return b},m([h.property()],b.prototype,"attached",void 0),m([h.property()],b.prototype,"container",void 0),m([h.property()],b.prototype,"moving",void 0),m([h.property({dependsOn:["moving"]})],b.prototype,"rendering",null),m([h.property({dependsOn:["view.scale","layer.minScale","layer.maxScale"]})],b.prototype,"suspended",void 0),m([h.property({readOnly:!0})],
b.prototype,"updateParameters",void 0),m([h.property()],b.prototype,"updateRequested",void 0),m([h.property({dependsOn:["updateRequested","attached"]})],b.prototype,"updating",null),m([h.property()],b.prototype,"view",void 0),b=m([h.subclass("esri.views.2d.layers.LayerView2D")],b)}(h.declared(q))})},"esri/views/2d/layers/FeatureLayerView2D":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper dojo/has ../../../core/accessorSupport/decorators ../../../core/Collection ../../../core/Error ../../../core/HandleRegistry ../../../core/promiseUtils ../../../core/requireUtils ../../../Graphic ../../../layers/graphics/QueryEngine ./LayerView2D ../../layers/RefreshableLayerView ./support/FeaturesView2D ../engine/DOMContainer".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E){function B(a){return a&&a.update}return function(p){function w(){var a=null!==p&&p.apply(this,arguments)||this;return a._handles=new b,a.container=new E,a}return u(w,p),w.prototype.highlight=function(a,b){var e,g=this;b=this.featuresView;return a instanceof r?e=[a.getAttribute(this.layer.objectIdField)]:"number"==typeof a?e=[a]:q.isCollection(a)?e=a.map(function(a){return a.getAttribute(g.layer.objectIdField)}).toArray():Array.isArray(a)&&0<a.length&&(e=
"number"==typeof a[0]?a:a.map(function(a){return a.getAttribute(g.layer.objectIdField)})),e&&e.length&&b&&b.highlight?b.highlight(e):{remove:function(){}}},w.prototype.queryGraphics=function(){return this._queryEngine?this._queryEngine.queryFeatures():this._rejectQuery()},w.prototype.queryFeatures=function(a){return this._queryEngine?this._queryEngine.queryFeatures(a):this._rejectQuery()},w.prototype.queryObjectIds=function(a){return this._queryEngine?this._queryEngine.queryObjectIds(a):this._rejectQuery()},
w.prototype.queryFeatureCount=function(a){return this._queryEngine?this._queryEngine.queryFeatureCount(a):this._rejectQuery()},w.prototype.queryExtent=function(a){return this._queryEngine?this._queryEngine.queryExtent(a):this._rejectQuery()},w.prototype.hitTest=function(a,b){return this.suspended||!this.featuresView?g.resolve():this.featuresView.hitTest(a,b)},w.prototype.update=function(a){B(this.controller)?this.controller.update(a):B(this.featuresView)&&this.featuresView.update(a)},w.prototype.attach=
function(){var b=this;this._canUseWebGL()?a.when(y,["./support/FeatureLayerView2DWebGL"]).then(function(a){a=a[0];if(b.attached)return(new a({layer:b.layer,view:b.view})).when()}).then(function(a){b.featuresView=a;b.container.addChild(a.container);a.attached=!0;a.attach()}):this.layer.createGraphicsController({layerView:this}).then(function(a){if(b.attached){b._set("controller",a);b.requestUpdate();var e=new D;e.mapView=b.view;e.graphics=a.graphics;e.layer=b.layer;e.renderer=b.layer.renderer;b.featuresView=
e;b._handles.add(b.layer.watch("renderer",function(){e.renderer=b.layer.renderer}));b._queryEngine=new v;b._queryEngine.features=a.graphics;b._queryEngine.objectIdField=b.layer.objectIdField;b.container.addChild(e.container)}})},w.prototype.detach=function(){this.container.removeAllChildren();this._handles.removeAll();this.featuresView&&(this.featuresView.destroy(),this.featuresView=null);this.controller&&(this.controller.destroy&&this.controller.destroy(),this._set("controller",null))},w.prototype.moveStart=
function(){this.requestUpdate()},w.prototype.viewChange=function(){this.requestUpdate()},w.prototype.moveEnd=function(){this.requestUpdate()},w.prototype.doRefresh=function(){if(!this.updateRequested&&!this.suspended){var a;if(a=this.controller)a=(a=this.controller.activeController)&&a.refresh;a&&this.controller.activeController.refresh()}},w.prototype.isUpdating=function(){return null==this.featuresView||!0===this.get("controller.updating")||this.featuresView.updateRequested||B(this.featuresView)&&
this.featuresView.isUpdating()},w.prototype._canUseWebGL=function(){return h("esri-featurelayer-webgl")&&h("esri-webgl")&&this._isRendererWebGLCompatible()&&(this.layer.capabilities.query.supportsQuantization&&("polygon"!==this.layer.geometryType||this.layer.capabilities.query.supportsCentroid)||this.layer.source&&"esri.layers.graphics.sources.CSVSource"===this.layer.source.declaredClass)},w.prototype._isRendererWebGLCompatible=function(){var a=this.layer.renderer;return a?-1===["simple","class-breaks",
"unique-value"].indexOf(a.type)?!1:!0:!1},w.prototype._rejectQuery=function(){return g.reject(new l("FeatureLayerView2D","Not ready to execute query"))},m([e.property({readOnly:!0})],w.prototype,"controller",void 0),m([e.property()],w.prototype,"featuresView",void 0),m([e.property({dependsOn:["controller.updating","featuresView","featuresView.updating"]})],w.prototype,"updating",void 0),w=m([e.subclass("esri.views.2d.layers.FeatureLayerView2D")],w)}(e.declared(w,x))})},"esri/layers/graphics/QueryEngine":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../core/Error ../../core/promiseUtils ../../geometry/support/graphicsUtils".split(" "),
function(y,p,u,m,h,e,q,l,b){return function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.features=null,a.objectIdField=null,a}return u(a,e),a.prototype.queryFeatures=function(a){if(this.features)if(a)if(this._isSupportedQuery(a)){var b=this._createFilters(a);a=b.length?this._executeQuery(a,b):this._rejectQuery("Invalid query")}else a=this._rejectQuery("Unsupported query");else a=this._returnAllFeatures();else a=this._rejectQuery("Engine not initialized");return a},a.prototype.queryObjectIds=
function(a){return this.objectIdField?this.queryFeatures(a).then(this._getObjectIds.bind(this)):this._rejectQuery("Unsupported query")},a.prototype.queryFeatureCount=function(a){return this.queryFeatures(a).then(function(a){return a.length})},a.prototype.queryExtent=function(a){var b=this;return this.queryFeatures(a).then(function(a){return{count:a.length,extent:b._getExtent(a)}})},a.prototype._returnAllFeatures=function(){return l.resolve(this.features.toArray())},a.prototype._executeQuery=function(a,
b){var e=this,g=this.features.filter(function(g){return b.every(function(b){return b.call(e,g,a)})});return l.resolve(g.toArray())},a.prototype._isSupportedQuery=function(a){var b=!0;return(null!=a.distance||null!=a.geometryPrecision||a.groupByFieldsForStatistics&&a.groupByFieldsForStatistics.length||null!=a.maxAllowableOffset||a.multipatchOption||null!=a.num||a.orderByFields&&a.orderByFields.length||a.outFields&&a.outFields.length||a.outSpatialReference||a.outStatistics&&a.outStatistics.length||
a.pixelSize||a.quantizationParameters||a.relationParameter||a.returnDistinctValues||null!=a.start||a.text||a.timeExtent||a.where||a.objectIds&&a.objectIds.length&&!this.objectIdField)&&(b=!1),b},a.prototype._createFilters=function(a){var b=[];return a.objectIds&&a.objectIds.length&&b.push(this._createObjectIdFilter()),a.geometry&&"extent"===a.geometry.type&&"intersects"===a.spatialRelationship&&b.push(this._createExtentFilter()),b},a.prototype._createExtentFilter=function(){return function(a,b){a=
a.geometry;b=b.geometry;return a&&b.intersects(a)}},a.prototype._createObjectIdFilter=function(){var a=this;return function(b,e){b=b.attributes;return-1<e.objectIds.indexOf(b&&b[a.objectIdField])}},a.prototype._rejectQuery=function(a){return l.reject(new q(this.declaredClass,a))},a.prototype._getObjectIds=function(a){var b=this.objectIdField,e=[];return a.forEach(function(a){a=(a=a.attributes)&&a[b];null!=a&&e.push(a)}),e},a.prototype._getExtent=function(a){return a.length?b.graphicsExtent(a):null},
m([h.property()],a.prototype,"features",void 0),m([h.property()],a.prototype,"objectIdField",void 0),a=m([h.subclass("esri.layers.graphics.QueryEngine")],a)}(h.declared(e))})},"esri/views/layers/RefreshableLayerView":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor".split(" "),function(y,p,u,m,h,e){return function(e){function l(){var b=null!==e&&e.apply(this,arguments)||this;return b.refreshTimestamp=
null,b}return u(l,e),l.prototype.refresh=function(b){void 0===b&&(b=Date.now());this._set("refreshTimestamp",b);this.doRefresh&&this.doRefresh()},m([h.property()],l.prototype,"layer",void 0),m([h.aliasOf("layer.refreshInterval")],l.prototype,"refreshInterval",void 0),m([h.property({readOnly:!0})],l.prototype,"refreshTimestamp",void 0),l=m([h.subclass("esri.layers.mixins.RefreshableLayerView")],l)}(h.declared(e))})},"esri/views/2d/layers/support/FeaturesView2D":function(){define("require exports ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/accessorSupport/decorators ../../../../core/Collection ../../../../core/HandleRegistry ../../../../core/promiseUtils ../../../../core/Logger ../../../../renderers/support/renderingInfoUtils ../../../../Graphic ../../../layers/GraphicsView ../../engine/graphics/GFXSurface ../../engine/graphics/GFXGroup ../../engine/graphics/GFXObject ../../../../symbols/Symbol3D".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D){var E=b.getLogger("esri.views.2d.layers.support.FeaturesView2D");return function(b){function r(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var g=b.apply(this,a)||this;return g._handles=new q,g._backgroundGroup=new w,g._frontGroup=new w,g._frontObjects=new Map,g._backgroundObjects=new Map,g._scale=0,g.container=new v,g.layer=null,g.container.addChild(g._backgroundGroup),g.container.addChild(g._frontGroup),g.watch("graphics",function(){return g._reset()}),
g.watch("renderer",function(){return g._resymbolize()}),g.watch("mapView.scale, mapView.stationary",function(){return g._applyScale()}),g}return u(r,b),r.prototype.destroy=function(){this.renderer=this.graphics=null},r.prototype.hitTest=function(a,b){a+=this.mapView.position[0]-window.pageXOffset;b+=this.mapView.position[1]-window.pageYOffset;return(a=this.container.hitTest(a,b))?l.resolve(a.graphic):l.resolve()},r.prototype._reset=function(){var a=this;this._handles.remove("graphics");this.graphics&&
(this.graphics.forEach(this._add,this),this._handles.add(this.graphics.on("change",function(b){return a._graphicsChangeHandler(b)}),"graphics"))},r.prototype._applyScale=function(){var a=this.get("mapView.scale"),b=this.get("mapView.stationary");a!==this._scale&&b&&(this._scale=a,this._resymbolize())},r.prototype._resymbolize=function(){var a=this;this.graphics&&this.graphics.forEach(function(b){return a._resymbolizeGraphic(b)})},r.prototype._add=function(a){if(!this._frontObjects.has(a)){var b=g.getRenderingInfo(a,
{renderer:this.renderer,viewingMode:"map",scale:this.mapView.state.scale,resolution:this.mapView.state.resolution,spatialReference:this.mapView.spatialReference});if(b){if(b.symbol instanceof D)return void E.error("3D symbols are not supported with MapView");var e=new x;e.graphic=a;e.renderingInfo=b;this._frontObjects.set(a,e);this._frontGroup.addChild(e);var h=b.renderer&&b.renderer.backgroundFillSymbol;h&&e.isPolygonMarkerSymbol&&(e=new x,e.graphic=a,null!=b.outlineSize?e.renderingInfo={symbol:h,
size:[b.outlineSize,b.outlineSize,b.outlineSize]}:e.renderingInfo={symbol:h},this._backgroundObjects.set(a,e),this._backgroundGroup.addChild(e))}}},r.prototype._remove=function(a){var b=this._frontObjects.get(a);b&&(this._frontObjects["delete"](a),this._frontGroup.removeChild(b),this._backgroundObjects.has(a))&&(b=this._backgroundObjects.get(a),this._backgroundObjects["delete"](a),this._backgroundGroup.removeChild(b))},r.prototype._resymbolizeGraphic=function(a){if(this._frontObjects.has(a)){var b=
g.getRenderingInfo(a,{renderer:this.renderer,viewingMode:"map",scale:this.mapView.state.scale,resolution:this.mapView.state.resolution,spatialReference:this.mapView.spatialReference});if(b){if(b.symbol instanceof D)return void E.error("3D symbols are not supported with MapView");var e=this._frontObjects.get(a);e&&(e.renderingInfo=b);var h=b.renderer&&b.renderer.backgroundFillSymbol,l=this._backgroundObjects.get(a);h&&e.isPolygonMarkerSymbol?(l||(l=new x,l.graphic=a,this._backgroundObjects.set(a,l),
this._backgroundGroup.addChild(l)),null!=b.outlineSize?l.renderingInfo={symbol:h,size:[b.outlineSize,b.outlineSize,b.outlineSize]}:l.renderingInfo={symbol:h}):!h&&l&&(this._backgroundObjects["delete"](a),this._backgroundGroup.removeChild(l))}}},r.prototype._graphicsChangeHandler=function(a){for(var b=a.removed,e=0,g=a.added;e<g.length;e++)a=g[e],this._add(a);for(e=0;e<b.length;e++)a=b[e],this._remove(a)},m([h.property()],r.prototype,"container",void 0),m([h.property(),h.cast(e.ofType(a))],r.prototype,
"graphics",void 0),m([h.property()],r.prototype,"layer",void 0),m([h.property()],r.prototype,"mapView",void 0),r=m([h.subclass("esri.views.2d.layers.support.FeaturesView2D")],r)}(h.declared(r))})},"esri/renderers/support/renderingInfoUtils":function(){define(["require","exports"],function(y,p){function u(h,e){if(!h||h.symbol)return null;e=e.renderer;return h&&e&&e.getObservationRenderer?e.getObservationRenderer(h):e}function m(h,e){if(h.symbol)return h.symbol;var m=u(h,e);return m&&m.getSymbol(h,
e)}Object.defineProperty(p,"__esModule",{value:!0});p.getRenderer=u;p.getSymbol=m;p.getRenderingInfo=function(h,e){var q=u(h,e),l=m(h,e);if(!l)return null;l={renderer:q,symbol:l};if(q){if(q.colorInfo&&(l.color=q.getColor(h).toRgba()),q.sizeInfo){var b=q.getSize(h);l.size=[b,b,b]}if(q.visualVariables){h=q.getVisualVariableValues(h,e);b=["proportional","proportional","proportional"];for(e=0;e<h.length;e++){var g=h[e],q=g.variable,a=g.value;"color"===q.type?l.color=a.toRgba():"size"===q.type?"outline"===
q.target?l.outlineSize=a:(g=q.axis,q=q.useSymbolValue?"symbolValue":a,"width"===g?b[0]=q:"depth"===g?b[1]=q:"height"===g?b[2]=q:"width-and-depth"===g?b[0]=b[1]=q:b[0]=b[1]=b[2]=q):"opacity"===q.type?l.opacity=a:"rotation"===q.type&&"tilt"===q.axis?l.tilt=a:"rotation"===q.type&&"roll"===q.axis?l.roll=a:"rotation"===q.type&&(l.heading=a)}(isFinite(b[0])||isFinite(b[1])||isFinite(b[2]))&&(l.size=b)}}return l}})},"esri/views/2d/layers/TiledLayerView2D":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/ObjectPool ../../../core/Error ../../../core/promiseUtils ./LayerView2D ../tiling/TileInfoView ../tiling/TileKey ../tiling/TileQueue ../tiling/TileStrategy ../engine/Bitmap ../engine/BitmapSource ../engine/BitmapContainer ../engine/Canvas2DContainer ../engine/Tiled ../../layers/RefreshableLayerView".split(" "),
function(y,p,u,m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J){var K=function(b){function g(e){e=b.call(this,e)||this;return e.key=new a(0,0,0,0),e}return u(g,b),g.prototype.acquire=function(a){},g.prototype.release=function(){this.key.set(0,0,0,0)},g.pool=new e(g,!0),g}(B(w));return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b._tileStrategy=null,b._tileInfoView=null,b._fetchQueue=null,b._tileRequests=new Map,b.container=new E,b.layer=null,b}return u(b,a),b.prototype.initialize=
function(){var a,b=this.layer.tileInfo;(b=b&&b.spatialReference)||(a=new q("layerview:tiling-information-missing","The layer doesn't provide tiling information",{layer:this.layer}));b.equals(this.view.spatialReference)||(a=new q("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}));a&&this.addResolvingPromise(l.reject(a))},b.prototype.hitTest=function(a,b){return null},b.prototype.update=function(a){this._fetchQueue.pause();
this._fetchQueue.state=a.state;this._tileStrategy.update(a);this._fetchQueue.resume();this.notifyChange("updating")},b.prototype.attach=function(){var a=this;this._tileContainer=new D;this.container.addChild(this._tileContainer);this._tileInfoView=new g(this.layer.tileInfo,this.layer.fullExtent);this._fetchQueue=new r({tileInfoView:this._tileInfoView,process:function(b){return a.fetchTile(b)}});this._tileStrategy=new v({cachePolicy:"keep",acquireTile:function(b){return a.acquireTile(b)},releaseTile:function(b){return a.releaseTile(b)},
tileInfoView:this._tileInfoView})},b.prototype.detach=function(){this._tileStrategy.destroy();this._fetchQueue.clear();this.container.removeChild(this._tileContainer);this._fetchQueue=this._tileStrategy=this._tileInfoView=this._tileContainer=null},b.prototype.moveStart=function(){this.requestUpdate()},b.prototype.viewChange=function(){this.requestUpdate()},b.prototype.moveEnd=function(){this.requestUpdate()},b.prototype.doRefresh=function(){var a=this;this.updateRequested||this.suspended||(this._fetchQueue.reset(),
this._tileStrategy.tiles.forEach(function(b){return a._enqueueTileFetch(b)}),this.notifyChange("updating"))},b.prototype.isUpdating=function(){var a=!0;return this._tileRequests.forEach(function(b){a=a&&b.isFulfilled()}),!a},b.prototype.getTileBounds=function(a,b){return this._tileStrategy.tileInfoView.getTileBounds(a,b)},b.prototype.getTileCoords=function(a,b){return this._tileStrategy.tileInfoView.getTileCoords(a,b)},b.prototype.getTileResolution=function(a){return this._tileStrategy.tileInfoView.getTileResolution(a)},
b.prototype.acquireTile=function(a){var b=K.pool.acquire();return b.key.set(a),this._tileInfoView.getTileCoords(b.coords,b.key),b.resolution=this._tileInfoView.getTileResolution(b.key),e=this._tileInfoView.tileInfo.size,b.width=e[0],b.height=e[1],this._enqueueTileFetch(b),this.requestUpdate(),b;var e},b.prototype.releaseTile=function(a){var b=this,e=this._tileRequests.get(a);e&&!e.isFulfilled()&&e.cancel();this._tileRequests["delete"](a);this._tileContainer.removeChild(a);a.once("detach",function(){K.pool.release(a);
b.requestUpdate()});this.requestUpdate()},b.prototype.fetchTile=function(a){var b=this,e=this.layer.tilemapCache;if(e){var g=a.level,h=a.row,l=a.col;return e.fetchAvailabilityUpsample(g,h,l,a).then(function(){return b._fetchImage(a)}).otherwise(function(){return a.level=g,a.row=h,a.col=l,b._fetchImage(a)})}return this._fetchImage(a)},b.prototype._enqueueTileFetch=function(a){var b=this;if(!this._fetchQueue.has(a.key)){var e=this._fetchQueue.push(a.key).then(function(e){a.source=e;a.once("attach",
function(){return b.requestUpdate()});b._tileContainer.addChild(a);b.requestUpdate()});this._tileRequests.set(a,e)}},b.prototype._fetchImage=function(a){var b=this;return this.layer.fetchTile(a.level,a.row,a.col,{timestamp:this.refreshTimestamp}).then(function(e){e=x.pool.acquire(e);return e.coords=b.getTileCoords(e.coords,a),e.resolution=b.getTileResolution(a),e})},b=m([h.subclass("esri.views.2d.layers.TiledLayerView2D")],b)}(h.declared(b,J))})},"esri/views/2d/tiling/TileInfoView":function(){define("require exports ./LODInfo ./TileKey ./TileSpan ./TileCoverage".split(" "),
function(y,p,u,m,h,e){var q=function(){function b(b,a,e,h,l,m,q,p){this.x=b;this.ymin=a;this.ymax=e;this.invM=h;this.leftAdjust=l;this.rightAdjust=m;this.leftBound=q;this.rightBound=p}return b.create=function(e,a){e[1]>a[1]&&(p=[a,e],e=p[0],a=p[1]);p=e[0];e=e[1];var g=a[0];a=a[1];var h=g-p,l=a-e,l=0!==l?h/l:0,m=(Math.ceil(e)-e)*l,q=(Math.floor(e)-e)*l;return new b(p,Math.floor(e),Math.ceil(a),l,0>h?m:q,0>h?q:m,0>h?g:p,0>h?p:g);var p},b.prototype.incrRow=function(){this.x+=this.invM},b.prototype.getLeftCol=
function(){return Math.max(this.x+this.leftAdjust,this.leftBound)},b.prototype.getRightCol=function(){return Math.min(this.x+this.rightAdjust,this.rightBound)},b}(),l=[[0,0],[0,0],[0,0],[0,0]];return function(){function b(b,a){var e=this;this.tileInfo=b;this.fullExtent=a;this.scales=[];this._lodInfos=null;this._infoByScale={};this._infoByLevel={};var g=b.lods.slice();g.sort(function(a,b){return b.scale-a.scale});var h=this._lodInfos=g.map(function(e){return u.create(b,e,a)});g.forEach(function(a,
b){e._infoByLevel[a.level]=h[b];e._infoByScale[a.scale]=h[b];e.scales[b]=a.scale},this);this._wrap=b.isWrappable}return b.prototype.getTileBounds=function(b,a){var e=this._infoByLevel[a.level];return e?e.getTileBounds(b,a):b},b.prototype.getTileCoords=function(b,a){var e=this._infoByLevel[a.level];return e?e.getTileCoords(b,a):b},b.prototype.getTileCoverage=function(b){var a,g,m,p=this.getClosestInfoForScale(b.scale),u=e.pool.acquire(p),y=this._wrap;a=+(1/0);var E=-(1/0),B=u.spans;l[0][0]=l[0][1]=
l[1][1]=l[3][0]=0;l[1][0]=l[2][0]=b.size[0];l[2][1]=l[3][1]=b.size[1];for(var J=0;J<l.length;J++){var K=l[J];b.toMap(K,K);K[0]=p.getColumnForX(K[0]);K[1]=p.getRowForY(K[1])}b=[];K=3;for(J=0;4>J;J++){if(l[J][1]!==l[K][1]){var z=q.create(l[J],l[K]);a=Math.min(z.ymin,a);E=Math.max(z.ymax,E);void 0===b[z.ymin]&&(b[z.ymin]=[]);b[z.ymin].push(z)}K=J}if(null==a||null==E||100<E-a)return null;for(K=[];E>a;){null!=b[a]&&(K=K.concat(b[a]));g=+(1/0);m=-(1/0);for(J=K.length-1;0<=J;J--)z=K[J],g=Math.min(g,z.getLeftCol()),
m=Math.max(m,z.getRightCol());if(g=Math.floor(g),m=Math.floor(m),a>=p.first[1]&&a<=p.last[1])if(y)if(p.size[0]<p.worldSize[0])for(z=Math.floor(m/p.worldSize[0]),J=Math.floor(g/p.worldSize[0]);z>=J;J++)B.push(new h(a,Math.max(p.getFirstColumnForWorld(J),g),Math.min(p.getLastColumnForWorld(J),m)));else B.push(new h(a,g,m));else g>p.last[0]||m<p.first[0]||(g=Math.max(g,p.first[0]),m=Math.min(m,p.last[0]),B.push(new h(a,g,m)));a+=1;for(J=K.length-1;0<=J;J--)z=K[J],z.ymax>=a?z.incrRow():K.splice(J,1)}return u},
b.prototype.getTileIdAtParent=function(b,a){a=m.pool.acquire(a);var e=this._infoByLevel[a.level];if(b.resolution<e.resolution)throw Error("Cannot calculate parent tile. destination LOD's resolution "+b.resolution+" is not a parent resolution of "+e.resolution);return b.resolution===e.resolution?a.id:m.getId(b.level,Math.floor(a.row*e.resolution/b.resolution+.01),Math.floor(a.col*e.resolution/b.resolution+.01),a.world)},b.prototype.getTileParentId=function(b){b=m.pool.acquire(b);var a=this._lodInfos.indexOf(this._infoByLevel[b.level])-
1;if(0>a)return m.pool.release(b),null;a=this.getTileIdAtParent(this._lodInfos[a],b);return m.pool.release(b),a},b.prototype.getTileResolution=function(b){return(b=this._infoByLevel[b.level])?b.resolution:-1},b.prototype.getTileScale=function(b){return(b=this._infoByLevel[b.level])?b.scale:-1},b.prototype.intersects=function(b,a){var e=m.pool.acquire(a);a=this._infoByLevel[e.level];var g=b.lodInfo;if(g.resolution>a.resolution){var h=m.pool.acquire(this.getTileIdAtParent(g,e)),l=g.denormalizeCol(h.col,
h.world);a=b.spans.some(function(a){return a.row===h.row&&a.colFrom<=l&&a.colTo>=l});return m.pool.release(e),m.pool.release(h),a}if(g.resolution<a.resolution){var q=b.spans.reduce(function(a,b){return a[0]=Math.min(a[0],b.row),a[1]=Math.max(a[1],b.row),a[2]=Math.min(a[2],b.colFrom),a[3]=Math.max(a[3],b.colTo),a},[+(1/0),-(1/0),+(1/0),-(1/0)]);b=q[0];var p=q[1],u=q[2],q=q[3],y=a.denormalizeCol(e.col,e.world),K=g.getColumnForX(a.getXForColumn(y)),z=g.getRowForY(a.getYForRow(e.row)),y=g.getColumnForX(a.getXForColumn(y+
1))-1;a=g.getRowForY(a.getYForRow(e.row+1))-1;return m.pool.release(e),!(K>q||u>y||z>p||b>a)}var M=g.denormalizeCol(e.col,e.world);a=b.spans.some(function(a){return a.row===e.row&&a.colFrom<=M&&a.colTo>=M});return m.pool.release(e),a},b.prototype.getClosestInfoForScale=function(b){var a=this.scales;return this._infoByScale[b]?this._infoByScale[b]:(b=a.reduce(function(a,e,g,h){return Math.abs(e-b)<Math.abs(a-b)?e:a},a[0]),this._infoByScale[b])},b}()})},"esri/views/2d/tiling/LODInfo":function(){define(["require",
"exports","./TileKey","../../../geometry/support/spatialReferenceUtils"],function(y,p,u,m){function h(e,h,l){return e[0]=h,e[1]=l,e}return function(){function e(e,h,b,g,a,m,p,u,x,y,E,B){this.level=e;this.resolution=h;this.scale=b;this.origin=g;this.first=a;this.last=m;this.size=p;this.norm=u;this.worldStart=x;this.worldEnd=y;this.worldSize=E;this.wrap=B}return e.create=function(q,l,b){var g=m.getInfo(q.spatialReference),a=[q.origin.x,q.origin.y],p=[q.size[0]*l.resolution,q.size[1]*l.resolution],u=
[-(1/0),-(1/0)],w=[+(1/0),+(1/0)],x=[+(1/0),+(1/0)];b&&(h(u,Math.max(0,Math.floor((b.xmin-a[0])/p[0])),Math.max(0,Math.floor((a[1]-b.ymax)/p[1]))),h(w,Math.max(0,Math.floor((b.xmax-a[0])/p[0])),Math.max(0,Math.floor((a[1]-b.ymin)/p[1]))),h(x,w[0]-u[0]+1,w[1]-u[1]+1));var y,E,B,J;return q.isWrappable?(y=[Math.ceil(Math.round(2*g.origin[1]/l.resolution)/q.size[0]),x[1]],E=[Math.floor((g.origin[0]-a[0])/p[0]),u[1]],B=[y[0]+E[0]-1,w[1]],J=!0):(E=u,B=w,y=x,J=!1),new e(l.level,l.resolution,l.scale,a,u,
w,x,p,E,B,y,J)},e.prototype.normalizeCol=function(e){if(!this.wrap)return e;var h=this.worldSize[0];return 0>e?h-1-Math.abs((e+1)%h):e%h},e.prototype.denormalizeCol=function(e,h){return this.wrap?this.worldSize[0]*h+e:e},e.prototype.getWorldForColumn=function(e){return this.wrap?Math.floor(e/this.worldSize[0]):0},e.prototype.getFirstColumnForWorld=function(e){return e*this.worldSize[0]+this.first[0]},e.prototype.getLastColumnForWorld=function(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-
1},e.prototype.getColumnForX=function(e){return(e-this.origin[0])/this.norm[0]},e.prototype.getXForColumn=function(e){return this.origin[0]+e*this.norm[0]},e.prototype.getRowForY=function(e){return(this.origin[1]-e)/this.norm[1]},e.prototype.getYForRow=function(e){return this.origin[1]-e*this.norm[1]},e.prototype.getTileBounds=function(e,h){h=u.pool.acquire(h);var b=this.denormalizeCol(h.col,h.world),g=h.row,a=this.getXForColumn(b),l=this.getYForRow(g+1),b=this.getXForColumn(b+1),g=this.getYForRow(g);
return e[0]=a,e[1]=l,e[2]=b,e[3]=g,u.pool.release(h),e},e.prototype.getTileCoords=function(e,l){l=u.pool.acquire(l);return h(e,this.getXForColumn(this.denormalizeCol(l.col,l.world)),this.getYForRow(l.row)),u.pool.release(l),e},e}()})},"esri/views/2d/tiling/TileSpan":function(){define(["require","exports","../../../core/ObjectPool"],function(y,p,u){return function(){function m(h,e,m){this.row=h;this.colFrom=e;this.colTo=m}return m.pool=new u(m,!0),m}()})},"esri/views/2d/tiling/TileCoverage":function(){define(["require",
"exports","../../../core/ObjectPool","../../../core/ArrayPool","./TileSpan"],function(y,p,u,m,h){return function(){function e(e){this.lodInfo=e;this.spans=m.acquire()}return e.prototype.release=function(){for(var e=0,l=this.spans;e<l.length;e++)h.pool.release(l[e]);m.release(this.spans)},e.prototype.forEach=function(e,h){var b=this.spans,g=this.lodInfo,a=g.level;if(0!==b.length)for(var l=0;l<b.length;l++)for(var m=b[l],p=m.row,q=m.colTo,m=m.colFrom;q>=m;m++)e.call(h,a,p,g.normalizeCol(m),g.getWorldForColumn(m))},
e.pool=new u(e,!0),e}()})},"esri/views/2d/tiling/TileQueue":function(){define(["require","exports","../../../core/QueueProcessor"],function(y,p,u){function m(e,b){return e.length=0,b.forEach(function(b){return e.push(b)}),e}var h=new Set,e=[],q=new Map;return function(){function l(b){var e=this;this.tileInfoView=b.tileInfoView;this._queue=new u({concurrency:b.concurrency||6,process:b.process,peeker:function(a){return e._peek(a)}})}return Object.defineProperty(l.prototype,"length",{get:function(){return this._queue.length},
enumerable:!0,configurable:!0}),l.prototype.clear=function(){this._queue.clear()},l.prototype.find=function(b,e){return this._queue.find(b)},l.prototype.has=function(b){return this._queue.has(b)},l.prototype.pause=function(){return this._queue.pause()},l.prototype.push=function(b){return this._queue.push(b)},l.prototype.reset=function(){return this._queue.reset()},l.prototype.resume=function(){return this._queue.resume()},l.prototype._peek=function(b){var g=this;if(!this.state)return b[0];var a=this.tileInfoView,
l=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY;b.forEach(function(a){var b=g.tileInfoView.getTileScale(a);q.has(b)||(q.set(b,[]),l=Math.max(b,l),p=Math.min(b,p));q.get(b).push(a);h.add(b)});var u=this.state.scale;q.has(u)||(m(e,h),e.sort(),u=e.reduce(function(a,b,e,g){return Math.abs(b-u)<Math.abs(a-u)?b:a},e[0]));u=Math.min(u,l);u=Math.max(u,p);b=q.get(u);var x=a.getClosestInfoForScale(u),y=x.getColumnForX(this.state.center[0]),E=x.getRowForY(this.state.center[1]);return b.sort(function(a,
b){var e=x.denormalizeCol(a.col,a.world),g=x.denormalizeCol(b.col,b.world);return Math.sqrt((y-e)*(y-e)+(E-a.row)*(E-a.row))-Math.sqrt((y-g)*(y-g)+(E-b.row)*(E-b.row))}),h.clear(),q.clear(),b[0]},l}()})},"esri/core/QueueProcessor":function(){define(["require","exports","dojo/Deferred","./Queue"],function(y,p,u,m){var h={};return function(){function e(e){this._apiPromises=new Map;this._resolvingPromises=new Map;this._isPaused=!1;this.concurrency=1;e.concurrency&&(this.concurrency=e.concurrency);this._queue=
new m(e.peeker?{peeker:e.peeker}:void 0);this.process=e.process}return Object.defineProperty(e.prototype,"length",{get:function(){return this._resolvingPromises.size+this._queue.length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this._queue.clear();var e=[];this._resolvingPromises.forEach(function(h){return e.push(h)});this._resolvingPromises.clear();e.forEach(function(e){return e.cancel()});e.length=0;this._apiPromises.forEach(function(h){return e.push(h)});this._apiPromises.clear();
e.forEach(function(e){return e.cancel()})},e.prototype.find=function(e,h){var b=this,g=void 0;return this._apiPromises.forEach(function(a,l){e.call(h,l)&&(g=b._apiPromises.get(l).promise)}),g},e.prototype.has=function(e){return this._apiPromises.has(e)},e.prototype.pause=function(){this._isPaused=!0},e.prototype.push=function(e){var h=this;if(this._apiPromises.has(e))return this._apiPromises.get(e).promise;var b=new u(function(b){h._resolvingPromises.has(e)?h._resolvingPromises.get(e).cancel(b):(h._remove(e),
h._scheduleNext())});return this._add(e,b),this._scheduleNext(),b.promise},e.prototype.reset=function(){var e=[];this._resolvingPromises.forEach(function(h){return e.push(h)});this._resolvingPromises.clear();e.forEach(function(e){return e.cancel(h)})},e.prototype.resume=function(){this._isPaused=!1;this._scheduleNext()},e.prototype._scheduleNext=function(){this._isPaused||this._next()},e.prototype._next=function(){this._resolvingPromises.size!==this.concurrency&&this._process(this._queue.pop())},
e.prototype._process=function(e){var l=this;if(null!=e){var b=this._apiPromises.get(e),g=this.process(e);g&&"function"==typeof g.then?(this._resolvingPromises.set(e,g),g.then(function(a){b.resolve(a);l._remove(e);l._scheduleNext()},function(a){a===h?l._process(e):(b.reject(a),l._remove(e),l._scheduleNext())})):(b.resolve(g),this._remove(e));this._scheduleNext()}},e.prototype._add=function(e,h){this._apiPromises.set(e,h);this._queue.push(e)},e.prototype._remove=function(e){this._queue.remove(e);this._apiPromises["delete"](e);
this._resolvingPromises["delete"](e)},e}()})},"esri/core/Queue":function(){define(["require","exports"],function(y,p){return function(){function p(m){this._items=[];this._itemSet=new Set;this._peeker=function(h){return h[0]};this._length=0;m&&m.peeker&&(this._peeker=m.peeker)}return Object.defineProperty(p.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),p.prototype.clear=function(){this._itemSet.clear();this._length=this._items.length=0},p.prototype.peek=function(){return 0!==
this._length?this._peeker(this._items):void 0},p.prototype.push=function(m){this.contains(m)||this._add(m)},p.prototype.contains=function(m){return 0<this._length&&this._itemSet.has(m)},p.prototype.pop=function(){if(0!==this._length){var m=this.peek();return this._remove(m),m}},p.prototype.remove=function(m){this.contains(m)&&this._remove(m)},p.prototype._add=function(m){this._items.push(m);this._itemSet.add(m);this._length++},p.prototype._remove=function(m){this._itemSet["delete"](m);this._items.splice(this._items.indexOf(m),
1);this._length--},p}()})},"esri/views/2d/tiling/TileStrategy":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","./TileKey"],function(y,p,u,m){var h=new m(0,0,0,0),e=new Map,q=[],l=[];return function(){function b(b){this._previousResolution=Number.POSITIVE_INFINITY;this.cachePolicy="keep";this.tileIndex=new Map;this.tiles=[];this.acquireTile=b.acquireTile;this.releaseTile=b.releaseTile;this.tileInfoView=b.tileInfoView;b.cachePolicy&&(this.cachePolicy=b.cachePolicy)}return b.prototype.destroy=
function(){this.tileIndex.clear()},b.prototype.update=function(b){var a=this,g=this.tileIndex,m=this.tileInfoView.getTileCoverage(b.state);if(m){var p=m.spans,u=m.lodInfo,y=u.level,E=b.state.resolution,B=!b.stationary&&E>this._previousResolution;this._previousResolution=E;g.forEach(function(a){return a.visible=!0});this.tiles.length=0;e.clear();var J=0,K=0;if(0<p.length)for(var z=0;z<p.length;z++){b=p[z];for(var M=b.row,I=b.colTo,Q=b.colFrom;I>=Q;Q++)J++,b=h.set(y,M,u.normalizeCol(Q),u.getWorldForColumn(Q)).id,
g.has(b)?(E=g.get(b),E.attached?(e.set(b,E),K++):E.attached||B||this._addParentTile(b,e)):(E=this.acquireTile(h),this.tileIndex.set(b,E),B||this._addParentTile(b,e))}var O=K===J;l.length=0;q.length=0;g.forEach(function(b,g){if(h.set(g),!e.has(g)){var p=a.tileInfoView.intersects(m,h);!p||!B&&O?"purge"===a.cachePolicy?q.push(g):(h.level>y||!p)&&q.push(g):b.attached?l.push(g):B&&q.push(g)}});for(p=0;p<l.length;p++)b=l[p],(E=g.get(b))&&E.attached&&e.set(b,E);for(p=0;p<q.length;p++)b=q[p],E=g.get(b),this.releaseTile(E),
g["delete"](b);e.forEach(function(b){return a.tiles.push(b)});g.forEach(function(a){e.has(a.key.id)||(a.visible=!1)});l.length=0;q.length=0;e.clear()}},b.prototype.clear=function(){var b=this,a=this.tileIndex;a.forEach(function(a){b.releaseTile(a)});a.clear()},b.prototype._addParentTile=function(b,a){for(var e=null;b=this.tileInfoView.getTileParentId(b),b;)if(this.tileIndex.has(b)&&(e=this.tileIndex.get(b),e&&e.attached)){a.has(e.key.id)||a.set(e.key.id,e);break}},b}()})},"esri/views/2d/engine/Bitmap":function(){define(["require",
"exports","../../../core/tsSupport/extendsHelper","./DisplayObject"],function(y,p,u,m){var h=[0,0];return function(e){function m(h){var b=e.call(this)||this;return b.source=h,b.coords=[0,0],b.resolution=0,b.rotation=0,b.width=0,b.height=0,b}return u(m,e),m.prototype.doRender=function(e){this.source&&this.source.ready&&null!=e.context&&this.renderCanvas2D(e)},m.prototype.renderCanvas2D=function(e){var b=this.source,g=e.context,a=e.state;e=a.rotation;var l=this.resolution/a.resolution*a.pixelRatio;
if(!(.05>l)){g.save();var m=a.toScreen(h,this.coords),a=m[0],m=m[1];(.99<l&&1.01>l?g.translate(Math.round(a),Math.round(m)):(g.translate(a,m),g.scale(l,l)),e)&&g.rotate(e*Math.PI/180);b.rotation&&(g.translate(.5*this.width,.5*this.height),g.rotate(-b.rotation*Math.PI/180),g.translate(.5*-this.width,.5*-this.height));e=(this.coords[0]-b.coords[0])/b.resolution;l=-(this.coords[1]-b.coords[1])/b.resolution;a=this.resolution/b.resolution*b.width;m=this.resolution/b.resolution*b.height;g.clearRect(0,0,
this.width,this.height);b.draw(g,Math.round(e),Math.round(l),Math.round(a),Math.round(m),0,0,this.width,this.height);g.restore()}},m}(m)})},"esri/views/2d/engine/BitmapSource":function(){define(["require","exports","../../../core/ObjectPool"],function(y,p,u){return function(){function m(h){this.coords=[0,0];this._height=0;this.pixelRatio=1;this._width=this.rotation=this.resolution=0;this.data=h}return m.prototype.release=function(){this.data=null},Object.defineProperty(m.prototype,"data",{get:function(){return this._data},
set:function(h){this._data=h;this._width=this._height=0;h&&(h instanceof HTMLImageElement?(this._width=h.naturalWidth,this._height=h.naturalHeight):0<h.width&&0<h.height&&(this._width=h.width,this._height=h.height))},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"ready",{get:function(){return 0<this._width},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,
"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),m.prototype.draw=function(h,e,m,l,b,g,a,p,u){this.ready&&l&&b&&p&&u&&h.drawImage(this._data,e,m,l,b,g,a,p,u)},m.pool=new u(m,!0),m}()})},"esri/views/2d/engine/BitmapContainer":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ./Container ../ViewState ../viewStateUtils".split(" "),function(y,p,u,m,h,e,q){var l=[0,0];return function(b){function g(){var a=null!==b&&
b.apply(this,arguments)||this;return a._childrenCanvas=null,a._childrenRenderParameters={budget:null,context:null,devicePixelRatio:1,state:new e,stationary:!0},a}return u(g,b),g.prototype.attach=function(a){return this._childrenCanvas||(this._childrenCanvas=document.createElement("canvas"),this._childrenRenderParameters.context=this._childrenCanvas.getContext("2d")),b.prototype.attach.call(this,a)},g.prototype.detach=function(a){b.prototype.detach.call(this,a);this._childrenCanvas=null;this._childrenRenderParameters.context=
null},g.prototype.doRender=function(a){this.visible&&b.prototype.doRender.call(this,a)},g.prototype.prepareChildrenRenderParameters=function(a){var b=this._childrenCanvas,e=this._childrenRenderParameters,g=a.state,h=g.pixelRatio,m=e.state;m.copy(g);var p=q.getOuterSize(l,g),g=p[0],p=p[1];return g*=h,p*=h,m.size=l,m.viewpoint.rotation=0,b.width!==g||b.height!==p?(b.width=g,b.height=p):e.context.clearRect(0,0,g,p),e.budget=a.budget,e.devicePixelRatio=a.devicePixelRatio,e},g.prototype.beforeRenderChildren=
function(a,b){this.sortChildren(function(a,b){return b.resolution-a.resolution})},g.prototype.afterRenderChildren=function(a,b){var e=a.context;a=a.state;var g=b.context;b=b.state;0===a.rotation?e.drawImage(g.canvas,0,0):(e.save(),e.translate(.5*a.width,.5*a.height),e.rotate(a.rotation*Math.PI/180),e.translate(.5*-a.width,.5*-a.height),e.drawImage(g.canvas,.5*(a.width-b.width),.5*(a.height-b.height)),e.restore())},g}(h)})},"esri/views/2d/viewStateUtils":function(){define(["require","exports"],function(y,
p){Object.defineProperty(p,"__esModule",{value:!0});var u=Math.PI/180;p.snapToPixel=function(m,h,e){var p=e.resolution;e=e.size;return m[0]=p*(Math.round(h[0]/p)+e[0]%2*.5),m[1]=p*(Math.round(h[1]/p)+e[1]%2*.5),m};p.getOuterSize=function(m,h){var e=h.rotation*u,p=Math.abs(Math.cos(e)),e=Math.abs(Math.sin(e)),l=h.size;h=l[0];l=l[1];return m[0]=Math.round(l*e+h*p),m[1]=Math.round(l*p+h*e),m};p.getBBox=function(m,h,e,p){var l=h[0];h=h[1];var b=p[0];p=p[1];e*=.5;return m[0]=l-e*b,m[1]=h-e*p,m[2]=l+e*
b,m[3]=h+e*p,m};p.bboxIntersects=function(m,h){var e=m[1],p=m[2],l=m[3],b=h[0],g=h[1],a=h[3];return!(m[0]>h[2]||b>p||e>a||g>l)}})},"esri/views/2d/engine/Canvas2DContainer":function(){define(["require","exports","../../../core/tsSupport/extendsHelper","../ViewState","./Container"],function(y,p,u,m,h){return function(e){function h(){var h=null!==e&&e.apply(this,arguments)||this;return h._childrenRenderParameters={budget:null,context:null,devicePixelRatio:1,state:new m,stationary:!0},h.hidpi=!1,h}return u(h,
e),h.prototype.createElement=function(){var e=document.createElement("canvas");return e.setAttribute("class","esri-display-object"),e},h.prototype.setElement=function(e){this.element=e},h.prototype.doRender=function(h){var b=this.element,g=b.style;if(!this.visible)return void(g.display="none");var a=h.state,l=h.devicePixelRatio,m=a.width,a=a.height;b.width=m*(this.hidpi?l:1);b.height=a*(this.hidpi?l:1);g.display="block";g.opacity=""+this.opacity;g.width=m+"px";g.height=a+"px";e.prototype.doRender.call(this,
h)},h.prototype.prepareChildrenRenderParameters=function(e){var b=this._childrenRenderParameters;return b.budget=e.budget,b.context=this.element.getContext("2d"),b.devicePixelRatio=e.devicePixelRatio,b.state.copy(e.state),b.state.pixelRatio=this.hidpi?e.devicePixelRatio:1,b.stationary=e.stationary,b},h.prototype.beforeRenderChildren=function(e,b){e=b.context;var g=b.state;if(e.save(),g.spatialReference.isWrappable){var a=g.width;b=g.height;var h=g.pixelRatio,l=this.hidpi?h:1,h=g.rotation*Math.PI/
180,m=Math.round(a*l*Math.abs(Math.cos(h))+b*l*Math.abs(Math.sin(h))),g=g.worldScreenWidth*l;m>g&&(a=a*l*.5,b=b*l*.5,h&&(e.translate(a,b),e.rotate(h),e.translate(-a,-b)),e.beginPath(),e.rect(a-.5*g,b-.5*m,g,m),e.closePath(),h&&(e.translate(a,b),e.rotate(-h),e.translate(-a,-b)),e.clip("evenodd"))}},h.prototype.afterRenderChildren=function(e,b){b.context.restore()},h.prototype.renderChild=function(e,b){b.context.save();e.processRender(b);b.context.restore()},h}(h)})},"esri/views/2d/engine/Tiled":function(){define(["require",
"exports","../../../core/tsSupport/extendsHelper","./Evented"],function(y,p,u,m){return function(h){h=function(e){function h(){for(var h=0;h<arguments.length;h++);return e.call(this)||this}return u(h,e),h}(h);return m.EventedMixin(h)}})},"url:esri/views/2d/engine/webgl/shaders/bitblit.vs.glsl":"attribute vec2 a_pos;\nattribute vec2 a_tex;\n\nvarying mediump vec2 v_uv;\n\nvoid main(void) {\n  gl_Position \x3d vec4(a_pos, 0.0, 1.0);\n  v_uv \x3d a_tex;\n}\n","url:esri/views/2d/engine/webgl/shaders/bitblit.fs.glsl":"\tuniform lowp sampler2D u_tex;\n\tuniform lowp float u_opacity;\n\n\tvarying mediump vec2 v_uv;\n\n\tvoid main() {\n\t\tlowp vec4 color \x3d texture2D(u_tex, v_uv);\n\n    // Note: output in pre-multiplied alpha for correct alpha compositing\n\t\tgl_FragColor \x3d color *  u_opacity;\n\t}\n",
"url:esri/views/2d/engine/webgl/shaders/stencil.vs.glsl":"attribute vec2 a_pos;\n\nvoid main() {\n  gl_Position \x3d vec4(a_pos, 0.0, 1.0);\n}\n","url:esri/views/2d/engine/webgl/shaders/stencil.fs.glsl":"void main() {\n  gl_FragColor \x3d vec4(1.0, 1.0, 1.0, 1.0);\n}\n","url:esri/views/2d/engine/webgl/shaders/background.vs.glsl":"attribute vec2 a_pos;\n\nuniform highp mat4 u_transformMatrix;\nuniform mediump vec2 u_normalized_origin;\nuniform mediump float u_coord_range;\nuniform mediump float u_depth;\n\nvoid main() {\n  gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(u_coord_range * a_pos, 0.0, 1.0);\n}\n",
"url:esri/views/2d/engine/webgl/shaders/background.fs.glsl":"uniform lowp vec4 u_color;\nvoid main() {\n  gl_FragColor \x3d u_color;\n}","url:esri/views/2d/engine/webgl/shaders/tileInfo.vs.glsl":"attribute vec2 a_pos;\n\nuniform highp mat4 u_transformMatrix;\nuniform mediump vec2 u_normalized_origin;\nuniform mediump float u_depth;\nuniform mediump float u_coord_ratio;\nuniform mediump vec2 u_delta; // in tile coordinates\nuniform mediump vec2 u_dimensions; // in tile coordinates\n\nvarying mediump vec2 v_tex;\n\nvoid main() {\n  mediump vec2 offests \x3d u_coord_ratio * vec2(u_delta + a_pos * u_dimensions);\n  gl_Position \x3d vec4(u_normalized_origin, u_depth, 0.0) + u_transformMatrix * vec4(offests, 0.0, 1.0);\n\n  v_tex \x3d a_pos;\n}\n",
"url:esri/views/2d/engine/webgl/shaders/tileInfo.fs.glsl":"uniform mediump sampler2D u_texture;\nvarying mediump vec2 v_tex;\n\nvoid main(void) {\n  lowp vec4 color \x3d texture2D(u_texture, v_tex);\n  gl_FragColor \x3d 0.75 * color;\n}\n","url:esri/views/2d/engine/webgl/shaders/textShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\n\x3c!--\n  Add your GLSL snippets to this file. You should start from\n  importing your old GLSL files. For instance, if you have a\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\n  and then copy and paste the GLSL source as the content. You will then convert your\n  code to use the {@link esri/views/2d/engine/webgl/glShaderSnippets glShaderSnippets}\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\n--\x3e\n\x3csnippets\x3e\n\n  \x3csnippet name\x3d"textVS"\x3e\n    \x3c![CDATA[\n      precision mediump float;\n\n      attribute vec2 a_pos;           // 2 * 2 (2 x signed 16)\n      attribute vec4 a_id;            // 4 (4 x unsigned byte)\n      attribute vec4 a_color;         // 4 (4 x unsigned byte)\n      attribute vec2 a_vertexOffset; // 2 * 2 // (2 x signed 16) offset from the anchor point of the string\n      attribute vec4 a_texFontSize; // 4 (4 x unsigned byte) texture coordinatesm and font size\n\n      attribute lowp float  a_visible; // a one byte controlling the visibility of the vertex (a separate visibility buffer), values are 0 or 1 (visible)\n\n      // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\n      // relative to the tile\'s upper left corner\n      // the extrusion vector.\n      uniform highp mat4 u_transformMatrix;\n      // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\n      uniform highp mat4 u_extrudeMatrix;\n      // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\n      uniform highp vec2 u_normalized_origin;\n      // the size of the mosaic given in pixels\n      uniform vec2 u_mosaicSize;\n      uniform float u_pixelRatio;\n\n      // the opacity of the layer\n      uniform mediump float u_opacity;\n\n      varying mediump vec4 v_color;\n      varying mediump float v_antialiasingWidth;\n      varying mediump float v_edgeDistanceOffset;\n\n      // the interpolated texture coordinate value to be used by the fragment shader in order to sample the sprite texture\n      varying mediump vec2 v_tex;\n      // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\n      // opacity of the layer given by the painter\n      varying lowp float v_transparency;\n\n      // the vertex offsets are given in integers, therefore in order to maintain a reasonable precission we multiply the values\n      // by 16 and then at the shader devide by the same number\n      const float offsetPrecision \x3d 1.0 / 32.0;\n      const float outlineScale \x3d 1.0 / 10.0;\n      const float sdfFontSize \x3d 24.0;\n\n      // maximum SDF distance of 8 pixels represent the distance values that range from -2 inside the geometry to 6 on the outside.\n      // 6 is actually the maximum distance outside the glyph, therefore it is the limitation of the halo which is 1/4 of the geometry size.\n      const float maxSdfDistance \x3d 8.0;\n\n      void main()\n      {\n        // make sure to clip the vertices in case that given record is marked as invisible\n        float z \x3d 2.0 * step(1.0, a_visible);\n\n        // we use the list significant bit of the position in order to store the indication whethe the vertex is of a halow of a glyph\n        mediump float halo \x3d mod(a_pos, 2.0).x;\n\n        float fontScale \x3d a_texFontSize.z / sdfFontSize;\n        // we need to scale the extrude matrix by the font-scale in order to get the right text size\n        mat4 extrudeMatrix \x3d fontScale * u_extrudeMatrix;\n\n        // If the label rotates with the map, and if the rotated label is upside down, hide it\n        gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(floor(a_pos * 0.5), z, 1.0) + extrudeMatrix * vec4(offsetPrecision * a_vertexOffset, 0.0, 0.0);\n\n        v_transparency \x3d u_opacity;\n        v_tex \x3d a_texFontSize.xy / u_mosaicSize;\n        v_color \x3d a_color;\n        v_antialiasingWidth \x3d 0.105 * sdfFontSize / a_texFontSize.z / u_pixelRatio;\n        // if halo.x is zero (not a halo) v_edgeDistanceOffset will end up being zero as well.\n        v_edgeDistanceOffset \x3d halo * outlineScale * a_texFontSize.w / fontScale / maxSdfDistance;\n      }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"textFS"\x3e\n    \x3c![CDATA[\n      precision lowp float;\n\n      uniform lowp sampler2D u_texture;\n\n      varying mediump vec4 v_color;\n      varying mediump float v_antialiasingWidth;\n      varying mediump float v_edgeDistanceOffset;\n      varying mediump vec2 v_tex;\n      varying lowp float v_transparency;\n\n\n      void main()\n      {\n        // read the distance from the SDF texture\n        lowp float dist \x3d texture2D(u_texture, v_tex).a;\n\n        // the edge distance if a factor of the outline width\n        float glyphEdgeDistance \x3d 0.75 - v_edgeDistanceOffset;\n\n        // use a smooth-step in order to calculate the geometry of the shape given by the distance field\n        lowp float alpha \x3d smoothstep(glyphEdgeDistance - v_antialiasingWidth, glyphEdgeDistance + v_antialiasingWidth, dist) * v_transparency;\n\n        gl_FragColor \x3d alpha * v_color;\n      }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n\x3c/snippets\x3e\n',
"url:esri/views/2d/engine/webgl/shaders/iconShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\n\x3c!--\n  Add your GLSL snippets to this file. You should start from\n  importing your old GLSL files. For instance, if you have a\n  file such as myShader.vs.glsl you should create a new \x3csnippet name\x3d"myShaderVS"\x3e\n  and then copy and paste the GLSL source as the content. You will then convert your\n  code to use the {@link esri/views/2d/engine/webgl/glShaderSnippets glShaderSnippets}\n  instance to access the GLSL code, instead of importing it directly with require("dojo/text!...").\n--\x3e\n\x3csnippets\x3e\n\n  \x3csnippet name\x3d"rgba2floatFunc"\x3e\n    \x3c![CDATA[\n    float rgba2float(vec4 rgba) {\n      return dot(rgba,  vec4(1.0/16777216.0, 1.0/65535.0, 1.0/256.0, 1.0));\n    }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"iconVVUniformsVS"\x3e\n    \x3c![CDATA[\n  #if defined(VV_COLOR) || defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE) || defined(VV_OPACITY) || defined(VV_ROTATION)\n    attribute vec4 a_vv;\n  #endif // VV_COLOR || VV_SIZE_MIN_MAX_VALUE || VV_SIZE_SCALE_STOPS || VV_SIZE_FIELD_STOPS || VV_SIZE_UNIT_VALUE || VV_OPACITY || VV_ROTATION\n\n  #ifdef VV_COLOR\n    uniform float u_vvColorValues[8];\n    uniform vec4 u_vvColors[8];\n  #endif // VV_COLOR\n\n  #ifdef VV_SIZE_MIN_MAX_VALUE\n    uniform vec4 u_vvSizeMinMaxValue;\n  #endif // VV_SIZE_MIN_MAX_VALUE\n\n  #ifdef VV_SIZE_SCALE_STOPS\n    uniform float u_vvSizeScaleStopsValue;\n  #endif // VV_SIZE_SCALE_STOPS\n\n  #ifdef VV_SIZE_FIELD_STOPS\n    uniform float u_vvSizeFieldStopsValues[6];\n    uniform float u_vvSizeFieldStopsSizes[6];\n  #endif // VV_SIZE_FIELD_STOPS\n\n  #ifdef VV_SIZE_UNIT_VALUE\n    uniform float u_vvSizeUnitValueWorldToPixelsRatio;\n  #endif // VV_SIZE_UNIT_VALUE\n\n  #ifdef VV_OPACITY\n    uniform float u_vvOpacityValues[8];\n    uniform float u_vvOpacities[8];\n  #endif // VV_OPACITY\n\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"iconVVFunctions"\x3e\n    \x3c![CDATA[\n  #ifdef VV_SIZE_MIN_MAX_VALUE\n    float getVVMinMaxSize(float sizeValue) {\n      // we need to multiply by 8 in order to translate to tile coordinates\n      float interpolationRatio \x3d (sizeValue  - u_vvSizeMinMaxValue.x) / (u_vvSizeMinMaxValue.y - u_vvSizeMinMaxValue.x);\n      return clamp(u_vvSizeMinMaxValue.z + interpolationRatio * (u_vvSizeMinMaxValue.w - u_vvSizeMinMaxValue.z), u_vvSizeMinMaxValue.z, u_vvSizeMinMaxValue.w);\n    }\n  #endif // VV_SIZE_MIN_MAX_VALUE\n\n  #ifdef VV_SIZE_FIELD_STOPS\n    const int VV_SIZE_N \x3d 6;\n    float getVVStopsSize(float sizeValue) {\n      if (sizeValue \x3c\x3d u_vvSizeFieldStopsValues[0]) {\n        return u_vvSizeFieldStopsSizes[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_SIZE_N; ++i) {\n        if (u_vvSizeFieldStopsValues[i] \x3e\x3d sizeValue) {\n          float f \x3d (sizeValue - u_vvSizeFieldStopsValues[i-1]) / (u_vvSizeFieldStopsValues[i] - u_vvSizeFieldStopsValues[i-1]);\n          return mix(u_vvSizeFieldStopsSizes[i-1], u_vvSizeFieldStopsSizes[i], f);\n        }\n      }\n\n      return u_vvSizeFieldStopsSizes[VV_SIZE_N - 1];\n    }\n  #endif // VV_SIZE_FIELD_STOPS\n\n  #ifdef VV_SIZE_UNIT_VALUE\n    float getVVUnitValue(float sizeValue) {\n      return u_vvSizeUnitValueWorldToPixelsRatio * sizeValue;\n    }\n  #endif // VV_SIZE_UNIT_VALUE\n\n  #ifdef VV_OPACITY\n    const int VV_OPACITY_N \x3d 8;\n    float getVVOpacity(float opacityValue) {\n      if (opacityValue \x3c\x3d u_vvOpacityValues[0]) {\n        return u_vvOpacities[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_OPACITY_N; ++i) {\n        if (u_vvOpacityValues[i] \x3e\x3d opacityValue) {\n          float f \x3d (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\n          return mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\n        }\n      }\n\n      return u_vvOpacities[VV_OPACITY_N - 1];\n    }\n  #endif // VV_OPACITY\n\n  #ifdef VV_ROTATION\n    mat4 getVVRotation(float rotationValue) {\n      // YF TODO: if the symbol has rotation we need to combine the symbo\'s rotation with the VV one\n      float angle \x3d C_DEG_TO_RAD * rotationValue;\n\n      float sinA \x3d sin(angle);\n      float cosA \x3d cos(angle);\n\n      return mat4(cosA, sinA, 0, 0,\n                  -sinA,  cosA, 0, 0,\n                  0,     0, 1, 0,\n                  0,     0, 0, 1);\n    }\n  #endif // VV_ROTATION\n\n  #ifdef VV_COLOR\n    const int VV_COLOR_N \x3d 8;\n\n    vec4 getVVColor(float colorValue) {\n      if (colorValue \x3c\x3d u_vvColorValues[0]) {\n        return u_vvColors[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_COLOR_N; ++i) {\n        if (u_vvColorValues[i] \x3e\x3d colorValue) {\n          float f \x3d (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\n          return mix(u_vvColors[i-1], u_vvColors[i], f);\n        }\n      }\n\n      return u_vvColors[VV_COLOR_N - 1];\n    }\n  #endif // VV_COLOR\n    ]]\x3e\n  \x3c/snippet\x3e\n\n\n  \x3csnippet name\x3d"iconVS"\x3e\n  \x3c![CDATA[\n    precision mediump float;\n\n    //const float C_256_TO_RAD \x3d 3.14159265359 / 128.0;\n    const float C_DEG_TO_RAD \x3d 3.14159265359 / 180.0;\n    const float C_OFFSET_PRECISION \x3d 1.0 / 64.0;\n\n    // per-vertex attributes (4 bytes)\n    attribute vec4 a_vertexOffsetAndTex;\n\n    // per quad (instance) attributes (20 bytes \x3d\x3d\x3e equivalent of 5 bytes per vertex)\n    attribute vec2 a_pos;\n    attribute vec4 a_id; // since we need to render the Id as a color we need to break it into RGBA components. so just like a color, the Id is normalized.\n    attribute vec4 a_color;\n    attribute vec4 a_outlineColor;\n    attribute vec4 a_sizeAndOutlineWidth;\n\n    // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\n    // relative to the tile\'s upper left corner\n    // the extrusion vector.\n    uniform highp mat4 u_transformMatrix;\n    // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\n    uniform highp mat4 u_extrudeMatrix;\n    // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\n    uniform highp vec2 u_normalized_origin;\n\n    // the size of the mosaic given in pixels\n    uniform vec2 u_mosaicSize;\n\n    // the opacity of the layer given by the painter\n    uniform mediump float u_opacity;\n\n    // the interpolated texture coordinate value to be used by the fragment shader in order to sample the sprite texture\n    varying mediump vec2 v_tex;\n    // the calculated transparency to be applied by the fragment shader. It is incorporating both the fade as well as the\n    // opacity of the layer given by the painter\n    varying lowp float v_transparency;\n    // the of the icon given in pixels\n    varying mediump vec2 v_size;\n\n    // icon color. If is a picture-marker it is used to tint the texture color\n    varying lowp vec4 v_color;\n\n #ifdef SDF\n    varying lowp vec4 v_outlineColor;\n    varying mediump float v_outlineWidth;\n #endif // SDF\n\n #ifdef ID\n    varying highp vec4 v_id;\n #endif // ID\n\n #ifdef HEATMAP\n    attribute float a_heatmapWeight;\n    varying mediump float v_heatmapWeight;\n #endif // HEATMAP\n\n    // import the VV inputs and functions (they are #ifdefed, so if the proper #define is not set it will end-up being a no-op)\n    $iconVVUniformsVS\n    $iconVVFunctions\n\n    void main()\n    {\n      vec2 a_offset \x3d a_vertexOffsetAndTex.xy;\n      vec2 a_tex \x3d a_vertexOffsetAndTex.zw;\n      vec2 a_size \x3d a_sizeAndOutlineWidth.xy;\n\n      // default values (we need them for the variations to come)\n      float a_angle \x3d 0.0;\n      float delta_z \x3d 0.0;\n      float depth \x3d 0.0;\n      v_transparency \x3d 1.0;\n\n  #if defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\n\n  #ifdef VV_SIZE_MIN_MAX_VALUE\n      // vv size override the original symbol\'s size\n      vec2 size \x3d vec2(getVVMinMaxSize(a_vv.x));\n  #endif // VV_SIZE_MIN_MAX_VALUE\n\n  #ifdef VV_SIZE_SCALE_STOPS\n      vec2 size \x3d vec2(u_vvSizeScaleStopsValue);\n  #endif // VV_SIZE_SCALE_STOPS\n\n  #ifdef VV_SIZE_FIELD_STOPS\n      vec2 size \x3d vec2(getVVStopsSize(a_vv.x));\n  #endif // VV_SIZE_FIELD_STOPS\n\n  #ifdef VV_SIZE_UNIT_VALUE\n      vec2 size \x3d vec2(getVVUnitValue(a_vv.x));\n  #endif // VV_SIZE_UNIT_VALUE\n\n      vec2 offset \x3d C_OFFSET_PRECISION * a_offset * size;\n      v_size \x3d size;\n  #else\n  #ifdef HEATMAP\n      // reconstruct the kernel size\n      a_size \x3d 9.0 * a_size + 1.0;\n  #endif // HEATMAP\n\n      vec2 offset \x3d C_OFFSET_PRECISION * a_offset * a_size;\n      v_size \x3d a_size;\n  #endif // defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\n\n  #ifdef SDF\n    offset *\x3d 2.0;\n  #endif // SDF\n\n  #ifdef VV_ROTATION\n      gl_Position \x3d vec4(u_normalized_origin, depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * getVVRotation(a_vv.w) * vec4(offset, delta_z, 0.0);\n  #else\n      gl_Position \x3d vec4(u_normalized_origin, depth, 0.0) + u_transformMatrix * vec4(a_pos, 0.0, 1.0) + u_extrudeMatrix * vec4(offset, delta_z, 0.0);\n  #endif // VV_ROTATION\n\n  #ifdef VV_OPACITY\n      v_transparency \x3d getVVOpacity(a_vv.z);\n  #else\n      v_transparency \x3d u_opacity;\n  #endif // VV_OPACITY\n\n  #ifdef VV_COLOR\n      v_color \x3d getVVColor(a_vv.y);\n  #else\n      v_color \x3d a_color;\n  #endif // VV_COLOR\n\n      // output the texture coordinates and the transparency\n      v_tex \x3d a_tex / u_mosaicSize;\n\n #ifdef SDF\n      v_outlineColor \x3d a_outlineColor;\n      v_outlineWidth \x3d a_sizeAndOutlineWidth.z;\n #endif // SDF\n\n #ifdef ID\n      v_id \x3d a_id;\n #endif // ID\n\n #ifdef HEATMAP\n    v_heatmapWeight \x3d a_heatmapWeight;\n #endif // HEATMAP\n    }\n  ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"iconFS"\x3e\n   \x3c![CDATA[\n    precision mediump float;\n\n    uniform lowp sampler2D u_texture;\n\n    varying lowp vec2 v_tex;\n    varying lowp float v_transparency;\n    varying mediump vec2 v_size;\n    varying lowp vec4 v_color;\n\n #ifdef SDF\n    varying lowp vec4 v_outlineColor;\n    varying mediump float v_outlineWidth;\n\n    // we need the conversion function from RGBA to float\n    $rgba2floatFunc\n #endif // SDF\n\n #ifdef ID\n    varying highp vec4 v_id;\n #endif // ID\n\n #ifdef HEATMAP\n    varying mediump float v_heatmapWeight;\n #endif // HEATMAP\n\n    const float softEdgeRatio \x3d 1.0; // use blur here if needed\n\n    void main()\n    {\n #ifdef SDF\n      lowp vec4 fillPixelColor \x3d v_color;\n\n      // calculate the distance from the edge [-0.5, 0.5]\n      float d \x3d 0.5 - rgba2float(texture2D(u_texture, v_tex));\n\n      // Work around loss of precision for \'d \x3d 0.0\'.\n      // \'0\' gets normalised to 0.5 * 256 \x3d 128 before float packing, but can only\n      // be stored in the texture as 128 / 255 \x3d 0.502.\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603110\n      const float diff \x3d (128.0/255.0 - 0.5);\n\n      // adjust all values, not just those close to 0, to avoid discontinuities in\n      // the outlines of other shapes e.g. circles\n      d \x3d d - diff;\n\n      // the soft edge ratio is about 1.5 pixels allocated for the soft edge.\n      float size \x3d max(v_size.x, v_size.y);\n      float dist \x3d d * size * softEdgeRatio;\n\n      // set the fragment\'s transparency according to the distance from the edge\n      fillPixelColor *\x3d clamp(0.5 - dist, 0.0, 1.0);\n\n      // count for the outline\n      // therefore tint the entire icon area.\n      if (v_outlineWidth \x3e 0.25) {\n        lowp vec4 outlinePixelColor \x3d v_outlineColor;\n\n        // outlines can\'t be larger than the size of the symbol\n        float clampedOutlineSize \x3d min(v_outlineWidth, size);\n\n        outlinePixelColor *\x3d clamp(0.5 - abs(dist) + clampedOutlineSize * 0.5, 0.0, 1.0);\n\n        // finally combine the outline and the fill colors (outline draws on top of fill)\n        gl_FragColor \x3d v_transparency * ((1.0 - outlinePixelColor.a) * fillPixelColor + outlinePixelColor);\n      }\n      else {\n        gl_FragColor \x3d v_transparency * fillPixelColor;\n      }\n #else // not an SDF\n      lowp vec4 texColor \x3d texture2D(u_texture, v_tex);\n\n #ifdef HEATMAP\n      texColor.r *\x3d v_heatmapWeight;\n #endif // HEATMAP\n\n      gl_FragColor \x3d v_transparency * texColor;\n #endif // SDF\n\n #ifdef HIGHLIGHT\n      gl_FragColor.a \x3d step(1.0 / 255.0, gl_FragColor.a);\n #endif // HIGHLIGHT\n\n #ifdef ID\n      if (gl_FragColor.a \x3c 1.0 / 255.0) {\n        discard;\n      }\n      gl_FragColor \x3d v_id;\n #endif // ID\n    }\n   ]]\x3e\n  \x3c/snippet\x3e\n\x3c/snippets\x3e\n\n',
"url:esri/views/2d/engine/webgl/shaders/fillShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\n\x3c!--\n  // YF TODO: (doc)\n--\x3e\n\x3csnippets\x3e\n  \x3csnippet name\x3d"fillVVUniformsVS"\x3e\n    \x3c![CDATA[\n  #if defined(VV_COLOR)|| defined(VV_OPACITY)\n    attribute vec4 a_vv;\n  #endif // VV_COLOR || VV_OPACITY\n\n  #ifdef VV_COLOR\n    uniform float u_vvColorValues[8];\n    uniform vec4 u_vvColors[8];\n  #endif // VV_COLOR\n\n  #ifdef VV_OPACITY\n    uniform float u_vvOpacityValues[8];\n    uniform float u_vvOpacities[8];\n  #endif // VV_OPACITY\n\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"fillVVFunctions"\x3e\n    \x3c![CDATA[\n  #ifdef VV_OPACITY\n    const int VV_OPACITY_N \x3d 8;\n\n    float getVVOpacity(float opacityValue) {\n      if (opacityValue \x3c\x3d u_vvOpacityValues[0]) {\n        return u_vvOpacities[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_OPACITY_N; ++i) {\n        if (u_vvOpacityValues[i] \x3e\x3d opacityValue) {\n          float f \x3d (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\n          return mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\n        }\n      }\n\n      return u_vvOpacities[VV_OPACITY_N - 1];\n    }\n  #endif // VV_OPACITY\n\n  #ifdef VV_COLOR\n    const int VV_COLOR_N \x3d 8;\n\n    vec4 getVVColor(float colorValue) {\n      if (colorValue \x3c\x3d u_vvColorValues[0]) {\n        return u_vvColors[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_COLOR_N; ++i) {\n        if (u_vvColorValues[i] \x3e\x3d colorValue) {\n          float f \x3d (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\n          return mix(u_vvColors[i-1], u_vvColors[i], f);\n        }\n      }\n\n      return u_vvColors[VV_COLOR_N - 1];\n    }\n  #endif // VV_COLOR\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"fillVS"\x3e\n    \x3c![CDATA[\n      precision mediump float;\n\n      attribute vec2 a_pos;\n      attribute vec4 a_id; // since we need to render the Id as a color we need to break it into RGBA components. so just like a color, the Id is normalized.\n      attribute vec4 a_color;\n      attribute vec4 a_tlbr;\n      attribute vec4 a_aux;\n\n      uniform highp mat4 u_transformMatrix;\n      uniform highp vec2 u_normalized_origin;\n\n      varying lowp vec4 v_color;\n      varying lowp float v_opacity;\n\n      // import the VV inputs and functions (they are #ifdefed, so if the proper #define is not set it will end-up being a no-op)\n      $fillVVUniformsVS\n      $fillVVFunctions\n\n  #ifdef PATTERN\n    uniform mediump float u_zoomFactor;\n    uniform mediump vec2 u_mosaicSize;\n\n    varying mediump vec4 v_tlbr;\n    varying mediump vec2 v_tileTextureCoord;\n  #endif // PATTERN\n\n  #ifdef ID\n    varying highp vec4 v_id;\n  #endif // ID\n\n      void main()\n      {\n  #ifdef VV_OPACITY\n        v_opacity \x3d getVVOpacity(a_vv.y);\n  #else\n        v_opacity \x3d 1.0;\n  #endif\n\n    #ifdef VV_COLOR\n       v_color \x3d getVVColor(a_vv.x);\n  #else\n       v_color \x3d a_color;\n  #endif // VV_COLOR\n\n  #ifdef ID\n      v_id \x3d a_id;\n  #endif // ID\n\n  #ifdef PATTERN\n       // calculate the pattern matrix\n       mat3 patternMatrix \x3d mat3(1.0, 0.0, 0.0,\n                                 0.0, 1.0, 0.0,\n                                 0.0, 0.0, 1.0);\n       patternMatrix[0][0] \x3d 1.0 / (u_zoomFactor * a_aux.x);\n       patternMatrix[1][1] \x3d 1.0 / (u_zoomFactor * a_aux.y);\n\n       // calculate the texture coordinates of the current vertex. It will of course get interpolated.\n       // The pattern matrix is a 3x3 scale matrix which \'tiles\' the texture inside the tile, translating from\n       // tile coordinates to texture coordinates.\n       v_tileTextureCoord \x3d (patternMatrix * vec3(a_pos, 1.0)).xy;\n       v_tlbr \x3d vec4(a_tlbr.x / u_mosaicSize.x, a_tlbr.y / u_mosaicSize.y, a_tlbr.z / u_mosaicSize.x, a_tlbr.w / u_mosaicSize.y);\n  #endif // PATTERN\n\n        gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(a_pos, 0, 1.0);\n      }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"fillFS"\x3e\n    \x3c![CDATA[\n      precision lowp float;\n      uniform lowp float u_opacity;\n\n  #ifdef PATTERN\n      uniform lowp sampler2D u_texture;\n\n      varying mediump vec4 v_tlbr;\n      varying mediump vec2 v_tileTextureCoord;\n  #endif // PATTERN\n\n  #ifdef ID\n    varying highp vec4 v_id;\n  #endif // ID\n\n      varying lowp vec4 v_color;\n      varying lowp float v_opacity;\n\n      void main()\n      {\n  #ifdef PATTERN\n         // normalize the calculated texture coordinate such that it fits in the range of 0 to 1.\n         mediump vec2 normalizedTextureCoord \x3d mod(v_tileTextureCoord, 1.0);\n         // interpolate the image coordinate between the top-left and the bottom right to get the actual position to sample.\n         // after normalizing the position, we get a value ranging between 0 and 1 which refers to the entire texture, however\n         // we need to only sample from area that has our sprite in the mosaic.\n         mediump vec2 samplePos \x3d mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\n         // sample the sprite mosaic\n         lowp vec4 color \x3d texture2D(u_texture, samplePos);\n         gl_FragColor \x3d u_opacity * v_opacity * v_color * color;\n  #else\n        gl_FragColor \x3d u_opacity * v_opacity * v_color;\n  #endif // PATTERN\n\n  #ifdef HIGHLIGHT\n        gl_FragColor.a \x3d step(1.0 / 255.0, gl_FragColor.a);\n  #endif // HIGHLIGHT\n\n  #ifdef ID\n      if (gl_FragColor.a \x3c 1.0 / 255.0) {\n        discard;\n      }\n      gl_FragColor \x3d v_id;\n  #endif // ID\n      }\n    ]]\x3e\n  \x3c/snippet\x3e\n\x3c/snippets\x3e\n',
"url:esri/views/2d/engine/webgl/shaders/lineShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\n\x3c!--\n  // YF TODO: (doc)\n--\x3e\n\x3csnippets\x3e\n  \x3csnippet name\x3d"lineVVUniformsVS"\x3e\n    \x3c![CDATA[\n  #if defined(VV_COLOR) || defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE) || defined(VV_OPACITY)\n    attribute vec3 a_vv;\n  #endif // VV_COLOR || VV_SIZE_MIN_MAX_VALUE || VV_SIZE_SCALE_STOPS || VV_SIZE_FIELD_STOPS || VV_SIZE_UNIT_VALUE || VV_OPACITY\n\n  #ifdef VV_COLOR\n    uniform float u_vvColorValues[8];\n    uniform vec4 u_vvColors[8];\n  #endif // VV_COLOR\n\n  #ifdef VV_SIZE_MIN_MAX_VALUE\n    uniform vec4 u_vvSizeMinMaxValue;\n  #endif // VV_SIZE_MIN_MAX_VALUE\n\n  #ifdef VV_SIZE_SCALE_STOPS\n    uniform float u_vvSizeScaleStopsValue;\n  #endif\n\n  #ifdef VV_SIZE_FIELD_STOPS\n    uniform float u_vvSizeFieldStopsValues[6];\n    uniform float u_vvSizeFieldStopsSizes[6];\n  #endif // VV_SIZE_FIELD_STOPS\n\n  #ifdef VV_SIZE_UNIT_VALUE\n    uniform float u_vvSizeUnitValueWorldToPixelsRatio;\n  #endif // VV_SIZE_UNIT_VALUE\n\n  #ifdef VV_OPACITY\n    uniform float u_vvOpacityValues[8];\n    uniform float u_vvOpacities[8];\n  #endif // VV_OPACITY\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"lineVVFunctions"\x3e\n    \x3c![CDATA[\n  #ifdef VV_SIZE_MIN_MAX_VALUE\n    float getVVMinMaxSize(float sizeValue) {\n      float f \x3d (sizeValue - u_vvSizeMinMaxValue.x) / (u_vvSizeMinMaxValue.y - u_vvSizeMinMaxValue.x);\n      return clamp(mix(u_vvSizeMinMaxValue.z, u_vvSizeMinMaxValue.w, f), u_vvSizeMinMaxValue.z, u_vvSizeMinMaxValue.w);\n    }\n  #endif // VV_SIZE_MIN_MAX_VALUE\n\n  #ifdef VV_SIZE_FIELD_STOPS\n    const int VV_SIZE_N \x3d 6;\n    float getVVStopsSize(float sizeValue) {\n      if (sizeValue \x3c\x3d u_vvSizeFieldStopsValues[0]) {\n        return u_vvSizeFieldStopsSizes[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_SIZE_N; ++i) {\n        if (u_vvSizeFieldStopsValues[i] \x3e\x3d sizeValue) {\n          float f \x3d (sizeValue - u_vvSizeFieldStopsValues[i-1]) / (u_vvSizeFieldStopsValues[i] - u_vvSizeFieldStopsValues[i-1]);\n          return mix(u_vvSizeFieldStopsSizes[i-1], u_vvSizeFieldStopsSizes[i], f);\n        }\n      }\n\n      return u_vvSizeFieldStopsSizes[VV_SIZE_N - 1];\n    }\n  #endif // VV_SIZE_FIELD_STOPS\n\n  #ifdef VV_SIZE_UNIT_VALUE\n    float getVVUnitValue(float sizeValue) {\n      return u_vvSizeUnitValueWorldToPixelsRatio * sizeValue;\n    }\n  #endif // VV_SIZE_UNIT_VALUE\n\n  #ifdef VV_OPACITY\n    const int VV_OPACITY_N \x3d 8;\n    float getVVOpacity(float opacityValue) {\n      if (opacityValue \x3c\x3d u_vvOpacityValues[0]) {\n        return u_vvOpacities[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_OPACITY_N; ++i) {\n        if (u_vvOpacityValues[i] \x3e\x3d opacityValue) {\n          float f \x3d (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\n          return mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\n        }\n      }\n\n      return u_vvOpacities[VV_OPACITY_N - 1];\n    }\n  #endif // VV_OPACITY\n\n  #ifdef VV_COLOR\n    const int VV_COLOR_N \x3d 8;\n\n    vec4 getVVColor(float colorValue) {\n      if (colorValue \x3c\x3d u_vvColorValues[0]) {\n        return u_vvColors[0];\n      }\n\n      for (int i \x3d 1; i \x3c VV_COLOR_N; ++i) {\n        if (u_vvColorValues[i] \x3e\x3d colorValue) {\n          float f \x3d (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\n          return mix(u_vvColors[i-1], u_vvColors[i], f);\n        }\n      }\n\n      return u_vvColors[VV_COLOR_N - 1];\n    }\n  #endif // VV_COLOR\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"lineVS"\x3e\n    \x3c![CDATA[\n     precision mediump float;\n\n     attribute vec2 a_pos;\n     attribute vec4 a_id;\n     attribute vec4 a_color;\n     attribute vec4 a_offsetAndNormal;\n     attribute vec2 a_accumulatedDistanceAndHalfWidth;\n     attribute vec4 a_tlbr;\n     attribute vec4 a_segmentDirection;\n\n     // the relative transformation of a vertex given in tile coordinates to a relative normalized coordinate\n     // relative to the tile\'s upper left corner\n     // the extrusion vector.\n     uniform highp mat4 u_transformMatrix;\n     // the extrude matrix which is responsible for the \'anti-zoom\' as well as the rotation\n     uniform highp mat4 u_extrudeMatrix;\n     // u_normalized_origin is the tile\'s upper left corner given in normalized coordinates\n     uniform highp vec2 u_normalized_origin;\n     uniform lowp float u_opacity; // the layer\'s opacity\n     uniform mediump float u_tileCoordRatio;\n     uniform mediump float u_antialiasing;\n\n     // the interpolated normal to the line. the information is packed into the two LSBs of the vertex coordinate\n     varying mediump vec2 v_normal;\n     // the accumulated distance along the line. We need this information in order to render the dashes.\n     varying highp float v_accumulatedDistance;\n     varying mediump float v_lineHalfWidth;\n     varying lowp vec4 v_color;\n     varying lowp float v_transparency;\n\n#ifdef SDF\n     const float scale \x3d 1.0 / 15.5;\n#else\n     const float scale \x3d 1.0 / 31.0;\n#endif\n\n\n#ifdef PATTERN\n     uniform mediump vec2 u_mosaicSize;\n\n     varying mediump vec4 v_tlbr; // normalized pattern coordinates [0, 1]\n     varying mediump vec2 v_patternSize;\n#endif // PATTERN\n\n#ifdef ID\n     varying highp vec4 v_id;\n#endif // ID\n\n     // import the VV inputs and functions (they are #ifdefed, so if the proper #define is not set it will end-up being a no-op)\n     $lineVVUniformsVS\n     $lineVVFunctions\n\n     void main()\n     {\n     // size VV block\n#if defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\n\n#ifdef VV_SIZE_MIN_MAX_VALUE\n       mediump float lineHalfWidth \x3d 0.5 * getVVMinMaxSize(a_vv.x);\n#endif // VV_SIZE_MIN_MAX_VALUE\n\n#ifdef VV_SIZE_SCALE_STOPS\n       mediump float lineHalfWidth \x3d 0.5 * u_vvSizeScaleStopsValue;\n#endif // VV_SIZE_SCALE_STOPS\n\n#ifdef VV_SIZE_FIELD_STOPS\n        mediump float lineHalfWidth \x3d 0.5 * getVVStopsSize(a_vv.x);\n#endif // VV_SIZE_FIELD_STOPS\n\n#ifdef VV_SIZE_UNIT_VALUE\n  mediump float lineHalfWidth \x3d 0.5 * getVVUnitValue(a_vv.x);\n#endif // VV_SIZE_UNIT_VALUE\n\n#else // no VV\n       mediump float lineHalfWidth \x3d a_accumulatedDistanceAndHalfWidth.y * scale;\n#endif // defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\n\n#ifdef HIGHLIGHT\n       // TODO: Decide what to do here. Do we want the\n       // highlight of line features to be slighly larger\n       // than the feature itself, when the line is too\n       // thin?\n       // lineHalfWidth \x3d max(lineHalfWidth, 3.0);\n#endif\n\n#ifdef VV_OPACITY\n      v_transparency \x3d u_opacity * getVVOpacity(a_vv.z);\n#else\n    v_transparency \x3d u_opacity;\n#endif // VV_OPACITY\n\n #ifdef VV_COLOR\n    v_color \x3d getVVColor(a_vv.y);\n#else\n    v_color \x3d a_color;\n#endif // VV_COLOR\n\n       // make sure to clip the vertices in case that the width of the line is 0 (or negative)\n       float z \x3d 2.0 * step(lineHalfWidth, 0.0);\n\n       // add the antialiasing factor to the line width. Limit the line width to 0.5 pixels (otherwise it does not look good)\n       lineHalfWidth \x3d max(lineHalfWidth, 0.5) + u_antialiasing;\n\n       v_lineHalfWidth \x3d lineHalfWidth;\n\n       // calculate the relative distance from the centerline to the edge of the line. Since offset is given in integers (for the\n       // sake of using less attribute memory, we need to scale it back to the original range of ~ 0: 1)\n       mediump vec2 dist \x3d lineHalfWidth * a_offsetAndNormal.xy * scale;\n\n       // transform the vertex\n       gl_Position \x3d vec4(u_normalized_origin, 0.0, 0.0) + u_transformMatrix * vec4(a_pos, z, 1.0) + u_extrudeMatrix * vec4(dist, 0.0, 0.0);\n\n       // the accumulated distance will be used to calculate the dashes (or the no-data...)\n       v_accumulatedDistance \x3d a_accumulatedDistanceAndHalfWidth.x + dot(scale * a_segmentDirection.xy, dist / u_tileCoordRatio);\n       v_normal \x3d a_offsetAndNormal.zw * scale;\n\n#ifdef PATTERN\n      v_tlbr \x3d vec4(a_tlbr.x / u_mosaicSize.x, a_tlbr.y / u_mosaicSize.y, a_tlbr.z / u_mosaicSize.x, a_tlbr.w / u_mosaicSize.y);\n      v_patternSize \x3d vec2(a_tlbr.z - a_tlbr.x, a_tlbr.w - a_tlbr.y);\n#endif // PATTERN\n\n#ifdef ID\n      v_id \x3d a_id;\n#endif // ID\n     }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3csnippet name\x3d"lineFS"\x3e\n    \x3c![CDATA[\n       precision lowp float;\n\n       uniform lowp float u_blur;\n       uniform mediump float u_antialiasing;\n\n       varying mediump vec2 v_normal;\n       varying highp float v_accumulatedDistance;\n       varying mediump float v_lineHalfWidth;\n       varying lowp vec4 v_color;\n       varying lowp float v_transparency;\n\n#if defined(PATTERN) || defined(SDF)\n      uniform sampler2D u_texture;\n\n      varying mediump vec4 v_tlbr; // normalized pattern coordinates [0, 1]\n      varying mediump vec2 v_patternSize;\n      uniform mediump float u_zoomFactor;\n      uniform mediump float u_tileCoordRatio;\n#endif // PATTERN\n\n#ifdef SDF\n      const float sdfPatternHalfWidth \x3d 15.5; // YF: assumed that the width will be set to 32\n\n      float rgba2float(vec4 rgba) {\n        return dot(rgba,  vec4(1.0/16777216.0, 1.0/65535.0, 1.0/256.0, 1.0));\n      }\n#endif // SDF\n\n#ifdef ID\n     varying highp vec4 v_id;\n#endif // ID\n\n       void main()\n       {\n          // add an antialiasing factor as long as we are under two pixels\n          mediump float antialiasingFactor \x3d u_antialiasing * step(v_lineHalfWidth, 2.0);\n\n         // dist represent the distance of the fragment from the line. 1.0 or -1.0 will be the values on the edge of the line,\n         // and any value in between will be inside the line (the sign represent the direction - right or left).\n         // since u_linewidth.s (half line width) is represented in pixels, dist is also given in pixels\n         mediump float fragDist \x3d length(v_normal) * v_lineHalfWidth;\n\n         // calculate the alpha given the difference between the line-width and the distance of the fragment from the center-line.\n         lowp float alpha \x3d clamp((v_lineHalfWidth - fragDist - 0.5 * antialiasingFactor) / (u_blur + 2.0 * antialiasingFactor), 0.0, 1.0);\n\n#if defined(SDF)\n         mediump float lineWidthRatio \x3d v_lineHalfWidth / sdfPatternHalfWidth;\n         mediump float relativeTexX \x3d mod((u_zoomFactor * u_tileCoordRatio * v_accumulatedDistance + v_normal.x * v_lineHalfWidth) / (lineWidthRatio * v_patternSize.x), 1.0);\n         mediump float relativeTexY \x3d 0.5 + 0.5 * v_normal.y;\n\n          // claculate the actual texture coordinates by interpolating between the TL/BR pattern coordinates\n         mediump vec2 texCoord \x3d mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\n\n         // calculate the distance from the edge [-0.5, 0.5]\n         mediump float d \x3d rgba2float(texture2D(u_texture, texCoord)) - 0.5;\n\n         // the distance is a proportional to the line width\n         float dist \x3d d * v_lineHalfWidth;\n\n         lowp vec4 fillPixelColor \x3d v_transparency * alpha * clamp(0.5 - dist, 0.0, 1.0) * v_color;\n        gl_FragColor \x3d fillPixelColor;\n#elif defined(PATTERN)\n         // we need to calculate the relative portion of the line texture along the line given the accumulated distance along the line\n         // The computed value should is anumber btween 0 and 1 which will later be used to interpolate btween the BR and TL values\n         mediump float relativeTexX \x3d mod((u_zoomFactor * u_tileCoordRatio * v_accumulatedDistance + v_normal.x * v_lineHalfWidth) / v_patternSize.x, 1.0);\n\n         // in order to calculate the texture coordinates prependicular to the line (Y axis), we use the interpolated normal values\n         // which range from -1.0 to 1.0. On the line\'s centerline, the value of the interpolated normal is 0.0, however the relative\n         // texture value shpould be 0.5 (given that at the bottom of the line, the texture coordinate must be equal to 0.0)\n         // (TL) ---------------------------      --\x3e left edge of line. Interpolatedf normal is 1.0\n         //              | -\x3e line-width / 2\n         //      - - - - - - - - - - - - - -\n         //              | -\x3e line-width / 2\n         //      ---------------------------- (BR)--\x3e right edge of line. Interpolatedf normal is -1.0\n\n         mediump float relativeTexY \x3d 0.5 + (v_normal.y * v_lineHalfWidth / v_patternSize.y);\n\n         // claculate the actual texture coordinates by interpolating between the TL/BR pattern coordinates\n         mediump vec2 texCoord \x3d mix(v_tlbr.xy, v_tlbr.zw, vec2(relativeTexX, relativeTexY));\n\n         // get the color from the texture\n         lowp vec4 color \x3d texture2D(u_texture, texCoord);\n\n         gl_FragColor \x3d v_transparency * alpha * v_color * color;\n#else // solid line (no texture, no pattern)\n         // output the fragment color\n         gl_FragColor \x3d v_transparency * alpha * v_color;\n#endif // SDF\n\n#ifdef HIGHLIGHT\n         gl_FragColor.a \x3d step(1.0 / 255.0, gl_FragColor.a);\n#endif // HIGHLIGHT\n\n #ifdef ID\n         if (gl_FragColor.a \x3c 1.0 / 255.0) {\n           discard;\n         }\n         gl_FragColor \x3d v_id;\n #endif // ID\n       }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n\x3c/snippets\x3e\n',
"url:esri/views/2d/engine/webgl/shaders/hlShaders.xml":'\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\n\x3c!--\n  Highlight generation and rendering shaders.\n\n  These shader sources are loaded by hlShaderSnippets.ts which in turn\n  is used by HighlightRenderer to instantiate the programs needed for\n  generating and rendering the highlights.\n\n  These shaders are intended to be used with full screen quads.\n--\x3e\n\x3csnippets\x3e\n  \x3c!--\n    Vertex shader: texturedVS\n\n    Identity vertex shader that outputs an untransformed 2-D vertex\n    and passes its texture coordinates unchanged to the interpolator.\n  --\x3e\n  \x3csnippet name\x3d"texturedVS"\x3e\n    \x3c![CDATA[\n    // Vertex position.\n    attribute mediump vec2 a_position;\n\n    // Texture coordinates.\n    attribute mediump vec2 a_texcoord;\n\n    // Texture coordinates to be interpolated.\n    varying mediump vec2 v_texcoord;\n\n    void main(void) {\n      // Pass the position unchanged.\n      gl_Position \x3d vec4(a_position, 0.0, 1.0);\n\n      // Pass the texture coordinates unchanged.\n      v_texcoord \x3d a_texcoord;\n    }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3c!--\n    Fragment shader: blurFS\n\n    A gaussian blur shader. It blurs the alpha channel of its input\n    according to 4 different sigma and stores the results into the\n    four channel of the target framebuffer.\n\n    It is intended to be called twice; the first time to perform an\n    horizontal blur, and a second time to perform a vertical blur.\n\n    This shader is used to turn the highlight mask into a highlight\n    map. The highlight map is an approximation of the signed distance\n    field of the mask.\n  --\x3e\n  \x3csnippet name\x3d"blurFS"\x3e\n    \x3c![CDATA[\n    // Interpolated texture coordinates.\n    varying mediump vec2 v_texcoord;\n\n    // Blur direction information. There are two possible\n    // configurations that the host code can use.\n    //  - [1, 0, 1/WIDTH, 0] Used when blurring horizontally. In this\n    //    case u_direction[0] \x3d 1 is expressed in pixel and is fed to\n    //    the gauss function to produce the value of the gaussian weight\n    //    for that pixel, while u_direction[2] \x3d 1/WIDTH is in texel units\n    //    and is used to sample the right texel from the texture map.\n    //  - [0, 1, 0, 1/HEIGHT] Used when blurring vertically. In this\n    //    case u_direction[1] \x3d 1 is expressed in pixel and is fed to\n    //    the gauss function to produce the value of the gaussian weight\n    //    for that pixel, while u_direction[3] \x3d 1/HEIGHT is in texel units\n    //    and is used to sample the right texel from the texture map.\n    uniform mediump vec4 u_direction;\n\n    // Source to destination channel selection matrix.\n    uniform mediump mat4 u_channelSelector;\n\n    // The highlight map is obtained by blurring the alpha channel of the highlight\n    // mask accroding to these 4 values of the gaussian\'s sigma parameter.\n    uniform mediump vec4 u_sigmas;\n\n    // This is the highlight mask if we have not blurred horizontally yet, otherwise\n    // it is the horizontally blurred highlight map and blurring it one more time\n    // vertically will complete the process.\n    uniform sampler2D u_texture;\n\n    // The gaussian kernel. Note that it lacks the normalization constant, because\n    // we want to store it unnormalized in the highlight map (i.e. having a peak\n    // value of 1). Note also that we are using the SIMD (single instruction, multiple\n    // data) capabilities of the GPU to compute four different gaussian kernels, one\n    // for each sigma.\n    mediump vec4 gauss(mediump vec2 dir) {\n      return exp(-dot(dir, dir) / (2.0 * u_sigmas * u_sigmas));\n    }\n\n    mediump vec4 selectChannel(mediump vec4 sample) {\n      return u_channelSelector * sample;\n    }\n\n    // Sample the input texture and accumulated its gaussian weighted value and the\n    // total weight.\n    void accumGauss(mediump float i, inout mediump vec4 tot, inout mediump vec4 weight) {\n      // Computes the gaussian weights, one for each sigma.\n      // Note that u_direction.xy is [1, 0] when blurring horizontally and [0, 1] when blurring vertically.\n      mediump vec4 w \x3d gauss(i * u_direction.xy);\n\n      // Accumumates the values.\n      // Note that u_direction.xy is [1/WIDTH, 0] when blurring horizontally and [0, 1/HEIGHT] when blurring vertically.\n      tot +\x3d selectChannel(texture2D(u_texture, v_texcoord + i * u_direction.zw)) * w;\n\n      // Accumulates the weights.\n      weight +\x3d w;\n    }\n\n    void main(void) {\n      // Initialize accumulated values and weights to zero.\n      mediump vec4 tot \x3d vec4(0.0, 0.0, 0.0, 0.0);\n      mediump vec4 weight \x3d vec4(0.0, 0.0, 0.0, 0.0);\n\n      // Accumulates enough samples. These will be taken\n      // horizontally or vertically depending on the value\n      // of u_direction.\n      accumGauss(-5.0, tot, weight);\n      accumGauss(-4.0, tot, weight);\n      accumGauss(-3.0, tot, weight);\n      accumGauss(-2.0, tot, weight);\n      accumGauss(-1.0, tot, weight);\n      accumGauss(0.0, tot, weight);\n      accumGauss(1.0, tot, weight);\n      accumGauss(2.0, tot, weight);\n      accumGauss(3.0, tot, weight);\n      accumGauss(4.0, tot, weight);\n      accumGauss(5.0, tot, weight);\n\n      // Compute blurred values.\n      mediump vec4 rgba \x3d tot / weight;\n\n      // Return the values. Note that each channel will contain\n      // the result of a different blur operation, one for each\n      // of the four chosen sigma.\n      gl_FragColor \x3d vec4(rgba);\n    }\n    ]]\x3e\n  \x3c/snippet\x3e\n\n  \x3c!--\n    Fragment shader: highlightFS\n\n    Takes as input the highlight map, estimated the signed distance field,\n    and shades the fragments according to their estimated distance from the\n    edge of the highlighted feature.\n\n    A shade texture is used to turn distance values into colors; the shade\n    texture is basically a color gradient and is recomputed on the host\n    every time that the user alters the highlight options.\n  --\x3e\n  \x3csnippet name\x3d"highlightFS"\x3e\n    \x3c![CDATA[\n    // Interpolated texture coordinates.\n    varying mediump vec2 v_texcoord;\n\n    // The highlight map. Each channel is a blurred\n    // version of the alpha channel of the highlight mask.\n    //  - Channel 0 (red) corresponds to a gaussian blur with sigma \x3d u_sigmas[0];\n    //  - Channel 1 (green) corresponds to a gaussian blur with sigma \x3d u_sigmas[1];\n    //  - Channel 2 (blue) corresponds to a gaussian blur with sigma \x3d u_sigmas[2];\n    //  - Channel 3 (alpha) corresponds to a gaussian blur with sigma \x3d u_sigmas[3];\n    // As of today, only channel 3 is used for distance estimation.\n    // But the availability of different amounts of blur leaves the\n    // door open to multi-scale approaches.\n    uniform sampler2D u_texture;\n\n    // The highlight map was obtained by blurring the alpha channel of the highlight\n    // mask accroding to these 4 values of the gaussian\'s sigma parameter.\n    uniform mediump vec4 u_sigmas;\n\n    // A 1-D texture used to shade the highlight.\n    uniform sampler2D u_shade;\n\n    // The 1-D shade texture is spreaded between u_minMaxDistance[0] and u_minMaxDistance[1].\n    uniform mediump vec2 u_minMaxDistance;\n\n    // Signed distance estimation.\n    mediump float distance() {\n      // Use the largest sigma and the corresponding distance value stored in the\n      // last channel of the highlight map.\n      mediump float sigma \x3d u_sigmas[3];\n      mediump float y \x3d texture2D(u_texture, v_texcoord)[3];\n\n      // Estimates the distance by linearization and local inversion around\n      // the inflection point. The inflection point is in x \x3d 0.\n      const mediump float y0 \x3d 0.5;                           // Value of the convolution at the inflection point.\n      mediump float m0 \x3d 1.0 / (sqrt(2.0 * 3.1415) * sigma);  // Slope of the convolution at the inflection point.\n      mediump float d \x3d (y - y0) / m0;                        // Inversion of a local linearization.\n\n      // Return the estimated distance.\n      return d;\n    }\n\n    // Shading based on estimated distance.\n    mediump vec4 shade(mediump float d) {\n      // Maps the sampled distance from the [A, D] range (see HighlightRenderer::setHighlightOptions) to [0, 1].\n      mediump float mappedDistance \x3d (d - u_minMaxDistance.x) / (u_minMaxDistance.y - u_minMaxDistance.x);\n\n      // Force to [0, 1]; it should not be necessary because the shade texture uses the CLAMP address mode, so\n      // this should happen anyway internally to the sampler, but in practice it is needed to avoid weird\n      // banding artifacts.\n      // We don\'t really know if we need this or not.\n      mappedDistance \x3d clamp(mappedDistance, 0.0, 1.0);\n\n      // Sample the 1-D shade texture on its center line (i.e. on t\x3d0.5).\n      return texture2D(u_shade, vec2(mappedDistance, 0.5));\n    }\n\n    void main(void) {\n      // Estimate the distance.\n      mediump float d \x3d distance();\n\n      // Shade the distance.\n      gl_FragColor \x3d shade(d);\n    }\n    ]]\x3e\n  \x3c/snippet\x3e\n\x3c/snippets\x3e\n',
"url:esri/views/2d/engine/webgl/shaders/heatmap.vs.glsl":"attribute vec2 a_pos;\nattribute vec2 a_tex;\n\nuniform mediump vec2 u_minmax;\n\nvarying mediump vec2 v_uv;\nvarying mediump float v_slope;\n\nvoid main(void) {\n  gl_Position \x3d vec4(a_pos, 0.0, 1.0);\n  v_uv \x3d a_tex;\n  v_slope \x3d 1.0 / (u_minmax.y - u_minmax.x);\n}\n","url:esri/views/2d/engine/webgl/shaders/heatmap.fs.glsl":"\tprecision mediump float;\n\n\tuniform lowp sampler2D u_texture;\n\tuniform lowp float u_opacity;\n\tuniform mediump vec2 u_minmax;\n\tuniform lowp sampler2D u_gradient;\n\n\tvarying mediump vec2 v_uv;\n  varying mediump float v_slope;\n\n\tvec4 getColor(float intensity) {\n\t  float normalizedIntensity \x3d clamp((intensity - u_minmax.x) * v_slope, 0.0, 1.0);\n\n\t\treturn texture2D(u_gradient, vec2(0.5, normalizedIntensity));\n  }\n\n\tvoid main() {\n\t// sample the intnsity value\n\t\tlowp vec4 color \x3d texture2D(u_texture, v_uv);\n\n    // interpolate the color from the ramp using the intensity value\n\t\tgl_FragColor \x3d getColor(color.r) *  u_opacity;\n\t}\n",
"*now":function(y){y(['dojo/i18n!*preload*esri/views/nls/MapView*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])},"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/promise/all ../core/accessorSupport/decorators ../core/HandleRegistry ../core/promiseUtils ../core/workers ./MapViewBase ./DOMContainer ../geometry/ScreenPoint ./ui/2d/DefaultUI2D ./2d/engine/Stage ./2d/layers/support/GraphicsView2D ./2d/input/MapViewInputManager ./2d/navigation/MapViewNavigation ./2d/support/HighlightOptions ./BreakpointsOwner ./support/screenshotUtils".split(" "),function(y,p,u,
m,h,e,q,l,b,g,a,r,v,w,x,D,E,B,J,K){b.initialize();return function(a){function b(b){b=a.call(this,b)||this;return b._graphicsView=null,b._mapViewHandles=new q,b._stage=null,b.highlightOptions=new B,b.inputManager=new D({view:b}),b.navigation=null,b.ui=null,b.rendering=!1,b}return u(b,a),Object.defineProperty(b.prototype,"interacting",{get:function(){return this.navigation&&this.navigation.interacting||!1},enumerable:!0,configurable:!0}),b.prototype.hitTest=function(a,b){if(!this._setup)return null;
var e;e=null!=a&&a.x?a:new r({x:a,y:b});var g=this.toMap(e);a=[this._graphicsView];return a.push.apply(a,this.allLayerViews.toArray().reverse()),h(a.map(function(a){return a&&a.hitTest?a.hitTest(e.x,e.y):null})).then(function(a){return{screenPoint:e,results:a.filter(function(a){return null!=a}).map(function(a){return{mapPoint:g,graphic:a}})}})},b.prototype.takeScreenshot=function(a){return this._setup?(a=K.adjustScreenshotSettings(a,this),this._stage.takeScreenshot(a)):l.reject("Map view cannot be used before it is ready")},
b.prototype.on=function(a,b,e){var g=this.inputManager&&this.inputManager.viewEvents.register(a,b,e);return g?g:this.inherited(arguments)},b.prototype.destroyLayerViews=function(){this.inherited(arguments);this._stage&&(this._stage.destroy(),this._stage=null)},b.prototype._startup=function(){var a=this;this.inherited(arguments);var b=new w(this.surface),e=new x({view:this,graphics:this.graphics}),g=new E({view:this,animationManager:this.animationManager});this._stage=b;this._graphicsView=e;this._set("navigation",
g);this._mapViewHandles.add([this.allLayerViews.on("change",function(){return a._updateStageChildren()}),b.on("post-render",function(){return a._set("rendering",a.allLayerViews.some(function(a){return!0===a.rendering}))}),this.watch("stationary",function(a){return b.stationary=a},!0),this.watch("state.viewpoint",function(e){return b.state=a.state},!0)]);b.state=this.state;this._updateStageChildren()},b.prototype._tearDown=function(){this._setup&&(this._graphicsView.destroy(),this._mapViewHandles.removeAll(),
this._stage.destroy(),this.navigation.destroy(),this._stage=null,this._graphicsView=null,this._set("navigation",null),this.inherited(arguments))},b.prototype._updateStageChildren=function(){var a=this;this._stage.removeAllChildren();this.allLayerViews.filter(function(a){return null!=a.container}).forEach(function(b,e){a._stage.addChildAt(b.container,e)});this._stage.addChild(this._graphicsView.container)},m([e.property({readOnly:!0})],b.prototype,"inputManager",void 0),m([e.property({readOnly:!0})],
b.prototype,"navigation",void 0),m([e.property({dependsOn:["navigation.interacting"],type:Boolean})],b.prototype,"interacting",null),m([e.property({type:v})],b.prototype,"ui",void 0),m([e.property({readOnly:!0})],b.prototype,"rendering",void 0),b=m([e.subclass("esri.views.MapView")],b)}(e.declared(g,a,J))});