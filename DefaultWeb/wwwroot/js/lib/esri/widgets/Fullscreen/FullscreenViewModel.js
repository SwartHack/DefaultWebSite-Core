//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ../../core/Accessor ../../core/Logger".split(" "),function(l,m,f,d,c,g,h){var k=h.getLogger("esri.widgets.Fullscreen.FullscreenViewModel");return function(e){function b(a){a=e.call(this,a)||this;return a._vendorInfo=null,a._fullscreenStyle="width: 100%; height: 100%;",a.view=null,a._stateHandler=a._stateHandler.bind(a),a}return f(b,e),b.prototype.destroy=function(){this._removeFullscreenListener();
this.view=null},Object.defineProperty(b.prototype,"element",{get:function(){return this.get("view.container")},set:function(a){return void 0===a?void this._clearOverride("element"):void this._override("element",a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"state",{get:function(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"},enumerable:!0,configurable:!0}),b.prototype.enter=function(){this._enterFullscreen()},b.prototype.exit=
function(){this._exitFullscreen()},b.prototype.toggle=function(){this._isActive()?this._exitFullscreen():this._enterFullscreen()},b.prototype._isSupported=function(){this._removeFullscreenListener();var a=this._getVendorInfo(this.element);return this._addFullscreenListener(a),this._vendorInfo=a,!!a},b.prototype._isActive=function(){return this._vendorInfo?!!document[this._vendorInfo.propertyName]:!1},b.prototype._stateHandler=function(){this.notifyChange("state")},b.prototype._getVendorInfo=function(a){return a?
a.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",eventName:"fullscreenchange",propertyName:"fullscreen"}:a.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",eventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:a.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",eventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:a.msRequestFullscreen?{enterName:"msRequestFullscreen",
exitName:"msExitFullscreen",eventName:"MSFullscreenChange",propertyName:"msFullscreenElement"}:void 0:void 0},b.prototype._enterFullscreen=function(){if("feature-unsupported"===this.state)return void k.warn("The fullscreen API is not supported in this browser.");var a=this.element;a&&(a.setAttribute("style",this._fullscreenStyle),a[this._vendorInfo.enterName].call(a),this.notifyChange("state"))},b.prototype._exitFullscreen=function(){"feature-unsupported"!==this.state&&(this.element.removeAttribute("style"),
document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))},b.prototype._addFullscreenListener=function(a){a&&document.addEventListener(a.eventName,this._stateHandler)},b.prototype._removeFullscreenListener=function(){var a=this._vendorInfo;this._vendorInfo&&document.removeEventListener(a.eventName,this._stateHandler)},d([c.property({dependsOn:["view.container"]})],b.prototype,"element",null),d([c.property({dependsOn:["element"],readOnly:!0})],b.prototype,"state",null),d([c.property()],
b.prototype,"view",void 0),d([c.property()],b.prototype,"enter",null),d([c.property()],b.prototype,"exit",null),d([c.property()],b.prototype,"toggle",null),b=d([c.subclass("esri.widgets.Fullscreen.FullscreenViewModel")],b)}(c.declared(g))});